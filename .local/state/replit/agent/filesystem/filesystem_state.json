{"file_contents":{"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# Overview\n\nThis is ApnaMann - a comprehensive mental health platform designed specifically for Indian college students. The application provides AI-powered psychological first aid, mental health screening tools (PHQ-9 and GAD-7), counselor booking, peer support forums, educational resources, and crisis intervention capabilities. Built as a full-stack web application, it aims to address the growing mental health challenges in Indian higher education institutions through culturally sensitive, accessible, and stigma-free support.\n\n# User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n# System Architecture\n\n## Frontend Architecture\n- **React-based SPA**: Built with React 18 and TypeScript for type safety and modern development practices\n- **Component Library**: Uses shadcn/ui components built on Radix UI primitives for accessible, customizable UI components\n- **Styling**: TailwindCSS with CSS variables for theming and responsive design\n- **State Management**: React Query (@tanstack/react-query) for server state management and caching\n- **Routing**: Wouter for lightweight client-side routing\n- **Form Handling**: React Hook Form with Zod validation for robust form management\n\n## Backend Architecture\n- **Node.js/Express**: RESTful API server with Express.js framework\n- **WebSocket Support**: Real-time communication for chat functionality using native WebSocket API\n- **Middleware Stack**: JSON parsing, URL encoding, request logging, and error handling middleware\n- **API Routes**: Modular route organization for users, screening, appointments, forums, crisis management, and analytics\n\n## Data Storage Solutions\n- **PostgreSQL Database**: Primary database using Neon serverless PostgreSQL\n- **Drizzle ORM**: Type-safe database operations with schema-first approach\n- **Schema Design**: Comprehensive tables for users, screening assessments, appointments, forum posts, mood tracking, crisis alerts, and chat sessions\n- **Database Migrations**: Managed through Drizzle Kit for version control and deployment\n\n## Authentication and Authorization\n- **Session-based Authentication**: User sessions managed through secure cookies\n- **Role-based Access**: Admin and student user roles with appropriate permissions\n- **User Profile Management**: Institution-based user registration with course and year tracking\n\n## External Dependencies\n\n### AI and ML Services\n- **OpenAI GPT Integration**: AI-powered psychological first aid chatbot using GPT-5 model for contextual mental health support\n- **Crisis Detection**: AI-powered analysis of chat messages and screening results for automatic crisis intervention\n\n### Database and Infrastructure\n- **Neon Database**: Serverless PostgreSQL database with connection pooling\n- **WebSocket Protocol**: Native WebSocket implementation for real-time chat functionality\n\n### UI and Styling\n- **Radix UI Primitives**: Accessible component primitives for complex UI interactions\n- **Lucide React**: Comprehensive icon library for consistent visual elements\n- **TailwindCSS**: Utility-first CSS framework with custom design system\n\n### Development Tools\n- **Vite**: Fast build tool and development server with HMR support\n- **TypeScript**: Static type checking across the entire application stack\n- **ESBuild**: Fast JavaScript bundler for production builds\n- **Replit Integration**: Development environment optimizations for Replit platform\n\n### Validation and Forms\n- **Zod**: Runtime type validation for API requests and form data\n- **React Hook Form**: Performant form library with minimal re-renders\n- **Drizzle-Zod**: Integration between database schema and runtime validation\n\n### Mental Health Tools\n- **PHQ-9 Assessment**: Standardized depression screening questionnaire\n- **GAD-7 Assessment**: Generalized anxiety disorder screening tool\n- **Crisis Intervention Protocols**: Automated detection and response system for high-risk situations\n- **Mood Tracking**: Daily mood logging and visualization features","size_bytes":3984},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        hope: {\n          DEFAULT: \"var(--hope)\",\n          foreground: \"var(--hope-foreground)\",\n        },\n        healing: {\n          DEFAULT: \"var(--healing)\",\n          foreground: \"var(--healing-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar-background)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2993},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":971},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nlet pool: Pool | null = null;\nlet db: ReturnType<typeof drizzle> | null = null;\n\nfunction initializeDatabase() {\n  if (!db) {\n    if (!process.env.DATABASE_URL) {\n      throw new Error(\n        \"DATABASE_URL must be set. Did you forget to provision a database?\",\n      );\n    }\n    \n    pool = new Pool({ connectionString: process.env.DATABASE_URL });\n    db = drizzle({ client: pool, schema });\n  }\n  return db;\n}\n\n// Export a getter function that initializes the database connection when first accessed\nexport { initializeDatabase as db };","size_bytes":760},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    // Log error safely in production without crashing\n    if (process.env.NODE_ENV === \"production\") {\n      console.error(\"Production error:\", { status, message, url: _req.url });\n    }\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":1470},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport express from \"express\";\nimport { createServer, type Server } from \"http\";\nimport path from \"path\";\nimport { WebSocketServer, WebSocket } from \"ws\";\nimport multer from \"multer\";\nimport mammoth from \"mammoth\";\nimport { storage } from \"./storage\";\nimport { OrchestratorFactory } from \"./services/orchestrator-factory\";\nimport { LocalAIService } from \"./services/local-ai\";\nimport { ScreeningService } from \"./services/screening\";\nimport { CrisisService } from \"./services/crisis\";\nimport { ImageDownloaderService } from \"./services/image-downloader\";\nimport { \n  insertUserSchema, \n  insertScreeningAssessmentSchema,\n  insertAppointmentSchema,\n  insertForumPostSchema,\n  insertForumReplySchema,\n  insertMoodEntrySchema,\n  insertCustomPersonalitySchema,\n  insertMedicineAlarmSchema,\n  insertUserSkillSchema,\n  insertSkillShowcaseSchema,\n  insertSkillEndorsementSchema,\n  users\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { z } from \"zod\";\n\n// Zod schemas for image downloading\nconst downloadImageSchema = z.object({\n  url: z.string().url(\"Invalid URL format\"),\n  customFileName: z.string().optional()\n});\n\nconst downloadMultipleImagesSchema = z.object({\n  urls: z.array(z.string().url()).min(1, \"At least one URL is required\").max(10, \"Maximum 10 URLs allowed\"),\n  customFileNames: z.array(z.string()).optional()\n});\n\nconst validateUrlSchema = z.object({\n  url: z.string().url(\"Invalid URL format\")\n});\n\n// Configure multer for file uploads\nconst upload = multer({ \n  storage: multer.memoryStorage(),\n  limits: {\n    fileSize: 10 * 1024 * 1024, // 10MB limit\n  },\n  fileFilter: (req, file, cb) => {\n    const allowedTypes = ['text/plain', 'application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'application/msword'];\n    if (allowedTypes.includes(file.mimetype)) {\n      cb(null, true);\n    } else {\n      cb(new Error('Invalid file type. Only PDF, TXT, and Word documents are allowed.'));\n    }\n  }\n});\n\n// File processing function\nasync function processUploadedFile(file: Express.Multer.File): Promise<string> {\n  let extractedText = '';\n  \n  if (file.mimetype === 'text/plain') {\n    extractedText = file.buffer.toString('utf-8');\n  } else if (file.mimetype === 'application/pdf') {\n    // Dynamic import to avoid pdf-parse test file issue\n    const pdfParse = await import('pdf-parse');\n    const pdfData = await pdfParse.default(file.buffer);\n    extractedText = pdfData.text;\n  } else if (file.mimetype === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document') {\n    const result = await mammoth.extractRawText({ buffer: file.buffer });\n    extractedText = result.value;\n  } else if (file.mimetype === 'application/msword') {\n    // For older .doc files, mammoth can still try to extract text\n    const result = await mammoth.extractRawText({ buffer: file.buffer });\n    extractedText = result.value;\n  }\n  \n  return extractedText.trim();\n}\n\n// WebSocket connection management\nconst wsConnections = new Map<string, WebSocket>();\nconst peerConnections = new Map<string, {ws: WebSocket, userId: string, callId?: string}>();\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  const httpServer = createServer(app);\n\n  // Serve downloaded images statically (only downloads subfolder for security)\n  app.use('/downloaded', express.static(path.resolve(process.cwd(), 'attached_assets', 'downloads')));\n\n  // WebSocket server for real-time chat\n  const wss = new WebSocketServer({ \n    server: httpServer, \n    path: '/ws' \n  });\n\n  wss.on('connection', (ws: WebSocket, req) => {\n    const userId = req.url?.split('userId=')[1];\n    if (userId) {\n      wsConnections.set(userId, ws);\n    }\n\n    ws.on('message', async (message) => {\n      try {\n        const data = JSON.parse(message.toString());\n        \n        if (data.type === 'chat_message' && userId) {\n          let response;\n          \n          // Check if we should use local AI for custom personality\n          if (data.personality && (data.personality.trainingData || data.personality.customPrompt)) {\n            try {\n              // Use local AI service for custom personalities\n              const localAI = new LocalAIService();\n              if (data.personality.trainingData) {\n                localAI.learnFromChat(data.personality.trainingData);\n              }\n              \n              response = localAI.generateResponse([\n                ...data.chatHistory || [],\n                { role: 'user', content: data.message, timestamp: new Date() }\n              ]);\n            } catch (error) {\n              // Fall back to orchestrator (which will try external then local)\n              try {\n                const orchestrator = OrchestratorFactory.getOrchestrator();\n                response = await orchestrator.generateResponse([\n                  ...data.chatHistory || [],\n                  { role: 'user', content: data.message, timestamp: new Date() }\n                ], data.personality);\n              } catch {\n                // If all AI services fail, send a thankful message\n                response = {\n                  message: \"Thank you for reaching out! We appreciate you sharing with us. Our system is currently experiencing some issues, but we're here for you.\",\n                  supportiveActions: [],\n                  riskLevel: 'low' as const,\n                  escalationRequired: false\n                };\n              }\n            }\n          } else {\n            // Use orchestrator for default responses (external + local fallback)\n            try {\n              const orchestrator = OrchestratorFactory.getOrchestrator();\n              response = await orchestrator.generateResponse([\n                ...data.chatHistory || [],\n                { role: 'user', content: data.message, timestamp: new Date() }\n              ], data.personality);\n            } catch {\n              // If all AI services fail, send a thankful message\n              response = {\n                message: \"Thank you for reaching out! We appreciate you sharing with us. Our system is currently experiencing some issues, but we're here for you.\",\n                supportiveActions: [],\n                riskLevel: 'low' as const,\n                escalationRequired: false\n              };\n            }\n          }\n\n          // Check for crisis indicators\n          await CrisisService.evaluateChatMessage(userId, data.message);\n\n          // Send AI response back\n          if (ws.readyState === WebSocket.OPEN) {\n            ws.send(JSON.stringify({\n              type: 'chat_response',\n              message: response.message,\n              supportiveActions: response.supportiveActions,\n              riskLevel: response.riskLevel,\n              escalationRequired: response.escalationRequired\n            }));\n          }\n        }\n        \n        // Handle WebRTC signaling for peer calls\n        else if (data.type === 'webrtc_signal' && userId) {\n          const { targetUserId, signal, callId } = data;\n          const targetConnection = wsConnections.get(targetUserId);\n          \n          if (targetConnection && targetConnection.readyState === WebSocket.OPEN) {\n            targetConnection.send(JSON.stringify({\n              type: 'webrtc_signal',\n              fromUserId: userId,\n              signal,\n              callId\n            }));\n          }\n        }\n        \n        // Handle call initiation\n        else if (data.type === 'initiate_call' && userId) {\n          const { targetUserId, callType, callId } = data;\n          const targetConnection = wsConnections.get(targetUserId);\n          \n          if (targetConnection && targetConnection.readyState === WebSocket.OPEN) {\n            targetConnection.send(JSON.stringify({\n              type: 'incoming_call',\n              fromUserId: userId,\n              callType,\n              callId\n            }));\n          }\n        }\n        \n        // Handle call response\n        else if (data.type === 'call_response' && userId) {\n          const { targetUserId, accepted, callId } = data;\n          const targetConnection = wsConnections.get(targetUserId);\n          \n          if (targetConnection && targetConnection.readyState === WebSocket.OPEN) {\n            targetConnection.send(JSON.stringify({\n              type: 'call_response',\n              fromUserId: userId,\n              accepted,\n              callId\n            }));\n          }\n        }\n        \n        // Handle call end\n        else if (data.type === 'end_call' && userId) {\n          const { targetUserId, callId } = data;\n          const targetConnection = wsConnections.get(targetUserId);\n          \n          if (targetConnection && targetConnection.readyState === WebSocket.OPEN) {\n            targetConnection.send(JSON.stringify({\n              type: 'call_ended',\n              fromUserId: userId,\n              callId\n            }));\n          }\n        }\n        \n      } catch (error) {\n        // Silently handle WebSocket errors in production\n      }\n    });\n\n    ws.on('close', () => {\n      if (userId) {\n        wsConnections.delete(userId);\n      }\n    });\n  });\n\n  // Auth routes\n  app.post(\"/api/auth/register\", async (req, res) => {\n    try {\n      const userData = insertUserSchema.parse(req.body);\n      const existingUser = await storage.getUserByEmail(userData.email);\n      \n      if (existingUser) {\n        return res.status(400).json({ message: \"User already exists\" });\n      }\n\n      const user = await storage.createUser(userData);\n      res.json({ user: { ...user, password: undefined } });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/auth/login\", async (req, res) => {\n    try {\n      const { email, password } = req.body;\n      const user = await storage.getUserByEmail(email);\n      \n      if (!user || user.password !== password) {\n        return res.status(401).json({ message: \"Invalid credentials\" });\n      }\n\n      res.json({ user: { ...user, password: undefined } });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Screening routes\n  app.get(\"/api/screening/questions/:type\", async (req, res) => {\n    try {\n      const { type } = req.params;\n      if (type !== \"PHQ9\" && type !== \"GAD7\") {\n        return res.status(400).json({ message: \"Invalid screening type\" });\n      }\n      \n      const questions = ScreeningService.getScreeningQuestions(type);\n      const options = ScreeningService.getResponseOptions();\n      \n      res.json({ questions, options });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/screening/submit\", async (req, res) => {\n    try {\n      const assessmentData = insertScreeningAssessmentSchema.parse(req.body);\n      \n      // Calculate score based on type\n      let result;\n      if (assessmentData.type === \"PHQ9\") {\n        result = ScreeningService.calculatePHQ9Score(assessmentData.responses as number[]);\n      } else if (assessmentData.type === \"GAD7\") {\n        result = ScreeningService.calculateGAD7Score(assessmentData.responses as number[]);\n      } else {\n        return res.status(400).json({ message: \"Invalid screening type\" });\n      }\n\n      // Save assessment with calculated scores\n      const assessment = await storage.createScreeningAssessment({\n        ...assessmentData,\n        totalScore: result.totalScore,\n        riskLevel: result.riskLevel,\n        isHighRisk: result.isHighRisk,\n      } as any);\n\n      // Check for crisis intervention\n      await CrisisService.evaluateScreeningResult(\n        assessmentData.userId,\n        assessmentData.type,\n        result.totalScore,\n        result.isHighRisk,\n        result.isCrisis\n      );\n\n      res.json({ assessment, result });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/screening/history/:userId\", async (req, res) => {\n    try {\n      const { userId } = req.params;\n      const { type } = req.query;\n      \n      const history = await storage.getUserScreeningHistory(userId, type as string);\n      res.json(history);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Chat routes\n  app.post(\"/api/chat/session\", async (req, res) => {\n    try {\n      const { userId } = req.body;\n      const session = await storage.createChatSession(userId);\n      res.json(session);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/chat/session/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const session = await storage.getChatSession(id);\n      \n      if (!session) {\n        return res.status(404).json({ message: \"Session not found\" });\n      }\n      \n      res.json(session);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/chat/guided-exercise\", async (req, res) => {\n    try {\n      const { type } = req.body;\n      const orchestrator = OrchestratorFactory.getOrchestrator();\n      const steps = await orchestrator.generateGuidedExercise(type);\n      res.json({ steps });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // AI capabilities endpoint\n  app.get(\"/api/ai/capabilities\", async (req, res) => {\n    try {\n      const capabilities = OrchestratorFactory.getCapabilities();\n      res.json(capabilities);\n    } catch (error: any) {\n      res.status(500).json({ message: error.message });\n    }\n  });\n\n  // Search routes for offline knowledge search\n  app.get(\"/api/search\", async (req, res) => {\n    try {\n      const { q, limit } = req.query;\n      const query = q as string || '';\n      const searchLimit = limit ? parseInt(limit as string) : 10;\n      \n      const results = await storage.searchDocs(query, searchLimit);\n      res.json(results);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/search/docs\", async (req, res) => {\n    try {\n      const docs = await storage.getAllSearchDocs();\n      res.json(docs);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/search/docs\", async (req, res) => {\n    try {\n      const docData = req.body;\n      const doc = await storage.createSearchDoc(docData);\n      res.json(doc);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.delete(\"/api/search/docs/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.deleteSearchDoc(id);\n      res.json({ success: true, message: \"Document deleted\" });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Web snapshot routes for offline internet search caching\n  app.get(\"/api/web-snapshots\", async (req, res) => {\n    try {\n      const { q, limit } = req.query;\n      \n      if (q) {\n        // Search web snapshots\n        const query = q as string;\n        const searchLimit = limit ? parseInt(limit as string) : 10;\n        const results = await storage.searchWebSnapshots(query, searchLimit);\n        res.json(results);\n      } else {\n        // Get all active snapshots\n        const snapshots = await storage.getActiveWebSnapshots();\n        res.json(snapshots);\n      }\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/web-snapshots/url\", async (req, res) => {\n    try {\n      const { url } = req.query;\n      if (!url) {\n        return res.status(400).json({ message: \"URL parameter is required\" });\n      }\n      \n      const snapshot = await storage.getWebSnapshotByUrl(url as string);\n      if (snapshot) {\n        // Update last accessed time\n        await storage.updateWebSnapshot(snapshot.id, {\n          lastAccessedAt: new Date()\n        });\n        res.json(snapshot);\n      } else {\n        res.status(404).json({ message: \"Web snapshot not found\" });\n      }\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/web-snapshots\", async (req, res) => {\n    try {\n      const snapshotData = req.body;\n      const snapshot = await storage.createWebSnapshot(snapshotData);\n      res.json(snapshot);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.delete(\"/api/web-snapshots/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.deleteWebSnapshot(id);\n      res.json({ success: true, message: \"Web snapshot deleted\" });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/web-snapshots/cleanup\", async (req, res) => {\n    try {\n      const deletedCount = await storage.cleanupExpiredSnapshots();\n      res.json({ success: true, deletedCount, message: `Cleaned up ${deletedCount} expired snapshots` });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Custom AI Personality Routes\n  app.post(\"/api/chat/custom-personality\", upload.single('file'), async (req, res) => {\n    try {\n      const { userId, name, description, chatData } = req.body;\n      const file = req.file;\n      \n      let trainingData = '';\n      let sourceType = 'text';\n      let originalFileName = '';\n      \n      // Process file if uploaded\n      if (file) {\n        trainingData = await processUploadedFile(file);\n        sourceType = 'file';\n        originalFileName = file.originalname;\n      } else if (chatData) {\n        trainingData = chatData;\n        sourceType = 'text';\n      } else {\n        return res.status(400).json({ message: \"Either file or chat data is required\" });\n      }\n      \n      // Create and train local AI service\n      const localAI = new LocalAIService();\n      localAI.learnFromChat(trainingData);\n      \n      const personalityInfo = localAI.getPersonalityInfo();\n      let customPrompt = '';\n      \n      if (personalityInfo) {\n        customPrompt = `Trained Local AI with personality traits:\nName: ${personalityInfo.name}\nCommon Phrases: ${personalityInfo.commonPhrases.join(', ')}\nCommunication Style: Uses ${personalityInfo.communicationStyle.emojis.join(' ')} emojis\nResponse Patterns: ${personalityInfo.responsePatterns.length} learned patterns\nTopics: ${Array.from(personalityInfo.topics.keys()).join(', ')}\n\nThis AI has learned from real conversation patterns and will respond authentically based on the training data.`;\n      } else {\n        customPrompt = `Local AI trained on conversation data but no patterns were detected. Will use default supportive responses.`;\n      }\n\n      // Check if user exists, if not create a basic user record\n      let user = await storage.getUser(userId);\n      if (!user) {\n        // Create a basic user record with the specified userId\n        try {\n          // Use raw database insert to specify the ID\n          const [basicUser] = await db().insert(users).values({\n            id: userId,\n            username: `user-${userId.substring(0, 8)}`,\n            email: `user-${userId}@temp.com`,\n            password: 'temp-password',\n            firstName: 'User',\n            lastName: '',\n            institution: 'Unknown',\n            course: 'Unknown',\n            year: 1\n          }).returning();\n          console.log('Created basic user record for custom personality');\n          user = basicUser;\n        } catch (err) {\n          console.error('Failed to create user:', err);\n          return res.status(500).json({ message: \"Failed to create user account\" });\n        }\n      }\n\n      // Validate input\n      const personalityData = insertCustomPersonalitySchema.parse({\n        userId,\n        name: name || (personalityInfo?.name || \"Custom AI\"),\n        description: description || \"AI trained locally on uploaded conversations - no external APIs needed!\",\n        customPrompt,\n        sourceType,\n        originalFileName,\n        trainingData\n      });\n\n      // Save to database\n      const personality = await storage.createCustomPersonality(personalityData);\n      \n      res.json({ success: true, personality });\n    } catch (error: any) {\n      console.error(\"Error creating custom personality:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/chat/custom-personalities/:userId\", async (req, res) => {\n    try {\n      const { userId } = req.params;\n      \n      // Get custom personalities for user from database\n      const personalities = await storage.getUserCustomPersonalities(userId);\n      \n      res.json(personalities);\n    } catch (error: any) {\n      console.error(\"Error fetching custom personalities:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.delete(\"/api/chat/custom-personality/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { userId } = req.body;\n      \n      if (!userId) {\n        return res.status(400).json({ message: \"User ID is required\" });\n      }\n      \n      await storage.deleteCustomPersonality(id, userId);\n      \n      res.json({ success: true, message: \"Custom personality deleted\" });\n    } catch (error: any) {\n      console.error(\"Error deleting custom personality:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Counselor and appointment routes\n  app.get(\"/api/counselors\", async (req, res) => {\n    try {\n      const counselors = await storage.getCounselors();\n      res.json(counselors);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/appointments\", async (req, res) => {\n    try {\n      // Validate the base appointment data (paymentStatus, paymentIntentId, paidAt are already omitted in insertAppointmentSchema)\n      const baseData = insertAppointmentSchema.parse(req.body);\n      \n      // Normalize payment amount: always convert rupees to paise\n      let paymentAmount: number | null = null;\n      if (req.body.paymentAmount !== undefined && req.body.paymentAmount !== null) {\n        const rawAmount = req.body.paymentAmount;\n        let rupees: number;\n        \n        if (typeof rawAmount === 'string') {\n          // Extract numeric value from string (handle ₹, commas, etc.)\n          const cleanAmount = rawAmount.replace(/[^0-9.]/g, '');\n          rupees = parseFloat(cleanAmount);\n        } else {\n          rupees = Number(rawAmount);\n        }\n        \n        if (!Number.isFinite(rupees) || rupees < 0) {\n          return res.status(400).json({ message: \"Invalid payment amount\" });\n        }\n        \n        paymentAmount = Math.round(rupees * 100); // Convert to paise\n      }\n      \n      // Normalize payment status\n      let paymentStatus: 'pending' | 'processing' | 'completed' | 'failed' = 'pending';\n      if (req.body.paymentStatus) {\n        switch (req.body.paymentStatus) {\n          case 'succeeded':\n          case 'completed':\n            paymentStatus = 'completed';\n            break;\n          case 'failed':\n            paymentStatus = 'failed';\n            break;\n          case 'processing':\n            paymentStatus = 'processing';\n            break;\n          default:\n            paymentStatus = 'pending';\n        }\n      }\n      \n      // Validate payment integrity for completed payments\n      const paymentIntentId = req.body.paymentIntentId || null;\n      let paidAt: Date | null = null;\n      \n      if (paymentStatus === 'completed') {\n        if (!paymentIntentId || !paymentAmount) {\n          return res.status(400).json({ \n            message: \"Payment intent ID and amount are required for completed payments\" \n          });\n        }\n        paidAt = new Date();\n      }\n      \n      // Construct final appointment data\n      const appointmentData = {\n        ...baseData,\n        paymentAmount,\n        paymentCurrency: paymentAmount ? 'inr' : null,\n        paymentStatus,\n        paymentIntentId,\n        paidAt\n      };\n      \n      // Re-validate the complete appointment data\n      const validatedData = insertAppointmentSchema.parse(appointmentData);\n      \n      const appointment = await storage.createAppointment(validatedData);\n      res.json(appointment);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/appointments/user/:userId\", async (req, res) => {\n    try {\n      const { userId } = req.params;\n      const appointments = await storage.getUserAppointments(userId);\n      res.json(appointments);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Forum routes\n  app.get(\"/api/forum/posts\", async (req, res) => {\n    try {\n      const { category } = req.query;\n      const posts = await storage.getForumPosts(category as string);\n      res.json(posts);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/forum/posts\", async (req, res) => {\n    try {\n      const postData = insertForumPostSchema.parse(req.body);\n      const post = await storage.createForumPost(postData);\n      res.json(post);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/forum/posts/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const post = await storage.getForumPostWithReplies(id);\n      res.json(post);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/forum/posts/:id/replies\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const replyData = insertForumReplySchema.parse({\n        ...req.body,\n        postId: id\n      });\n      const reply = await storage.createForumReply(replyData);\n      res.json(reply);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/forum/posts/:id/like\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.likeForumPost(id);\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Resources routes\n  app.get(\"/api/resources\", async (req, res) => {\n    try {\n      const { category, language } = req.query;\n      const resources = await storage.getResources(category as string, language as string);\n      res.json(resources);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/resources/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const resource = await storage.getResourceById(id);\n      \n      if (!resource) {\n        return res.status(404).json({ message: \"Resource not found\" });\n      }\n      \n      res.json(resource);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/resources/:id/like\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.likeResource(id);\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Image downloading routes\n  app.post(\"/api/images/download\", async (req, res) => {\n    try {\n      const validatedData = downloadImageSchema.parse(req.body);\n      const { url, customFileName } = validatedData;\n\n      const result = await ImageDownloaderService.downloadImage(url, customFileName);\n      \n      if (result.success) {\n        res.json({\n          success: true,\n          fileName: result.fileName,\n          url: `/downloaded/${result.fileName}`, // Public URL for frontend\n          fileSize: result.fileSize,\n          mimeType: result.mimeType\n        });\n      } else {\n        res.status(400).json({ \n          success: false, \n          error: result.error \n        });\n      }\n    } catch (error: any) {\n      if (error.name === 'ZodError') {\n        res.status(400).json({ \n          success: false, \n          error: error.errors[0]?.message || \"Invalid request data\" \n        });\n      } else {\n        res.status(500).json({ \n          success: false, \n          error: error.message || \"Unknown error occurred\" \n        });\n      }\n    }\n  });\n\n  app.post(\"/api/images/download-multiple\", async (req, res) => {\n    try {\n      const validatedData = downloadMultipleImagesSchema.parse(req.body);\n      const { urls, customFileNames } = validatedData;\n\n      const results = await ImageDownloaderService.downloadMultipleImages(urls, customFileNames);\n      \n      const response = {\n        results: results.map(result => ({\n          success: result.success,\n          fileName: result.fileName,\n          url: result.success ? `/downloaded/${result.fileName}` : undefined,\n          fileSize: result.fileSize,\n          mimeType: result.mimeType,\n          error: result.error\n        })),\n        summary: {\n          total: results.length,\n          successful: results.filter(r => r.success).length,\n          failed: results.filter(r => !r.success).length\n        }\n      };\n      \n      res.json(response);\n    } catch (error: any) {\n      if (error.name === 'ZodError') {\n        res.status(400).json({ \n          success: false, \n          error: error.errors[0]?.message || \"Invalid request data\" \n        });\n      } else {\n        res.status(500).json({ \n          success: false, \n          error: error.message || \"Unknown error occurred\" \n        });\n      }\n    }\n  });\n\n  app.get(\"/api/images/validate-url\", async (req, res) => {\n    try {\n      const validatedData = validateUrlSchema.parse(req.query);\n      const { url } = validatedData;\n\n      const isImageUrl = ImageDownloaderService.isImageUrl(url);\n      \n      res.json({\n        isValid: isImageUrl,\n        url: url,\n        message: isImageUrl \n          ? \"URL appears to be a valid image URL\" \n          : \"URL does not appear to be an image URL\"\n      });\n    } catch (error: any) {\n      res.status(400).json({ \n        isValid: false, \n        error: error.message \n      });\n    }\n  });\n\n  // Mood tracking routes\n  app.post(\"/api/mood\", async (req, res) => {\n    try {\n      const moodData = insertMoodEntrySchema.parse(req.body);\n      const mood = await storage.createMoodEntry(moodData);\n      res.json(mood);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/mood/history/:userId\", async (req, res) => {\n    try {\n      const { userId } = req.params;\n      const { days } = req.query;\n      const history = await storage.getUserMoodHistory(userId, days ? parseInt(days as string) : 7);\n      res.json(history);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Crisis management routes\n  app.get(\"/api/crisis/resources\", async (req, res) => {\n    try {\n      const resources = await CrisisService.getCrisisResources();\n      res.json(resources);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/crisis/alerts\", async (req, res) => {\n    try {\n      const alerts = await storage.getActiveCrisisAlerts();\n      res.json(alerts);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/crisis/alerts/:id/resolve\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { resolvedBy, notes } = req.body;\n      \n      await CrisisService.resolveCrisisAlert(id, resolvedBy, notes);\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Peer Calling Routes\n  app.get(\"/api/peer-calling/available-peers/:userId\", async (req, res) => {\n    try {\n      const { userId } = req.params;\n      \n      // Mock available peers with anxiety compatibility\n      const mockPeers = [\n        {\n          id: \"peer-1\",\n          firstName: \"Anonymous\",\n          lastName: \"Student\",\n          institution: \"Delhi University\",\n          year: 2,\n          anxietyLevel: \"moderate\",\n          isOnline: true,\n          matchScore: 92,\n          languages: [\"English\", \"Hindi\"],\n          interests: [\"Study stress\", \"Social anxiety\"],\n          lastOnline: new Date().toISOString(),\n        },\n        {\n          id: \"peer-2\", \n          firstName: \"Anonymous\",\n          lastName: \"Peer\",\n          institution: \"IIT Mumbai\",\n          year: 3,\n          anxietyLevel: \"high\",\n          isOnline: true,\n          matchScore: 87,\n          languages: [\"English\", \"Marathi\"],\n          interests: [\"Exam stress\", \"Career anxiety\"],\n          lastOnline: new Date().toISOString(),\n        },\n        {\n          id: \"peer-3\",\n          firstName: \"Anonymous\",\n          lastName: \"Helper\",\n          institution: \"Chennai College\",\n          year: 1,\n          anxietyLevel: \"mild\",\n          isOnline: true,\n          matchScore: 78,\n          languages: [\"English\", \"Tamil\"],\n          interests: [\"Social anxiety\", \"Family pressure\"],\n          lastOnline: new Date().toISOString(),\n        }\n      ];\n      \n      res.json(mockPeers);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/peer-calling/find-peer\", async (req, res) => {\n    try {\n      const { userId, type, anxietyLevel } = req.body;\n      \n      // Simulate finding a peer\n      setTimeout(() => {\n        const mockSession = {\n          sessionId: `session-${Date.now()}`,\n          partnerId: `peer-${Math.floor(Math.random() * 1000)}`,\n          partnerName: \"Anonymous Student\",\n          type: type,\n        };\n        \n        res.json(mockSession);\n      }, 1000); // Simulate search time\n      \n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/peer-calling/end-call/:sessionId\", async (req, res) => {\n    try {\n      const { sessionId } = req.params;\n      \n      // Mock ending call\n      res.json({ \n        success: true, \n        message: \"Call ended successfully\",\n        duration: Math.floor(Math.random() * 30) + 5 // 5-35 minutes\n      });\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/peer-calling/history/:userId\", async (req, res) => {\n    try {\n      const { userId } = req.params;\n      \n      // Mock call history\n      const mockHistory = [\n        {\n          date: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(), // Yesterday\n          duration: 15,\n          type: \"audio\",\n          partnerId: \"anonymous\",\n        },\n        {\n          date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(), // 3 days ago\n          duration: 22,\n          type: \"video\", \n          partnerId: \"anonymous\",\n        },\n        {\n          date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(), // 1 week ago\n          duration: 8,\n          type: \"audio\",\n          partnerId: \"anonymous\",\n        }\n      ];\n      \n      res.json(mockHistory);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Analytics routes (admin only)\n  app.get(\"/api/analytics\", async (req, res) => {\n    try {\n      const analytics = await storage.getAnalytics();\n      res.json(analytics);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Local music file management\n  app.get(\"/api/local-music/scan\", async (req, res) => {\n    try {\n      const fs = await import('fs/promises');\n      const path = await import('path');\n      \n      const musicDir = path.resolve(process.cwd(), 'attached_assets/local_music');\n      \n      try {\n        const files = await fs.readdir(musicDir);\n        const musicFiles = files\n          .filter(file => /\\.(mp3|wav|m4a|aac|ogg|flac)$/i.test(file))\n          .map(file => ({\n            name: file,\n            duration: \"0:00\" // In real implementation, would extract from file metadata\n          }));\n        \n        res.json(musicFiles);\n      } catch (dirError) {\n        // Directory doesn't exist or is empty\n        res.json([]);\n      }\n    } catch (error: any) {\n      res.status(500).json({ message: \"Error scanning music files\" });\n    }\n  });\n\n  // Configure multer for music file uploads\n  const musicUpload = multer({\n    storage: multer.diskStorage({\n      destination: (req, file, cb) => {\n        cb(null, 'attached_assets/local_music/');\n      },\n      filename: (req, file, cb) => {\n        // Keep original filename but ensure it's safe\n        const safeName = file.originalname.replace(/[^a-zA-Z0-9.-]/g, '_');\n        cb(null, safeName);\n      }\n    }),\n    limits: {\n      fileSize: 50 * 1024 * 1024, // 50MB limit for music files\n    },\n    fileFilter: (req, file, cb) => {\n      const allowedTypes = ['audio/mpeg', 'audio/wav', 'audio/m4a', 'audio/aac', 'audio/ogg', 'audio/flac'];\n      if (allowedTypes.includes(file.mimetype) || /\\.(mp3|wav|m4a|aac|ogg|flac)$/i.test(file.originalname)) {\n        cb(null, true);\n      } else {\n        cb(new Error('Invalid file type. Only audio files are allowed.'));\n      }\n    }\n  });\n\n  app.post(\"/api/local-music/upload\", musicUpload.single('musicFile'), async (req, res) => {\n    try {\n      if (!req.file) {\n        return res.status(400).json({ message: 'No music file provided' });\n      }\n\n      const file_url = `/attached_assets/local_music/${req.file.filename}`;\n      \n      res.json({\n        message: 'Music file uploaded successfully',\n        file_url,\n        file_name: req.file.filename,\n        original_name: req.file.originalname\n      });\n    } catch (error: any) {\n      res.status(500).json({ message: error.message });\n    }\n  });\n\n  // Medicine alarm routes\n  app.get(\"/api/medicine-alarms\", async (req, res) => {\n    try {\n      const userId = req.query.userId as string || \"d3025d97-c8b5-4b96-a170-a98c88a0b98b\"; // Mock user ID for now\n      const alarms = await storage.getUserMedicineAlarms(userId);\n      res.json(alarms);\n    } catch (error: any) {\n      console.error(\"Error fetching medicine alarms:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/medicine-alarms\", async (req, res) => {\n    try {\n      const validatedData = insertMedicineAlarmSchema.parse(req.body);\n      const alarm = await storage.createMedicineAlarm({\n        ...validatedData,\n        userId: validatedData.userId || \"d3025d97-c8b5-4b96-a170-a98c88a0b98b\"\n      });\n      res.json(alarm);\n    } catch (error: any) {\n      console.error(\"Error creating medicine alarm:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.patch(\"/api/medicine-alarms/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const alarm = await storage.updateMedicineAlarm(id, req.body);\n      res.json(alarm);\n    } catch (error: any) {\n      console.error(\"Error updating medicine alarm:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.delete(\"/api/medicine-alarms/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.deleteMedicineAlarm(id);\n      res.json({ message: \"Medicine alarm deleted successfully\" });\n    } catch (error: any) {\n      console.error(\"Error deleting medicine alarm:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Skills routes\n  app.get(\"/api/skills\", async (req, res) => {\n    try {\n      const userId = req.query.userId as string || \"d3025d97-c8b5-4b96-a170-a98c88a0b98b\"; // Mock user ID for now\n      const skills = await storage.getUserSkills(userId);\n      res.json(skills);\n    } catch (error: any) {\n      console.error(\"Error fetching skills:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/skills\", async (req, res) => {\n    try {\n      const validatedData = insertUserSkillSchema.parse(req.body);\n      const skill = await storage.createUserSkill({\n        ...validatedData,\n        userId: validatedData.userId || \"d3025d97-c8b5-4b96-a170-a98c88a0b98b\"\n      });\n      res.json(skill);\n    } catch (error: any) {\n      console.error(\"Error creating skill:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.patch(\"/api/skills/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const skill = await storage.updateUserSkill(id, req.body);\n      res.json(skill);\n    } catch (error: any) {\n      console.error(\"Error updating skill:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.delete(\"/api/skills/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.deleteUserSkill(id);\n      res.json({ message: \"Skill deleted successfully\" });\n    } catch (error: any) {\n      console.error(\"Error deleting skill:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Skill showcase routes\n  app.get(\"/api/skill-showcases\", async (req, res) => {\n    try {\n      const userId = req.query.userId as string;\n      if (userId) {\n        const showcases = await storage.getUserSkillShowcases(userId);\n        res.json(showcases);\n      } else {\n        const showcases = await storage.getAllSkillShowcases();\n        res.json(showcases);\n      }\n    } catch (error: any) {\n      console.error(\"Error fetching skill showcases:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/skill-showcases\", async (req, res) => {\n    try {\n      const validatedData = insertSkillShowcaseSchema.parse(req.body);\n      const showcase = await storage.createSkillShowcase({\n        ...validatedData,\n        userId: validatedData.userId || \"d3025d97-c8b5-4b96-a170-a98c88a0b98b\"\n      });\n      res.json(showcase);\n    } catch (error: any) {\n      console.error(\"Error creating skill showcase:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.patch(\"/api/skill-showcases/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const showcase = await storage.updateSkillShowcase(id, req.body);\n      res.json(showcase);\n    } catch (error: any) {\n      console.error(\"Error updating skill showcase:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.delete(\"/api/skill-showcases/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.deleteSkillShowcase(id);\n      res.json({ message: \"Skill showcase deleted successfully\" });\n    } catch (error: any) {\n      console.error(\"Error deleting skill showcase:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/skills/:skillId/endorse\", async (req, res) => {\n    try {\n      const { skillId } = req.params;\n      const validatedData = insertSkillEndorsementSchema.parse({\n        ...req.body,\n        skillId,\n      });\n      const endorsement = await storage.createSkillEndorsement({\n        ...validatedData,\n        endorserId: validatedData.endorserId || \"d3025d97-c8b5-4b96-a170-a98c88a0b98b\"\n      });\n      res.json(endorsement);\n    } catch (error: any) {\n      console.error(\"Error endorsing skill:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/skill-showcases/:id/like\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.likeSkillShowcase(id);\n      res.json({ message: \"Showcase liked successfully\" });\n    } catch (error: any) {\n      console.error(\"Error liking showcase:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Coin management routes\n  app.get(\"/api/coins/transactions/:userId\", async (req, res) => {\n    try {\n      const { userId } = req.params;\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : 50;\n      const transactions = await storage.getUserCoinTransactions(userId, limit);\n      res.json(transactions);\n    } catch (error: any) {\n      console.error(\"Error fetching coin transactions:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/coins/balance/:userId\", async (req, res) => {\n    try {\n      const { userId } = req.params;\n      const balance = await storage.getUserCoinBalance(userId);\n      res.json({ balance });\n    } catch (error: any) {\n      console.error(\"Error fetching coin balance:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/coins/add\", async (req, res) => {\n    try {\n      const { userId, amount, type, description, relatedEntityId } = req.body;\n      \n      if (!userId || !amount || !type || !description) {\n        return res.status(400).json({ message: \"UserId, amount, type, and description are required\" });\n      }\n\n      const transaction = await storage.addCoins(userId, amount, type, description, relatedEntityId);\n      res.json(transaction);\n    } catch (error: any) {\n      console.error(\"Error adding coins:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  // Live sessions routes\n  app.get(\"/api/live-sessions\", async (req, res) => {\n    try {\n      const userId = req.query.userId as string;\n      if (userId) {\n        const sessions = await storage.getUserLiveSessions(userId);\n        res.json(sessions);\n      } else {\n        const sessions = await storage.getAllLiveSessions();\n        res.json(sessions);\n      }\n    } catch (error: any) {\n      console.error(\"Error fetching live sessions:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.get(\"/api/live-sessions/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const session = await storage.getLiveSessionById(id);\n      if (!session) {\n        return res.status(404).json({ message: \"Live session not found\" });\n      }\n      res.json(session);\n    } catch (error: any) {\n      console.error(\"Error fetching live session:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/live-sessions\", async (req, res) => {\n    try {\n      const sessionData = {\n        ...req.body,\n        userId: req.body.userId || \"d3025d97-c8b5-4b96-a170-a98c88a0b98b\"\n      };\n      const session = await storage.createLiveSession(sessionData);\n      res.json(session);\n    } catch (error: any) {\n      console.error(\"Error creating live session:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.patch(\"/api/live-sessions/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const session = await storage.updateLiveSession(id, req.body);\n      res.json(session);\n    } catch (error: any) {\n      console.error(\"Error updating live session:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/live-sessions/:id/start\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const session = await storage.startLiveSession(id);\n      res.json(session);\n    } catch (error: any) {\n      console.error(\"Error starting live session:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/live-sessions/:id/end\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      const session = await storage.endLiveSession(id);\n      res.json(session);\n    } catch (error: any) {\n      console.error(\"Error ending live session:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.post(\"/api/live-sessions/:id/join\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.incrementSessionViewers(id);\n      res.json({ message: \"Joined session successfully\" });\n    } catch (error: any) {\n      console.error(\"Error joining live session:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  app.delete(\"/api/live-sessions/:id\", async (req, res) => {\n    try {\n      const { id } = req.params;\n      await storage.deleteLiveSession(id);\n      res.json({ message: \"Live session deleted successfully\" });\n    } catch (error: any) {\n      console.error(\"Error deleting live session:\", error);\n      res.status(400).json({ message: error.message });\n    }\n  });\n\n  return httpServer;\n}\n","size_bytes":48603},"server/storage.ts":{"content":"import { randomUUID } from \"crypto\";\nimport {\n  users,\n  screeningAssessments,\n  appointments,\n  forumPosts,\n  forumReplies,\n  resources,\n  moodEntries,\n  crisisAlerts,\n  counselors,\n  chatSessions,\n  customPersonalities,\n  coinTransactions,\n  medicineAlarms,\n  userSkills,\n  skillShowcases,\n  skillEndorsements,\n  liveSessions,\n  searchDocs,\n  webSnapshots,\n  type User,\n  type InsertUser,\n  type ScreeningAssessment,\n  type InsertScreeningAssessment,\n  type Appointment,\n  type InsertAppointment,\n  type ForumPost,\n  type InsertForumPost,\n  type ForumReply,\n  type InsertForumReply,\n  type Resource,\n  type InsertResource,\n  type MoodEntry,\n  type InsertMoodEntry,\n  type CrisisAlert,\n  type InsertCrisisAlert,\n  type Counselor,\n  type ChatSession,\n  type CustomPersonality,\n  type InsertCustomPersonality,\n  type CoinTransaction,\n  type InsertCoinTransaction,\n  type MedicineAlarm,\n  type InsertMedicineAlarm,\n  type UserSkill,\n  type InsertUserSkill,\n  type SkillShowcase,\n  type InsertSkillShowcase,\n  type SkillEndorsement,\n  type InsertSkillEndorsement,\n  type LiveSession,\n  type InsertLiveSession,\n  type SearchDoc,\n  type InsertSearchDoc,\n  type WebSnapshot,\n  type InsertWebSnapshot,\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, desc, and, gte, sql, count } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User management\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  updateUser(id: string, updates: Partial<User>): Promise<User>;\n\n  // Screening assessments\n  createScreeningAssessment(assessment: InsertScreeningAssessment): Promise<ScreeningAssessment>;\n  getUserScreeningHistory(userId: string, type?: string): Promise<ScreeningAssessment[]>;\n  getLatestScreening(userId: string, type: string): Promise<ScreeningAssessment | undefined>;\n\n  // Appointments\n  createAppointment(appointment: InsertAppointment): Promise<Appointment>;\n  getUserAppointments(userId: string): Promise<Appointment[]>;\n  getCounselorAppointments(counselorId: string): Promise<Appointment[]>;\n  updateAppointmentStatus(id: string, status: string): Promise<Appointment>;\n  getCounselors(): Promise<Counselor[]>;\n\n  // Forum\n  createForumPost(post: InsertForumPost): Promise<ForumPost>;\n  getForumPosts(category?: string): Promise<ForumPost[]>;\n  getForumPostWithReplies(postId: string): Promise<ForumPost & { replies: ForumReply[] }>;\n  createForumReply(reply: InsertForumReply): Promise<ForumReply>;\n  likeForumPost(postId: string): Promise<void>;\n  flagForumPost(postId: string): Promise<void>;\n\n  // Resources\n  getResources(category?: string, language?: string): Promise<Resource[]>;\n  getResourceById(id: string): Promise<Resource | undefined>;\n  createResource(resource: InsertResource): Promise<Resource>;\n  createResourcesBulk(resources: InsertResource[]): Promise<Resource[]>;\n  likeResource(id: string): Promise<void>;\n\n  // Mood tracking\n  createMoodEntry(mood: InsertMoodEntry): Promise<MoodEntry>;\n  getUserMoodHistory(userId: string, days?: number): Promise<MoodEntry[]>;\n\n  // Crisis management\n  createCrisisAlert(alert: InsertCrisisAlert): Promise<CrisisAlert>;\n  getActiveCrisisAlerts(): Promise<CrisisAlert[]>;\n  resolveCrisisAlert(id: string, resolvedBy: string, notes?: string): Promise<CrisisAlert>;\n\n  // Chat sessions\n  createChatSession(userId: string): Promise<ChatSession>;\n  updateChatSession(id: string, messages: any[]): Promise<ChatSession>;\n  getChatSession(id: string): Promise<ChatSession | undefined>;\n\n  // Custom AI Personalities\n  createCustomPersonality(personality: InsertCustomPersonality): Promise<CustomPersonality>;\n  getUserCustomPersonalities(userId: string): Promise<CustomPersonality[]>;\n  updateCustomPersonality(id: string, updates: Partial<CustomPersonality>): Promise<CustomPersonality>;\n  deleteCustomPersonality(id: string, userId: string): Promise<void>;\n\n  // Coin management\n  addCoins(userId: string, amount: number, type: string, description: string, relatedEntityId?: string): Promise<CoinTransaction>;\n  getUserCoinTransactions(userId: string, limit?: number): Promise<CoinTransaction[]>;\n  getUserCoinBalance(userId: string): Promise<number>;\n\n  // Medicine alarms\n  createMedicineAlarm(alarm: InsertMedicineAlarm): Promise<MedicineAlarm>;\n  getUserMedicineAlarms(userId: string): Promise<MedicineAlarm[]>;\n  updateMedicineAlarm(id: string, updates: Partial<MedicineAlarm>): Promise<MedicineAlarm>;\n  deleteMedicineAlarm(id: string): Promise<void>;\n\n  // User skills\n  createUserSkill(skill: InsertUserSkill): Promise<UserSkill>;\n  getUserSkills(userId: string): Promise<UserSkill[]>;\n  updateUserSkill(id: string, updates: Partial<UserSkill>): Promise<UserSkill>;\n  deleteUserSkill(id: string): Promise<void>;\n\n  // Skill showcases\n  createSkillShowcase(showcase: InsertSkillShowcase): Promise<SkillShowcase>;\n  getUserSkillShowcases(userId: string): Promise<SkillShowcase[]>;\n  getAllSkillShowcases(): Promise<SkillShowcase[]>;\n  updateSkillShowcase(id: string, updates: Partial<SkillShowcase>): Promise<SkillShowcase>;\n  deleteSkillShowcase(id: string): Promise<void>;\n  likeSkillShowcase(id: string): Promise<void>;\n\n  // Skill endorsements\n  createSkillEndorsement(endorsement: InsertSkillEndorsement): Promise<SkillEndorsement>;\n\n  // Live sessions\n  createLiveSession(session: InsertLiveSession): Promise<LiveSession>;\n  getUserLiveSessions(userId: string): Promise<LiveSession[]>;\n  getAllLiveSessions(): Promise<LiveSession[]>;\n  getLiveSessionById(id: string): Promise<LiveSession | undefined>;\n  updateLiveSession(id: string, updates: Partial<LiveSession>): Promise<LiveSession>;\n  deleteLiveSession(id: string): Promise<void>;\n  startLiveSession(id: string): Promise<LiveSession>;\n  endLiveSession(id: string): Promise<LiveSession>;\n  incrementSessionViewers(id: string): Promise<void>;\n\n  // Analytics (anonymized)\n  getAnalytics(): Promise<any>;\n\n  // Search documents for offline knowledge search  \n  createSearchDoc(doc: InsertSearchDoc): Promise<SearchDoc>;\n  getAllSearchDocs(): Promise<SearchDoc[]>;\n  searchDocs(query: string, limit?: number): Promise<SearchDoc[]>;\n  updateSearchDoc(id: string, updates: Partial<SearchDoc>): Promise<SearchDoc>;\n  deleteSearchDoc(id: string): Promise<void>;\n\n  // Web snapshots for offline internet search caching\n  createWebSnapshot(insertSnapshot: InsertWebSnapshot): Promise<WebSnapshot>;\n  getWebSnapshotByUrl(url: string): Promise<WebSnapshot | null>;\n  searchWebSnapshots(query: string, limit?: number): Promise<WebSnapshot[]>;\n  getActiveWebSnapshots(): Promise<WebSnapshot[]>;\n  updateWebSnapshot(id: string, updates: Partial<WebSnapshot>): Promise<WebSnapshot>;\n  deleteWebSnapshot(id: string): Promise<void>;\n  cleanupExpiredSnapshots(): Promise<number>; // Returns number of deleted snapshots\n}\n\nexport class DatabaseStorage implements IStorage {\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db().select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const [user] = await db().select().from(users).where(eq(users.username, username));\n    return user || undefined;\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    const [user] = await db().select().from(users).where(eq(users.email, email));\n    return user || undefined;\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const [user] = await db().insert(users).values(insertUser).returning();\n    return user;\n  }\n\n  async updateUser(id: string, updates: Partial<User>): Promise<User> {\n    const cleanUpdates: any = {\n      updatedAt: new Date()\n    };\n    \n    // Only include fields that are explicitly provided\n    if ('username' in updates) cleanUpdates.username = updates.username;\n    if ('password' in updates) cleanUpdates.password = updates.password;\n    if ('firstName' in updates) cleanUpdates.firstName = updates.firstName;\n    if ('lastName' in updates) cleanUpdates.lastName = updates.lastName;\n    if ('email' in updates) cleanUpdates.email = updates.email;\n    if ('anonymousName' in updates) cleanUpdates.anonymousName = updates.anonymousName ?? null;\n    if ('institution' in updates) cleanUpdates.institution = updates.institution;\n    if ('course' in updates) cleanUpdates.course = updates.course ?? null;\n    if ('year' in updates) cleanUpdates.year = updates.year ?? null;\n    if ('language' in updates) cleanUpdates.language = updates.language;\n    if ('isAdmin' in updates) cleanUpdates.isAdmin = updates.isAdmin;\n    if ('coins' in updates) cleanUpdates.coins = updates.coins;\n    \n    const [user] = await db()\n      .update(users)\n      .set(cleanUpdates)\n      .where(eq(users.id, id))\n      .returning();\n    return user;\n  }\n\n  async createScreeningAssessment(assessment: InsertScreeningAssessment): Promise<ScreeningAssessment> {\n    const [result] = await db()\n      .insert(screeningAssessments)\n      .values({\n        ...assessment,\n        totalScore: 0, // Will be calculated by caller\n        riskLevel: 'minimal', // Will be set by caller\n        isHighRisk: false // Will be set by caller\n      })\n      .returning();\n    return result;\n  }\n\n  async getUserScreeningHistory(userId: string, type?: string): Promise<ScreeningAssessment[]> {\n    let query = db()\n      .select()\n      .from(screeningAssessments)\n      .where(eq(screeningAssessments.userId, userId))\n      .orderBy(desc(screeningAssessments.completedAt));\n    \n    if (type) {\n      query = db()\n        .select()\n        .from(screeningAssessments)\n        .where(and(eq(screeningAssessments.userId, userId), eq(screeningAssessments.type, type)))\n        .orderBy(desc(screeningAssessments.completedAt));\n    }\n    \n    return await query;\n  }\n\n  async getLatestScreening(userId: string, type: string): Promise<ScreeningAssessment | undefined> {\n    const [result] = await db()\n      .select()\n      .from(screeningAssessments)\n      .where(and(eq(screeningAssessments.userId, userId), eq(screeningAssessments.type, type)))\n      .orderBy(desc(screeningAssessments.completedAt))\n      .limit(1);\n    \n    return result || undefined;\n  }\n\n  async createAppointment(appointment: InsertAppointment): Promise<Appointment> {\n    const [result] = await db().insert(appointments).values(appointment).returning();\n    return result;\n  }\n\n  async getUserAppointments(userId: string): Promise<Appointment[]> {\n    return await db()\n      .select()\n      .from(appointments)\n      .where(eq(appointments.userId, userId))\n      .orderBy(desc(appointments.scheduledFor));\n  }\n\n  async getCounselorAppointments(counselorId: string): Promise<Appointment[]> {\n    return await db()\n      .select()\n      .from(appointments)\n      .where(eq(appointments.counselorId, counselorId))\n      .orderBy(desc(appointments.scheduledFor));\n  }\n\n  async updateAppointmentStatus(id: string, status: string): Promise<Appointment> {\n    const [appointment] = await db()\n      .update(appointments)\n      .set({ status })\n      .where(eq(appointments.id, id))\n      .returning();\n    return appointment;\n  }\n\n  async getCounselors(): Promise<Counselor[]> {\n    return await db().select().from(counselors).where(eq(counselors.isAvailable, true));\n  }\n\n  async createForumPost(post: InsertForumPost): Promise<ForumPost> {\n    const [result] = await db().insert(forumPosts).values(post).returning();\n    return result;\n  }\n\n  async getForumPosts(category?: string): Promise<ForumPost[]> {\n    let query = db()\n      .select()\n      .from(forumPosts)\n      .where(eq(forumPosts.isModerated, true))\n      .orderBy(desc(forumPosts.createdAt));\n    \n    if (category) {\n      query = db()\n        .select()\n        .from(forumPosts)\n        .where(and(eq(forumPosts.category, category), eq(forumPosts.isModerated, true)))\n        .orderBy(desc(forumPosts.createdAt));\n    }\n    \n    return await query;\n  }\n\n  async getForumPostWithReplies(postId: string): Promise<ForumPost & { replies: ForumReply[] }> {\n    const [post] = await db().select().from(forumPosts).where(eq(forumPosts.id, postId));\n    const replies = await db()\n      .select()\n      .from(forumReplies)\n      .where(eq(forumReplies.postId, postId))\n      .orderBy(forumReplies.createdAt);\n    \n    return { ...post, replies };\n  }\n\n  async createForumReply(reply: InsertForumReply): Promise<ForumReply> {\n    const [result] = await db().insert(forumReplies).values(reply).returning();\n    return result;\n  }\n\n  async likeForumPost(postId: string): Promise<void> {\n    await db()\n      .update(forumPosts)\n      .set({ likes: sql`${forumPosts.likes} + 1` })\n      .where(eq(forumPosts.id, postId));\n  }\n\n  async flagForumPost(postId: string): Promise<void> {\n    await db()\n      .update(forumPosts)\n      .set({ isFlagged: true })\n      .where(eq(forumPosts.id, postId));\n  }\n\n  async getResources(category?: string, language?: string): Promise<Resource[]> {\n    const conditions = [];\n    if (category) conditions.push(eq(resources.category, category));\n    if (language) conditions.push(eq(resources.language, language));\n    \n    if (conditions.length > 0) {\n      return await db()\n        .select()\n        .from(resources)\n        .where(and(...conditions))\n        .orderBy(desc(resources.likes));\n    }\n    \n    return await db()\n      .select()\n      .from(resources)\n      .orderBy(desc(resources.likes));\n  }\n\n  async getResourceById(id: string): Promise<Resource | undefined> {\n    const [resource] = await db().select().from(resources).where(eq(resources.id, id));\n    return resource || undefined;\n  }\n\n  async createResource(resource: InsertResource): Promise<Resource> {\n    const [result] = await db().insert(resources).values(resource).returning();\n    return result;\n  }\n\n  async createResourcesBulk(resourcesData: InsertResource[]): Promise<Resource[]> {\n    const results = await db().insert(resources).values(resourcesData).returning();\n    return results;\n  }\n\n  async likeResource(id: string): Promise<void> {\n    await db()\n      .update(resources)\n      .set({ likes: sql`${resources.likes} + 1` })\n      .where(eq(resources.id, id));\n  }\n\n  async createMoodEntry(mood: InsertMoodEntry): Promise<MoodEntry> {\n    const [result] = await db().insert(moodEntries).values(mood).returning();\n    return result;\n  }\n\n  async getUserMoodHistory(userId: string, days: number = 7): Promise<MoodEntry[]> {\n    const since = new Date();\n    since.setDate(since.getDate() - days);\n    \n    return await db()\n      .select()\n      .from(moodEntries)\n      .where(and(eq(moodEntries.userId, userId), gte(moodEntries.date, since)))\n      .orderBy(moodEntries.date);\n  }\n\n  async createCrisisAlert(alert: InsertCrisisAlert): Promise<CrisisAlert> {\n    const [result] = await db().insert(crisisAlerts).values(alert).returning();\n    return result;\n  }\n\n  async getActiveCrisisAlerts(): Promise<CrisisAlert[]> {\n    return await db()\n      .select()\n      .from(crisisAlerts)\n      .where(eq(crisisAlerts.isResolved, false))\n      .orderBy(desc(crisisAlerts.createdAt));\n  }\n\n  async resolveCrisisAlert(id: string, resolvedBy: string, notes?: string): Promise<CrisisAlert> {\n    const [alert] = await db()\n      .update(crisisAlerts)\n      .set({\n        isResolved: true,\n        resolvedBy,\n        notes,\n        resolvedAt: new Date(),\n      })\n      .where(eq(crisisAlerts.id, id))\n      .returning();\n    return alert;\n  }\n\n  async createChatSession(userId: string): Promise<ChatSession> {\n    const [session] = await db()\n      .insert(chatSessions)\n      .values({ userId, messages: [] })\n      .returning();\n    return session;\n  }\n\n  async updateChatSession(id: string, messages: any[]): Promise<ChatSession> {\n    const [session] = await db()\n      .update(chatSessions)\n      .set({ messages })\n      .where(eq(chatSessions.id, id))\n      .returning();\n    return session;\n  }\n\n  async getChatSession(id: string): Promise<ChatSession | undefined> {\n    const [session] = await db().select().from(chatSessions).where(eq(chatSessions.id, id));\n    return session || undefined;\n  }\n\n  async createCustomPersonality(personality: InsertCustomPersonality): Promise<CustomPersonality> {\n    const [result] = await db().insert(customPersonalities).values(personality).returning();\n    return result;\n  }\n\n  async getUserCustomPersonalities(userId: string): Promise<CustomPersonality[]> {\n    return await db()\n      .select()\n      .from(customPersonalities)\n      .where(and(eq(customPersonalities.userId, userId), eq(customPersonalities.isActive, true)))\n      .orderBy(desc(customPersonalities.createdAt));\n  }\n\n  async updateCustomPersonality(id: string, updates: Partial<CustomPersonality>): Promise<CustomPersonality> {\n    const cleanUpdates: any = {\n      updatedAt: new Date()\n    };\n    \n    // Only include fields that are explicitly provided\n    if ('name' in updates) cleanUpdates.name = updates.name;\n    if ('description' in updates) cleanUpdates.description = updates.description ?? null;\n    if ('customPrompt' in updates) cleanUpdates.customPrompt = updates.customPrompt;\n    if ('sourceType' in updates) cleanUpdates.sourceType = updates.sourceType;\n    if ('originalFileName' in updates) cleanUpdates.originalFileName = updates.originalFileName ?? null;\n    if ('trainingData' in updates) cleanUpdates.trainingData = updates.trainingData ?? null;\n    if ('isActive' in updates) cleanUpdates.isActive = updates.isActive;\n    \n    const [personality] = await db()\n      .update(customPersonalities)\n      .set(cleanUpdates)\n      .where(eq(customPersonalities.id, id))\n      .returning();\n    return personality;\n  }\n\n  async deleteCustomPersonality(id: string, userId: string): Promise<void> {\n    await db()\n      .update(customPersonalities)\n      .set({ isActive: false, updatedAt: new Date() })\n      .where(and(eq(customPersonalities.id, id), eq(customPersonalities.userId, userId)));\n  }\n\n  async addCoins(userId: string, amount: number, type: string, description: string, relatedEntityId?: string): Promise<CoinTransaction> {\n    // Create transaction record\n    const [transaction] = await db()\n      .insert(coinTransactions)\n      .values({\n        userId,\n        amount,\n        type,\n        description,\n        relatedEntityId: relatedEntityId || null,\n      })\n      .returning();\n\n    // Update user's coin balance\n    await db()\n      .update(users)\n      .set({ \n        coins: sql`${users.coins} + ${amount}`,\n        updatedAt: new Date()\n      })\n      .where(eq(users.id, userId));\n\n    return transaction;\n  }\n\n  async getUserCoinTransactions(userId: string, limit: number = 50): Promise<CoinTransaction[]> {\n    return await db()\n      .select()\n      .from(coinTransactions)\n      .where(eq(coinTransactions.userId, userId))\n      .orderBy(desc(coinTransactions.createdAt))\n      .limit(limit);\n  }\n\n  async getUserCoinBalance(userId: string): Promise<number> {\n    const [user] = await db()\n      .select({ coins: users.coins })\n      .from(users)\n      .where(eq(users.id, userId));\n    \n    return user?.coins || 0;\n  }\n\n  async getAnalytics(): Promise<any> {\n    // Anonymized analytics for institutional insights\n    const [activeUsersCount] = await db()\n      .select({ count: count() })\n      .from(users)\n      .where(gte(users.updatedAt, new Date(Date.now() - 30 * 24 * 60 * 60 * 1000))); // Last 30 days\n\n    const [screeningsThisMonth] = await db()\n      .select({ count: count() })\n      .from(screeningAssessments)\n      .where(gte(screeningAssessments.completedAt, new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)));\n\n    const [appointmentsCount] = await db()\n      .select({ count: count() })\n      .from(appointments)\n      .where(gte(appointments.createdAt, new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)));\n\n    const [crisisAlertsCount] = await db()\n      .select({ count: count() })\n      .from(crisisAlerts)\n      .where(eq(crisisAlerts.isResolved, false));\n\n    // Risk level distribution\n    const riskDistribution = await db()\n      .select({\n        riskLevel: screeningAssessments.riskLevel,\n        count: count(),\n      })\n      .from(screeningAssessments)\n      .where(gte(screeningAssessments.completedAt, new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)))\n      .groupBy(screeningAssessments.riskLevel);\n\n    return {\n      activeUsers: activeUsersCount.count,\n      screeningsCompleted: screeningsThisMonth.count,\n      counselingSessions: appointmentsCount.count,\n      highRiskAlerts: crisisAlertsCount.count,\n      riskDistribution,\n    };\n  }\n\n  // Medicine alarm methods\n  async createMedicineAlarm(alarm: InsertMedicineAlarm): Promise<MedicineAlarm> {\n    const [result] = await db()\n      .insert(medicineAlarms)\n      .values(alarm)\n      .returning();\n    return result;\n  }\n\n  async getUserMedicineAlarms(userId: string): Promise<MedicineAlarm[]> {\n    return await db()\n      .select()\n      .from(medicineAlarms)\n      .where(eq(medicineAlarms.userId, userId))\n      .orderBy(desc(medicineAlarms.createdAt));\n  }\n\n  async updateMedicineAlarm(id: string, updates: Partial<MedicineAlarm>): Promise<MedicineAlarm> {\n    const cleanUpdates: any = {\n      updatedAt: new Date()\n    };\n    \n    // Only include fields that are explicitly provided\n    if ('medicineName' in updates) cleanUpdates.medicineName = updates.medicineName;\n    if ('dosage' in updates) cleanUpdates.dosage = updates.dosage;\n    if ('frequency' in updates) cleanUpdates.frequency = updates.frequency;\n    if ('times' in updates) cleanUpdates.times = updates.times;\n    if ('startDate' in updates) cleanUpdates.startDate = updates.startDate;\n    if ('endDate' in updates) cleanUpdates.endDate = updates.endDate ?? null;\n    if ('isActive' in updates) cleanUpdates.isActive = updates.isActive;\n    if ('notes' in updates) cleanUpdates.notes = updates.notes ?? null;\n    \n    const [alarm] = await db()\n      .update(medicineAlarms)\n      .set(cleanUpdates)\n      .where(eq(medicineAlarms.id, id))\n      .returning();\n    return alarm;\n  }\n\n  async deleteMedicineAlarm(id: string): Promise<void> {\n    await db()\n      .delete(medicineAlarms)\n      .where(eq(medicineAlarms.id, id));\n  }\n\n  // User skills methods\n  async createUserSkill(skill: InsertUserSkill): Promise<UserSkill> {\n    const [result] = await db()\n      .insert(userSkills)\n      .values({\n        ...skill,\n        description: skill.description ?? null,\n        yearsOfExperience: skill.yearsOfExperience ?? null,\n        endorsements: 0,\n        isVerified: false\n      })\n      .returning();\n    return result;\n  }\n\n  async getUserSkills(userId: string): Promise<UserSkill[]> {\n    return await db()\n      .select()\n      .from(userSkills)\n      .where(eq(userSkills.userId, userId))\n      .orderBy(desc(userSkills.createdAt));\n  }\n\n  async updateUserSkill(id: string, updates: Partial<UserSkill>): Promise<UserSkill> {\n    const cleanUpdates: any = {\n      updatedAt: new Date()\n    };\n    \n    // Only include fields that are explicitly provided\n    if ('description' in updates) cleanUpdates.description = updates.description ?? null;\n    if ('yearsOfExperience' in updates) cleanUpdates.yearsOfExperience = updates.yearsOfExperience ?? null;\n    if ('proficiencyLevel' in updates) cleanUpdates.proficiencyLevel = updates.proficiencyLevel;\n    if ('isVerified' in updates) cleanUpdates.isVerified = updates.isVerified;\n    const [skill] = await db()\n      .update(userSkills)\n      .set(cleanUpdates)\n      .where(eq(userSkills.id, id))\n      .returning();\n    return skill;\n  }\n\n  async deleteUserSkill(id: string): Promise<void> {\n    await db()\n      .delete(userSkills)\n      .where(eq(userSkills.id, id));\n  }\n\n  // Skill showcases methods\n  async createSkillShowcase(showcase: InsertSkillShowcase): Promise<SkillShowcase> {\n    const [result] = await db()\n      .insert(skillShowcases)\n      .values({\n        ...showcase,\n        mediaUrl: showcase.mediaUrl ?? null,\n        externalUrl: showcase.externalUrl ?? null,\n        tags: showcase.tags ?? [],\n        likes: 0,\n        views: 0,\n        isFeatured: false\n      })\n      .returning();\n    return result;\n  }\n\n  async getUserSkillShowcases(userId: string): Promise<SkillShowcase[]> {\n    return await db()\n      .select()\n      .from(skillShowcases)\n      .where(eq(skillShowcases.userId, userId))\n      .orderBy(desc(skillShowcases.createdAt));\n  }\n\n  async getAllSkillShowcases(): Promise<SkillShowcase[]> {\n    return await db()\n      .select()\n      .from(skillShowcases)\n      .orderBy(desc(skillShowcases.createdAt));\n  }\n\n  async updateSkillShowcase(id: string, updates: Partial<SkillShowcase>): Promise<SkillShowcase> {\n    const cleanUpdates: any = {\n      updatedAt: new Date()\n    };\n    \n    // Only include fields that are explicitly provided\n    if ('title' in updates) cleanUpdates.title = updates.title;\n    if ('description' in updates) cleanUpdates.description = updates.description ?? null;\n    if ('mediaUrl' in updates) cleanUpdates.mediaUrl = updates.mediaUrl ?? null;\n    if ('externalUrl' in updates) cleanUpdates.externalUrl = updates.externalUrl ?? null;\n    if ('tags' in updates) cleanUpdates.tags = updates.tags ?? [];\n    if ('isFeatured' in updates) cleanUpdates.isFeatured = updates.isFeatured;\n    const [showcase] = await db()\n      .update(skillShowcases)\n      .set(cleanUpdates)\n      .where(eq(skillShowcases.id, id))\n      .returning();\n    return showcase;\n  }\n\n  async deleteSkillShowcase(id: string): Promise<void> {\n    await db()\n      .delete(skillShowcases)\n      .where(eq(skillShowcases.id, id));\n  }\n\n  async likeSkillShowcase(id: string): Promise<void> {\n    await db()\n      .update(skillShowcases)\n      .set({ \n        likes: sql`${skillShowcases.likes} + 1`,\n        updatedAt: new Date()\n      })\n      .where(eq(skillShowcases.id, id));\n  }\n\n  // Skill endorsements methods\n  async createSkillEndorsement(endorsement: InsertSkillEndorsement): Promise<SkillEndorsement> {\n    // First create the endorsement\n    const [result] = await db()\n      .insert(skillEndorsements)\n      .values({\n        ...endorsement,\n        comment: endorsement.comment ?? null\n      })\n      .returning();\n\n    // Then increment the endorsement count on the skill\n    await db()\n      .update(userSkills)\n      .set({ \n        endorsements: sql`${userSkills.endorsements} + 1`,\n        updatedAt: new Date()\n      })\n      .where(eq(userSkills.id, endorsement.skillId));\n\n    return {\n      ...result,\n      comment: result.comment ?? null\n    } as SkillEndorsement;\n  }\n\n  // Live sessions methods\n  async createLiveSession(session: InsertLiveSession): Promise<LiveSession> {\n    const [result] = await db()\n      .insert(liveSessions)\n      .values({\n        ...session,\n        status: session.status ?? 'scheduled',\n        scheduledStart: session.scheduledStart ?? null,\n        actualStart: session.actualStart ?? null,\n        actualEnd: session.actualEnd ?? null,\n        isAudio: session.isAudio ?? false,\n        maxParticipants: session.maxParticipants ?? 100,\n        streamUrl: session.streamUrl ?? null,\n        thumbnailUrl: session.thumbnailUrl ?? null,\n        tags: session.tags ?? [],\n        currentViewers: 0,\n        totalViews: 0\n      })\n      .returning();\n    return result;\n  }\n\n  async getUserLiveSessions(userId: string): Promise<LiveSession[]> {\n    return await db()\n      .select()\n      .from(liveSessions)\n      .where(eq(liveSessions.userId, userId))\n      .orderBy(desc(liveSessions.createdAt));\n  }\n\n  async getAllLiveSessions(): Promise<LiveSession[]> {\n    return await db()\n      .select()\n      .from(liveSessions)\n      .orderBy(desc(liveSessions.createdAt));\n  }\n\n  async getLiveSessionById(id: string): Promise<LiveSession | undefined> {\n    const [session] = await db()\n      .select()\n      .from(liveSessions)\n      .where(eq(liveSessions.id, id));\n    return session || undefined;\n  }\n\n  async updateLiveSession(id: string, updates: Partial<LiveSession>): Promise<LiveSession> {\n    const cleanUpdates: any = {\n      updatedAt: new Date()\n    };\n    \n    // Only include fields that are explicitly provided\n    if ('title' in updates) cleanUpdates.title = updates.title;\n    if ('description' in updates) cleanUpdates.description = updates.description ?? null;\n    if ('category' in updates) cleanUpdates.category = updates.category;\n    if ('status' in updates) cleanUpdates.status = updates.status ?? null;\n    if ('scheduledStart' in updates) cleanUpdates.scheduledStart = updates.scheduledStart ?? null;\n    if ('actualStart' in updates) cleanUpdates.actualStart = updates.actualStart ?? null;\n    if ('actualEnd' in updates) cleanUpdates.actualEnd = updates.actualEnd ?? null;\n    if ('streamUrl' in updates) cleanUpdates.streamUrl = updates.streamUrl ?? null;\n    if ('thumbnailUrl' in updates) cleanUpdates.thumbnailUrl = updates.thumbnailUrl ?? null;\n    if ('tags' in updates) cleanUpdates.tags = updates.tags ?? [];\n    if ('isAudio' in updates) cleanUpdates.isAudio = updates.isAudio as boolean;\n    if ('maxParticipants' in updates) cleanUpdates.maxParticipants = updates.maxParticipants as number;\n    const [session] = await db()\n      .update(liveSessions)\n      .set(cleanUpdates)\n      .where(eq(liveSessions.id, id))\n      .returning();\n    return session;\n  }\n\n  async deleteLiveSession(id: string): Promise<void> {\n    await db()\n      .delete(liveSessions)\n      .where(eq(liveSessions.id, id));\n  }\n\n  async startLiveSession(id: string): Promise<LiveSession> {\n    const [session] = await db()\n      .update(liveSessions)\n      .set({ \n        status: 'live', \n        actualStart: new Date(),\n        updatedAt: new Date()\n      })\n      .where(eq(liveSessions.id, id))\n      .returning();\n    return session;\n  }\n\n  async endLiveSession(id: string): Promise<LiveSession> {\n    const [session] = await db()\n      .update(liveSessions)\n      .set({ \n        status: 'ended', \n        actualEnd: new Date(),\n        updatedAt: new Date()\n      })\n      .where(eq(liveSessions.id, id))\n      .returning();\n    return session;\n  }\n\n  async incrementSessionViewers(id: string): Promise<void> {\n    await db()\n      .update(liveSessions)\n      .set({ \n        currentViewers: sql`${liveSessions.currentViewers} + 1`,\n        totalViews: sql`${liveSessions.totalViews} + 1`,\n        updatedAt: new Date()\n      })\n      .where(eq(liveSessions.id, id));\n  }\n\n  // Search documents implementation\n  async createSearchDoc(insertDoc: InsertSearchDoc): Promise<SearchDoc> {\n    const [doc] = await db().insert(searchDocs).values(insertDoc).returning();\n    return doc;\n  }\n\n  async getAllSearchDocs(): Promise<SearchDoc[]> {\n    return db().select().from(searchDocs).orderBy(desc(searchDocs.createdAt));\n  }\n\n  async searchDocs(query: string, limit: number = 10): Promise<SearchDoc[]> {\n    const searchTerms = query.toLowerCase().split(' ').filter(term => term.length > 2);\n    \n    if (searchTerms.length === 0) {\n      return db().select().from(searchDocs).limit(limit);\n    }\n\n    // Simple text search using ILIKE for title and content\n    const titleConditions = searchTerms.map(term => \n      sql`lower(${searchDocs.title}) LIKE ${'%' + term + '%'}`\n    );\n    const contentConditions = searchTerms.map(term => \n      sql`lower(${searchDocs.content}) LIKE ${'%' + term + '%'}`\n    );\n\n    return db()\n      .select()\n      .from(searchDocs)\n      .where(\n        sql`(${sql.join(titleConditions, sql` OR `)}) OR (${sql.join(contentConditions, sql` OR `)})`\n      )\n      .orderBy(desc(searchDocs.createdAt))\n      .limit(limit);\n  }\n\n  async updateSearchDoc(id: string, updates: Partial<SearchDoc>): Promise<SearchDoc> {\n    const cleanUpdates: any = {\n      updatedAt: new Date()\n    };\n    \n    if ('title' in updates) cleanUpdates.title = updates.title;\n    if ('content' in updates) cleanUpdates.content = updates.content;\n    if ('url' in updates) cleanUpdates.url = updates.url;\n    if ('tags' in updates) cleanUpdates.tags = updates.tags;\n    if ('source' in updates) cleanUpdates.source = updates.source;\n\n    const [doc] = await db()\n      .update(searchDocs)\n      .set(cleanUpdates)\n      .where(eq(searchDocs.id, id))\n      .returning();\n    \n    if (!doc) {\n      throw new Error('Search document not found');\n    }\n    \n    return doc;\n  }\n\n  async deleteSearchDoc(id: string): Promise<void> {\n    await db().delete(searchDocs).where(eq(searchDocs.id, id));\n  }\n\n  // Web snapshots implementation\n  async createWebSnapshot(insertSnapshot: InsertWebSnapshot): Promise<WebSnapshot> {\n    const [snapshot] = await db().insert(webSnapshots).values(insertSnapshot).returning();\n    return snapshot;\n  }\n\n  async getWebSnapshotByUrl(url: string): Promise<WebSnapshot | null> {\n    const [snapshot] = await db()\n      .select()\n      .from(webSnapshots)\n      .where(and(eq(webSnapshots.originalUrl, url), eq(webSnapshots.isActive, true)));\n    return snapshot || null;\n  }\n\n  async searchWebSnapshots(query: string, limit: number = 10): Promise<WebSnapshot[]> {\n    const searchTerms = query.toLowerCase().split(' ').filter(term => term.length > 2);\n    \n    if (searchTerms.length === 0) {\n      return db().select().from(webSnapshots).where(eq(webSnapshots.isActive, true)).limit(limit);\n    }\n\n    // Search in title, content, and summary\n    const titleConditions = searchTerms.map(term => \n      sql`lower(${webSnapshots.title}) LIKE ${'%' + term + '%'}`\n    );\n    const contentConditions = searchTerms.map(term => \n      sql`lower(${webSnapshots.content}) LIKE ${'%' + term + '%'}`\n    );\n    const summaryConditions = searchTerms.map(term => \n      sql`lower(${webSnapshots.summary}) LIKE ${'%' + term + '%'}`\n    );\n\n    return db()\n      .select()\n      .from(webSnapshots)\n      .where(\n        and(\n          eq(webSnapshots.isActive, true),\n          sql`(${sql.join(titleConditions, sql` OR `)}) OR (${sql.join(contentConditions, sql` OR `)}) OR (${sql.join(summaryConditions, sql` OR `)})`\n        )\n      )\n      .orderBy(desc(webSnapshots.lastAccessedAt))\n      .limit(limit);\n  }\n\n  async getActiveWebSnapshots(): Promise<WebSnapshot[]> {\n    return db()\n      .select()\n      .from(webSnapshots)\n      .where(eq(webSnapshots.isActive, true))\n      .orderBy(desc(webSnapshots.lastAccessedAt));\n  }\n\n  async updateWebSnapshot(id: string, updates: Partial<WebSnapshot>): Promise<WebSnapshot> {\n    const cleanUpdates: any = {\n      updatedAt: new Date()\n    };\n    \n    if ('title' in updates) cleanUpdates.title = updates.title;\n    if ('content' in updates) cleanUpdates.content = updates.content;\n    if ('summary' in updates) cleanUpdates.summary = updates.summary;\n    if ('domain' in updates) cleanUpdates.domain = updates.domain;\n    if ('searchQuery' in updates) cleanUpdates.searchQuery = updates.searchQuery;\n    if ('tags' in updates) cleanUpdates.tags = updates.tags;\n    if ('lastAccessedAt' in updates) cleanUpdates.lastAccessedAt = updates.lastAccessedAt;\n    if ('cacheExpiresAt' in updates) cleanUpdates.cacheExpiresAt = updates.cacheExpiresAt;\n    if ('isActive' in updates) cleanUpdates.isActive = updates.isActive;\n\n    const [snapshot] = await db()\n      .update(webSnapshots)\n      .set(cleanUpdates)\n      .where(eq(webSnapshots.id, id))\n      .returning();\n    \n    if (!snapshot) {\n      throw new Error('Web snapshot not found');\n    }\n    \n    return snapshot;\n  }\n\n  async deleteWebSnapshot(id: string): Promise<void> {\n    await db().delete(webSnapshots).where(eq(webSnapshots.id, id));\n  }\n\n  async cleanupExpiredSnapshots(): Promise<number> {\n    const result = await db()\n      .delete(webSnapshots)\n      .where(sql`${webSnapshots.cacheExpiresAt} < NOW()`)\n      .returning({ id: webSnapshots.id });\n    \n    return result.length;\n  }\n}\n\n// Mock storage for development when database is not available\nclass MockStorage implements IStorage {\n  private mockUsers = new Map<string, User>();\n  private mockTransactions = new Map<string, CoinTransaction[]>();\n  private mockLiveSessions = new Map<string, LiveSession[]>();\n  private mockCounselors = new Map<string, Counselor>();\n  private mockCrisisAlerts: CrisisAlert[] = [];\n\n  constructor() {\n    // Initialize with some sample users and coins for testing\n    this.mockUsers.set('773f9dcc-d68d-45a2-ac3f-1969d5846d7c', {\n      id: '773f9dcc-d68d-45a2-ac3f-1969d5846d7c',\n      username: 'testuser',\n      firstName: 'Test',\n      lastName: 'User',\n      email: 'test@example.com',\n      anonymousName: 'GentleButterfly42',\n      institution: 'Test University',\n      course: 'Computer Science',\n      year: 3,\n      language: 'en',\n      isAdmin: false,\n      coins: 50, // Start with 50 coins for testing\n      password: 'hashed',\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    });\n\n    // Add some sample transactions\n    this.mockTransactions.set('773f9dcc-d68d-45a2-ac3f-1969d5846d7c', [\n      {\n        id: 'tx-1',\n        userId: '773f9dcc-d68d-45a2-ac3f-1969d5846d7c',\n        amount: 15,\n        type: 'profile_completion',\n        description: 'Completed your profile',\n        relatedEntityId: null,\n        createdAt: new Date(Date.now() - 24 * 60 * 60 * 1000), // 1 day ago\n      },\n      {\n        id: 'tx-2',\n        userId: '773f9dcc-d68d-45a2-ac3f-1969d5846d7c',\n        amount: 10,\n        type: 'screening_completed',\n        description: 'Completed PHQ-9 screening assessment',\n        relatedEntityId: null,\n        createdAt: new Date(Date.now() - 12 * 60 * 60 * 1000), // 12 hours ago\n      },\n      {\n        id: 'tx-3',\n        userId: '773f9dcc-d68d-45a2-ac3f-1969d5846d7c',\n        amount: 5,\n        type: 'chat_session',\n        description: 'Chat session with AI assistant',\n        relatedEntityId: null,\n        createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000), // 2 hours ago\n      },\n      {\n        id: 'tx-4',\n        userId: '773f9dcc-d68d-45a2-ac3f-1969d5846d7c',\n        amount: 3,\n        type: 'mood_entry',\n        description: 'Daily mood tracking entry',\n        relatedEntityId: null,\n        createdAt: new Date(Date.now() - 1 * 60 * 60 * 1000), // 1 hour ago\n      },\n      {\n        id: 'tx-5',\n        userId: '773f9dcc-d68d-45a2-ac3f-1969d5846d7c',\n        amount: 2,\n        type: 'daily_login',\n        description: 'Daily login bonus',\n        relatedEntityId: null,\n        createdAt: new Date(Date.now() - 30 * 60 * 1000), // 30 minutes ago\n      }\n    ]);\n\n    // Add sample counselors with proper UUIDs for phone consultation testing\n    const counselorsData = [\n      {\n        id: 'c1a1b2c3-d4e5-f6a7-b8c9-d0e1f2a3b4c5',\n        name: 'Dr. Priya Sharma',\n        specialization: 'Psychiatrist',\n        languages: ['English', 'Hindi', 'Bengali'],\n        experience: 8,\n        rating: 48, // 4.8 * 10\n        isAvailable: true,\n        availableSlots: ['10:00 AM', '2:00 PM', '4:30 PM']\n      },\n      {\n        id: 'c2b2c3d4-e5f6-a7b8-c9d0-e1f2a3b4c5d6',\n        name: 'Dr. Rajesh Kumar',\n        specialization: 'Clinical Psychologist',\n        languages: ['English', 'Hindi', 'Tamil'],\n        experience: 12,\n        rating: 49, // 4.9 * 10\n        isAvailable: true,\n        availableSlots: ['9:00 AM', '11:30 AM', '3:00 PM']\n      },\n      {\n        id: 'c3c3d4e5-f6a7-b8c9-d0e1-f2a3b4c5d6e7',\n        name: 'Dr. Anita Desai',\n        specialization: 'Psychiatrist',\n        languages: ['English', 'Hindi', 'Gujarati'],\n        experience: 15,\n        rating: 47, // 4.7 * 10\n        isAvailable: true,\n        availableSlots: ['1:00 PM', '3:30 PM', '5:00 PM']\n      }\n    ];\n\n    counselorsData.forEach(counselor => {\n      this.mockCounselors.set(counselor.id, counselor as Counselor);\n    });\n  }\n\n  async addCoins(userId: string, amount: number, type: string, description: string, relatedEntityId?: string): Promise<CoinTransaction> {\n    const transaction: CoinTransaction = {\n      id: `tx-${Date.now()}`,\n      userId,\n      amount,\n      type,\n      description,\n      relatedEntityId: relatedEntityId || null,\n      createdAt: new Date(),\n    };\n\n    if (!this.mockTransactions.has(userId)) {\n      this.mockTransactions.set(userId, []);\n    }\n    this.mockTransactions.get(userId)!.push(transaction);\n\n    // Update user's coin balance\n    const user = this.mockUsers.get(userId);\n    if (user) {\n      user.coins = (user.coins || 0) + amount;\n    }\n\n    return transaction;\n  }\n\n  async getUserCoinTransactions(userId: string, limit: number = 50): Promise<CoinTransaction[]> {\n    const transactions = this.mockTransactions.get(userId) || [];\n    return transactions.slice(0, limit);\n  }\n\n  async getUserCoinBalance(userId: string): Promise<number> {\n    const user = this.mockUsers.get(userId);\n    return user?.coins || 0;\n  }\n\n  // Add mock implementations for all other methods to avoid errors\n  async getUser(id: string): Promise<User | undefined> {\n    return this.mockUsers.get(id);\n  }\n\n  async updateUser(id: string, updates: Partial<User>): Promise<User> {\n    const user = this.mockUsers.get(id);\n    if (user) {\n      Object.assign(user, updates);\n      return user;\n    }\n    throw new Error('User not found');\n  }\n\n  // Stub implementations for other methods\n  async getUserByUsername(username: string): Promise<User | undefined> { return undefined; }\n  async getUserByEmail(email: string): Promise<User | undefined> { return undefined; }\n  async createUser(user: InsertUser): Promise<User> { throw new Error('Not implemented in mock'); }\n  async createScreeningAssessment(assessment: InsertScreeningAssessment): Promise<ScreeningAssessment> { throw new Error('Not implemented in mock'); }\n  async getUserScreeningHistory(userId: string, type?: string): Promise<ScreeningAssessment[]> { return []; }\n  async getLatestScreening(userId: string, type: string): Promise<ScreeningAssessment | undefined> { return undefined; }\n  async createAppointment(appointment: InsertAppointment): Promise<Appointment> { throw new Error('Not implemented in mock'); }\n  async getUserAppointments(userId: string): Promise<Appointment[]> { return []; }\n  async getCounselorAppointments(counselorId: string): Promise<Appointment[]> { return []; }\n  async updateAppointmentStatus(id: string, status: string): Promise<Appointment> { throw new Error('Not implemented in mock'); }\n  async getCounselors(): Promise<Counselor[]> { \n    return Array.from(this.mockCounselors.values()).filter(counselor => counselor.isAvailable);\n  }\n  async createForumPost(post: InsertForumPost): Promise<ForumPost> { throw new Error('Not implemented in mock'); }\n  async getForumPosts(category?: string): Promise<ForumPost[]> { return []; }\n  async getForumPostWithReplies(postId: string): Promise<ForumPost & { replies: ForumReply[] }> { throw new Error('Not implemented in mock'); }\n  async createForumReply(reply: InsertForumReply): Promise<ForumReply> { throw new Error('Not implemented in mock'); }\n  async likeForumPost(postId: string): Promise<void> { }\n  async flagForumPost(postId: string): Promise<void> { }\n  async getResources(category?: string, language?: string): Promise<Resource[]> { return []; }\n  async getResourceById(id: string): Promise<Resource | undefined> { return undefined; }\n  async createResource(resource: InsertResource): Promise<Resource> { throw new Error('Not implemented in mock'); }\n  async createResourcesBulk(resources: InsertResource[]): Promise<Resource[]> { return []; }\n  async likeResource(id: string): Promise<void> { }\n  async createMoodEntry(mood: InsertMoodEntry): Promise<MoodEntry> { throw new Error('Not implemented in mock'); }\n  async getUserMoodHistory(userId: string, days?: number): Promise<MoodEntry[]> { return []; }\n  async createCrisisAlert(alert: InsertCrisisAlert): Promise<CrisisAlert> {\n    const mockAlert: CrisisAlert = {\n      id: randomUUID(),\n      userId: alert.userId,\n      triggerType: alert.triggerType,\n      severity: alert.severity,\n      isResolved: false,\n      resolvedBy: null,\n      notes: alert.notes || null,\n      createdAt: new Date(),\n      resolvedAt: null,\n    };\n    this.mockCrisisAlerts.push(mockAlert);\n    return mockAlert;\n  }\n  async getActiveCrisisAlerts(): Promise<CrisisAlert[]> { \n    return this.mockCrisisAlerts.filter(alert => !alert.isResolved); \n  }\n  async resolveCrisisAlert(id: string, resolvedBy: string, notes?: string): Promise<CrisisAlert> {\n    const alertIndex = this.mockCrisisAlerts.findIndex(alert => alert.id === id);\n    if (alertIndex === -1) {\n      throw new Error('Crisis alert not found');\n    }\n    \n    const updatedAlert = {\n      ...this.mockCrisisAlerts[alertIndex],\n      isResolved: true,\n      resolvedBy,\n      notes: notes || this.mockCrisisAlerts[alertIndex].notes,\n      resolvedAt: new Date(),\n    };\n    \n    this.mockCrisisAlerts[alertIndex] = updatedAlert;\n    return updatedAlert;\n  }\n  async createChatSession(userId: string): Promise<ChatSession> { throw new Error('Not implemented in mock'); }\n  async updateChatSession(id: string, messages: any[]): Promise<ChatSession> { throw new Error('Not implemented in mock'); }\n  async getChatSession(id: string): Promise<ChatSession | undefined> { return undefined; }\n  async createCustomPersonality(personality: InsertCustomPersonality): Promise<CustomPersonality> { throw new Error('Not implemented in mock'); }\n  async getUserCustomPersonalities(userId: string): Promise<CustomPersonality[]> { return []; }\n  async updateCustomPersonality(id: string, updates: Partial<CustomPersonality>): Promise<CustomPersonality> { throw new Error('Not implemented in mock'); }\n  async deleteCustomPersonality(id: string, userId: string): Promise<void> { }\n  async getAnalytics(): Promise<any> { return {}; }\n\n  // Medicine alarm implementations\n  private mockMedicineAlarms = new Map<string, MedicineAlarm[]>();\n\n  async createMedicineAlarm(alarm: InsertMedicineAlarm): Promise<MedicineAlarm> {\n    const mockAlarm: MedicineAlarm = {\n      id: `alarm_${Date.now()}`,\n      ...alarm,\n      isActive: alarm.isActive ?? true,\n      notes: alarm.notes ?? null,\n      endDate: alarm.endDate ?? null,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    if (!this.mockMedicineAlarms.has(alarm.userId)) {\n      this.mockMedicineAlarms.set(alarm.userId, []);\n    }\n    \n    this.mockMedicineAlarms.get(alarm.userId)!.push(mockAlarm);\n    return mockAlarm;\n  }\n\n  async getUserMedicineAlarms(userId: string): Promise<MedicineAlarm[]> {\n    return this.mockMedicineAlarms.get(userId) || [];\n  }\n\n  async updateMedicineAlarm(id: string, updates: Partial<MedicineAlarm>): Promise<MedicineAlarm> {\n    for (const alarms of Array.from(this.mockMedicineAlarms.values())) {\n      const alarm = alarms.find(a => a.id === id);\n      if (alarm) {\n        Object.assign(alarm, updates, { updatedAt: new Date() });\n        return alarm;\n      }\n    }\n    throw new Error('Medicine alarm not found');\n  }\n\n  async deleteMedicineAlarm(id: string): Promise<void> {\n    for (const [userId, alarms] of Array.from(this.mockMedicineAlarms.entries())) {\n      const index = alarms.findIndex(a => a.id === id);\n      if (index !== -1) {\n        alarms.splice(index, 1);\n        return;\n      }\n    }\n    throw new Error('Medicine alarm not found');\n  }\n\n  // Skills mock implementations\n  private mockUserSkills = new Map<string, UserSkill[]>();\n  private mockSkillShowcases = new Map<string, SkillShowcase[]>();\n  private mockSkillEndorsements = new Map<string, SkillEndorsement[]>();\n\n  async createUserSkill(skill: InsertUserSkill): Promise<UserSkill> {\n    const mockSkill: UserSkill = {\n      id: `skill_${Date.now()}`,\n      ...skill,\n      description: skill.description ?? null,\n      yearsOfExperience: skill.yearsOfExperience ?? null,\n      endorsements: 0,\n      isVerified: false,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    if (!this.mockUserSkills.has(skill.userId)) {\n      this.mockUserSkills.set(skill.userId, []);\n    }\n    \n    this.mockUserSkills.get(skill.userId)!.push(mockSkill);\n    return mockSkill;\n  }\n\n  async getUserSkills(userId: string): Promise<UserSkill[]> {\n    return this.mockUserSkills.get(userId) || [];\n  }\n\n  async updateUserSkill(id: string, updates: Partial<UserSkill>): Promise<UserSkill> {\n    for (const skills of Array.from(this.mockUserSkills.values())) {\n      const skill = skills.find(s => s.id === id);\n      if (skill) {\n        Object.assign(skill, updates, { updatedAt: new Date() });\n        return skill;\n      }\n    }\n    throw new Error('Skill not found');\n  }\n\n  async deleteUserSkill(id: string): Promise<void> {\n    for (const [userId, skills] of Array.from(this.mockUserSkills.entries())) {\n      const index = skills.findIndex(s => s.id === id);\n      if (index !== -1) {\n        skills.splice(index, 1);\n        return;\n      }\n    }\n    throw new Error('Skill not found');\n  }\n\n  async createSkillShowcase(showcase: InsertSkillShowcase): Promise<SkillShowcase> {\n    const mockShowcase: SkillShowcase = {\n      id: `showcase_${Date.now()}`,\n      ...showcase,\n      mediaUrl: showcase.mediaUrl ?? null,\n      externalUrl: showcase.externalUrl ?? null,\n      tags: showcase.tags ?? [],\n      likes: 0,\n      views: 0,\n      isFeatured: false,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    if (!this.mockSkillShowcases.has(showcase.userId)) {\n      this.mockSkillShowcases.set(showcase.userId, []);\n    }\n    \n    this.mockSkillShowcases.get(showcase.userId)!.push(mockShowcase);\n    return mockShowcase;\n  }\n\n  async getUserSkillShowcases(userId: string): Promise<SkillShowcase[]> {\n    return this.mockSkillShowcases.get(userId) || [];\n  }\n\n  async getAllSkillShowcases(): Promise<SkillShowcase[]> {\n    const allShowcases = [];\n    for (const showcases of Array.from(this.mockSkillShowcases.values())) {\n      allShowcases.push(...showcases);\n    }\n    return allShowcases.sort((a, b) => (b.createdAt ? new Date(b.createdAt).getTime() : 0) - (a.createdAt ? new Date(a.createdAt).getTime() : 0));\n  }\n\n  async updateSkillShowcase(id: string, updates: Partial<SkillShowcase>): Promise<SkillShowcase> {\n    for (const showcases of Array.from(this.mockSkillShowcases.values())) {\n      const showcase = showcases.find(s => s.id === id);\n      if (showcase) {\n        Object.assign(showcase, updates, { updatedAt: new Date() });\n        return showcase;\n      }\n    }\n    throw new Error('Showcase not found');\n  }\n\n  async deleteSkillShowcase(id: string): Promise<void> {\n    for (const [userId, showcases] of Array.from(this.mockSkillShowcases.entries())) {\n      const index = showcases.findIndex(s => s.id === id);\n      if (index !== -1) {\n        showcases.splice(index, 1);\n        return;\n      }\n    }\n    throw new Error('Showcase not found');\n  }\n\n  async likeSkillShowcase(id: string): Promise<void> {\n    for (const showcases of Array.from(this.mockSkillShowcases.values())) {\n      const showcase = showcases.find(s => s.id === id);\n      if (showcase) {\n        showcase.likes = (showcase.likes || 0) + 1;\n        showcase.updatedAt = new Date();\n        return;\n      }\n    }\n    throw new Error('Showcase not found');\n  }\n\n  async createSkillEndorsement(endorsement: InsertSkillEndorsement): Promise<SkillEndorsement> {\n    const mockEndorsement: SkillEndorsement = {\n      id: `endorsement_${Date.now()}`,\n      ...endorsement,\n      comment: endorsement.comment ?? null,\n      createdAt: new Date(),\n    };\n\n    if (!this.mockSkillEndorsements.has(endorsement.skillId)) {\n      this.mockSkillEndorsements.set(endorsement.skillId, []);\n    }\n    \n    this.mockSkillEndorsements.get(endorsement.skillId)!.push(mockEndorsement);\n\n    // Update the skill's endorsement count\n    for (const skills of Array.from(this.mockUserSkills.values())) {\n      const skill = skills.find(s => s.id === endorsement.skillId);\n      if (skill) {\n        skill.endorsements = (skill.endorsements || 0) + 1;\n        skill.updatedAt = new Date();\n        break;\n      }\n    }\n\n    return mockEndorsement;\n  }\n\n  // Live sessions methods\n  async createLiveSession(session: InsertLiveSession): Promise<LiveSession> {\n    const mockSession: LiveSession = {\n      id: `session_${Date.now()}`,\n      ...session,\n      status: session.status ?? 'scheduled',\n      scheduledStart: session.scheduledStart ?? null,\n      actualStart: session.actualStart ?? null,\n      actualEnd: session.actualEnd ?? null,\n      streamUrl: session.streamUrl ?? null,\n      thumbnailUrl: session.thumbnailUrl ?? null,\n      tags: session.tags ?? [],\n      isAudio: session.isAudio ?? false,\n      maxParticipants: session.maxParticipants ?? 100,\n      currentViewers: 0,\n      totalViews: 0,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    if (!this.mockLiveSessions.has(session.userId)) {\n      this.mockLiveSessions.set(session.userId, []);\n    }\n    \n    this.mockLiveSessions.get(session.userId)!.push(mockSession);\n    return mockSession;\n  }\n\n  async getUserLiveSessions(userId: string): Promise<LiveSession[]> {\n    return this.mockLiveSessions.get(userId) || [];\n  }\n\n  async getAllLiveSessions(): Promise<LiveSession[]> {\n    const allSessions = [];\n    for (const sessions of Array.from(this.mockLiveSessions.values())) {\n      allSessions.push(...sessions);\n    }\n    return allSessions.sort((a, b) => (b.createdAt ? new Date(b.createdAt).getTime() : 0) - (a.createdAt ? new Date(a.createdAt).getTime() : 0));\n  }\n\n  async getLiveSessionById(id: string): Promise<LiveSession | undefined> {\n    for (const sessions of Array.from(this.mockLiveSessions.values())) {\n      const session = sessions.find(s => s.id === id);\n      if (session) return session;\n    }\n    return undefined;\n  }\n\n  async updateLiveSession(id: string, updates: Partial<LiveSession>): Promise<LiveSession> {\n    for (const sessions of Array.from(this.mockLiveSessions.values())) {\n      const session = sessions.find(s => s.id === id);\n      if (session) {\n        Object.assign(session, updates, { updatedAt: new Date() });\n        return session;\n      }\n    }\n    throw new Error('Session not found');\n  }\n\n  async deleteLiveSession(id: string): Promise<void> {\n    for (const [userId, sessions] of Array.from(this.mockLiveSessions.entries())) {\n      const index = sessions.findIndex(s => s.id === id);\n      if (index !== -1) {\n        sessions.splice(index, 1);\n        return;\n      }\n    }\n    throw new Error('Session not found');\n  }\n\n  async startLiveSession(id: string): Promise<LiveSession> {\n    for (const sessions of Array.from(this.mockLiveSessions.values())) {\n      const session = sessions.find(s => s.id === id);\n      if (session) {\n        session.status = 'live';\n        session.actualStart = new Date();\n        session.updatedAt = new Date();\n        return session;\n      }\n    }\n    throw new Error('Session not found');\n  }\n\n  async endLiveSession(id: string): Promise<LiveSession> {\n    for (const sessions of Array.from(this.mockLiveSessions.values())) {\n      const session = sessions.find(s => s.id === id);\n      if (session) {\n        session.status = 'ended';\n        session.actualEnd = new Date();\n        session.updatedAt = new Date();\n        return session;\n      }\n    }\n    throw new Error('Session not found');\n  }\n\n  async incrementSessionViewers(id: string): Promise<void> {\n    for (const sessions of Array.from(this.mockLiveSessions.values())) {\n      const session = sessions.find(s => s.id === id);\n      if (session) {\n        session.currentViewers = (session.currentViewers || 0) + 1;\n        session.totalViews = (session.totalViews || 0) + 1;\n        session.updatedAt = new Date();\n        return;\n      }\n    }\n    throw new Error('Session not found');\n  }\n\n  // Search documents implementation for mock storage\n  private mockSearchDocs = new Map<string, SearchDoc>();\n\n  async createSearchDoc(insertDoc: InsertSearchDoc): Promise<SearchDoc> {\n    const id = randomUUID();\n    const now = new Date();\n    const doc: SearchDoc = {\n      id,\n      title: insertDoc.title,\n      content: insertDoc.content,\n      url: insertDoc.url || null,\n      tags: insertDoc.tags || [],\n      source: insertDoc.source || 'curated',\n      createdAt: now,\n      updatedAt: now,\n    };\n    this.mockSearchDocs.set(id, doc);\n    return doc;\n  }\n\n  async getAllSearchDocs(): Promise<SearchDoc[]> {\n    return Array.from(this.mockSearchDocs.values())\n      .sort((a, b) => (b.createdAt?.getTime() || 0) - (a.createdAt?.getTime() || 0));\n  }\n\n  async searchDocs(query: string, limit: number = 10): Promise<SearchDoc[]> {\n    const searchTerms = query.toLowerCase().split(' ').filter(term => term.length > 2);\n    \n    if (searchTerms.length === 0) {\n      return this.getAllSearchDocs().then(docs => docs.slice(0, limit));\n    }\n\n    const allDocs = Array.from(this.mockSearchDocs.values());\n    const matchingDocs = allDocs.filter(doc => {\n      const titleLower = doc.title.toLowerCase();\n      const contentLower = doc.content.toLowerCase();\n      \n      return searchTerms.some(term => \n        titleLower.includes(term) || contentLower.includes(term)\n      );\n    });\n\n    return matchingDocs\n      .sort((a, b) => (b.createdAt?.getTime() || 0) - (a.createdAt?.getTime() || 0))\n      .slice(0, limit);\n  }\n\n  async updateSearchDoc(id: string, updates: Partial<SearchDoc>): Promise<SearchDoc> {\n    const doc = this.mockSearchDocs.get(id);\n    if (!doc) {\n      throw new Error('Search document not found');\n    }\n\n    const updatedDoc: SearchDoc = {\n      ...doc,\n      ...updates,\n      id: doc.id, // Preserve ID\n      createdAt: doc.createdAt, // Preserve creation date\n      updatedAt: new Date(),\n    };\n\n    this.mockSearchDocs.set(id, updatedDoc);\n    return updatedDoc;\n  }\n\n  async deleteSearchDoc(id: string): Promise<void> {\n    this.mockSearchDocs.delete(id);\n  }\n\n  // Web snapshots implementation for mock storage\n  private mockWebSnapshots = new Map<string, WebSnapshot>();\n\n  async createWebSnapshot(insertSnapshot: InsertWebSnapshot): Promise<WebSnapshot> {\n    const id = randomUUID();\n    const now = new Date();\n    const snapshot: WebSnapshot = {\n      id,\n      originalUrl: insertSnapshot.originalUrl,\n      title: insertSnapshot.title,\n      content: insertSnapshot.content,\n      summary: insertSnapshot.summary || null,\n      domain: insertSnapshot.domain,\n      searchQuery: insertSnapshot.searchQuery || null,\n      tags: insertSnapshot.tags || [],\n      lastAccessedAt: now,\n      cacheExpiresAt: insertSnapshot.cacheExpiresAt,\n      isActive: insertSnapshot.isActive !== undefined ? insertSnapshot.isActive : true,\n      createdAt: now,\n      updatedAt: now,\n    };\n    this.mockWebSnapshots.set(id, snapshot);\n    return snapshot;\n  }\n\n  async getWebSnapshotByUrl(url: string): Promise<WebSnapshot | null> {\n    const allSnapshots = Array.from(this.mockWebSnapshots.values());\n    const snapshot = allSnapshots.find(s => s.originalUrl === url && s.isActive);\n    return snapshot || null;\n  }\n\n  async searchWebSnapshots(query: string, limit: number = 10): Promise<WebSnapshot[]> {\n    const searchTerms = query.toLowerCase().split(' ').filter(term => term.length > 2);\n    \n    if (searchTerms.length === 0) {\n      return Array.from(this.mockWebSnapshots.values())\n        .filter(s => s.isActive)\n        .sort((a, b) => (b.lastAccessedAt?.getTime() || 0) - (a.lastAccessedAt?.getTime() || 0))\n        .slice(0, limit);\n    }\n\n    const allSnapshots = Array.from(this.mockWebSnapshots.values()).filter(s => s.isActive);\n    const matchingSnapshots = allSnapshots.filter(snapshot => {\n      const titleLower = snapshot.title.toLowerCase();\n      const contentLower = snapshot.content.toLowerCase();\n      const summaryLower = (snapshot.summary || '').toLowerCase();\n      \n      return searchTerms.some(term => \n        titleLower.includes(term) || contentLower.includes(term) || summaryLower.includes(term)\n      );\n    });\n\n    return matchingSnapshots\n      .sort((a, b) => (b.lastAccessedAt?.getTime() || 0) - (a.lastAccessedAt?.getTime() || 0))\n      .slice(0, limit);\n  }\n\n  async getActiveWebSnapshots(): Promise<WebSnapshot[]> {\n    return Array.from(this.mockWebSnapshots.values())\n      .filter(s => s.isActive)\n      .sort((a, b) => (b.lastAccessedAt?.getTime() || 0) - (a.lastAccessedAt?.getTime() || 0));\n  }\n\n  async updateWebSnapshot(id: string, updates: Partial<WebSnapshot>): Promise<WebSnapshot> {\n    const snapshot = this.mockWebSnapshots.get(id);\n    if (!snapshot) {\n      throw new Error('Web snapshot not found');\n    }\n\n    const updatedSnapshot: WebSnapshot = {\n      ...snapshot,\n      ...updates,\n      id: snapshot.id, // Preserve ID\n      createdAt: snapshot.createdAt, // Preserve creation date\n      updatedAt: new Date(),\n    };\n\n    this.mockWebSnapshots.set(id, updatedSnapshot);\n    return updatedSnapshot;\n  }\n\n  async deleteWebSnapshot(id: string): Promise<void> {\n    this.mockWebSnapshots.delete(id);\n  }\n\n  async cleanupExpiredSnapshots(): Promise<number> {\n    const now = new Date();\n    let deletedCount = 0;\n    \n    for (const [id, snapshot] of this.mockWebSnapshots.entries()) {\n      if (snapshot.cacheExpiresAt <= now) {\n        this.mockWebSnapshots.delete(id);\n        deletedCount++;\n      }\n    }\n    \n    return deletedCount;\n  }\n}\n\n// Initialize storage - prioritize database when available\nasync function initializeStorage(): Promise<IStorage> {\n  let storage: IStorage;\n  \n  if (process.env.DATABASE_URL) {\n    try {\n      \n      // Test database connection\n      const testStorage = new DatabaseStorage();\n      \n      // Perform a simple connection test\n      try {\n        await db().execute(sql`SELECT 1 as test`);\n        storage = testStorage;\n      } catch (connectionError) {\n        console.error('❌ PostgreSQL connection failed:', connectionError);\n        storage = new MockStorage();\n      }\n    } catch (initError) {\n      console.error('❌ DatabaseStorage initialization failed:', initError);\n      storage = new MockStorage();\n    }\n  } else {\n    storage = new MockStorage();\n  }\n  \n  // Seed initial mental health resources if none exist\n  await seedInitialResources(storage);\n  \n  return storage;\n}\n\n// Seed initial mental health resources for offline capabilities\nasync function seedInitialResources(storage: IStorage): Promise<void> {\n  try {\n    const existingDocs = await storage.getAllSearchDocs();\n    \n    if (existingDocs.length === 0) {\n      \n      // Import seed data\n      const { mentalHealthSeedData } = await import('./seed-data');\n      \n      // Add each resource\n      for (const resource of mentalHealthSeedData) {\n        await storage.createSearchDoc(resource);\n      }\n      \n    } else {\n    }\n  } catch (error) {\n    console.error(\"❌ Error seeding mental health resources:\", error);\n    // Don't throw - allow app to continue even if seeding fails\n  }\n}\n\n// Initialize storage asynchronously\nlet storage: IStorage = new MockStorage(); // Default fallback\ninitializeStorage().then(initializedStorage => {\n  storage = initializedStorage;\n}).catch(error => {\n  console.error('Storage initialization error:', error);\n  storage = new MockStorage();\n});\n\nexport { storage };\n","size_bytes":63064},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { \n  pgTable, \n  text, \n  varchar, \n  integer, \n  boolean, \n  timestamp, \n  jsonb,\n  serial,\n  uuid,\n  pgEnum,\n  check,\n  index\n} from \"drizzle-orm/pg-core\";\nimport { relations } from \"drizzle-orm\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Payment status enum\nexport const paymentStatusEnum = pgEnum(\"payment_status\", [\n  \"pending\",\n  \"processing\", \n  \"completed\",\n  \"failed\",\n  \"refunded\"\n]);\n\n// Users table\nexport const users = pgTable(\"users\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  firstName: text(\"first_name\").notNull(),\n  lastName: text(\"last_name\").notNull(),\n  email: text(\"email\").notNull().unique(),\n  anonymousName: text(\"anonymous_name\"), // Random unique name for user privacy\n  institution: text(\"institution\").notNull(),\n  course: text(\"course\"),\n  year: integer(\"year\"),\n  language: text(\"language\").default(\"en\"),\n  isAdmin: boolean(\"is_admin\").default(false),\n  coins: integer(\"coins\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Screening assessments\nexport const screeningAssessments = pgTable(\"screening_assessments\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  type: text(\"type\").notNull(), // 'PHQ9' or 'GAD7'\n  responses: jsonb(\"responses\").notNull(), // Array of numeric responses\n  totalScore: integer(\"total_score\").notNull(),\n  riskLevel: text(\"risk_level\").notNull(), // 'minimal', 'mild', 'moderate', 'severe'\n  isHighRisk: boolean(\"is_high_risk\").default(false),\n  completedAt: timestamp(\"completed_at\").defaultNow(),\n});\n\n// Chat sessions\nexport const chatSessions = pgTable(\"chat_sessions\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  messages: jsonb(\"messages\").default([]), // Array of message objects\n  startedAt: timestamp(\"started_at\").defaultNow(),\n  endedAt: timestamp(\"ended_at\"),\n  isActive: boolean(\"is_active\").default(true),\n});\n\n// Counselors\nexport const counselors = pgTable(\"counselors\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  specialization: text(\"specialization\").notNull(),\n  languages: jsonb(\"languages\").notNull(), // Array of language codes\n  experience: integer(\"experience_years\").notNull(),\n  rating: integer(\"rating\").default(0), // 1-5 stars * 10 for precision\n  isAvailable: boolean(\"is_available\").default(true),\n  availableSlots: jsonb(\"available_slots\").default([]), // Array of time slots\n});\n\n// Counseling appointments\nexport const appointments = pgTable(\"appointments\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  counselorId: uuid(\"counselor_id\").notNull().references(() => counselors.id),\n  sessionType: text(\"session_type\").notNull(), // 'individual', 'group', 'crisis'\n  consultationType: text(\"consultation_type\").notNull().default(\"video\"), // 'phone', 'video', 'inperson'\n  scheduledFor: timestamp(\"scheduled_for\").notNull(),\n  duration: integer(\"duration_minutes\").default(60),\n  status: text(\"status\").default(\"scheduled\"), // 'scheduled', 'completed', 'cancelled', 'no-show'\n  notes: text(\"notes\"),\n  isConfidential: boolean(\"is_confidential\").default(true),\n  // Payment fields\n  paymentStatus: paymentStatusEnum(\"payment_status\").default(\"pending\"),\n  paymentAmount: integer(\"payment_amount\").notNull(), // Amount in paise (INR)\n  paymentCurrency: text(\"payment_currency\").default(\"inr\"),\n  paymentIntentId: text(\"payment_intent_id\"), // Stripe payment intent ID\n  paidAt: timestamp(\"paid_at\"), // When payment was completed\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Forum posts\nexport const forumPosts = pgTable(\"forum_posts\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  category: text(\"category\").notNull(),\n  isAnonymous: boolean(\"is_anonymous\").default(true),\n  likes: integer(\"likes\").default(0),\n  isModerated: boolean(\"is_moderated\").default(false),\n  isFlagged: boolean(\"is_flagged\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Forum replies\nexport const forumReplies = pgTable(\"forum_replies\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  postId: uuid(\"post_id\").notNull().references(() => forumPosts.id, { onDelete: \"cascade\" }),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  content: text(\"content\").notNull(),\n  isAnonymous: boolean(\"is_anonymous\").default(true),\n  likes: integer(\"likes\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Resources\nexport const resources = pgTable(\"resources\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  title: text(\"title\").notNull(),\n  description: text(\"description\").notNull(),\n  type: text(\"type\").notNull(), // 'video', 'article', 'audio', 'guide'\n  category: text(\"category\").notNull(),\n  url: text(\"url\"),\n  content: text(\"content\"),\n  duration: integer(\"duration_minutes\"),\n  language: text(\"language\").default(\"en\"),\n  likes: integer(\"likes\").default(0),\n  isOfflineAvailable: boolean(\"is_offline_available\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Mood entries\nexport const moodEntries = pgTable(\"mood_entries\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  moodLevel: integer(\"mood_level\").notNull(), // 1-5 scale\n  moodType: text(\"mood_type\").notNull(), // 'happy', 'sad', 'anxious', 'stressed', 'calm'\n  notes: text(\"notes\"),\n  date: timestamp(\"date\").defaultNow(),\n});\n\n// Crisis alerts\nexport const crisisAlerts = pgTable(\"crisis_alerts\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  triggerType: text(\"trigger_type\").notNull(), // 'screening', 'chat', 'manual'\n  severity: text(\"severity\").notNull(), // 'high', 'critical'\n  isResolved: boolean(\"is_resolved\").default(false),\n  resolvedBy: uuid(\"resolved_by\").references(() => users.id),\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  resolvedAt: timestamp(\"resolved_at\"),\n});\n\n// Custom AI personalities\nexport const customPersonalities = pgTable(\"custom_personalities\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  name: text(\"name\").notNull(),\n  description: text(\"description\"),\n  customPrompt: text(\"custom_prompt\").notNull(),\n  sourceType: text(\"source_type\").notNull().default(\"text\"), // 'text', 'file'\n  originalFileName: text(\"original_file_name\"),\n  trainingData: text(\"training_data\"), // Processed text content\n  isActive: boolean(\"is_active\").default(true),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Coin transactions\nexport const coinTransactions = pgTable(\"coin_transactions\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  amount: integer(\"amount\").notNull(), // Can be positive (earned) or negative (spent)\n  type: text(\"type\").notNull(), // 'screening_completed', 'chat_session', 'daily_login', 'forum_post', 'mood_entry', 'profile_completion', 'spent'\n  description: text(\"description\").notNull(),\n  relatedEntityId: uuid(\"related_entity_id\"), // Reference to the related activity (e.g., screening ID)\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Medicine alarms\nexport const medicineAlarms = pgTable(\"medicine_alarms\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  medicineName: text(\"medicine_name\").notNull(),\n  dosage: text(\"dosage\").notNull(),\n  frequency: text(\"frequency\").notNull(), // 'daily', 'twice-daily', 'thrice-daily', 'weekly', 'custom'\n  times: jsonb(\"times\").notNull(), // Array of time strings like [\"08:00\", \"20:00\"]\n  startDate: timestamp(\"start_date\").notNull(),\n  endDate: timestamp(\"end_date\"),\n  isActive: boolean(\"is_active\").default(true),\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// User skills\nexport const userSkills = pgTable(\"user_skills\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  skillName: text(\"skill_name\").notNull(),\n  category: text(\"category\").notNull(), // 'technical', 'creative', 'academic', 'sports', 'other'\n  proficiencyLevel: text(\"proficiency_level\").notNull(), // 'beginner', 'intermediate', 'advanced', 'expert'\n  description: text(\"description\"),\n  yearsOfExperience: integer(\"years_of_experience\").default(0),\n  isVerified: boolean(\"is_verified\").default(false),\n  endorsements: integer(\"endorsements\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Skill showcases\nexport const skillShowcases = pgTable(\"skill_showcases\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  skillId: uuid(\"skill_id\").notNull().references(() => userSkills.id, { onDelete: \"cascade\" }),\n  title: text(\"title\").notNull(),\n  description: text(\"description\").notNull(),\n  type: text(\"type\").notNull(), // 'project', 'achievement', 'certificate', 'portfolio'\n  mediaUrl: text(\"media_url\"), // Link to images, videos, documents\n  externalUrl: text(\"external_url\"), // Link to project, repository, etc.\n  tags: jsonb(\"tags\").default([]), // Array of tags\n  likes: integer(\"likes\").default(0),\n  views: integer(\"views\").default(0),\n  isFeatured: boolean(\"is_featured\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Skill endorsements\nexport const skillEndorsements = pgTable(\"skill_endorsements\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  skillId: uuid(\"skill_id\").notNull().references(() => userSkills.id, { onDelete: \"cascade\" }),\n  endorserId: uuid(\"endorser_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  comment: text(\"comment\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Live sessions\nexport const liveSessions = pgTable(\"live_sessions\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: uuid(\"user_id\").notNull().references(() => users.id, { onDelete: \"cascade\" }),\n  title: text(\"title\").notNull(),\n  description: text(\"description\").notNull(),\n  category: text(\"category\").notNull(), // 'Meditation', 'Study', 'Support', 'Wellness', 'Education'\n  status: text(\"status\").default(\"scheduled\"), // 'scheduled', 'live', 'ended'\n  scheduledStart: timestamp(\"scheduled_start\"),\n  actualStart: timestamp(\"actual_start\"),\n  actualEnd: timestamp(\"actual_end\"),\n  isAudio: boolean(\"is_audio\").default(false), // true for audio-only, false for video\n  maxParticipants: integer(\"max_participants\").default(100),\n  currentViewers: integer(\"current_viewers\").default(0),\n  totalViews: integer(\"total_views\").default(0),\n  streamUrl: text(\"stream_url\"), // URL for the actual stream\n  thumbnailUrl: text(\"thumbnail_url\"),\n  tags: jsonb(\"tags\").default([]), // Array of tags\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Relations\nexport const usersRelations = relations(users, ({ many }) => ({\n  screeningAssessments: many(screeningAssessments),\n  chatSessions: many(chatSessions),\n  appointments: many(appointments),\n  forumPosts: many(forumPosts),\n  forumReplies: many(forumReplies),\n  moodEntries: many(moodEntries),\n  crisisAlerts: many(crisisAlerts),\n  customPersonalities: many(customPersonalities),\n  coinTransactions: many(coinTransactions),\n  medicineAlarms: many(medicineAlarms),\n  userSkills: many(userSkills),\n  skillShowcases: many(skillShowcases),\n  skillEndorsements: many(skillEndorsements),\n  liveSessions: many(liveSessions),\n}));\n\nexport const customPersonalitiesRelations = relations(customPersonalities, ({ one }) => ({\n  user: one(users, {\n    fields: [customPersonalities.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const screeningAssessmentsRelations = relations(screeningAssessments, ({ one }) => ({\n  user: one(users, {\n    fields: [screeningAssessments.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const appointmentsRelations = relations(appointments, ({ one }) => ({\n  user: one(users, {\n    fields: [appointments.userId],\n    references: [users.id],\n  }),\n  counselor: one(counselors, {\n    fields: [appointments.counselorId],\n    references: [counselors.id],\n  }),\n}));\n\nexport const forumPostsRelations = relations(forumPosts, ({ one, many }) => ({\n  user: one(users, {\n    fields: [forumPosts.userId],\n    references: [users.id],\n  }),\n  replies: many(forumReplies),\n}));\n\nexport const forumRepliesRelations = relations(forumReplies, ({ one }) => ({\n  post: one(forumPosts, {\n    fields: [forumReplies.postId],\n    references: [forumPosts.id],\n  }),\n  user: one(users, {\n    fields: [forumReplies.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const coinTransactionsRelations = relations(coinTransactions, ({ one }) => ({\n  user: one(users, {\n    fields: [coinTransactions.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const medicineAlarmsRelations = relations(medicineAlarms, ({ one }) => ({\n  user: one(users, {\n    fields: [medicineAlarms.userId],\n    references: [users.id],\n  }),\n}));\n\nexport const userSkillsRelations = relations(userSkills, ({ one, many }) => ({\n  user: one(users, {\n    fields: [userSkills.userId],\n    references: [users.id],\n  }),\n  showcases: many(skillShowcases),\n  endorsements: many(skillEndorsements),\n}));\n\nexport const skillShowcasesRelations = relations(skillShowcases, ({ one }) => ({\n  user: one(users, {\n    fields: [skillShowcases.userId],\n    references: [users.id],\n  }),\n  skill: one(userSkills, {\n    fields: [skillShowcases.skillId],\n    references: [userSkills.id],\n  }),\n}));\n\nexport const skillEndorsementsRelations = relations(skillEndorsements, ({ one }) => ({\n  skill: one(userSkills, {\n    fields: [skillEndorsements.skillId],\n    references: [userSkills.id],\n  }),\n  endorser: one(users, {\n    fields: [skillEndorsements.endorserId],\n    references: [users.id],\n  }),\n}));\n\nexport const liveSessionsRelations = relations(liveSessions, ({ one }) => ({\n  user: one(users, {\n    fields: [liveSessions.userId],\n    references: [users.id],\n  }),\n}));\n\n// Insert schemas\nexport const insertUserSchema = createInsertSchema(users).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertScreeningAssessmentSchema = createInsertSchema(screeningAssessments).omit({\n  id: true,\n  completedAt: true,\n  totalScore: true,\n  riskLevel: true,\n  isHighRisk: true,\n});\n\nexport const insertAppointmentSchema = createInsertSchema(appointments).omit({\n  id: true,\n  createdAt: true,\n  paymentStatus: true,\n  paymentIntentId: true,\n  paidAt: true,\n});\n\nexport const insertForumPostSchema = createInsertSchema(forumPosts).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n  likes: true,\n  isModerated: true,\n  isFlagged: true,\n});\n\nexport const insertForumReplySchema = createInsertSchema(forumReplies).omit({\n  id: true,\n  createdAt: true,\n  likes: true,\n});\n\nexport const insertMoodEntrySchema = createInsertSchema(moodEntries).omit({\n  id: true,\n  date: true,\n});\n\nexport const insertCrisisAlertSchema = createInsertSchema(crisisAlerts).omit({\n  id: true,\n  createdAt: true,\n  resolvedAt: true,\n});\n\nexport const insertCustomPersonalitySchema = createInsertSchema(customPersonalities).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertResourceSchema = createInsertSchema(resources).omit({\n  id: true,\n  createdAt: true,\n  likes: true,\n});\n\nexport const insertCoinTransactionSchema = createInsertSchema(coinTransactions).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertMedicineAlarmSchema = createInsertSchema(medicineAlarms).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertUserSkillSchema = createInsertSchema(userSkills).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n  endorsements: true,\n  isVerified: true,\n});\n\nexport const insertSkillShowcaseSchema = createInsertSchema(skillShowcases).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n  likes: true,\n  views: true,\n  isFeatured: true,\n});\n\nexport const insertSkillEndorsementSchema = createInsertSchema(skillEndorsements).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertLiveSessionSchema = createInsertSchema(liveSessions).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n  currentViewers: true,\n  totalViews: true,\n});\n\n// Search documents for offline knowledge search\nexport const searchDocs = pgTable(\"search_docs\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  url: text(\"url\"), // Optional URL if this was sourced from web\n  tags: jsonb(\"tags\").default([]), // Array of tag strings\n  source: text(\"source\").notNull().default(\"curated\"), // 'curated' or 'web'\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Web snapshots for offline internet search caching\nexport const webSnapshots = pgTable(\"web_snapshots\", {\n  id: uuid(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  originalUrl: text(\"original_url\").notNull(),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  summary: text(\"summary\"), // Brief summary of the content\n  domain: text(\"domain\").notNull(), // Domain of the source (e.g., \"reddit.com\")\n  searchQuery: text(\"search_query\"), // Original search query that led to this result\n  tags: jsonb(\"tags\").default([]).notNull(), // Array of tag strings\n  lastAccessedAt: timestamp(\"last_accessed_at\").defaultNow().notNull(),\n  cacheExpiresAt: timestamp(\"cache_expires_at\").notNull(),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull()\n}, (table) => ({\n  urlIndex: index().on(table.originalUrl),\n  domainIndex: index().on(table.domain),\n  queryIndex: index().on(table.searchQuery),\n  expiresIndex: index().on(table.cacheExpiresAt)\n}));\n\nexport const insertSearchDocSchema = createInsertSchema(searchDocs).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertWebSnapshotSchema = createInsertSchema(webSnapshots).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n  lastAccessedAt: true,\n});\n\n// Types\nexport type User = typeof users.$inferSelect;\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type ScreeningAssessment = typeof screeningAssessments.$inferSelect;\nexport type InsertScreeningAssessment = z.infer<typeof insertScreeningAssessmentSchema>;\nexport type Appointment = typeof appointments.$inferSelect;\nexport type InsertAppointment = z.infer<typeof insertAppointmentSchema>;\nexport type ForumPost = typeof forumPosts.$inferSelect;\nexport type InsertForumPost = z.infer<typeof insertForumPostSchema>;\nexport type ForumReply = typeof forumReplies.$inferSelect;\nexport type InsertForumReply = z.infer<typeof insertForumReplySchema>;\nexport type Resource = typeof resources.$inferSelect;\nexport type InsertResource = z.infer<typeof insertResourceSchema>;\nexport type MoodEntry = typeof moodEntries.$inferSelect;\nexport type InsertMoodEntry = z.infer<typeof insertMoodEntrySchema>;\nexport type CrisisAlert = typeof crisisAlerts.$inferSelect;\nexport type InsertCrisisAlert = z.infer<typeof insertCrisisAlertSchema>;\nexport type Counselor = typeof counselors.$inferSelect;\nexport type ChatSession = typeof chatSessions.$inferSelect;\nexport type CustomPersonality = typeof customPersonalities.$inferSelect;\nexport type InsertCustomPersonality = z.infer<typeof insertCustomPersonalitySchema>;\nexport type CoinTransaction = typeof coinTransactions.$inferSelect;\nexport type InsertCoinTransaction = z.infer<typeof insertCoinTransactionSchema>;\nexport type MedicineAlarm = typeof medicineAlarms.$inferSelect;\nexport type InsertMedicineAlarm = z.infer<typeof insertMedicineAlarmSchema>;\nexport type UserSkill = typeof userSkills.$inferSelect;\nexport type InsertUserSkill = z.infer<typeof insertUserSkillSchema>;\nexport type SkillShowcase = typeof skillShowcases.$inferSelect;\nexport type InsertSkillShowcase = z.infer<typeof insertSkillShowcaseSchema>;\nexport type SkillEndorsement = typeof skillEndorsements.$inferSelect;\nexport type InsertSkillEndorsement = z.infer<typeof insertSkillEndorsementSchema>;\nexport type LiveSession = typeof liveSessions.$inferSelect;\nexport type InsertLiveSession = z.infer<typeof insertLiveSessionSchema>;\nexport type SearchDoc = typeof searchDocs.$inferSelect;\nexport type InsertSearchDoc = z.infer<typeof insertSearchDocSchema>;\nexport type WebSnapshot = typeof webSnapshots.$inferSelect;\nexport type InsertWebSnapshot = z.infer<typeof insertWebSnapshotSchema>;\n","size_bytes":22000},"client/src/App.tsx":{"content":"import { Switch, Route, useLocation } from \"wouter\";\nimport { useState, useEffect } from \"react\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { AppProvider, useAppContext } from \"@/context/AppContext\";\nimport { useUsageAnalytics } from \"@/lib/usage-analytics\";\nimport { translationService } from \"@/lib/translation-service\";\nimport { Brain, User, Music, BookOpen, Video, MessageSquare, Gamepad2, Stethoscope, Play, Radio, Flower, Moon, Save, Phone, ChevronDown, ChevronRight, Pill, Heart, AlarmClock, X } from \"lucide-react\";\nimport logoUrl from '@assets/logo (1)_1758315813528.png';\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport Header from \"@/components/layout/header\";\nimport MotivationalQuote from \"@/components/layout/motivational-quote\";\nimport PageQuoteOverlay from \"@/components/layout/page-quote-overlay\";\nimport RoutineGenerator from \"@/components/wellness/routine-generator\";\nimport SleepCycleTool from \"@/components/wellness/sleep-cycle-tool\";\nimport QuickActionsFAB from \"@/components/quick-actions-fab\";\nimport OnboardingPopup from \"@/components/onboarding/onboarding-popup\";\nimport StartupPopup from \"@/components/startup-popup\";\nimport UserModePopup from \"@/components/user-mode-popup\";\nimport Landing from \"@/pages/landing\";\nimport Login from \"@/pages/login\";\nimport Dashboard from \"@/pages/dashboard\";\nimport Chat from \"@/pages/chat\";\nimport Screening from \"@/pages/screening\";\nimport Resources from \"@/pages/resources\";\nimport Community from \"@/pages/community\";\nimport Admin from \"@/pages/admin\";\nimport Profile from \"@/pages/profile\";\nimport PeerCalling from \"@/pages/peer-calling\";\nimport MusicPage from \"@/pages/music\";\nimport DiaryPage from \"@/pages/diary\";\nimport VideosPage from \"@/pages/videos\";\nimport Games from \"@/pages/games\";\nimport Doctor from \"@/pages/doctor\";\nimport Medicine from \"@/pages/medicine\";\nimport Entertainment from \"@/pages/entertainment\";\nimport Live from \"@/pages/live\";\nimport YogaPage from \"@/pages/yoga\";\nimport SleepPage from \"@/pages/sleep\";\nimport RoutinePage from \"@/pages/routine\";\nimport SavedContent from \"@/pages/saved\";\nimport MedicineAlarmPage from \"@/pages/medicine-alarm\";\nimport Showcase from \"@/pages/showcase\";\nimport ParentPortal from \"@/pages/parent-portal\";\nimport Privacy from \"@/pages/privacy\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  const { isAuthenticated, isOnboarding, showStartupPopup, isAuthLoading, completeOnboarding, closeStartupPopup, showQuoteOverlay, setShowQuoteOverlay, triggerQuoteOverlay } = useAppContext();\n  const [location, setLocation] = useLocation();\n  const { trackAction, trackPageDuration } = useUsageAnalytics();\n  \n  // Sidebar state for desktop navigation - default closed on mobile and profile page\n  const [sidebarOpen, setSidebarOpen] = useState(() => {\n    // Always start closed on mobile\n    if (typeof window !== 'undefined' && window.innerWidth < 768) {\n      return false;\n    }\n    // On desktop, close by default only on profile page\n    return location !== '/profile';\n  });\n  \n  // Dropdown states for navigation sections\n  const [dropdownStates, setDropdownStates] = useState({\n    doctorScreening: false,\n    wellness: false,\n    relaxRefresh: false,\n    community: false,\n    mySpace: false\n  });\n  \n  const toggleDropdown = (section: keyof typeof dropdownStates) => {\n    setDropdownStates(prev => ({\n      ...prev,\n      [section]: !prev[section]\n    }));\n  };\n\n  // Trigger quote overlay on location changes (except first load)\n  const [previousLocation, setPreviousLocation] = useState(location);\n  \n  useEffect(() => {\n    if (previousLocation !== location && isAuthenticated && !isOnboarding) {\n      triggerQuoteOverlay();\n    }\n    \n    // Close sidebar by default on profile page\n    if (location === '/profile' && previousLocation !== location) {\n      setSidebarOpen(false);\n    }\n    \n    setPreviousLocation(location);\n  }, [location, isAuthenticated, isOnboarding, triggerQuoteOverlay, previousLocation]);\n\n  // Track page usage analytics\n  useEffect(() => {\n    if (isAuthenticated && !isOnboarding) {\n      const startTime = Date.now();\n      trackAction('page_visit', location);\n\n      return () => {\n        const duration = (Date.now() - startTime) / 1000; // Convert to seconds\n        trackPageDuration(location, duration);\n      };\n    }\n  }, [location, isAuthenticated, isOnboarding, trackAction, trackPageDuration]);\n\n  // Auto-translate pages when location changes\n  useEffect(() => {\n    if (isAuthenticated && !isOnboarding) {\n      // Let the DOM settle and page load completely before checking translation\n      const timer = setTimeout(() => {\n        translationService.autoTranslateIfNeeded();\n      }, 800);\n\n      return () => clearTimeout(timer);\n    }\n  }, [location, isAuthenticated, isOnboarding]);\n\n  // Handle window resize for responsive sidebar behavior\n  useEffect(() => {\n    const handleResize = () => {\n      // Close sidebar on mobile when resizing to mobile view\n      if (window.innerWidth < 768 && sidebarOpen) {\n        setSidebarOpen(false);\n      }\n      // Open sidebar on desktop when resizing to desktop view (except on profile page)\n      else if (window.innerWidth >= 768 && !sidebarOpen && location !== '/profile') {\n        setSidebarOpen(true);\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [sidebarOpen, location]);\n\n  // Lock body scroll when mobile sidebar is open\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      if (sidebarOpen && window.innerWidth < 768) {\n        document.body.style.overflow = 'hidden';\n      } else {\n        document.body.style.overflow = '';\n      }\n    }\n\n    // Cleanup on unmount\n    return () => {\n      if (typeof window !== 'undefined') {\n        document.body.style.overflow = '';\n      }\n    };\n  }, [sidebarOpen]);\n\n  // Show loading spinner while checking authentication\n  if (isAuthLoading) {\n    return (\n      <div className=\"min-h-screen w-full flex items-center justify-center bg-background\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"w-8 h-8 border-4 border-primary/20 border-t-primary rounded-full animate-spin\"></div>\n          <p className=\"text-muted-foreground text-sm\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show startup popup first (if not seen before)\n  if (showStartupPopup && !isAuthenticated) {\n    return (\n      <>\n        <Switch>\n          <Route path=\"/parent-portal\" component={ParentPortal} />\n          <Route path=\"/privacy\" component={Privacy} />\n          <Route path=\"/login\" component={Login} />\n          <Route component={Landing} />\n        </Switch>\n        <StartupPopup \n          isOpen={showStartupPopup} \n          onClose={closeStartupPopup}\n        />\n      </>\n    );\n  }\n\n  // Show landing page if not authenticated\n  if (!isAuthenticated) {\n    return (\n      <Switch>\n        <Route path=\"/parent-portal\" component={ParentPortal} />\n        <Route path=\"/privacy\" component={Privacy} />\n        <Route path=\"/login\" component={Login} />\n        <Route component={Landing} />\n      </Switch>\n    );\n  }\n\n  // If authenticated user tries to access login page, redirect to home\n  if (isAuthenticated && !isOnboarding && location === '/login') {\n    setLocation('/');\n    return null; // Prevent rendering while redirecting\n  }\n\n  // Show main app with onboarding popup if needed\n  return (\n    <>\n      <div className=\"flex h-screen\">\n        {/* Mobile Overlay - Above background content but below sidebar */}\n        {sidebarOpen && (\n          <div \n            className=\"fixed inset-0 bg-black bg-opacity-50 z-[60] md:hidden transition-opacity duration-300 ease-in-out\"\n            onClick={() => setSidebarOpen(false)}\n            data-testid=\"overlay-mobile-menu\"\n          />\n        )}\n        \n        {/* Left Sidebar Navigation - Always rendered, mobile slides in from left */}\n        <div \n          id=\"mobile-sidebar\"\n          className={`${sidebarOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'} fixed top-0 bottom-0 md:top-0 left-0 z-[70] md:z-auto w-72 flex flex-col transform transition-transform duration-300 ease-in-out md:relative md:inset-y-auto md:left-auto`}\n        >\n          <div className=\"flex flex-col h-full bg-card border-r border-border shadow-lg md:shadow-none\">\n            {/* Logo and branding */}\n            <div className=\"flex items-center justify-between p-4 border-b border-border\">\n              <div className=\"flex items-center\">\n                <div className=\"w-10 h-10 rounded-lg flex items-center justify-center\">\n                  <img src={logoUrl} alt=\"ApnaMann Logo\" className=\"w-10 h-10 rounded-lg object-cover\" data-testid=\"img-logo-sidebar\" />\n                </div>\n                <div className=\"ml-3\">\n                  <h1 className=\"text-xl font-bold text-foreground\">ApnaMann</h1>\n                </div>\n              </div>\n              \n              {/* Close button for mobile */}\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setSidebarOpen(false)}\n                className=\"md:hidden hover:bg-accent\"\n                data-testid=\"button-close-sidebar\"\n              >\n                <X className=\"h-5 w-5\" />\n              </Button>\n            </div>\n            \n            {/* Navigation */}\n            <nav className=\"flex-1 p-4 space-y-3 overflow-y-auto\">\n              {/* Main Navigation Items */}\n              {[\n                { href: \"/\", label: \"Home\", icon: Brain, testId: \"nav-home\" },\n                { href: \"/chat\", label: \"Assistance\", icon: MessageSquare, testId: \"nav-ai-assistant\" },\n              ].map((item) => {\n                const IconComponent = item.icon;\n                return (\n                  <button\n                    key={item.href}\n                    onClick={() => {\n                      setLocation(item.href);\n                      // Close mobile menu when navigation item is clicked on mobile\n                      setSidebarOpen(false);\n                    }}\n                    className={cn(\n                      \"w-full text-left px-3 py-2 rounded-lg text-foreground hover:bg-accent hover:text-accent-foreground transition-colors flex items-center gap-3\",\n                      location === item.href && \"bg-accent text-accent-foreground font-medium\"\n                    )}\n                    data-testid={item.testId}\n                  >\n                    <IconComponent className=\"h-5 w-5\" />\n                    {item.label}\n                  </button>\n                );\n              })}\n              \n              {/* Doctor/Screening Section */}\n              <div className=\"pt-4 border-t border-border\">\n                <button\n                  onClick={() => toggleDropdown('doctorScreening')}\n                  className=\"w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors\"\n                >\n                  <span>Doctor/Screening</span>\n                  {dropdownStates.doctorScreening ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\n                </button>\n                {dropdownStates.doctorScreening && (\n                  <div className=\"space-y-1 mt-2\">\n                    {[\n                      { href: \"/doctor\", label: \"Doctor\", icon: Stethoscope, testId: \"nav-doctor\" },\n                      { href: \"/screening\", label: \"Screening\", icon: Brain, testId: \"nav-screening\" },\n                      { href: \"/medicine\", label: \"Medical Store\", icon: Pill, testId: \"nav-medicine\" },\n                      { href: \"/medicine-alarm\", label: \"Medicine Alarm\", icon: AlarmClock, testId: \"nav-medicine-alarm\" },\n                    ].map((item) => {\n                      const IconComponent = item.icon;\n                      return (\n                        <button\n                          key={item.href}\n                          onClick={() => {\n                            setLocation(item.href);\n                            // Close mobile menu when navigation item is clicked\n                            setSidebarOpen(false);\n                          }}\n                          className={cn(\n                            \"w-full text-left px-3 py-2 rounded-lg text-foreground hover:bg-accent hover:text-accent-foreground transition-colors flex items-center gap-3 ml-2\",\n                            location === item.href && \"bg-accent text-accent-foreground font-medium\"\n                          )}\n                          data-testid={item.testId}\n                        >\n                          <IconComponent className=\"h-4 w-4\" />\n                          {item.label}\n                        </button>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n\n              {/* Wellness Section */}\n              <div className=\"pt-4 border-t border-border\">\n                <button\n                  onClick={() => toggleDropdown('wellness')}\n                  className=\"w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors\"\n                >\n                  <span>Wellness</span>\n                  {dropdownStates.wellness ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\n                </button>\n                {dropdownStates.wellness && (\n                  <div className=\"space-y-1 mt-2\">\n                    {[\n                      { href: \"/yoga\", label: \"Yoga\", icon: Flower, testId: \"nav-yoga\" },\n                      { href: \"/sleep\", label: \"Sleep Cycle Guide\", icon: Moon, testId: \"nav-sleep-cycle\" },\n                      { href: \"/routine\", label: \"Routine Generator\", icon: Play, testId: \"nav-routine-generator\" },\n                    ].map((item) => {\n                      const IconComponent = item.icon;\n                      return (\n                        <button\n                          key={item.href}\n                          onClick={() => {\n                            setLocation(item.href);\n                            // Close mobile menu when navigation item is clicked\n                            setSidebarOpen(false);\n                          }}\n                          className={cn(\n                            \"w-full text-left px-3 py-2 rounded-lg text-foreground hover:bg-accent hover:text-accent-foreground transition-colors flex items-center gap-3 ml-2\",\n                            location === item.href && \"bg-accent text-accent-foreground font-medium\"\n                          )}\n                          data-testid={item.testId}\n                        >\n                          <IconComponent className=\"h-4 w-4\" />\n                          {item.label}\n                        </button>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n\n              {/* Relax & Refresh Section */}\n              <div className=\"pt-4 border-t border-border\">\n                <button\n                  onClick={() => toggleDropdown('relaxRefresh')}\n                  className=\"w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors\"\n                >\n                  <span>Relax & Refresh</span>\n                  {dropdownStates.relaxRefresh ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\n                </button>\n                {dropdownStates.relaxRefresh && (\n                  <div className=\"space-y-1 mt-2\">\n                    {[\n                      { href: \"/games\", label: \"Games\", icon: Gamepad2, testId: \"nav-games\" },\n                      { href: \"/music\", label: \"Mind Fresh Music\", icon: Music, testId: \"nav-music\" },\n                      { href: \"/videos\", label: \"Motivation Videos\", icon: Video, testId: \"nav-videos\" },\n                      { href: \"/live\", label: \"Live Sessions\", icon: Radio, testId: \"nav-live-sessions\" },\n                    ].map((item) => {\n                      const IconComponent = item.icon;\n                      return (\n                        <button\n                          key={item.href}\n                          onClick={() => {\n                            setLocation(item.href);\n                            // Close mobile menu when navigation item is clicked\n                            setSidebarOpen(false);\n                          }}\n                          className={cn(\n                            \"w-full text-left px-3 py-2 rounded-lg text-foreground hover:bg-accent hover:text-accent-foreground transition-colors flex items-center gap-3 ml-2\",\n                            location === item.href && \"bg-accent text-accent-foreground font-medium\"\n                          )}\n                          data-testid={item.testId}\n                        >\n                          <IconComponent className=\"h-4 w-4\" />\n                          {item.label}\n                        </button>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n\n              {/* Community Section */}\n              <div className=\"pt-4 border-t border-border\">\n                <button\n                  onClick={() => toggleDropdown('community')}\n                  className=\"w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors\"\n                >\n                  <span>Community</span>\n                  {dropdownStates.community ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\n                </button>\n                {dropdownStates.community && (\n                  <div className=\"space-y-1 mt-2\">\n                    {[\n                      { href: \"/resources\", label: \"Resources\", icon: BookOpen, testId: \"nav-resources\" },\n                      { href: \"/peer-calling\", label: \"Peer Call\", icon: Phone, testId: \"nav-peer-call\" },\n                      { href: \"/showcase\", label: \"Showcase\", icon: Play, testId: \"nav-showcase\" },\n                    ].map((item) => {\n                      const IconComponent = item.icon;\n                      return (\n                        <button\n                          key={item.href}\n                          onClick={() => {\n                            setLocation(item.href);\n                            // Close mobile menu when navigation item is clicked\n                            setSidebarOpen(false);\n                          }}\n                          className={cn(\n                            \"w-full text-left px-3 py-2 rounded-lg text-foreground hover:bg-accent hover:text-accent-foreground transition-colors flex items-center gap-3 ml-2\",\n                            location === item.href && \"bg-accent text-accent-foreground font-medium\"\n                          )}\n                          data-testid={item.testId}\n                        >\n                          <IconComponent className=\"h-4 w-4\" />\n                          {item.label}\n                        </button>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n\n              {/* My Space Section */}\n              <div className=\"pt-4 border-t border-border\">\n                <button\n                  onClick={() => toggleDropdown('mySpace')}\n                  className=\"w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors\"\n                >\n                  <span>My Space</span>\n                  {dropdownStates.mySpace ? <ChevronDown className=\"h-4 w-4\" /> : <ChevronRight className=\"h-4 w-4\" />}\n                </button>\n                {dropdownStates.mySpace && (\n                  <div className=\"space-y-1 mt-2\">\n                    {[\n                      { href: \"/diary\", label: \"My Diary\", icon: BookOpen, testId: \"nav-my-diary\" },\n                      { href: \"/saved\", label: \"Saved Content\", icon: Save, testId: \"nav-saved-content\" },\n                    ].map((item) => {\n                      const IconComponent = item.icon;\n                      return (\n                        <button\n                          key={item.href}\n                          onClick={() => {\n                            setLocation(item.href);\n                            // Close mobile menu when navigation item is clicked\n                            setSidebarOpen(false);\n                          }}\n                          className={cn(\n                            \"w-full text-left px-3 py-2 rounded-lg text-foreground hover:bg-accent hover:text-accent-foreground transition-colors flex items-center gap-3 ml-2\",\n                            location === item.href && \"bg-accent text-accent-foreground font-medium\"\n                          )}\n                          data-testid={item.testId}\n                        >\n                          <IconComponent className=\"h-4 w-4\" />\n                          {item.label}\n                        </button>\n                      );\n                    })}\n                  </div>\n                )}\n              </div>\n            </nav>\n            \n            {/* Motivational Quote */}\n            <div className=\"p-4\">\n              <MotivationalQuote />\n            </div>\n          </div>\n        </div>\n        \n        {/* Main content area */}\n        <div className=\"flex-1 flex flex-col overflow-hidden lg:ml-0\">\n          <Header sidebarOpen={sidebarOpen} setSidebarOpen={setSidebarOpen} />\n          <main className=\"flex-1 overflow-auto\">\n            <Switch>\n              <Route path=\"/\" component={Dashboard} />\n              <Route path=\"/chat\" component={Chat} />\n              <Route path=\"/screening\" component={Screening} />\n              <Route path=\"/games\" component={Games} />\n              <Route path=\"/music\" component={MusicPage} />\n              <Route path=\"/diary\" component={DiaryPage} />\n              <Route path=\"/videos\" component={VideosPage} />\n              <Route path=\"/resources\" component={Resources} />\n              <Route path=\"/community\" component={Community} />\n              <Route path=\"/peer-calling\" component={PeerCalling} />\n              <Route path=\"/showcase\" component={Showcase} />\n              <Route path=\"/doctor\" component={Doctor} />\n              <Route path=\"/medicine\" component={Medicine} />\n              <Route path=\"/entertainment\" component={Entertainment} />\n              <Route path=\"/live\" component={Live} />\n              <Route path=\"/yoga\" component={YogaPage} />\n              <Route path=\"/sleep\" component={SleepPage} />\n              <Route path=\"/routine\" component={RoutinePage} />\n              <Route path=\"/saved\" component={SavedContent} />\n              <Route path=\"/medicine-alarm\" component={MedicineAlarmPage} />\n              <Route path=\"/parent-portal\" component={ParentPortal} />\n              <Route path=\"/privacy\" component={Privacy} />\n              <Route path=\"/admin\" component={Admin} />\n              <Route path=\"/profile\" component={Profile} />\n              <Route component={NotFound} />\n            </Switch>\n          </main>\n        </div>\n      </div>\n      \n      <QuickActionsFAB />\n      <OnboardingPopup \n        isOpen={isOnboarding} \n        onComplete={completeOnboarding}\n      />\n      <UserModePopup />\n      <PageQuoteOverlay\n        isVisible={showQuoteOverlay}\n        onComplete={() => setShowQuoteOverlay(false)}\n      />\n    </>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <div className=\"min-h-screen bg-background\">\n          <AppProvider>\n            <Router />\n          </AppProvider>\n        </div>\n        <Toaster />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":24510},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  /* Professional Mental Health Theme */\n  --background: hsl(210 20% 98%);\n  --foreground: hsl(215 20% 25%);\n  --card: hsl(210 20% 97%);\n  --card-foreground: hsl(215 20% 25%);\n  --popover: hsl(210 20% 98%);\n  --popover-foreground: hsl(215 20% 25%);\n  --primary: hsl(210 50% 55%); /* Calming blue */\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(170 25% 85%); /* Soft teal background */\n  --secondary-foreground: hsl(170 50% 30%);\n  --muted: hsl(210 15% 92%); /* Subtle gray-blue */\n  --muted-foreground: hsl(215 15% 50%);\n  --accent: hsl(200 30% 80%); /* Gentle blue-gray */\n  --accent-foreground: hsl(200 50% 30%);\n  --wellness: hsl(150 30% 60%); /* Muted sage green */\n  --wellness-foreground: hsl(0 0% 100%);\n  --focus: hsl(240 30% 65%); /* Soft purple-gray */\n  --focus-foreground: hsl(240 50% 20%);\n  --calm: hsl(200 40% 75%); /* Calming blue */\n  --calm-foreground: hsl(200 60% 25%);\n  --hope: hsl(40 50% 70%); /* Warm but muted gold */\n  --hope-foreground: hsl(40 60% 25%);\n  --healing: hsl(300 20% 75%); /* Very soft lavender */\n  --healing-foreground: hsl(300 50% 25%);\n  --nature: hsl(120 25% 70%); /* Muted green */\n  --nature-foreground: hsl(120 50% 25%);\n  --destructive: hsl(35 45% 70%); /* Muted warm tone */\n  --destructive-foreground: hsl(35 60% 25%);\n  --border: hsl(200 20% 88%);\n  --input: hsl(210 40% 96%);\n  --ring: hsl(142 71% 45%);\n  --chart-1: hsl(142 71% 45%);\n  --chart-2: hsl(260 60% 65%);\n  --chart-3: hsl(45 90% 60%);\n  --chart-4: hsl(195 60% 65%);\n  --chart-5: hsl(320 30% 65%);\n  --sidebar: hsl(210 40% 96%);\n  --sidebar-foreground: hsl(220 13% 18%);\n  --sidebar-primary: hsl(142 71% 45%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(160 60% 90%);\n  --sidebar-accent-foreground: hsl(160 60% 25%);\n  --sidebar-border: hsl(200 20% 85%);\n  --sidebar-ring: hsl(142 71% 45%);\n  --font-sans: 'Inter', 'Segoe UI', system-ui, sans-serif;\n  --font-serif: 'Georgia', serif;\n  --font-mono: 'JetBrains Mono', 'Consolas', monospace;\n  --radius: 1rem;\n  --shadow-2xs: 0px 1px 2px 0px hsl(220 13% 18% / 0.05);\n  --shadow-xs: 0px 1px 3px 0px hsl(220 13% 18% / 0.1);\n  --shadow-sm: 0px 1px 2px 0px hsl(220 13% 18% / 0.05), 0px 2px 4px 0px hsl(220 13% 18% / 0.1);\n  --shadow: 0px 1px 3px 0px hsl(220 13% 18% / 0.1), 0px 4px 6px -1px hsl(220 13% 18% / 0.1);\n  --shadow-md: 0px 4px 6px -1px hsl(220 13% 18% / 0.1), 0px 10px 15px -3px hsl(220 13% 18% / 0.1);\n  --shadow-lg: 0px 10px 15px -3px hsl(220 13% 18% / 0.1), 0px 20px 25px -5px hsl(220 13% 18% / 0.1);\n  --shadow-xl: 0px 20px 25px -5px hsl(220 13% 18% / 0.1), 0px 25px 50px -12px hsl(220 13% 18% / 0.25);\n  --shadow-2xl: 0px 25px 50px -12px hsl(220 13% 18% / 0.25);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n}\n\n.dark {\n  /* Professional Dark Mode */\n  --background: hsl(215 25% 12%);\n  --foreground: hsl(210 15% 88%);\n  --card: hsl(215 25% 16%);\n  --card-foreground: hsl(210 15% 85%);\n  --popover: hsl(215 25% 12%);\n  --popover-foreground: hsl(210 15% 88%);\n  --primary: hsl(210 45% 55%); /* Calming blue for dark mode */\n  --primary-foreground: hsl(215 25% 12%);\n  --secondary: hsl(170 20% 20%);\n  --secondary-foreground: hsl(170 25% 75%);\n  --muted: hsl(215 20% 18%);\n  --muted-foreground: hsl(210 12% 65%);\n  --accent: hsl(200 25% 35%); /* Muted blue-gray */\n  --accent-foreground: hsl(200 40% 80%);\n  --wellness: hsl(150 25% 50%); /* Muted sage for dark */\n  --wellness-foreground: hsl(215 25% 12%);\n  --focus: hsl(240 25% 55%); /* Soft purple-gray */\n  --focus-foreground: hsl(240 40% 85%);\n  --calm: hsl(200 35% 45%); /* Calming blue */\n  --calm-foreground: hsl(200 50% 80%);\n  --hope: hsl(40 40% 60%); /* Warm but professional */\n  --hope-foreground: hsl(40 60% 20%);\n  --healing: hsl(300 15% 55%); /* Very soft lavender */\n  --healing-foreground: hsl(300 40% 80%);\n  --nature: hsl(120 20% 50%); /* Professional green */\n  --nature-foreground: hsl(120 35% 80%);\n  --destructive: hsl(35 40% 60%); /* Professional warm tone */\n  --destructive-foreground: hsl(35 50% 20%);\n  --border: hsl(220 20% 18%);\n  --input: hsl(220 27% 16%);\n  --ring: hsl(142 45% 58%);\n  --chart-1: hsl(142 45% 58%);\n  --chart-2: hsl(260 40% 65%);\n  --chart-3: hsl(45 60% 65%);\n  --chart-4: hsl(195 40% 55%);\n  --chart-5: hsl(320 25% 65%);\n  --sidebar: hsl(220 27% 12%);\n  --sidebar-foreground: hsl(210 15% 88%);\n  --sidebar-primary: hsl(142 45% 58%);\n  --sidebar-primary-foreground: hsl(220 27% 8%);\n  --sidebar-accent: hsl(220 27% 18%);\n  --sidebar-accent-foreground: hsl(142 45% 75%);\n  --sidebar-border: hsl(220 20% 22%);\n  --sidebar-ring: hsl(142 45% 58%);\n  --font-sans: 'Inter', 'Segoe UI', system-ui, sans-serif;\n  --font-serif: 'Georgia', serif;\n  --font-mono: 'JetBrains Mono', 'Consolas', monospace;\n  --radius: 1rem;\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.15);\n  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.2);\n  --shadow-sm: 0px 1px 2px 0px hsl(0 0% 0% / 0.15), 0px 2px 4px 0px hsl(0 0% 0% / 0.2);\n  --shadow: 0px 1px 3px 0px hsl(0 0% 0% / 0.2), 0px 4px 6px -1px hsl(0 0% 0% / 0.2);\n  --shadow-md: 0px 4px 6px -1px hsl(0 0% 0% / 0.2), 0px 10px 15px -3px hsl(0 0% 0% / 0.2);\n  --shadow-lg: 0px 10px 15px -3px hsl(0 0% 0% / 0.2), 0px 20px 25px -5px hsl(0 0% 0% / 0.2);\n  --shadow-xl: 0px 20px 25px -5px hsl(0 0% 0% / 0.2), 0px 25px 50px -12px hsl(0 0% 0% / 0.4);\n  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.4);\n}\n\n/* Ocean Theme - Deep blues and teals */\n.ocean {\n  --background: hsl(200 25% 8%);\n  --foreground: hsl(200 15% 90%);\n  --card: hsl(200 25% 12%);\n  --card-foreground: hsl(200 15% 85%);\n  --popover: hsl(200 25% 8%);\n  --popover-foreground: hsl(200 15% 90%);\n  --primary: hsl(186 100% 65%); /* Ocean cyan */\n  --primary-foreground: hsl(200 25% 8%);\n  --secondary: hsl(200 25% 16%);\n  --secondary-foreground: hsl(200 15% 80%);\n  --muted: hsl(200 25% 14%);\n  --muted-foreground: hsl(200 10% 60%);\n  --accent: hsl(192 40% 25%); /* Deep teal */\n  --accent-foreground: hsl(192 80% 85%);\n  --destructive: hsl(45 70% 65%);\n  --destructive-foreground: hsl(45 80% 15%);\n  --border: hsl(200 20% 18%);\n  --input: hsl(200 25% 16%);\n  --ring: hsl(186 100% 65%);\n  --sidebar: hsl(200 25% 12%);\n  --sidebar-foreground: hsl(200 15% 85%);\n  --sidebar-primary: hsl(186 100% 65%);\n  --sidebar-primary-foreground: hsl(200 25% 8%);\n  --sidebar-accent: hsl(200 25% 18%);\n  --sidebar-accent-foreground: hsl(186 100% 75%);\n  --sidebar-border: hsl(200 20% 22%);\n  --sidebar-ring: hsl(186 100% 65%);\n}\n\n/* Sunset Theme - Warm oranges and pinks */\n.sunset {\n  --background: hsl(15 20% 10%);\n  --foreground: hsl(15 10% 88%);\n  --card: hsl(15 20% 14%);\n  --card-foreground: hsl(15 10% 85%);\n  --popover: hsl(15 20% 10%);\n  --popover-foreground: hsl(15 10% 88%);\n  --primary: hsl(25 85% 65%); /* Sunset orange */\n  --primary-foreground: hsl(15 20% 10%);\n  --secondary: hsl(15 20% 18%);\n  --secondary-foreground: hsl(15 10% 78%);\n  --muted: hsl(15 20% 16%);\n  --muted-foreground: hsl(15 8% 58%);\n  --accent: hsl(340 40% 45%); /* Sunset pink */\n  --accent-foreground: hsl(340 60% 90%);\n  --destructive: hsl(25 60% 70%);\n  --destructive-foreground: hsl(25 80% 15%);\n  --border: hsl(15 18% 20%);\n  --input: hsl(15 20% 18%);\n  --ring: hsl(25 85% 65%);\n  --sidebar: hsl(15 20% 14%);\n  --sidebar-foreground: hsl(15 10% 85%);\n  --sidebar-primary: hsl(25 85% 65%);\n  --sidebar-primary-foreground: hsl(15 20% 10%);\n  --sidebar-accent: hsl(15 20% 20%);\n  --sidebar-accent-foreground: hsl(25 85% 75%);\n  --sidebar-border: hsl(15 18% 24%);\n  --sidebar-ring: hsl(25 85% 65%);\n}\n\n/* Forest Theme - Rich greens and earth tones */\n.forest {\n  --background: hsl(120 15% 8%);\n  --foreground: hsl(120 8% 88%);\n  --card: hsl(120 15% 12%);\n  --card-foreground: hsl(120 8% 85%);\n  --popover: hsl(120 15% 8%);\n  --popover-foreground: hsl(120 8% 88%);\n  --primary: hsl(142 60% 55%); /* Forest green */\n  --primary-foreground: hsl(120 15% 8%);\n  --secondary: hsl(120 15% 16%);\n  --secondary-foreground: hsl(120 8% 78%);\n  --muted: hsl(120 15% 14%);\n  --muted-foreground: hsl(120 6% 58%);\n  --accent: hsl(85 30% 45%); /* Moss green */\n  --accent-foreground: hsl(85 50% 88%);\n  --destructive: hsl(45 60% 70%);\n  --destructive-foreground: hsl(45 70% 15%);\n  --border: hsl(120 12% 18%);\n  --input: hsl(120 15% 16%);\n  --ring: hsl(142 60% 55%);\n  --sidebar: hsl(120 15% 12%);\n  --sidebar-foreground: hsl(120 8% 85%);\n  --sidebar-primary: hsl(142 60% 55%);\n  --sidebar-primary-foreground: hsl(120 15% 8%);\n  --sidebar-accent: hsl(120 15% 18%);\n  --sidebar-accent-foreground: hsl(142 60% 75%);\n  --sidebar-border: hsl(120 12% 22%);\n  --sidebar-ring: hsl(142 60% 55%);\n}\n\n/* Lavender Theme - Soft purples and pastels */\n.lavender {\n  --background: hsl(270 20% 10%);\n  --foreground: hsl(270 8% 88%);\n  --card: hsl(270 20% 14%);\n  --card-foreground: hsl(270 8% 85%);\n  --popover: hsl(270 20% 10%);\n  --popover-foreground: hsl(270 8% 88%);\n  --primary: hsl(260 60% 70%); /* Lavender purple */\n  --primary-foreground: hsl(270 20% 10%);\n  --secondary: hsl(270 20% 18%);\n  --secondary-foreground: hsl(270 8% 78%);\n  --muted: hsl(270 20% 16%);\n  --muted-foreground: hsl(270 6% 58%);\n  --accent: hsl(300 35% 50%); /* Rose purple */\n  --accent-foreground: hsl(300 50% 90%);\n  --destructive: hsl(300 40% 70%);\n  --destructive-foreground: hsl(300 50% 15%);\n  --border: hsl(270 15% 20%);\n  --input: hsl(270 20% 18%);\n  --ring: hsl(260 60% 70%);\n  --sidebar: hsl(270 20% 14%);\n  --sidebar-foreground: hsl(270 8% 85%);\n  --sidebar-primary: hsl(260 60% 70%);\n  --sidebar-primary-foreground: hsl(270 20% 10%);\n  --sidebar-accent: hsl(270 20% 20%);\n  --sidebar-accent-foreground: hsl(260 60% 80%);\n  --sidebar-border: hsl(270 15% 24%);\n  --sidebar-ring: hsl(260 60% 70%);\n}\n\n/* Cosmic Theme - Deep space with bright accents */\n.cosmic {\n  --background: hsl(240 25% 5%);\n  --foreground: hsl(240 10% 90%);\n  --card: hsl(240 25% 8%);\n  --card-foreground: hsl(240 10% 88%);\n  --popover: hsl(240 25% 5%);\n  --popover-foreground: hsl(240 10% 90%);\n  --primary: hsl(280 100% 75%); /* Cosmic purple */\n  --primary-foreground: hsl(240 25% 5%);\n  --secondary: hsl(240 25% 12%);\n  --secondary-foreground: hsl(240 10% 80%);\n  --muted: hsl(240 25% 10%);\n  --muted-foreground: hsl(240 8% 60%);\n  --accent: hsl(220 100% 65%); /* Electric blue */\n  --accent-foreground: hsl(220 100% 10%);\n  --destructive: hsl(280 60% 75%);\n  --destructive-foreground: hsl(280 70% 15%);\n  --border: hsl(240 20% 15%);\n  --input: hsl(240 25% 12%);\n  --ring: hsl(280 100% 75%);\n  --sidebar: hsl(240 25% 8%);\n  --sidebar-foreground: hsl(240 10% 88%);\n  --sidebar-primary: hsl(280 100% 75%);\n  --sidebar-primary-foreground: hsl(240 25% 5%);\n  --sidebar-accent: hsl(240 25% 15%);\n  --sidebar-accent-foreground: hsl(280 100% 80%);\n  --sidebar-border: hsl(240 20% 18%);\n  --sidebar-ring: hsl(280 100% 75%);\n}\n\n/* Coral Theme - Warm coral and peach light mode */\n.coral {\n  --background: hsl(30 50% 98%);\n  --foreground: hsl(20 15% 15%);\n  --card: hsl(30 40% 96%);\n  --card-foreground: hsl(20 15% 18%);\n  --popover: hsl(30 50% 98%);\n  --popover-foreground: hsl(20 15% 15%);\n  --primary: hsl(15 85% 55%); /* Warm coral */\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(25 60% 94%); /* Soft peach background */\n  --secondary-foreground: hsl(25 40% 25%);\n  --muted: hsl(30 30% 92%); /* Warm beige */\n  --muted-foreground: hsl(25 20% 45%);\n  --accent: hsl(340 60% 88%); /* Soft rose */\n  --accent-foreground: hsl(340 50% 25%);\n  --wellness: hsl(15 75% 60%); /* Coral wellness */\n  --wellness-foreground: hsl(0 0% 100%);\n  --focus: hsl(25 70% 85%); /* Warm peach */\n  --focus-foreground: hsl(25 60% 25%);\n  --calm: hsl(40 60% 88%); /* Soft cream */\n  --calm-foreground: hsl(40 50% 25%);\n  --hope: hsl(50 85% 70%); /* Warm golden */\n  --hope-foreground: hsl(50 60% 25%);\n  --healing: hsl(340 50% 85%); /* Soft rose pink */\n  --healing-foreground: hsl(340 40% 25%);\n  --nature: hsl(80 40% 82%); /* Soft sage */\n  --nature-foreground: hsl(80 50% 20%);\n  --destructive: hsl(10 80% 65%); /* Warm red-orange */\n  --destructive-foreground: hsl(0 0% 100%);\n  --border: hsl(25 25% 85%);\n  --input: hsl(30 40% 96%);\n  --ring: hsl(15 85% 55%);\n  --chart-1: hsl(15 85% 55%);\n  --chart-2: hsl(340 60% 65%);\n  --chart-3: hsl(50 85% 60%);\n  --chart-4: hsl(40 60% 65%);\n  --chart-5: hsl(80 40% 65%);\n  --sidebar: hsl(30 40% 96%);\n  --sidebar-foreground: hsl(20 15% 18%);\n  --sidebar-primary: hsl(15 85% 55%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(25 60% 90%);\n  --sidebar-accent-foreground: hsl(25 40% 30%);\n  --sidebar-border: hsl(25 25% 82%);\n  --sidebar-ring: hsl(15 85% 55%);\n}\n\n/* Sky Theme - Light blues and soft grays light mode */\n.sky {\n  --background: hsl(210 50% 98%);\n  --foreground: hsl(220 15% 15%);\n  --card: hsl(210 40% 96%);\n  --card-foreground: hsl(220 15% 18%);\n  --popover: hsl(210 50% 98%);\n  --popover-foreground: hsl(220 15% 15%);\n  --primary: hsl(200 85% 55%); /* Sky blue */\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(210 60% 94%); /* Soft sky background */\n  --secondary-foreground: hsl(210 40% 25%);\n  --muted: hsl(220 30% 92%); /* Light gray-blue */\n  --muted-foreground: hsl(220 20% 45%);\n  --accent: hsl(240 60% 88%); /* Soft lavender-blue */\n  --accent-foreground: hsl(240 50% 25%);\n  --wellness: hsl(200 75% 60%); /* Clear sky blue */\n  --wellness-foreground: hsl(0 0% 100%);\n  --focus: hsl(220 70% 85%); /* Soft periwinkle */\n  --focus-foreground: hsl(220 60% 25%);\n  --calm: hsl(190 60% 88%); /* Light cyan */\n  --calm-foreground: hsl(190 50% 25%);\n  --hope: hsl(45 85% 75%); /* Soft sunshine */\n  --hope-foreground: hsl(45 60% 25%);\n  --healing: hsl(280 50% 85%); /* Soft violet */\n  --healing-foreground: hsl(280 40% 25%);\n  --nature: hsl(150 40% 82%); /* Soft mint */\n  --nature-foreground: hsl(150 50% 20%);\n  --destructive: hsl(10 70% 60%); /* Soft red */\n  --destructive-foreground: hsl(0 0% 100%);\n  --border: hsl(220 25% 85%);\n  --input: hsl(210 40% 96%);\n  --ring: hsl(200 85% 55%);\n  --chart-1: hsl(200 85% 55%);\n  --chart-2: hsl(240 60% 65%);\n  --chart-3: hsl(45 85% 65%);\n  --chart-4: hsl(190 60% 65%);\n  --chart-5: hsl(280 50% 65%);\n  --sidebar: hsl(210 40% 96%);\n  --sidebar-foreground: hsl(220 15% 18%);\n  --sidebar-primary: hsl(200 85% 55%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(210 60% 90%);\n  --sidebar-accent-foreground: hsl(210 40% 30%);\n  --sidebar-border: hsl(220 25% 82%);\n  --sidebar-ring: hsl(200 85% 55%);\n}\n\n/* Mint Theme - Fresh greens and whites light mode */\n.mint {\n  --background: hsl(150 40% 98%);\n  --foreground: hsl(150 25% 15%);\n  --card: hsl(150 30% 96%);\n  --card-foreground: hsl(150 25% 18%);\n  --popover: hsl(150 40% 98%);\n  --popover-foreground: hsl(150 25% 15%);\n  --primary: hsl(150 65% 50%); /* Fresh mint */\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(150 40% 94%); /* Soft mint background */\n  --secondary-foreground: hsl(150 35% 25%);\n  --muted: hsl(150 25% 92%); /* Light mint-gray */\n  --muted-foreground: hsl(150 20% 45%);\n  --accent: hsl(170 50% 88%); /* Soft teal */\n  --accent-foreground: hsl(170 45% 25%);\n  --wellness: hsl(150 60% 55%); /* Mint wellness */\n  --wellness-foreground: hsl(0 0% 100%);\n  --focus: hsl(160 55% 85%); /* Soft mint-blue */\n  --focus-foreground: hsl(160 50% 25%);\n  --calm: hsl(140 45% 88%); /* Light green */\n  --calm-foreground: hsl(140 40% 25%);\n  --hope: hsl(60 75% 75%); /* Soft lime */\n  --hope-foreground: hsl(60 55% 25%);\n  --healing: hsl(120 35% 85%); /* Soft sage */\n  --healing-foreground: hsl(120 30% 25%);\n  --nature: hsl(135 40% 82%); /* Natural green */\n  --nature-foreground: hsl(135 45% 20%);\n  --destructive: hsl(15 70% 60%); /* Soft red */\n  --destructive-foreground: hsl(0 0% 100%);\n  --border: hsl(150 20% 85%);\n  --input: hsl(150 30% 96%);\n  --ring: hsl(150 65% 50%);\n  --chart-1: hsl(150 65% 50%);\n  --chart-2: hsl(170 50% 65%);\n  --chart-3: hsl(60 75% 65%);\n  --chart-4: hsl(140 45% 65%);\n  --chart-5: hsl(120 35% 65%);\n  --sidebar: hsl(150 30% 96%);\n  --sidebar-foreground: hsl(150 25% 18%);\n  --sidebar-primary: hsl(150 65% 50%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(150 40% 90%);\n  --sidebar-accent-foreground: hsl(150 35% 30%);\n  --sidebar-border: hsl(150 20% 82%);\n  --sidebar-ring: hsl(150 65% 50%);\n}\n\n/* Cream Theme - Warm beiges and creams light mode */\n.cream {\n  --background: hsl(40 30% 98%);\n  --foreground: hsl(30 20% 15%);\n  --card: hsl(40 25% 96%);\n  --card-foreground: hsl(30 20% 18%);\n  --popover: hsl(40 30% 98%);\n  --popover-foreground: hsl(30 20% 15%);\n  --primary: hsl(35 55% 50%); /* Warm brown */\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(40 35% 94%); /* Soft cream background */\n  --secondary-foreground: hsl(40 30% 25%);\n  --muted: hsl(35 20% 92%); /* Light cream */\n  --muted-foreground: hsl(35 15% 45%);\n  --accent: hsl(45 40% 88%); /* Soft yellow */\n  --accent-foreground: hsl(45 35% 25%);\n  --wellness: hsl(35 50% 55%); /* Warm cream */\n  --wellness-foreground: hsl(0 0% 100%);\n  --focus: hsl(50 45% 85%); /* Soft butter */\n  --focus-foreground: hsl(50 40% 25%);\n  --calm: hsl(30 35% 88%); /* Light beige */\n  --calm-foreground: hsl(30 30% 25%);\n  --hope: hsl(55 70% 75%); /* Warm yellow */\n  --hope-foreground: hsl(55 50% 25%);\n  --healing: hsl(25 30% 85%); /* Soft tan */\n  --healing-foreground: hsl(25 25% 25%);\n  --nature: hsl(70 30% 82%); /* Soft olive */\n  --nature-foreground: hsl(70 35% 20%);\n  --destructive: hsl(15 70% 60%); /* Soft red */\n  --destructive-foreground: hsl(0 0% 100%);\n  --border: hsl(35 15% 85%);\n  --input: hsl(40 25% 96%);\n  --ring: hsl(35 55% 50%);\n  --chart-1: hsl(35 55% 50%);\n  --chart-2: hsl(45 40% 65%);\n  --chart-3: hsl(55 70% 65%);\n  --chart-4: hsl(30 35% 65%);\n  --chart-5: hsl(70 30% 65%);\n  --sidebar: hsl(40 25% 96%);\n  --sidebar-foreground: hsl(30 20% 18%);\n  --sidebar-primary: hsl(35 55% 50%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(40 35% 90%);\n  --sidebar-accent-foreground: hsl(40 30% 30%);\n  --sidebar-border: hsl(35 15% 82%);\n  --sidebar-ring: hsl(35 55% 50%);\n}\n\n/* Rose Theme - Soft pinks and roses light mode */\n.rose {\n  --background: hsl(340 40% 98%);\n  --foreground: hsl(340 20% 15%);\n  --card: hsl(340 30% 96%);\n  --card-foreground: hsl(340 20% 18%);\n  --popover: hsl(340 40% 98%);\n  --popover-foreground: hsl(340 20% 15%);\n  --primary: hsl(340 65% 55%); /* Rose pink */\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(340 35% 94%); /* Soft rose background */\n  --secondary-foreground: hsl(340 30% 25%);\n  --muted: hsl(340 20% 92%); /* Light rose-gray */\n  --muted-foreground: hsl(340 15% 45%);\n  --accent: hsl(320 45% 88%); /* Soft magenta */\n  --accent-foreground: hsl(320 40% 25%);\n  --wellness: hsl(340 60% 60%); /* Rose wellness */\n  --wellness-foreground: hsl(0 0% 100%);\n  --focus: hsl(350 50% 85%); /* Soft pink */\n  --focus-foreground: hsl(350 45% 25%);\n  --calm: hsl(330 40% 88%); /* Light rose */\n  --calm-foreground: hsl(330 35% 25%);\n  --hope: hsl(45 80% 75%); /* Warm gold */\n  --hope-foreground: hsl(45 60% 25%);\n  --healing: hsl(320 35% 85%); /* Soft lavender-pink */\n  --healing-foreground: hsl(320 30% 25%);\n  --nature: hsl(120 30% 82%); /* Soft green */\n  --nature-foreground: hsl(120 35% 20%);\n  --destructive: hsl(15 70% 60%); /* Soft red */\n  --destructive-foreground: hsl(0 0% 100%);\n  --border: hsl(340 15% 85%);\n  --input: hsl(340 30% 96%);\n  --ring: hsl(340 65% 55%);\n  --chart-1: hsl(340 65% 55%);\n  --chart-2: hsl(320 45% 65%);\n  --chart-3: hsl(45 80% 65%);\n  --chart-4: hsl(350 50% 65%);\n  --chart-5: hsl(330 40% 65%);\n  --sidebar: hsl(340 30% 96%);\n  --sidebar-foreground: hsl(340 20% 18%);\n  --sidebar-primary: hsl(340 65% 55%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(340 35% 90%);\n  --sidebar-accent-foreground: hsl(340 30% 30%);\n  --sidebar-border: hsl(340 15% 82%);\n  --sidebar-ring: hsl(340 65% 55%);\n}\n\n/* Peach Theme - Warm peaches and oranges light mode */\n.peach {\n  --background: hsl(25 45% 98%);\n  --foreground: hsl(25 25% 15%);\n  --card: hsl(25 35% 96%);\n  --card-foreground: hsl(25 25% 18%);\n  --popover: hsl(25 45% 98%);\n  --popover-foreground: hsl(25 25% 15%);\n  --primary: hsl(25 75% 60%); /* Peach orange */\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(25 40% 94%); /* Soft peach background */\n  --secondary-foreground: hsl(25 35% 25%);\n  --muted: hsl(25 25% 92%); /* Light peach-cream */\n  --muted-foreground: hsl(25 20% 45%);\n  --accent: hsl(35 50% 88%); /* Soft apricot */\n  --accent-foreground: hsl(35 45% 25%);\n  --wellness: hsl(25 70% 65%); /* Peach wellness */\n  --wellness-foreground: hsl(0 0% 100%);\n  --focus: hsl(30 55% 85%); /* Soft orange */\n  --focus-foreground: hsl(30 50% 25%);\n  --calm: hsl(20 40% 88%); /* Light peach */\n  --calm-foreground: hsl(20 35% 25%);\n  --hope: hsl(50 85% 75%); /* Bright yellow */\n  --hope-foreground: hsl(50 65% 25%);\n  --healing: hsl(15 35% 85%); /* Soft coral */\n  --healing-foreground: hsl(15 30% 25%);\n  --nature: hsl(90 35% 82%); /* Soft lime */\n  --nature-foreground: hsl(90 40% 20%);\n  --destructive: hsl(10 75% 60%); /* Soft red */\n  --destructive-foreground: hsl(0 0% 100%);\n  --border: hsl(25 20% 85%);\n  --input: hsl(25 35% 96%);\n  --ring: hsl(25 75% 60%);\n  --chart-1: hsl(25 75% 60%);\n  --chart-2: hsl(35 50% 65%);\n  --chart-3: hsl(50 85% 65%);\n  --chart-4: hsl(30 55% 65%);\n  --chart-5: hsl(20 40% 65%);\n  --sidebar: hsl(25 35% 96%);\n  --sidebar-foreground: hsl(25 25% 18%);\n  --sidebar-primary: hsl(25 75% 60%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(25 40% 90%);\n  --sidebar-accent-foreground: hsl(25 35% 30%);\n  --sidebar-border: hsl(25 20% 82%);\n  --sidebar-ring: hsl(25 75% 60%);\n}\n\n/* Lavender Light Theme - Soft purples light mode */\n.lavender-light {\n  --background: hsl(270 35% 98%);\n  --foreground: hsl(270 20% 15%);\n  --card: hsl(270 25% 96%);\n  --card-foreground: hsl(270 20% 18%);\n  --popover: hsl(270 35% 98%);\n  --popover-foreground: hsl(270 20% 15%);\n  --primary: hsl(270 55% 60%); /* Soft lavender */\n  --primary-foreground: hsl(0 0% 100%);\n  --secondary: hsl(270 30% 94%); /* Soft lavender background */\n  --secondary-foreground: hsl(270 25% 25%);\n  --muted: hsl(270 15% 92%); /* Light lavender-gray */\n  --muted-foreground: hsl(270 10% 45%);\n  --accent: hsl(280 40% 88%); /* Soft violet */\n  --accent-foreground: hsl(280 35% 25%);\n  --wellness: hsl(270 50% 65%); /* Lavender wellness */\n  --wellness-foreground: hsl(0 0% 100%);\n  --focus: hsl(260 45% 85%); /* Soft periwinkle */\n  --focus-foreground: hsl(260 40% 25%);\n  --calm: hsl(280 35% 88%); /* Light violet */\n  --calm-foreground: hsl(280 30% 25%);\n  --hope: hsl(55 75% 75%); /* Soft yellow */\n  --hope-foreground: hsl(55 55% 25%);\n  --healing: hsl(290 30% 85%); /* Soft mauve */\n  --healing-foreground: hsl(290 25% 25%);\n  --nature: hsl(140 30% 82%); /* Soft mint */\n  --nature-foreground: hsl(140 35% 20%);\n  --destructive: hsl(15 70% 60%); /* Soft red */\n  --destructive-foreground: hsl(0 0% 100%);\n  --border: hsl(270 10% 85%);\n  --input: hsl(270 25% 96%);\n  --ring: hsl(270 55% 60%);\n  --chart-1: hsl(270 55% 60%);\n  --chart-2: hsl(280 40% 65%);\n  --chart-3: hsl(55 75% 65%);\n  --chart-4: hsl(260 45% 65%);\n  --chart-5: hsl(290 30% 65%);\n  --sidebar: hsl(270 25% 96%);\n  --sidebar-foreground: hsl(270 20% 18%);\n  --sidebar-primary: hsl(270 55% 60%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(270 30% 90%);\n  --sidebar-accent-foreground: hsl(270 25% 30%);\n  --sidebar-border: hsl(270 10% 82%);\n  --sidebar-ring: hsl(270 55% 60%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    scroll-behavior: smooth;\n  }\n\n  /* Custom scrollbar */\n  ::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n  }\n\n  ::-webkit-scrollbar-track {\n    @apply bg-muted;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: hsl(var(--muted-foreground) / 0.3);\n    border-radius: 0.375rem;\n  }\n\n  ::-webkit-scrollbar-thumb:hover {\n    background-color: hsl(var(--muted-foreground) / 0.5);\n  }\n\n  /* Smooth transitions */\n  .transition-colors {\n    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n  }\n\n  /* Focus styles */\n  .focus-visible {\n    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;\n  }\n\n  /* Custom utilities & Soothing Gradients */\n  .wellness-gradient {\n    background: linear-gradient(135deg, hsl(var(--wellness)), hsl(var(--calm)));\n  }\n\n  .focus-gradient {\n    background: linear-gradient(135deg, hsl(var(--focus)), hsl(var(--primary)));\n  }\n\n  .calm-gradient {\n    background: linear-gradient(135deg, hsl(var(--calm)), hsl(var(--accent)));\n  }\n\n  .nature-gradient {\n    background: linear-gradient(135deg, hsl(var(--nature)), hsl(var(--wellness)));\n  }\n\n  .healing-gradient {\n    background: linear-gradient(135deg, hsl(var(--healing)), hsl(var(--hope)));\n  }\n\n  .hope-gradient {\n    background: linear-gradient(135deg, hsl(var(--hope)), hsl(var(--calm)));\n  }\n\n  .meditation-gradient {\n    background: linear-gradient(135deg, hsl(var(--accent)), hsl(var(--focus)));\n  }\n\n  /* Breathing animation for meditation */\n  @keyframes breathe {\n    0%, 100% { transform: scale(1); opacity: 0.7; }\n    50% { transform: scale(1.05); opacity: 1; }\n  }\n\n  .animate-breathe {\n    animation: breathe 4s ease-in-out infinite;\n  }\n\n  /* Gentle floating animation */\n  @keyframes float {\n    0%, 100% { transform: translateY(0px); }\n    50% { transform: translateY(-10px); }\n  }\n\n  .animate-float {\n    animation: float 6s ease-in-out infinite;\n  }\n\n  /* Soft glow effect */\n  .glow {\n    box-shadow: 0 0 20px hsl(var(--primary) / 0.3);\n  }\n\n  .glow-wellness {\n    box-shadow: 0 0 20px hsl(var(--wellness) / 0.4);\n  }\n\n  .glow-calm {\n    box-shadow: 0 0 20px hsl(var(--calm) / 0.4);\n  }\n\n  /* Calm typography styles */\n  .text-calm {\n    color: hsl(var(--calm-foreground));\n  }\n\n  .text-wellness {\n    color: hsl(var(--wellness));\n  }\n\n  .text-healing {\n    color: hsl(var(--healing));\n  }\n\n  .text-nature {\n    color: hsl(var(--nature));\n  }\n\n  .text-hope {\n    color: hsl(var(--hope));\n  }\n\n  /* Background patterns */\n  .pattern-dots {\n    background-image: radial-gradient(circle, hsl(var(--muted-foreground) / 0.1) 1px, transparent 1px);\n    background-size: 20px 20px;\n  }\n\n  .pattern-waves {\n    background-image: url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='hsl(var(--muted-foreground) / 0.05)' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  }\n\n  /* Profile emoji circle animation */\n  @keyframes profile-orbit {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n}","size_bytes":27006},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\n// Handle specific Vite HMR WebSocket errors in development only\nif (import.meta.env.DEV) {\n  window.addEventListener('unhandledrejection', (event) => {\n    // Handle various Vite WebSocket errors in development\n    if (event.reason && \n        typeof event.reason === 'object') {\n      \n      const message = event.reason.message;\n      const stack = event.reason.stack;\n      \n      // Check if it's a Vite WebSocket error\n      const isViteWebSocketError = \n        (message === 'An invalid or illegal string was specified' ||\n         (message && message.includes(\"Failed to construct 'WebSocket'\") && message.includes('undefined')) ||\n         (message && message.includes('WebSocket') && message.includes('invalid'))) &&\n        stack && \n        (stack.includes('@vite/client') || \n         stack.includes('setupWebSocket') ||\n         stack.includes('wss://localhost:undefined'));\n      \n      if (isViteWebSocketError) {\n        // Prevent the unhandled rejection from being logged to console\n        event.preventDefault();\n        console.debug('Vite HMR WebSocket connection issue handled (normal in development)');\n        return;\n      }\n    }\n  });\n}\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":1324},"client/src/types.ts":{"content":"export interface User {\n  id: string;\n  username: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  anonymousName?: string; // Random unique name for user privacy\n  institution: string;\n  course?: string;\n  year?: number;\n  language: string;\n  isAdmin: boolean;\n  coins?: number;\n}\n\nexport interface ChatMessage {\n  id: string;\n  content: string;\n  isUser: boolean;\n  timestamp: Date;\n  riskLevel?: 'low' | 'moderate' | 'high';\n}\n\nexport interface ScreeningResult {\n  id: string;\n  type: 'PHQ9' | 'GAD7';\n  score: number;\n  riskLevel: 'minimal' | 'mild' | 'moderate' | 'severe';\n  completedAt: Date;\n}\n\nexport interface ForumPost {\n  id: string;\n  title: string;\n  content: string;\n  author: string;\n  createdAt: Date;\n  category: string;\n  likes: number;\n  replies: number;\n  isAnonymous: boolean;\n}\n\nexport interface Resource {\n  id: string;\n  title: string;\n  description: string;\n  type: 'article' | 'video' | 'audio' | 'guide';\n  category: string;\n  url?: string;\n  content: string;\n  durationMinutes: number;\n  language: string;\n  likes: number;\n  isOfflineAvailable: boolean;\n}\n\nexport interface Counselor {\n  id: string;\n  name: string;\n  specialization: string;\n  languages: string[];\n  experienceYears: number;\n  rating: number;\n  isAvailable: boolean;\n  availableSlots: { day: string; times: string[] }[];\n}\n\nexport interface Appointment {\n  id: string;\n  counselorId: string;\n  userId: string;\n  scheduledTime: Date;\n  status: 'scheduled' | 'completed' | 'cancelled';\n  type: 'video' | 'phone' | 'chat';\n  notes?: string;\n}\n\nexport interface MoodEntry {\n  id: string;\n  userId: string;\n  moodLevel: number;\n  moodType: string;\n  notes?: string;\n  date: Date;\n}","size_bytes":1690},"server/services/crisis.ts":{"content":"import { storage } from \"../storage\";\nimport { openaiService } from \"./openai\";\n\nexport interface CrisisTrigger {\n  userId: string;\n  triggerType: \"screening\" | \"chat\" | \"manual\";\n  severity: \"high\" | \"critical\";\n  context: string;\n  metadata?: any;\n}\n\nexport class CrisisService {\n  static async handleCrisisTrigger(trigger: CrisisTrigger): Promise<void> {\n    try {\n      // Create crisis alert\n      const alert = await storage.createCrisisAlert({\n        userId: trigger.userId,\n        triggerType: trigger.triggerType,\n        severity: trigger.severity,\n        notes: trigger.context,\n      });\n\n      console.log(`Crisis alert created for user ${trigger.userId}:`, alert.id);\n\n      // Notify crisis response team (in real implementation, this would send alerts)\n      await this.notifyCrisisTeam(alert.id, trigger);\n\n      // Log for audit trail\n      console.log(`Crisis intervention initiated for user ${trigger.userId}`);\n    } catch (error) {\n      console.error(\"Error handling crisis trigger:\", error);\n      // In production, this would alert system administrators\n    }\n  }\n\n  static async evaluateChatMessage(userId: string, message: string): Promise<boolean> {\n    try {\n      const crisisAnalysis = await openaiService.analyzeForCrisis(message);\n      \n      if (crisisAnalysis.isHighRisk) {\n        await this.handleCrisisTrigger({\n          userId,\n          triggerType: \"chat\",\n          severity: crisisAnalysis.severity,\n          context: `High-risk language detected in chat: \"${message.substring(0, 100)}...\"`\n        });\n        return true;\n      }\n      \n      return false;\n    } catch (error) {\n      console.error(\"Error evaluating chat message for crisis:\", error);\n      // Err on the side of caution\n      return false;\n    }\n  }\n\n  static async evaluateScreeningResult(\n    userId: string, \n    assessmentType: string, \n    totalScore: number, \n    isHighRisk: boolean, \n    isCrisis: boolean\n  ): Promise<void> {\n    if (isCrisis || (isHighRisk && totalScore >= 15)) {\n      const severity = isCrisis || totalScore >= 20 ? \"critical\" : \"high\";\n      \n      await this.handleCrisisTrigger({\n        userId,\n        triggerType: \"screening\",\n        severity,\n        context: `${assessmentType} assessment score: ${totalScore}, High risk: ${isHighRisk}, Crisis indicators: ${isCrisis}`\n      });\n    }\n  }\n\n  private static async notifyCrisisTeam(alertId: string, trigger: CrisisTrigger): Promise<void> {\n    // In a real implementation, this would:\n    // 1. Send SMS/email alerts to crisis response team\n    // 2. Create notifications in counselor dashboard\n    // 3. Trigger immediate callback protocols\n    // 4. Update emergency contact systems\n    \n    console.log(`CRISIS ALERT ${alertId}: User ${trigger.userId} requires immediate attention`);\n    console.log(`Trigger: ${trigger.triggerType}, Severity: ${trigger.severity}`);\n    console.log(`Context: ${trigger.context}`);\n    \n    // For demo purposes, we'll just log. In production:\n    // await emailService.sendCrisisAlert(alertId, trigger);\n    // await smsService.sendCrisisAlert(alertId, trigger);\n    // await notificationService.alertCounselors(alertId, trigger);\n  }\n\n  static async getCrisisResources(): Promise<any> {\n    return {\n      immediateHelp: [\n        {\n          name: \"Campus Crisis Counselor\",\n          phone: \"+91-9876543210\",\n          available: \"24/7\",\n          type: \"immediate\"\n        },\n        {\n          name: \"National Suicide Prevention Helpline\",\n          phone: \"1562560000\",\n          available: \"24/7\",\n          type: \"national\"\n        },\n        {\n          name: \"Emergency Services\",\n          phone: \"112\",\n          available: \"24/7\",\n          type: \"emergency\"\n        }\n      ],\n      supportGroups: [\n        {\n          name: \"Student Support Group\",\n          schedule: \"Mondays 6 PM\",\n          location: \"Campus Counseling Center\"\n        },\n        {\n          name: \"Peer Support Circle\",\n          schedule: \"Wednesdays 7 PM\",\n          location: \"Student Activities Building\"\n        }\n      ],\n      onlineResources: [\n        {\n          name: \"7 Cups - Free Online Therapy\",\n          url: \"https://www.7cups.com\",\n          description: \"Free emotional support and counseling\"\n        },\n        {\n          name: \"NIMHANS Helpline\",\n          phone: \"080-26995000\",\n          description: \"Mental health helpline\"\n        }\n      ]\n    };\n  }\n\n  static async resolveCrisisAlert(alertId: string, resolvedBy: string, notes?: string): Promise<void> {\n    try {\n      await storage.resolveCrisisAlert(alertId, resolvedBy, notes);\n      console.log(`Crisis alert ${alertId} resolved by ${resolvedBy}`);\n    } catch (error) {\n      console.error(\"Error resolving crisis alert:\", error);\n      throw error;\n    }\n  }\n}\n","size_bytes":4781},"server/services/openai.ts":{"content":"import OpenAI from \"openai\";\n\n// the newest OpenAI model is \"gpt-5\" which was released August 7, 2025. do not change this unless explicitly requested by the user\nconst getOpenAIApiKey = () => {\n  const apiKey = process.env.OPENAI_API_KEY || process.env.OPENAI_KEY;\n  const isProduction = process.env.NODE_ENV === 'production';\n  \n  if (!apiKey) {\n    if (isProduction) {\n      console.error(\"Critical production error: OpenAI API key not found in environment variables\");\n      throw new Error(\"OpenAI API key is required in production\");\n    } else {\n      console.warn(\"OpenAI API key not found. AI features will be disabled in development.\");\n      return null;\n    }\n  }\n  \n  return apiKey;\n};\n\nconst apiKey = getOpenAIApiKey();\nconst openai = apiKey ? new OpenAI({ apiKey }) : null;\n\nexport interface ChatMessage {\n  role: \"user\" | \"assistant\" | \"system\";\n  content: string;\n  timestamp?: Date;\n}\n\nexport interface PsychologicalResponse {\n  message: string;\n  supportiveActions: string[];\n  riskLevel: \"low\" | \"moderate\" | \"high\";\n  escalationRequired: boolean;\n}\n\nexport class OpenAIService {\n  private systemPrompt = `You are a compassionate AI assistant providing psychological first aid for Indian college students. Your role is to:\n\n1. Listen empathetically and validate feelings\n2. Provide evidence-based coping strategies\n3. Guide users through breathing exercises, mindfulness, and relaxation techniques\n4. Offer study stress management and academic pressure support\n5. Encourage professional help when needed\n6. Detect crisis situations and recommend immediate intervention\n\nGuidelines:\n- Be warm, culturally sensitive, and non-judgmental\n- Use simple, supportive language\n- Provide practical, actionable advice\n- Always emphasize that you're not a replacement for professional care\n- If you detect high-risk language (self-harm, suicide ideation), immediately recommend crisis resources\n- Be aware of Indian cultural contexts and academic pressures\n\nResponse format: Always respond with JSON containing:\n- message: Your supportive response\n- supportiveActions: Array of 2-3 specific actions the user can take\n- riskLevel: \"low\", \"moderate\", or \"high\"\n- escalationRequired: boolean (true if immediate professional help needed)`;\n\n  async generateResponse(messages: ChatMessage[]): Promise<PsychologicalResponse> {\n    if (!openai) {\n      return this.getFallbackResponse();\n    }\n    \n    try {\n      const response = await openai.chat.completions.create({\n        model: \"gpt-5\",\n        messages: [\n          { role: \"system\", content: this.systemPrompt },\n          ...messages.map(msg => ({\n            role: msg.role,\n            content: msg.content\n          }))\n        ],\n        response_format: { type: \"json_object\" },\n        temperature: 0.7,\n        max_tokens: 1000,\n      });\n\n      let result = {};\n      try {\n        result = JSON.parse(response.choices[0].message.content || \"{}\");\n      } catch (parseError) {\n        console.error(\"Failed to parse OpenAI response JSON:\", parseError);\n        result = {};\n      }\n      \n      return {\n        message: (result as any).message || \"I'm here to support you. Could you tell me more about how you're feeling?\",\n        supportiveActions: (result as any).supportiveActions || [\n          \"Take 5 deep breaths slowly\",\n          \"Talk to a trusted friend or counselor\",\n          \"Practice a grounding exercise\"\n        ],\n        riskLevel: (result as any).riskLevel || \"low\",\n        escalationRequired: (result as any).escalationRequired || false,\n      };\n    } catch (error) {\n      console.error(\"OpenAI API error:\", error);\n      \n      // Fallback response for API failures\n      return {\n        message: \"I'm here to listen and support you. While I'm having technical difficulties right now, please know that your feelings are valid and help is available.\",\n        supportiveActions: [\n          \"Contact campus counseling services\",\n          \"Call the crisis helpline: +91-9876543210\",\n          \"Reach out to a trusted friend or family member\"\n        ],\n        riskLevel: \"moderate\",\n        escalationRequired: false,\n      };\n    }\n  }\n\n  async analyzeForCrisis(message: string): Promise<{ isHighRisk: boolean; severity: \"high\" | \"critical\" }> {\n    if (!openai) {\n      // Default to high risk if OpenAI is not available\n      return { isHighRisk: true, severity: \"high\" };\n    }\n    \n    try {\n      const response = await openai.chat.completions.create({\n        model: \"gpt-5\",\n        messages: [\n          {\n            role: \"system\",\n            content: `Analyze this message for crisis indicators. Look for:\n            - Suicide ideation or self-harm mentions\n            - Feelings of hopelessness or worthlessness\n            - Substance abuse references\n            - Social isolation or withdrawal\n            - Academic failure leading to despair\n            \n            Respond with JSON: { \"isHighRisk\": boolean, \"severity\": \"high\" | \"critical\" }`\n          },\n          { role: \"user\", content: message }\n        ],\n        response_format: { type: \"json_object\" },\n        temperature: 0.1,\n      });\n\n      let result = {};\n      try {\n        result = JSON.parse(response.choices[0].message.content || \"{}\");\n      } catch (parseError) {\n        console.error(\"Failed to parse crisis analysis JSON:\", parseError);\n        result = {};\n      }\n      return {\n        isHighRisk: (result as any).isHighRisk || false,\n        severity: (result as any).severity || \"high\",\n      };\n    } catch (error) {\n      console.error(\"Crisis analysis error:\", error);\n      // Err on the side of caution\n      return { isHighRisk: true, severity: \"high\" };\n    }\n  }\n\n  async generateGuidedExercise(type: \"breathing\" | \"relaxation\" | \"mindfulness\"): Promise<string[]> {\n    if (!openai) {\n      return [\"Take a moment to breathe slowly\", \"Focus on the present moment\", \"Remember that this feeling will pass\"];\n    }\n    \n    try {\n      const prompts = {\n        breathing: \"Generate step-by-step instructions for the 4-7-8 breathing technique for exam stress\",\n        relaxation: \"Create a progressive muscle relaxation guide for college students\",\n        mindfulness: \"Provide a 5-minute mindfulness exercise for academic anxiety\"\n      };\n\n      const response = await openai.chat.completions.create({\n        model: \"gpt-5\",\n        messages: [\n          {\n            role: \"system\",\n            content: `You are a mindfulness instructor. Provide clear, step-by-step instructions in JSON format: { \"steps\": [\"step1\", \"step2\", ...] }`\n          },\n          { role: \"user\", content: prompts[type] }\n        ],\n        response_format: { type: \"json_object\" },\n      });\n\n      let result = {};\n      try {\n        result = JSON.parse(response.choices[0].message.content || \"{}\");\n      } catch (parseError) {\n        console.error(\"Failed to parse exercise JSON:\", parseError);\n        result = {};\n      }\n      return (result as any).steps || [\"Focus on your breathing\", \"Take slow, deep breaths\", \"Notice how you feel\"];\n    } catch (error) {\n      console.error(\"Exercise generation error:\", error);\n      return [\"Take a moment to breathe slowly\", \"Focus on the present moment\", \"Remember that this feeling will pass\"];\n    }\n  }\n\n  private getFallbackResponse(): PsychologicalResponse {\n    return {\n      message: \"I'm here to listen and support you. While I'm having technical difficulties right now, please know that your feelings are valid and help is available.\",\n      supportiveActions: [\n        \"Contact campus counseling services\",\n        \"Call the crisis helpline: +91-9876543210\",\n        \"Reach out to a trusted friend or family member\"\n      ],\n      riskLevel: \"moderate\",\n      escalationRequired: false,\n    };\n  }\n}\n\nexport const openaiService = new OpenAIService();\n","size_bytes":7807},"server/services/screening.ts":{"content":"export interface PHQ9Question {\n  id: number;\n  text: string;\n}\n\nexport interface GAD7Question {\n  id: number;\n  text: string;\n}\n\nexport const PHQ9_QUESTIONS: PHQ9Question[] = [\n  { id: 1, text: \"Little interest or pleasure in doing things\" },\n  { id: 2, text: \"Feeling down, depressed, or hopeless\" },\n  { id: 3, text: \"Trouble falling or staying asleep, or sleeping too much\" },\n  { id: 4, text: \"Feeling tired or having little energy\" },\n  { id: 5, text: \"Poor appetite or overeating\" },\n  { id: 6, text: \"Feeling bad about yourself — or that you are a failure or have let yourself or your family down\" },\n  { id: 7, text: \"Trouble concentrating on things, such as reading the newspaper or watching television\" },\n  { id: 8, text: \"Moving or speaking so slowly that other people could have noticed. Or the opposite — being so fidgety or restless that you have been moving around a lot more than usual\" },\n  { id: 9, text: \"Thoughts that you would be better off dead, or of hurting yourself\" }\n];\n\nexport const GAD7_QUESTIONS: GAD7Question[] = [\n  { id: 1, text: \"Feeling nervous, anxious, or on edge\" },\n  { id: 2, text: \"Not being able to stop or control worrying\" },\n  { id: 3, text: \"Worrying too much about different things\" },\n  { id: 4, text: \"Trouble relaxing\" },\n  { id: 5, text: \"Being so restless that it is hard to sit still\" },\n  { id: 6, text: \"Becoming easily annoyed or irritable\" },\n  { id: 7, text: \"Feeling afraid, as if something awful might happen\" }\n];\n\nexport type RiskLevel = \"minimal\" | \"mild\" | \"moderate\" | \"moderately-severe\" | \"severe\";\n\nexport interface ScreeningResult {\n  totalScore: number;\n  riskLevel: RiskLevel;\n  isHighRisk: boolean;\n  recommendations: string[];\n  isCrisis: boolean;\n}\n\nexport class ScreeningService {\n  static calculatePHQ9Score(responses: number[]): ScreeningResult {\n    if (responses.length !== 9) {\n      throw new Error(\"PHQ-9 requires exactly 9 responses\");\n    }\n\n    // Validate responses are 0-3\n    if (responses.some(r => r < 0 || r > 3)) {\n      throw new Error(\"PHQ-9 responses must be between 0-3\");\n    }\n\n    const totalScore = responses.reduce((sum, score) => sum + score, 0);\n    \n    // Check for crisis (Question 9 - suicidal ideation)\n    const isCrisis = responses[8] >= 2; // \"More than half the days\" or \"Nearly every day\"\n\n    let riskLevel: RiskLevel;\n    let isHighRisk = false;\n    let recommendations: string[] = [];\n\n    if (totalScore <= 4) {\n      riskLevel = \"minimal\";\n      recommendations = [\n        \"Your responses suggest minimal depressive symptoms\",\n        \"Continue with regular self-care practices\",\n        \"Consider wellness resources for maintaining good mental health\"\n      ];\n    } else if (totalScore <= 9) {\n      riskLevel = \"mild\";\n      recommendations = [\n        \"You may be experiencing mild depressive symptoms\",\n        \"Try stress management and relaxation techniques\",\n        \"Consider talking to a counselor if symptoms persist\"\n      ];\n    } else if (totalScore <= 14) {\n      riskLevel = \"moderate\";\n      isHighRisk = true;\n      recommendations = [\n        \"Your responses suggest moderate depression\",\n        \"We recommend speaking with a mental health professional\",\n        \"Campus counseling services can provide support and guidance\"\n      ];\n    } else if (totalScore <= 19) {\n      riskLevel = \"moderately-severe\";\n      isHighRisk = true;\n      recommendations = [\n        \"Your responses indicate moderately severe depression\",\n        \"Professional support is strongly recommended\",\n        \"Please consider booking an appointment with our counselors\"\n      ];\n    } else {\n      riskLevel = \"severe\";\n      isHighRisk = true;\n      recommendations = [\n        \"Your responses suggest severe depression\",\n        \"Immediate professional support is recommended\",\n        \"Please reach out to our counselors or crisis helpline\"\n      ];\n    }\n\n    if (isCrisis) {\n      recommendations.unshift(\"We noticed you may be having thoughts of self-harm. Please reach out for immediate support.\");\n    }\n\n    return {\n      totalScore,\n      riskLevel,\n      isHighRisk: isHighRisk || isCrisis,\n      recommendations,\n      isCrisis\n    };\n  }\n\n  static calculateGAD7Score(responses: number[]): ScreeningResult {\n    if (responses.length !== 7) {\n      throw new Error(\"GAD-7 requires exactly 7 responses\");\n    }\n\n    // Validate responses are 0-3\n    if (responses.some(r => r < 0 || r > 3)) {\n      throw new Error(\"GAD-7 responses must be between 0-3\");\n    }\n\n    const totalScore = responses.reduce((sum, score) => sum + score, 0);\n    \n    let riskLevel: RiskLevel;\n    let isHighRisk = false;\n    let recommendations: string[] = [];\n\n    if (totalScore <= 4) {\n      riskLevel = \"minimal\";\n      recommendations = [\n        \"Your responses suggest minimal anxiety symptoms\",\n        \"Continue with regular stress management practices\",\n        \"Use relaxation techniques during stressful periods\"\n      ];\n    } else if (totalScore <= 9) {\n      riskLevel = \"mild\";\n      recommendations = [\n        \"You may be experiencing mild anxiety\",\n        \"Try breathing exercises and mindfulness techniques\",\n        \"Consider speaking with a counselor if anxiety interferes with daily activities\"\n      ];\n    } else if (totalScore <= 14) {\n      riskLevel = \"moderate\";\n      isHighRisk = true;\n      recommendations = [\n        \"Your responses suggest moderate anxiety\",\n        \"Professional support can help you develop coping strategies\",\n        \"Campus counseling services offer anxiety management resources\"\n      ];\n    } else {\n      riskLevel = \"severe\";\n      isHighRisk = true;\n      recommendations = [\n        \"Your responses indicate severe anxiety\",\n        \"We strongly recommend professional support\",\n        \"Please consider immediate consultation with our mental health team\"\n      ];\n    }\n\n    return {\n      totalScore,\n      riskLevel,\n      isHighRisk,\n      recommendations,\n      isCrisis: false // GAD-7 doesn't have direct crisis indicators like PHQ-9\n    };\n  }\n\n  static getScreeningQuestions(type: \"PHQ9\" | \"GAD7\") {\n    return type === \"PHQ9\" ? PHQ9_QUESTIONS : GAD7_QUESTIONS;\n  }\n\n  static getResponseOptions(): Array<{ value: number; label: string }> {\n    return [\n      { value: 0, label: \"Not at all\" },\n      { value: 1, label: \"Several days\" },\n      { value: 2, label: \"More than half the days\" },\n      { value: 3, label: \"Nearly every day\" }\n    ];\n  }\n}\n","size_bytes":6434},"client/src/context/AppContext.tsx":{"content":"import { createContext, useContext, useState, useEffect, ReactNode } from \"react\";\nimport { useLocation } from \"wouter\";\nimport type { User } from \"@/types\";\nimport { generateRandomName } from \"@/utils/nameGenerator\";\n\ninterface ChatMessage {\n  role: \"user\" | \"assistant\";\n  content: string;\n  timestamp: Date;\n}\n\nexport type ThemeType = \"light\" | \"dark\" | \"ocean\" | \"sunset\" | \"forest\" | \"lavender\" | \"cosmic\" | \"coral\" | \"sky\" | \"mint\" | \"cream\" | \"rose\" | \"peach\" | \"lavender-light\";\n\nexport type UserMode = \"focus\" | \"relax\" | \"social\" | \"energy\" | \"mindful\" | \"creative\" | \"recovery\" | \"desperate\" | \"anxious\" | \"overwhelmed\" | \"motivated\" | \"lonely\" | \"stressed\";\n\nexport type DailyFeeling = \"happy\" | \"sad\" | \"angry\" | \"excited\" | \"tired\" | \"confused\" | \"proud\" | \"grateful\" | \"hopeful\" | \"frustrated\" | \"peaceful\" | \"nervous\";\n\nexport interface DailyFeelingOption {\n  id: DailyFeeling;\n  name: string;\n  emoji: string;\n  description: string;\n  suggestedThemes: ThemeType[];\n}\n\nexport interface UserModeOption {\n  id: UserMode;\n  name: string;\n  emoji: string;\n  description: string;\n  suggestedThemes: ThemeType[];\n}\n\nexport const userModes: UserModeOption[] = [\n  {\n    id: \"focus\",\n    name: \"Focus & Study\",\n    emoji: \"📚\",\n    description: \"Concentrate on learning and productivity\",\n    suggestedThemes: [\"ocean\", \"forest\", \"dark\"]\n  },\n  {\n    id: \"relax\",\n    name: \"Calm & Relax\",\n    emoji: \"🧘\",\n    description: \"Unwind and reduce stress\",\n    suggestedThemes: [\"lavender\", \"mint\", \"cream\"]\n  },\n  {\n    id: \"social\",\n    name: \"Connect & Share\",\n    emoji: \"🤝\",\n    description: \"Engage with community and peers\",\n    suggestedThemes: [\"coral\", \"peach\", \"light\"]\n  },\n  {\n    id: \"energy\",\n    name: \"Energize & Active\",\n    emoji: \"⚡\",\n    description: \"Boost motivation and activity\",\n    suggestedThemes: [\"sunset\", \"cosmic\", \"sky\"]\n  },\n  {\n    id: \"mindful\",\n    name: \"Reflect & Mindful\",\n    emoji: \"🌱\",\n    description: \"Practice mindfulness and self-reflection\",\n    suggestedThemes: [\"forest\", \"lavender-light\", \"mint\"]\n  },\n  {\n    id: \"creative\",\n    name: \"Create & Explore\",\n    emoji: \"🎨\",\n    description: \"Express creativity and explore ideas\",\n    suggestedThemes: [\"coral\", \"cosmic\", \"rose\"]\n  },\n  {\n    id: \"recovery\",\n    name: \"Rest & Recover\",\n    emoji: \"💤\",\n    description: \"Take a break and recharge\",\n    suggestedThemes: [\"dark\", \"lavender\", \"cream\"]\n  },\n  {\n    id: \"desperate\",\n    name: \"Desperate & Need Help\",\n    emoji: \"😰\",\n    description: \"Feeling urgent need for support and guidance\",\n    suggestedThemes: [\"dark\", \"ocean\", \"cosmic\"]\n  },\n  {\n    id: \"anxious\",\n    name: \"Anxious & Worried\",\n    emoji: \"😟\",\n    description: \"Experiencing anxiety and worry\",\n    suggestedThemes: [\"lavender\", \"mint\", \"cream\"]\n  },\n  {\n    id: \"overwhelmed\",\n    name: \"Overwhelmed & Stressed\",\n    emoji: \"🌪️\",\n    description: \"Feeling like everything is too much\",\n    suggestedThemes: [\"forest\", \"dark\", \"ocean\"]\n  },\n  {\n    id: \"motivated\",\n    name: \"Driven & Motivated\",\n    emoji: \"🔥\",\n    description: \"High energy and ready to take action\",\n    suggestedThemes: [\"sunset\", \"cosmic\", \"coral\"]\n  },\n  {\n    id: \"lonely\",\n    name: \"Lonely & Isolated\",\n    emoji: \"😔\",\n    description: \"Feeling disconnected and alone\",\n    suggestedThemes: [\"lavender-light\", \"mint\", \"cream\"]\n  },\n  {\n    id: \"stressed\",\n    name: \"Stressed & Pressure\",\n    emoji: \"😤\",\n    description: \"Under pressure and feeling stressed\",\n    suggestedThemes: [\"ocean\", \"forest\", \"dark\"]\n  }\n];\n\nexport const dailyFeelings: DailyFeelingOption[] = [\n  {\n    id: \"happy\",\n    name: \"Happy & Joyful\",\n    emoji: \"😊\",\n    description: \"Feeling good and content today\",\n    suggestedThemes: [\"coral\", \"peach\", \"light\"]\n  },\n  {\n    id: \"sad\",\n    name: \"Sad & Down\",\n    emoji: \"😢\",\n    description: \"Feeling low and melancholy\",\n    suggestedThemes: [\"dark\", \"ocean\", \"lavender\"]\n  },\n  {\n    id: \"angry\",\n    name: \"Angry & Frustrated\",\n    emoji: \"😠\",\n    description: \"Feeling irritated and upset\",\n    suggestedThemes: [\"sunset\", \"cosmic\", \"dark\"]\n  },\n  {\n    id: \"excited\",\n    name: \"Excited & Energetic\",\n    emoji: \"🤩\",\n    description: \"Full of enthusiasm and energy\",\n    suggestedThemes: [\"cosmic\", \"sunset\", \"coral\"]\n  },\n  {\n    id: \"tired\",\n    name: \"Tired & Drained\",\n    emoji: \"😴\",\n    description: \"Feeling exhausted and worn out\",\n    suggestedThemes: [\"lavender\", \"mint\", \"cream\"]\n  },\n  {\n    id: \"confused\",\n    name: \"Confused & Lost\",\n    emoji: \"😕\",\n    description: \"Feeling uncertain and unclear\",\n    suggestedThemes: [\"forest\", \"ocean\", \"dark\"]\n  },\n  {\n    id: \"proud\",\n    name: \"Proud & Accomplished\",\n    emoji: \"😌\",\n    description: \"Feeling satisfied with achievements\",\n    suggestedThemes: [\"rose\", \"coral\", \"peach\"]\n  },\n  {\n    id: \"grateful\",\n    name: \"Grateful & Thankful\",\n    emoji: \"🙏\",\n    description: \"Appreciating what you have\",\n    suggestedThemes: [\"lavender-light\", \"mint\", \"cream\"]\n  },\n  {\n    id: \"hopeful\",\n    name: \"Hopeful & Optimistic\",\n    emoji: \"🌟\",\n    description: \"Looking forward to the future\",\n    suggestedThemes: [\"sky\", \"cosmic\", \"light\"]\n  },\n  {\n    id: \"frustrated\",\n    name: \"Frustrated & Stuck\",\n    emoji: \"😤\",\n    description: \"Feeling blocked and impatient\",\n    suggestedThemes: [\"dark\", \"forest\", \"ocean\"]\n  },\n  {\n    id: \"peaceful\",\n    name: \"Peaceful & Calm\",\n    emoji: \"🕊️\",\n    description: \"Feeling serene and balanced\",\n    suggestedThemes: [\"mint\", \"lavender-light\", \"cream\"]\n  },\n  {\n    id: \"nervous\",\n    name: \"Nervous & Worried\",\n    emoji: \"😰\",\n    description: \"Feeling anxious about something\",\n    suggestedThemes: [\"lavender\", \"dark\", \"ocean\"]\n  }\n];\n\ninterface AppContextType {\n  currentUser: User | null;\n  setCurrentUser: (user: User | null) => void;\n  theme: ThemeType;\n  setTheme: (theme: ThemeType) => void;\n  toggleTheme: () => void;\n  userMode: UserMode | null;\n  setUserMode: (mode: UserMode) => void;\n  dailyFeeling: DailyFeeling | null;\n  setDailyFeeling: (feeling: DailyFeeling) => void;\n  showUserModePopup: boolean;\n  setShowUserModePopup: (show: boolean) => void;\n  isAuthenticated: boolean;\n  isOnboarding: boolean;\n  showStartupPopup: boolean;\n  isAuthLoading: boolean;\n  login: (email: string) => void;\n  logout: () => void;\n  completeOnboarding: (data: OnboardingData) => void;\n  closeStartupPopup: () => void;\n  chatMessages: ChatMessage[];\n  setChatMessages: (messages: ChatMessage[] | ((prev: ChatMessage[]) => ChatMessage[])) => void;\n  addChatMessage: (message: ChatMessage) => void;\n  showQuoteOverlay: boolean;\n  setShowQuoteOverlay: (show: boolean) => void;\n  triggerQuoteOverlay: () => void;\n}\n\ninterface OnboardingData {\n  firstName: string;\n  lastName: string;\n  institution: string;\n  course: string;\n  year: number;\n  language: string;\n  mood: string;\n  stress: string;\n  sleep: string;\n  support: string;\n  previousHelp: string;\n}\n\nconst AppContext = createContext<AppContextType | undefined>(undefined);\n\nexport const useAppContext = () => {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error(\"useAppContext must be used within AppProvider\");\n  }\n  return context;\n};\n\ninterface AppProviderProps {\n  children: ReactNode;\n}\n\nexport const AppProvider = ({ children }: AppProviderProps) => {\n  const [, setLocation] = useLocation();\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isOnboarding, setIsOnboarding] = useState(false);\n  const [showStartupPopup, setShowStartupPopup] = useState(false);\n  const [tempEmail, setTempEmail] = useState<string | null>(null);\n  const [isAuthLoading, setIsAuthLoading] = useState(true);\n  \n  // User mode state\n  const [userMode, setUserModeState] = useState<UserMode | null>(() => {\n    if (typeof window !== \"undefined\") {\n      const savedMode = localStorage.getItem(\"userMode\");\n      return (savedMode as UserMode) || null;\n    }\n    return null;\n  });\n  const [showUserModePopup, setShowUserModePopup] = useState(false);\n  \n  // Daily feeling state\n  const [dailyFeeling, setDailyFeelingState] = useState<DailyFeeling | null>(() => {\n    if (typeof window !== \"undefined\") {\n      const savedFeeling = localStorage.getItem(\"dailyFeeling\");\n      return (savedFeeling as DailyFeeling) || null;\n    }\n    return null;\n  });\n\n  // Chat state management - initialize with default message\n  const [chatMessages, setChatMessages] = useState<ChatMessage[]>([{\n    role: \"assistant\",\n    content: \"Hello! I'm here to provide psychological first aid and support. How are you feeling today? Remember, this is a safe space to share your thoughts.\",\n    timestamp: new Date(),\n  }]);\n\n  // Load chat messages from localStorage asynchronously\n  useEffect(() => {\n    const loadChatMessages = async () => {\n      try {\n        const savedMessages = localStorage.getItem('chatMessages');\n        if (savedMessages) {\n          const parsed = JSON.parse(savedMessages);\n          const messagesWithDates = parsed.map((msg: any) => ({\n            ...msg,\n            timestamp: new Date(msg.timestamp)\n          }));\n          setChatMessages(messagesWithDates);\n        }\n      } catch (error) {\n        console.error('Error loading chat messages:', error);\n        // Keep default messages on error\n      }\n    };\n    loadChatMessages();\n  }, []);\n\n  // Quote overlay state\n  const [showQuoteOverlay, setShowQuoteOverlay] = useState(false);\n\n  const [theme, setTheme] = useState<ThemeType>(() => {\n    if (typeof window !== \"undefined\") {\n      const savedTheme = localStorage.getItem(\"theme\");\n      return (savedTheme as ThemeType) || \"dark\";\n    }\n    return \"dark\";\n  });\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n    root.classList.remove(\"light\", \"dark\", \"ocean\", \"sunset\", \"forest\", \"lavender\", \"cosmic\", \"coral\", \"sky\", \"mint\", \"cream\", \"rose\", \"peach\", \"lavender-light\");\n    root.classList.add(theme);\n    localStorage.setItem(\"theme\", theme);\n  }, [theme]);\n\n  const toggleTheme = () => {\n    setTheme(prev => prev === \"light\" ? \"dark\" : \"light\");\n  };\n\n  const setUserMode = (mode: UserMode) => {\n    setUserModeState(mode);\n    localStorage.setItem(\"userMode\", mode);\n  };\n  \n  const setDailyFeeling = (feeling: DailyFeeling) => {\n    setDailyFeelingState(feeling);\n    localStorage.setItem(\"dailyFeeling\", feeling);\n  };\n\n  const login = (email: string) => {\n    setTempEmail(email);\n    setIsAuthenticated(true);\n    setIsOnboarding(true);\n  };\n\n  const logout = () => {\n    // Preserve current theme before clearing localStorage\n    const currentTheme = localStorage.getItem(\"theme\");\n    \n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setIsOnboarding(false);\n    setTempEmail(null);\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"chatMessages\");\n    \n    // Restore theme after clearing other data\n    if (currentTheme) {\n      localStorage.setItem(\"theme\", currentTheme);\n    }\n    \n    setChatMessages([{\n      role: \"assistant\",\n      content: \"Hello! I'm here to provide psychological first aid and support. How are you feeling today? Remember, this is a safe space to share your thoughts.\",\n      timestamp: new Date(),\n    }]);\n  };\n\n  const completeOnboarding = (data: OnboardingData) => {\n    // Generate a proper UUID for the user\n    const generateUUID = () => {\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        const r = Math.random() * 16 | 0;\n        const v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n      });\n    };\n\n    const anonymousName = generateRandomName({ style: 'all', includeNumbers: true });\n    \n    const newUser: User = {\n      id: generateUUID(),\n      username: `${data.firstName.toLowerCase()}.${data.lastName.toLowerCase()}`,\n      firstName: data.firstName,\n      lastName: data.lastName,\n      email: tempEmail || \"user@example.com\",\n      anonymousName: anonymousName,\n      institution: data.institution,\n      course: data.course,\n      year: data.year,\n      language: data.language,\n      isAdmin: false,\n    };\n    \n    setCurrentUser(newUser);\n    setIsOnboarding(false);\n    localStorage.setItem(\"user\", JSON.stringify(newUser));\n    \n    // Redirect to home page after onboarding completion\n    setLocation(\"/\");\n    \n    // Show user mode popup after onboarding is complete\n    setShowUserModePopup(true);\n  };\n\n  const closeStartupPopup = () => {\n    setShowStartupPopup(false);\n    localStorage.setItem(\"startupPopupSeen\", \"true\");\n  };\n\n  const addChatMessage = (message: ChatMessage) => {\n    setChatMessages(prev => [...prev, message]);\n  };\n\n  const triggerQuoteOverlay = () => {\n    setShowQuoteOverlay(true);\n  };\n\n  // Save chat messages to localStorage when they change (debounced)\n  useEffect(() => {\n    const saveTimeout = setTimeout(() => {\n      try {\n        localStorage.setItem('chatMessages', JSON.stringify(chatMessages));\n      } catch (error) {\n        console.error('Error saving chat messages:', error);\n      }\n    }, 100); // Small delay to debounce rapid updates\n\n    return () => clearTimeout(saveTimeout);\n  }, [chatMessages]);\n\n  // Load user from localStorage on app start\n  useEffect(() => {\n    const savedUser = localStorage.getItem(\"user\");\n    const startupPopupSeen = localStorage.getItem(\"startupPopupSeen\");\n    \n    if (savedUser) {\n      const user = JSON.parse(savedUser);\n      \n      // Migration for existing users without anonymousName\n      if (!user.anonymousName) {\n        user.anonymousName = generateRandomName({ style: 'all', includeNumbers: true });\n        localStorage.setItem(\"user\", JSON.stringify(user));\n      }\n      \n      setCurrentUser(user);\n      setIsAuthenticated(true);\n      setIsOnboarding(false);\n    }\n    \n    if (startupPopupSeen === \"true\") {\n      setShowStartupPopup(false);\n    }\n    \n    // Mark auth loading as complete\n    setIsAuthLoading(false);\n  }, []);\n\n  return (\n    <AppContext.Provider value={{ \n      currentUser, \n      setCurrentUser, \n      theme,\n      setTheme, \n      toggleTheme,\n      userMode,\n      setUserMode,\n      dailyFeeling,\n      setDailyFeeling,\n      showUserModePopup,\n      setShowUserModePopup,\n      isAuthenticated,\n      isOnboarding,\n      showStartupPopup,\n      isAuthLoading,\n      login,\n      logout,\n      completeOnboarding,\n      closeStartupPopup,\n      chatMessages,\n      setChatMessages,\n      addChatMessage,\n      showQuoteOverlay,\n      setShowQuoteOverlay,\n      triggerQuoteOverlay\n    }}>\n      {children}\n    </AppContext.Provider>\n  );\n};","size_bytes":14656},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/hooks/use-websocket.ts":{"content":"import { useEffect, useRef, useState, useCallback } from \"react\";\n\nexport function useWebSocket(userId: string, onMessage: (message: any) => void) {\n  const ws = useRef<WebSocket | null>(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [reconnectAttempts, setReconnectAttempts] = useState(0);\n  const maxReconnectAttempts = 5;\n  const reconnectDelay = 1000; // 1 second\n\n  // Stable callback to avoid recreating WebSocket connection\n  const onMessageCallback = useCallback(onMessage, []);\n\n  const connectWebSocket = useCallback(() => {\n    // Only connect if we have a valid UUID (not empty string or whitespace)\n    if (!userId || userId.trim() === \"\") {\n      if (import.meta.env.DEV) {\n        console.log(\"WebSocket: No valid userId provided, skipping connection\");\n      }\n      return;\n    }\n\n    // Prevent multiple connections\n    if (ws.current && ws.current.readyState === WebSocket.CONNECTING) {\n      return;\n    }\n\n    // Close existing connection if any\n    if (ws.current) {\n      ws.current.close();\n    }\n\n    // Use window.location.host to avoid port assembly issues with reverse proxies/CDN\n    const protocol = window.location.protocol === \"https:\" ? \"wss:\" : \"ws:\";\n    const wsUrl = `${protocol}//${window.location.host}/ws?userId=${encodeURIComponent(userId)}`;\n    \n    if (import.meta.env.DEV) {\n      console.log(`Attempting WebSocket connection to: ${wsUrl}`);\n    }\n    \n    try {\n      ws.current = new WebSocket(wsUrl);\n    } catch (error) {\n      console.error(\"Failed to create WebSocket:\", error);\n      setIsConnected(false);\n      return;\n    }\n\n    ws.current.onopen = () => {\n      setIsConnected(true);\n      setReconnectAttempts(0);\n      if (import.meta.env.DEV) {\n        console.log(\"WebSocket connected successfully\");\n      }\n    };\n\n    ws.current.onmessage = (event) => {\n      try {\n        const message = JSON.parse(event.data);\n        onMessageCallback(message);\n      } catch (error) {\n        // Silently handle parsing errors in production\n      }\n    };\n\n    ws.current.onclose = (event) => {\n      setIsConnected(false);\n      if (import.meta.env.DEV) {\n        console.log(`WebSocket disconnected. Code: ${event.code}, Reason: ${event.reason}`);\n      }\n      \n      // Only attempt reconnection for abnormal closures and if under retry limit\n      if (event.code !== 1000 && reconnectAttempts < maxReconnectAttempts) {\n        if (import.meta.env.DEV) {\n          console.log(`Attempting reconnection in ${reconnectDelay}ms... (${reconnectAttempts + 1}/${maxReconnectAttempts})`);\n        }\n        setTimeout(() => {\n          setReconnectAttempts(prev => prev + 1);\n          connectWebSocket();\n        }, reconnectDelay);\n      }\n    };\n\n    ws.current.onerror = (error) => {\n      // Silently handle WebSocket errors in production\n      setIsConnected(false);\n    };\n  }, [userId, onMessageCallback, reconnectAttempts]);\n\n  useEffect(() => {\n    connectWebSocket();\n\n    return () => {\n      if (ws.current) {\n        // Close with normal closure code to prevent reconnection\n        ws.current.close(1000, \"Component unmounting\");\n        ws.current = null;\n      }\n    };\n  }, [connectWebSocket]);\n\n  const sendMessage = useCallback((message: any) => {\n    if (ws.current && ws.current.readyState === WebSocket.OPEN) {\n      ws.current.send(JSON.stringify(message));\n      return true;\n    } else {\n      if (import.meta.env.DEV) {\n        console.warn(\"WebSocket not connected. Message not sent:\", message);\n      }\n      return false;\n    }\n  }, []);\n\n  return { \n    sendMessage, \n    isConnected, \n    reconnectAttempts,\n    maxReconnectAttempts \n  };\n}\n","size_bytes":3647},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/lib/screening-utils.ts":{"content":"export interface ScreeningScore {\n  score: number;\n  maxScore: number;\n  riskLevel: 'minimal' | 'mild' | 'moderate' | 'moderately-severe' | 'severe';\n  percentage: number;\n  recommendations: string[];\n  isHighRisk: boolean;\n  isCrisis?: boolean;\n}\n\nexport class ScreeningUtils {\n  /**\n   * Calculate PHQ-9 depression screening score\n   */\n  static calculatePHQ9(responses: number[]): ScreeningScore {\n    if (responses.length !== 9) {\n      throw new Error('PHQ-9 requires exactly 9 responses');\n    }\n\n    const totalScore = responses.reduce((sum, score) => sum + score, 0);\n    const maxScore = 27;\n    const percentage = Math.round((totalScore / maxScore) * 100);\n    \n    // Check for crisis (question 9 about self-harm)\n    const isCrisis = responses[8] >= 2; // More than half the days or nearly every day\n\n    let riskLevel: ScreeningScore['riskLevel'];\n    let isHighRisk = false;\n    let recommendations: string[] = [];\n\n    if (totalScore <= 4) {\n      riskLevel = 'minimal';\n      recommendations = [\n        'Your responses suggest minimal depressive symptoms',\n        'Continue with regular self-care practices',\n        'Consider wellness resources for maintaining good mental health',\n        'Keep up healthy habits like regular exercise and sleep'\n      ];\n    } else if (totalScore <= 9) {\n      riskLevel = 'mild';\n      recommendations = [\n        'You may be experiencing mild depressive symptoms',\n        'Try stress management and relaxation techniques',\n        'Consider talking to a counselor if symptoms persist',\n        'Focus on maintaining social connections and regular activities'\n      ];\n    } else if (totalScore <= 14) {\n      riskLevel = 'moderate';\n      isHighRisk = true;\n      recommendations = [\n        'Your responses suggest moderate depression',\n        'We recommend speaking with a mental health professional',\n        'Campus counseling services can provide support and guidance',\n        'Consider therapy and lifestyle modifications'\n      ];\n    } else if (totalScore <= 19) {\n      riskLevel = 'moderately-severe';\n      isHighRisk = true;\n      recommendations = [\n        'Your responses indicate moderately severe depression',\n        'Professional support is strongly recommended',\n        'Please consider booking an appointment with our counselors',\n        'Treatment may include therapy and/or medication'\n      ];\n    } else {\n      riskLevel = 'severe';\n      isHighRisk = true;\n      recommendations = [\n        'Your responses suggest severe depression',\n        'Immediate professional support is recommended',\n        'Please reach out to our counselors or crisis helpline',\n        'Comprehensive treatment is likely needed'\n      ];\n    }\n\n    if (isCrisis) {\n      recommendations.unshift(\n        'IMPORTANT: You indicated thoughts of self-harm. Please reach out for immediate support.',\n        'Contact the crisis helpline or emergency services if you are in immediate danger.'\n      );\n    }\n\n    return {\n      score: totalScore,\n      maxScore,\n      riskLevel,\n      percentage,\n      recommendations,\n      isHighRisk: isHighRisk || isCrisis,\n      isCrisis\n    };\n  }\n\n  /**\n   * Calculate GAD-7 anxiety screening score\n   */\n  static calculateGAD7(responses: number[]): ScreeningScore {\n    if (responses.length !== 7) {\n      throw new Error('GAD-7 requires exactly 7 responses');\n    }\n\n    const totalScore = responses.reduce((sum, score) => sum + score, 0);\n    const maxScore = 21;\n    const percentage = Math.round((totalScore / maxScore) * 100);\n\n    let riskLevel: ScreeningScore['riskLevel'];\n    let isHighRisk = false;\n    let recommendations: string[] = [];\n\n    if (totalScore <= 4) {\n      riskLevel = 'minimal';\n      recommendations = [\n        'Your responses suggest minimal anxiety symptoms',\n        'Continue with regular stress management practices',\n        'Use relaxation techniques during stressful periods',\n        'Maintain healthy lifestyle habits'\n      ];\n    } else if (totalScore <= 9) {\n      riskLevel = 'mild';\n      recommendations = [\n        'You may be experiencing mild anxiety',\n        'Try breathing exercises and mindfulness techniques',\n        'Consider speaking with a counselor if anxiety interferes with daily activities',\n        'Practice regular physical exercise and good sleep hygiene'\n      ];\n    } else if (totalScore <= 14) {\n      riskLevel = 'moderate';\n      isHighRisk = true;\n      recommendations = [\n        'Your responses suggest moderate anxiety',\n        'Professional support can help you develop coping strategies',\n        'Campus counseling services offer anxiety management resources',\n        'Consider cognitive-behavioral therapy techniques'\n      ];\n    } else {\n      riskLevel = 'severe';\n      isHighRisk = true;\n      recommendations = [\n        'Your responses indicate severe anxiety',\n        'We strongly recommend professional support',\n        'Please consider immediate consultation with our mental health team',\n        'Treatment may include therapy, relaxation training, or medication'\n      ];\n    }\n\n    return {\n      score: totalScore,\n      maxScore,\n      riskLevel,\n      percentage,\n      recommendations,\n      isHighRisk,\n      isCrisis: false\n    };\n  }\n\n  /**\n   * Get risk level color for UI display\n   */\n  static getRiskLevelColor(riskLevel: ScreeningScore['riskLevel']): string {\n    const colors = {\n      'minimal': 'bg-green-100 text-green-800 border-green-200',\n      'mild': 'bg-yellow-100 text-yellow-800 border-yellow-200',\n      'moderate': 'bg-orange-100 text-orange-800 border-orange-200',\n      'moderately-severe': 'bg-red-100 text-red-800 border-red-200',\n      'severe': 'bg-red-100 text-red-800 border-red-200'\n    };\n    return colors[riskLevel] || colors.minimal;\n  }\n\n  /**\n   * Get next steps based on screening results\n   */\n  static getNextSteps(score: ScreeningScore): string[] {\n    const steps: string[] = [];\n\n    if (score.isHighRisk) {\n      steps.push('Schedule an appointment with a counselor');\n      steps.push('Share these results with a mental health professional');\n    }\n\n    if (score.isCrisis) {\n      steps.unshift('Contact crisis support immediately');\n      steps.unshift('Reach out to a trusted friend or family member');\n    }\n\n    if (!score.isHighRisk) {\n      steps.push('Continue monitoring your mental health');\n      steps.push('Use available self-help resources');\n      steps.push('Practice stress management techniques');\n    }\n\n    steps.push('Retake this assessment in 2 weeks to track changes');\n    steps.push('Maintain healthy lifestyle habits');\n\n    return steps;\n  }\n\n  /**\n   * Format score for display\n   */\n  static formatScore(score: ScreeningScore): string {\n    return `${score.score}/${score.maxScore}`;\n  }\n\n  /**\n   * Get severity description\n   */\n  static getSeverityDescription(riskLevel: ScreeningScore['riskLevel']): string {\n    const descriptions = {\n      'minimal': 'Minimal symptoms - you\\'re doing well',\n      'mild': 'Mild symptoms - some support may be helpful',\n      'moderate': 'Moderate symptoms - professional support recommended',\n      'moderately-severe': 'Moderately severe symptoms - professional help strongly recommended',\n      'severe': 'Severe symptoms - immediate professional support needed'\n    };\n    return descriptions[riskLevel] || descriptions.minimal;\n  }\n}\n","size_bytes":7357},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/admin.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { \n  Users, \n  ClipboardCheck, \n  Calendar, \n  AlertTriangle,\n  TrendingUp,\n  Clock,\n  Activity,\n  BarChart3\n} from \"lucide-react\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\nexport default function Admin() {\n  const { currentUser } = useAppContext();\n  \n  const { data: analytics, isLoading } = useQuery({\n    queryKey: [\"/api/analytics\"],\n    enabled: currentUser?.isAdmin || false,\n  });\n\n  const { data: crisisAlerts } = useQuery({\n    queryKey: [\"/api/crisis/alerts\"],\n    enabled: currentUser?.isAdmin || false,\n  });\n\n  if (!currentUser?.isAdmin) {\n    return (\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <Card>\n          <CardContent className=\"p-8 text-center\">\n            <AlertTriangle className=\"h-12 w-12 text-destructive mx-auto mb-4\" />\n            <h2 className=\"text-xl font-semibold text-card-foreground mb-2\">Access Denied</h2>\n            <p className=\"text-muted-foreground\">\n              You don't have permission to access the admin dashboard.\n            </p>\n          </CardContent>\n        </Card>\n      </main>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"animate-pulse space-y-8\">\n          <div className=\"h-8 bg-muted rounded w-1/3\"></div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {Array.from({ length: 4 }).map((_, i) => (\n              <div key={i} className=\"h-24 bg-muted rounded\"></div>\n            ))}\n          </div>\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            {Array.from({ length: 2 }).map((_, i) => (\n              <div key={i} className=\"h-64 bg-muted rounded\"></div>\n            ))}\n          </div>\n        </div>\n      </main>\n    );\n  }\n\n  const riskDistribution = (analytics as any)?.riskDistribution || [];\n  const totalScreenings = riskDistribution.reduce((sum: number, item: any) => sum + item.count, 0);\n\n  return (\n    <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <BackButton />\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Mental Health Analytics Dashboard</h1>\n        <p className=\"text-muted-foreground\">\n          Anonymized insights for institutional decision-making\n        </p>\n      </div>\n\n      {/* Key Metrics Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center space-x-3 mb-2\">\n              <Users className=\"text-primary h-6 w-6\" />\n              <div>\n                <p className=\"text-2xl font-bold text-card-foreground\" data-testid=\"metric-active-users\">\n                  {(analytics as any)?.activeUsers?.toLocaleString() || '0'}\n                </p>\n                <p className=\"text-sm text-muted-foreground\">Active Users</p>\n              </div>\n            </div>\n            <p className=\"text-xs text-secondary\">+12% from last month</p>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center space-x-3 mb-2\">\n              <ClipboardCheck className=\"text-secondary h-6 w-6\" />\n              <div>\n                <p className=\"text-2xl font-bold text-card-foreground\" data-testid=\"metric-screenings\">\n                  {(analytics as any)?.screeningsCompleted?.toLocaleString() || '0'}\n                </p>\n                <p className=\"text-sm text-muted-foreground\">Screenings This Month</p>\n              </div>\n            </div>\n            <p className=\"text-xs text-accent\">+18% from last month</p>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center space-x-3 mb-2\">\n              <Calendar className=\"text-accent h-6 w-6\" />\n              <div>\n                <p className=\"text-2xl font-bold text-card-foreground\" data-testid=\"metric-sessions\">\n                  {(analytics as any)?.counselingSessions?.toLocaleString() || '0'}\n                </p>\n                <p className=\"text-sm text-muted-foreground\">Sessions Booked</p>\n              </div>\n            </div>\n            <p className=\"text-xs text-primary\">+25% from last month</p>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center space-x-3 mb-2\">\n              <AlertTriangle className=\"text-destructive h-6 w-6\" />\n              <div>\n                <p className=\"text-2xl font-bold text-card-foreground\" data-testid=\"metric-alerts\">\n                  {(analytics as any)?.highRiskAlerts?.toLocaleString() || '0'}\n                </p>\n                <p className=\"text-sm text-muted-foreground\">High-Risk Alerts</p>\n              </div>\n            </div>\n            <p className=\"text-xs text-destructive\">Requires attention</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Charts and Analytics */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n        {/* Mental Health Risk Levels */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <BarChart3 className=\"h-5 w-5 mr-2\" />\n              Mental Health Risk Levels\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {riskDistribution.length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-8\">No screening data available</p>\n            ) : (\n              riskDistribution.map((item: any) => {\n                const percentage = totalScreenings > 0 ? (item.count / totalScreenings) * 100 : 0;\n                const colors = {\n                  minimal: \"bg-secondary\",\n                  mild: \"bg-accent\", \n                  moderate: \"bg-chart-4\",\n                  \"moderately-severe\": \"bg-destructive\",\n                  severe: \"bg-destructive\"\n                };\n                \n                return (\n                  <div key={item.riskLevel} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-muted-foreground capitalize\">\n                      {item.riskLevel.replace('-', ' ')} Risk\n                    </span>\n                    <div className=\"flex items-center space-x-2\">\n                      <Progress \n                        value={percentage} \n                        className=\"w-32 h-2\"\n                        data-testid={`progress-${item.riskLevel}`}\n                      />\n                      <span className=\"text-sm font-medium text-card-foreground w-12 text-right\">\n                        {percentage.toFixed(0)}%\n                      </span>\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Usage Patterns */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Activity className=\"h-5 w-5 mr-2\" />\n              Platform Usage Insights\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-6\">\n            {/* Peak Usage Times */}\n            <div>\n              <h5 className=\"font-medium text-card-foreground mb-3\">Peak Usage Hours</h5>\n              <div className=\"flex justify-between items-end h-12\">\n                {[\n                  { hour: \"10PM\", height: 20 },\n                  { hour: \"11PM\", height: 35 }, \n                  { hour: \"12AM\", height: 15 },\n                  { hour: \"2PM\", height: 25 }\n                ].map((time, index) => (\n                  <div key={index} className=\"text-center\">\n                    <div \n                      className=\"w-2 bg-primary rounded-full mx-auto mb-1\"\n                      style={{ height: `${time.height}px` }}\n                      data-testid={`usage-bar-${index}`}\n                    ></div>\n                    <span className=\"text-xs text-muted-foreground\">{time.hour}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Most Used Features */}\n            <div>\n              <h5 className=\"font-medium text-card-foreground mb-3\">Popular Features</h5>\n              <div className=\"space-y-2\">\n                {[\n                  { feature: \"AI Chat Support\", percentage: 68 },\n                  { feature: \"Resource Library\", percentage: 45 },\n                  { feature: \"Peer Forum\", percentage: 32 },\n                  { feature: \"Counselor Booking\", percentage: 28 }\n                ].map((item, index) => (\n                  <div key={index} className=\"flex items-center justify-between text-sm\">\n                    <span className=\"text-muted-foreground\">{item.feature}</span>\n                    <span className=\"text-card-foreground font-medium\">{item.percentage}%</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Action Items for Institution */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center\">\n            <TrendingUp className=\"h-5 w-5 mr-2\" />\n            Recommended Institutional Actions\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"p-4 bg-accent/10 rounded-lg border border-accent/20\">\n              <h5 className=\"font-medium text-accent mb-2\">\n                <Clock className=\"inline h-4 w-4 mr-2\" />\n                Increase Counselor Hours\n              </h5>\n              <p className=\"text-sm text-accent/80\">\n                Booking demand is 40% higher than capacity during exam periods\n              </p>\n            </div>\n            \n            <div className=\"p-4 bg-primary/10 rounded-lg border border-primary/20\">\n              <h5 className=\"font-medium text-primary mb-2\">\n                <Calendar className=\"inline h-4 w-4 mr-2\" />\n                Sleep Workshop Series\n              </h5>\n              <p className=\"text-sm text-primary/80\">\n                High engagement with sleep-related resources suggests need for structured programs\n              </p>\n            </div>\n            \n            <div className=\"p-4 bg-secondary/10 rounded-lg border border-secondary/20\">\n              <h5 className=\"font-medium text-secondary mb-2\">\n                <Users className=\"inline h-4 w-4 mr-2\" />\n                Peer Support Training\n              </h5>\n              <p className=\"text-sm text-secondary/80\">\n                Community engagement shows potential for expanding peer moderator program\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </main>\n  );\n}\n","size_bytes":11216},"client/src/pages/chat.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport ChatInterface from \"@/components/chat/chat-interface\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Label } from \"@/components/ui/label\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Wind, PenTool, Waves, AlertTriangle, Bot, Heart, Brain, Lightbulb, Target, Plus, Upload, FileText, File, X, Sparkles, Users, MessageCircle, User, ArrowLeft } from \"lucide-react\";\nimport drSarahPhoto from '@assets/generated_images/Dr_Sarah_therapist_photo_c6bcfbb6.png';\nimport alexPhoto from '@assets/generated_images/Alex_life_coach_photo_9e882e79.png';\nimport zenPhoto from '@assets/generated_images/Zen_mindfulness_guide_photo_17ae2476.png';\nimport mayaPhoto from '@assets/generated_images/Maya_creative_mentor_photo_28d7db9e.png';\nimport samPhoto from '@assets/generated_images/Sam_supportive_friend_photo_2d226a81.png';\nimport { useAppContext } from \"@/context/AppContext\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { BackButton } from \"@/components/ui/back-button\";\nimport CustomPersonalityDialog from \"@/components/chat/custom-personality-dialog\";\nimport { useQuery } from \"@tanstack/react-query\";\n\nconst aiPersonalities = [\n  {\n    id: \"therapist\",\n    name: \"Dr. Sarah\",\n    role: \"Cognitive Therapist\",\n    description: \"Specializes in CBT and helps with anxiety, depression, and negative thought patterns\",\n    icon: Brain,\n    color: \"bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary-foreground/90\",\n    personality: \"Professional, empathetic, and evidence-based approach\",\n    photo: drSarahPhoto\n  },\n  {\n    id: \"coach\",\n    name: \"Alex\",\n    role: \"Life Coach\",\n    description: \"Motivational support for goal-setting, productivity, and personal growth\",\n    icon: Target,\n    color: \"bg-secondary/20 text-secondary-foreground dark:bg-secondary/30 dark:text-secondary-foreground\",\n    personality: \"Energetic, goal-oriented, and encouraging\",\n    photo: alexPhoto\n  },\n  {\n    id: \"mindfulness\",\n    name: \"Zen\",\n    role: \"Mindfulness Guide\",\n    description: \"Meditation teacher focused on present-moment awareness and stress reduction\",\n    icon: Heart,\n    color: \"bg-accent/20 text-accent-foreground dark:bg-accent/30 dark:text-accent-foreground\",\n    personality: \"Calm, wise, and spiritually grounded\",\n    photo: zenPhoto\n  },\n  {\n    id: \"creative\",\n    name: \"Maya\",\n    role: \"Creative Mentor\",\n    description: \"Helps overcome creative blocks and encourages artistic expression for healing\",\n    icon: Lightbulb,\n    color: \"bg-hope/20 text-hope-foreground dark:bg-hope/30 dark:text-hope-foreground\",\n    personality: \"Imaginative, inspiring, and unconventional\",\n    photo: mayaPhoto\n  },\n  {\n    id: \"friend\",\n    name: \"Sam\",\n    role: \"Supportive Friend\",\n    description: \"Casual, friendly conversation for daily support and emotional venting\",\n    icon: Bot,\n    color: \"bg-healing/20 text-healing-foreground dark:bg-healing/30 dark:text-healing-foreground\",\n    personality: \"Warm, casual, and relatable\",\n    photo: samPhoto\n  }\n];\n\n// Mock available users for live chat\nconst availableUsers = [\n  {\n    id: \"user1\",\n    name: \"Emma Johnson\",\n    age: 24,\n    status: \"Looking for supportive chat\",\n    interests: [\"anxiety support\", \"study stress\", \"mindfulness\"],\n    lastSeen: \"2 minutes ago\",\n    isOnline: true,\n    connectionType: \"peer-support\"\n  },\n  {\n    id: \"user2\", \n    name: \"Marcus Chen\",\n    age: 29,\n    status: \"Open to casual conversation\",\n    interests: [\"career guidance\", \"fitness motivation\", \"positive thinking\"],\n    lastSeen: \"5 minutes ago\",\n    isOnline: true,\n    connectionType: \"peer-support\"\n  },\n  {\n    id: \"user3\",\n    name: \"Sarah Williams\",\n    age: 22,\n    status: \"Need someone to talk to\",\n    interests: [\"creative expression\", \"emotional support\", \"self-care\"],\n    lastSeen: \"1 hour ago\",\n    isOnline: false,\n    connectionType: \"peer-support\"\n  },\n  {\n    id: \"user4\",\n    name: \"David Martinez\",\n    age: 31,\n    status: \"Experienced in peer counseling\",\n    interests: [\"addiction recovery\", \"life transitions\", \"goal setting\"],\n    lastSeen: \"10 minutes ago\",\n    isOnline: true,\n    connectionType: \"trained-peer\"\n  },\n  {\n    id: \"user5\",\n    name: \"Riley Parker\",\n    age: 26,\n    status: \"Good listener, here to help\",\n    interests: [\"LGBTQ+ support\", \"relationship advice\", \"daily check-ins\"],\n    lastSeen: \"3 hours ago\",\n    isOnline: false,\n    connectionType: \"peer-support\"\n  }\n];\n\nconst quickActions = [\n  {\n    icon: Wind,\n    title: \"Breathing Exercise\",\n    description: \"Guided relaxation\",\n    action: \"breathing\",\n    color: \"text-secondary\",\n  },\n  {\n    icon: PenTool,\n    title: \"Mood Journal\",\n    description: \"Track your feelings\",\n    action: \"journal\",\n    color: \"text-primary\",\n  },\n  {\n    icon: Waves,\n    title: \"Progressive Muscle Relaxation\",\n    description: \"Body tension relief\",\n    action: \"relaxation\",\n    color: \"text-accent\",\n  },\n  {\n    icon: AlertTriangle,\n    title: \"Need Immediate Help?\",\n    description: \"Connect with counselor\",\n    action: \"emergency\",\n    color: \"text-destructive\",\n  },\n];\n\nexport default function Chat() {\n  const [selectedAction, setSelectedAction] = useState<string | null>(null);\n  const [selectedPersonality, setSelectedPersonality] = useState(aiPersonalities[0]);\n  const [showPersonalities, setShowPersonalities] = useState(true);\n  const [showCustomDialog, setShowCustomDialog] = useState(false);\n  const [customPersonalities, setCustomPersonalities] = useState<any[]>([]);\n  const [chatType, setChatType] = useState<\"assistance\" | \"live\">(\"assistance\");\n  const [selectedUser, setSelectedUser] = useState<any>(null);\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n\n  // Load custom personalities from localStorage\n  useEffect(() => {\n    const loadCustomPersonalities = () => {\n      try {\n        const stored = localStorage.getItem('customPersonalities');\n        if (stored) {\n          const parsed = JSON.parse(stored);\n          const userPersonalities = parsed.filter((p: any) => p.userId === currentUser?.id);\n          setCustomPersonalities(userPersonalities);\n        }\n      } catch (error) {\n        console.error('Error loading custom personalities:', error);\n      }\n    };\n    \n    if (currentUser?.id) {\n      loadCustomPersonalities();\n    }\n  }, [currentUser?.id]);\n\n  const handleQuickAction = (action: string) => {\n    setSelectedAction(action);\n  };\n\n  const handlePersonalitySelect = (personality: typeof aiPersonalities[0] | any) => {\n    // Ensure custom personalities have the required properties for display\n    let normalizedPersonality = personality;\n    \n    if (personality.customPrompt) {\n      // This is a custom personality, add default display properties\n      normalizedPersonality = {\n        ...personality,\n        icon: Sparkles,\n        color: \"bg-gradient-to-br from-primary to-primary/60 text-primary-foreground\",\n        role: \"Custom AI\",\n        personality: \"Trained on your conversations - completely free!\"\n      };\n    }\n    \n    setSelectedPersonality(normalizedPersonality);\n    setShowPersonalities(false);\n  };\n\n  const handleCustomPersonalityCreated = (personality: any) => {\n    // Add to local storage\n    const stored = localStorage.getItem('customPersonalities') || '[]';\n    const existing = JSON.parse(stored);\n    const newPersonality = {\n      ...personality,\n      id: Date.now().toString(),\n      userId: currentUser?.id,\n      createdAt: new Date().toISOString()\n    };\n    \n    existing.push(newPersonality);\n    localStorage.setItem('customPersonalities', JSON.stringify(existing));\n    \n    // Update local state\n    setCustomPersonalities([...customPersonalities, newPersonality]);\n    \n    // Normalize the custom personality for display\n    const normalizedPersonality = {\n      ...newPersonality,\n      icon: Sparkles,\n      color: \"bg-gradient-to-br from-primary to-primary/60 text-primary-foreground\",\n      role: \"Custom AI\",\n      personality: \"Trained on your conversations - completely free!\"\n    };\n    \n    setSelectedPersonality(normalizedPersonality);\n    setShowPersonalities(false);\n    toast({\n      title: \"Success! 🎉\",\n      description: `Your custom AI \"${personality.name}\" is ready to chat!`,\n    });\n  };\n\n  const handleUserSelect = (user: any) => {\n    setSelectedUser(user);\n    setChatType(\"live\"); // Ensure chat type is set to live\n    setSelectedPersonality(aiPersonalities[0]); // Clear any personality conflicts\n    setShowPersonalities(false);\n    toast({\n      title: \"Connection Request Sent\",\n      description: `Requesting to connect with ${user.name}...`,\n    });\n  };\n\n  const handleChatTypeChange = (type: \"assistance\" | \"live\") => {\n    setChatType(type);\n    setShowPersonalities(true);\n    // Clear state when switching chat types\n    if (type === \"assistance\") {\n      setSelectedUser(null);\n    } else {\n      setSelectedPersonality(aiPersonalities[0]); // Reset to default\n    }\n  };\n\n  return (\n    <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      {showPersonalities && <BackButton />}\n      {showPersonalities ? (\n        /* Chat Type Selection */\n        <div className=\"space-y-6\">\n          <div className=\"text-center\">\n            <h1 className=\"text-3xl font-bold text-foreground mb-2\">Choose Your Chat Type</h1>\n            <p className=\"text-muted-foreground\">Select between AI assistance or live user connection</p>\n          </div>\n          \n          <Tabs defaultValue=\"assistance\" value={chatType} onValueChange={(value) => handleChatTypeChange(value as \"assistance\" | \"live\")} className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"assistance\" className=\"flex items-center gap-2\" data-testid=\"tab-assistance-chat\">\n                <Bot className=\"h-4 w-4\" />\n                Assistance Chat\n              </TabsTrigger>\n              <TabsTrigger value=\"live\" className=\"flex items-center gap-2\" data-testid=\"tab-live-chat\">\n                <Users className=\"h-4 w-4\" />\n                Live Chat\n              </TabsTrigger>\n            </TabsList>\n            \n            <TabsContent value=\"assistance\" className=\"mt-6\">\n              <div className=\"space-y-6\">\n                <div className=\"text-center\">\n                  <h2 className=\"text-2xl font-bold text-foreground mb-2\">Choose Your AI Companion</h2>\n                  <p className=\"text-muted-foreground\">Select the personality that best matches your current needs</p>\n                </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {/* Default AI Personalities */}\n            {aiPersonalities.map((personality) => {\n              const IconComponent = personality.icon;\n              return (\n                <Card \n                  key={personality.id} \n                  className=\"hover:shadow-lg transition-shadow cursor-pointer\"\n                  onClick={() => handlePersonalitySelect(personality)}\n                  data-testid={`personality-card-${personality.id}`}\n                >\n                  <CardHeader>\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"relative\">\n                        <div className=\"w-16 h-16 sm:w-18 sm:h-18 rounded-full overflow-hidden shadow-lg border-3 border-card/50 dark:border-card\">\n                          <img \n                            src={personality.photo}\n                            alt={`${personality.name} profile`}\n                            className=\"w-full h-full object-cover\"\n                          />\n                        </div>\n                        <div className={`absolute -bottom-1 -right-1 p-1 rounded-full ${personality.color} shadow-md`}>\n                          <IconComponent className=\"h-3 w-3\" />\n                        </div>\n                      </div>\n                      <div>\n                        <CardTitle className=\"text-lg\">{personality.name}</CardTitle>\n                        <CardDescription>{personality.role}</CardDescription>\n                      </div>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    <p className=\"text-sm text-muted-foreground mb-3\">\n                      {personality.description}\n                    </p>\n                    \n                    <div className=\"bg-muted p-2 rounded text-xs text-muted-foreground\">\n                      <strong>Style:</strong> {personality.personality}\n                    </div>\n                  </CardContent>\n                </Card>\n              );\n            })}\n\n            {/* Custom AI Personalities */}\n            {customPersonalities.map((personality: any) => (\n              <Card \n                key={personality.id} \n                className=\"hover:shadow-lg transition-shadow cursor-pointer border-2 border-primary/20\"\n                onClick={() => handlePersonalitySelect(personality)}\n                data-testid={`custom-personality-card-${personality.id}`}\n              >\n                <CardHeader>\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"relative\">\n                      {personality.photo ? (\n                        <>\n                          <div className=\"w-16 h-16 sm:w-18 sm:h-18 rounded-full overflow-hidden shadow-lg border-3 border-card/50 dark:border-card\">\n                            <img \n                              src={personality.photo}\n                              alt={`${personality.name} profile`}\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n                          <div className=\"absolute -bottom-1 -right-1 p-1 rounded-full bg-gradient-to-br from-primary to-primary/60 text-primary-foreground shadow-md\">\n                            <Sparkles className=\"h-3 w-3\" />\n                          </div>\n                        </>\n                      ) : (\n                        <div className=\"p-2 rounded-lg bg-gradient-to-br from-primary to-primary/60 text-primary-foreground\">\n                          <Sparkles className=\"h-6 w-6\" />\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2\">\n                        <CardTitle className=\"text-lg\">{personality.name}</CardTitle>\n                        <div className=\"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full font-medium\">\n                          Custom\n                        </div>\n                      </div>\n                      <CardDescription>\n                        {personality.description || \"Trained from your conversations\"}\n                      </CardDescription>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-sm text-muted-foreground mb-3\">\n                    This AI learned from your {personality.sourceType === 'file' ? 'uploaded file' : 'chat data'}: {personality.originalFileName || 'text input'}\n                  </p>\n                  \n                  <div className=\"bg-gradient-to-r from-primary/5 to-primary/10 p-2 rounded text-xs\">\n                    <strong>🎉 Free Local AI:</strong> No API keys needed!\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n\n            {/* Create Custom AI Card */}\n            <Card \n              className=\"hover:shadow-lg transition-shadow cursor-pointer border-2 border-dashed border-primary/30 hover:border-primary/50 bg-gradient-to-br from-primary/5 to-transparent\"\n              onClick={() => setShowCustomDialog(true)}\n              data-testid=\"create-custom-ai-card\"\n            >\n              <CardHeader>\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"p-2 rounded-lg bg-primary/10 text-primary\">\n                    <Plus className=\"h-6 w-6\" />\n                  </div>\n                  <div>\n                    <CardTitle className=\"text-lg text-primary\">Create Custom AI</CardTitle>\n                    <CardDescription>Train your own chatbot</CardDescription>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <p className=\"text-sm text-muted-foreground mb-3\">\n                  Upload your chat files or paste conversations to create a personalized AI companion\n                </p>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Custom Personality Dialog */}\n          <CustomPersonalityDialog\n            open={showCustomDialog}\n            onOpenChange={setShowCustomDialog}\n            userId={currentUser?.id || \"\"}\n            onPersonalityCreated={handleCustomPersonalityCreated}\n          />\n          \n                <div className=\"text-center\">\n                  <Button \n                    variant=\"outline\" \n                    onClick={() => setShowPersonalities(false)}\n                    data-testid=\"button-skip-selection\"\n                  >\n                    Continue with Dr. Sarah (Default)\n                  </Button>\n                </div>\n              </div>\n            </TabsContent>\n            \n            <TabsContent value=\"live\" className=\"mt-6\">\n              <div className=\"space-y-6\">\n                <div className=\"text-center\">\n                  <h2 className=\"text-2xl font-bold text-foreground mb-2\">Connect with Live Users</h2>\n                  <p className=\"text-muted-foreground\">Find available users for peer support and conversation</p>\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {availableUsers.map((user) => (\n                    <Card \n                      key={user.id} \n                      className={`hover:shadow-lg transition-shadow cursor-pointer border-2 ${\n                        user.isOnline ? 'border-primary/30 bg-primary/5 dark:border-primary/50 dark:bg-primary/10' : 'border-muted-foreground/20 bg-muted/30 dark:border-muted-foreground/30 dark:bg-muted/50'\n                      }`}\n                      onClick={() => handleUserSelect(user)}\n                      data-testid={`user-card-${user.id}`}\n                    >\n                      <CardHeader>\n                        <div className=\"flex items-center space-x-3\">\n                          <div className=\"relative\">\n                            <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-accent/20 to-primary/20 dark:from-accent/30 dark:to-primary/30 flex items-center justify-center shadow-lg\">\n                              <User className=\"h-8 w-8 text-primary dark:text-primary-foreground\" />\n                            </div>\n                            <div className={`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-background dark:border-card ${\n                              user.isOnline ? 'bg-primary dark:bg-primary/80' : 'bg-muted-foreground dark:bg-muted-foreground/60'\n                            }`} />\n                          </div>\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2\">\n                              <CardTitle className=\"text-lg\">{user.name}</CardTitle>\n                            </div>\n                            <CardDescription className=\"text-sm\">\n                              Age {user.age} • {user.lastSeen}\n                            </CardDescription>\n                          </div>\n                        </div>\n                      </CardHeader>\n                      <CardContent>\n                        <p className=\"text-sm text-muted-foreground mb-3\">\n                          {user.status}\n                        </p>\n                        \n                        \n                        <div className={`p-2 rounded text-xs ${\n                          user.isOnline \n                            ? 'bg-primary/10 text-primary border border-primary/30 dark:bg-primary/20 dark:text-primary-foreground dark:border-primary/50' \n                            : 'bg-muted text-muted-foreground border border-muted-foreground/20 dark:bg-muted/50 dark:text-muted-foreground dark:border-muted-foreground/30'\n                        }`}>\n                          <div className=\"flex items-center gap-2\">\n                            <MessageCircle className=\"h-3 w-3\" />\n                            {user.isOnline ? 'Available for chat' : 'Currently offline'}\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))}\n                </div>\n                \n                <div className=\"text-center\">\n                  <Button \n                    variant=\"outline\" \n                    onClick={() => setShowPersonalities(false)}\n                    data-testid=\"button-skip-live-selection\"\n                  >\n                    Browse Later\n                  </Button>\n                </div>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n      ) : (\n        /* Main Chat Interface */\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 min-h-[600px]\">\n          {/* Chat Interface */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"mb-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"relative\">\n                    {chatType === \"live\" && selectedUser ? (\n                      <>\n                        <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-accent/20 to-primary/20 dark:from-accent/30 dark:to-primary/30 flex items-center justify-center shadow-lg border-2 border-background dark:border-card\">\n                          <User className=\"h-6 w-6 text-primary dark:text-primary-foreground\" />\n                        </div>\n                        <div className={`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-background dark:border-card ${\n                          selectedUser.isOnline ? 'bg-primary dark:bg-primary/80' : 'bg-muted-foreground dark:bg-muted-foreground/60'\n                        }`} />\n                      </>\n                    ) : selectedPersonality.photo ? (\n                      <>\n                        <div className=\"w-12 h-12 rounded-full overflow-hidden shadow-lg border-2 border-card/50 dark:border-card\">\n                          <img \n                            src={selectedPersonality.photo}\n                            alt={`${selectedPersonality.name} profile`}\n                            className=\"w-full h-full object-cover\"\n                          />\n                        </div>\n                        <div className={`absolute -bottom-0.5 -right-0.5 p-1 rounded-full ${selectedPersonality.color} shadow-md`}>\n                          <selectedPersonality.icon className=\"h-3 w-3\" />\n                        </div>\n                      </>\n                    ) : (\n                      <div className={`p-2 rounded-lg ${selectedPersonality.color}`}>\n                        <selectedPersonality.icon className=\"h-5 w-5\" />\n                      </div>\n                    )}\n                  </div>\n                  <div>\n                    <h2 className=\"font-semibold\">\n                      {chatType === \"live\" && selectedUser ? selectedUser.name : selectedPersonality.name}\n                    </h2>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {chatType === \"live\" && selectedUser \n                        ? `Age ${selectedUser.age} • ${selectedUser.connectionType === 'trained-peer' ? 'Trained Peer' : 'Peer Support'}`\n                        : selectedPersonality.role\n                      }\n                    </p>\n                  </div>\n                </div>\n                <Button \n                  variant=\"outline\" \n                  size=\"sm\" \n                  onClick={() => setShowPersonalities(true)}\n                  data-testid={chatType === \"live\" ? \"button-change-user\" : \"button-change-personality\"}\n                  className=\"flex items-center gap-2\"\n                >\n                  <ArrowLeft className=\"h-4 w-4\" />\n                  {chatType === \"live\" ? \"Change User\" : \"Change AI\"}\n                </Button>\n              </div>\n            </div>\n            <ChatInterface \n              selectedAction={selectedAction} \n              selectedPersonality={selectedPersonality}\n              chatType={chatType}\n              selectedUser={selectedUser}\n            />\n          </div>\n\n          {/* Chat Options Sidebar */}\n          <div>\n            <h4 className=\"text-lg font-medium text-card-foreground mb-4\">Quick Actions</h4>\n            <div className=\"space-y-3\">\n              {quickActions.map((action, index) => (\n                <Button\n                  key={index}\n                  variant=\"ghost\"\n                  className=\"w-full justify-start p-4 h-auto\"\n                  onClick={() => handleQuickAction(action.action)}\n                  data-testid={`button-quick-action-${action.action}`}\n                >\n                  <div className=\"flex items-center space-x-3 w-full\">\n                    <action.icon className={`h-5 w-5 ${action.color}`} />\n                    <div className=\"text-left\">\n                      <p className={`font-medium ${action.action === \"emergency\" ? \"text-destructive\" : \"text-card-foreground\"}`}>\n                        {action.title}\n                      </p>\n                      <p className={`text-xs ${action.action === \"emergency\" ? \"text-destructive/70\" : \"text-muted-foreground\"}`}>\n                        {action.description}\n                      </p>\n                    </div>\n                  </div>\n                </Button>\n              ))}\n            </div>\n\n            {/* Current Chat Info */}\n            <Card className=\"mt-6\">\n              <CardHeader>\n                <CardTitle className=\"text-sm\">\n                  {chatType === \"live\" ? \"Current Chat Partner\" : \"Current AI Companion\"}\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"pt-0\">\n                <div className=\"flex items-center space-x-3 mb-2\">\n                  <div className=\"relative\">\n                    {chatType === \"live\" && selectedUser ? (\n                      <>\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-accent/20 to-primary/20 dark:from-accent/30 dark:to-primary/30 flex items-center justify-center shadow-md border-2 border-background dark:border-card\">\n                          <User className=\"h-5 w-5 text-primary dark:text-primary-foreground\" />\n                        </div>\n                        <div className={`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-background dark:border-card ${\n                          selectedUser.isOnline ? 'bg-primary dark:bg-primary/80' : 'bg-muted-foreground dark:bg-muted-foreground/60'\n                        }`} />\n                      </>\n                    ) : selectedPersonality.photo ? (\n                      <>\n                        <div className=\"w-10 h-10 rounded-full overflow-hidden shadow-md border-2 border-card/50 dark:border-card\">\n                          <img \n                            src={selectedPersonality.photo}\n                            alt={`${selectedPersonality.name} profile`}\n                            className=\"w-full h-full object-cover\"\n                          />\n                        </div>\n                        <div className={`absolute -bottom-0.5 -right-0.5 p-0.5 rounded-full ${selectedPersonality.color} shadow-sm`}>\n                          <selectedPersonality.icon className=\"h-2.5 w-2.5\" />\n                        </div>\n                      </>\n                    ) : (\n                      <div className={`p-2 rounded-lg ${selectedPersonality.color}`}>\n                        <selectedPersonality.icon className=\"h-4 w-4\" />\n                      </div>\n                    )}\n                  </div>\n                  <div>\n                    <p className=\"font-medium text-sm\">\n                      {chatType === \"live\" && selectedUser ? selectedUser.name : selectedPersonality.name}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {chatType === \"live\" && selectedUser \n                        ? `${selectedUser.connectionType === 'trained-peer' ? 'Trained Peer' : 'Peer Support'} • ${selectedUser.isOnline ? 'Online' : 'Offline'}`\n                        : selectedPersonality.role\n                      }\n                    </p>\n                  </div>\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  {chatType === \"live\" && selectedUser \n                    ? selectedUser.status\n                    : selectedPersonality.description\n                  }\n                </p>\n              </CardContent>\n            </Card>\n\n            {/* Disclaimer */}\n            <Card className=\"mt-6 bg-muted/50\">\n              <CardContent className=\"p-4\">\n                <p className=\"text-xs text-muted-foreground leading-relaxed\">\n                  <span className=\"inline-block w-2 h-2 bg-primary rounded-full mr-2\" />\n                  {chatType === \"live\" \n                    ? \"Peer support provides valuable connection but is not a substitute for professional mental health care. Please be respectful and supportive in your conversations.\"\n                    : \"This AI assistant provides supportive guidance and is not a substitute for professional mental health care. All conversations are confidential.\"\n                  }\n                </p>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      )}\n    </main>\n  );\n}\n","size_bytes":30697},"client/src/pages/community.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { \n  Shield, \n  ShieldQuestion, \n  Plus, \n  Heart, \n  MessageSquare, \n  Flag,\n  Users,\n  CheckCircle,\n  BookOpen,\n  Lightbulb,\n  Star,\n  TrendingUp,\n  Award,\n  Code,\n  Palette,\n  GraduationCap,\n  Trophy,\n  Eye,\n  ThumbsUp,\n  ExternalLink\n} from \"lucide-react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport ForumPost from \"@/components/community/forum-post\";\nimport type { ForumPost as ForumPostType } from \"@/types\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\nconst categories = [\n  \"Exam Stress\",\n  \"Social Anxiety\", \n  \"Depression Support\",\n  \"Study Motivation\",\n  \"Peer Pressure\",\n  \"Career Anxiety\",\n  \"Family Issues\",\n  \"General Support\"\n];\n\nconst skillCategories = [\n  \"technical\",\n  \"creative\", \n  \"academic\",\n  \"sports\",\n  \"other\"\n];\n\nconst proficiencyLevels = [\n  \"beginner\",\n  \"intermediate\", \n  \"advanced\",\n  \"expert\"\n];\n\nconst showcaseTypes = [\n  \"project\",\n  \"achievement\",\n  \"certificate\", \n  \"portfolio\"\n];\n\nconst moderators = [\n  { pseudonym: \"PeerMod_Alex\", role: \"Psychology Student\", color: \"bg-primary\" },\n  { pseudonym: \"WellnessHelper_Priya\", role: \"Counseling Intern\", color: \"bg-secondary\" },\n];\n\nexport default function Community() {\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  const [isCreatePostOpen, setIsCreatePostOpen] = useState(false);\n  const [isAddSkillOpen, setIsAddSkillOpen] = useState(false);\n  const [isCreateShowcaseOpen, setIsCreateShowcaseOpen] = useState(false);\n  \n  const [newPost, setNewPost] = useState({\n    title: \"\",\n    content: \"\",\n    category: \"\",\n    isAnonymous: true,\n  });\n\n  const [newSkill, setNewSkill] = useState({\n    skillName: \"\",\n    category: \"\",\n    proficiencyLevel: \"\",\n    description: \"\",\n    yearsOfExperience: 0,\n  });\n\n  const [newShowcase, setNewShowcase] = useState({\n    skillId: \"\",\n    title: \"\",\n    description: \"\",\n    type: \"\",\n    mediaUrl: \"\",\n    externalUrl: \"\",\n    tags: [] as string[],\n  });\n\n  const { data: forumPosts, isLoading: isLoadingPosts } = useQuery({\n    queryKey: [\"/api/forum/posts\"],\n  });\n\n  const { data: userSkills, isLoading: isLoadingSkills } = useQuery({\n    queryKey: [\"/api/skills\"],\n  });\n\n  const { data: skillShowcases, isLoading: isLoadingShowcases } = useQuery({\n    queryKey: [\"/api/skill-showcases\"],\n  });\n\n  const createPostMutation = useMutation({\n    mutationFn: async (postData: any) => {\n      return await apiRequest(\"POST\", \"/api/forum/posts\", {\n        ...postData,\n        userId: currentUser?.id,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum/posts\"] });\n      setIsCreatePostOpen(false);\n      setNewPost({ title: \"\", content: \"\", category: \"\", isAnonymous: true });\n      toast({\n        title: \"Post created\",\n        description: \"Your post has been submitted for moderation.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create post. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const createSkillMutation = useMutation({\n    mutationFn: async (skillData: any) => {\n      return await apiRequest(\"POST\", \"/api/skills\", {\n        ...skillData,\n        userId: currentUser?.id,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/skills\"] });\n      setIsAddSkillOpen(false);\n      setNewSkill({ skillName: \"\", category: \"\", proficiencyLevel: \"\", description: \"\", yearsOfExperience: 0 });\n      toast({\n        title: \"Skill added\",\n        description: \"Your skill has been added to your profile.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to add skill. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const createShowcaseMutation = useMutation({\n    mutationFn: async (showcaseData: any) => {\n      return await apiRequest(\"POST\", \"/api/skill-showcases\", {\n        ...showcaseData,\n        userId: currentUser?.id,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/skill-showcases\"] });\n      setIsCreateShowcaseOpen(false);\n      setNewShowcase({ skillId: \"\", title: \"\", description: \"\", type: \"\", mediaUrl: \"\", externalUrl: \"\", tags: [] });\n      toast({\n        title: \"Showcase created\",\n        description: \"Your skill showcase has been created.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create showcase. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleCreatePost = () => {\n    if (!newPost.title.trim() || !newPost.content.trim() || !newPost.category) {\n      toast({\n        title: \"Missing information\",\n        description: \"Please fill in all required fields.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    createPostMutation.mutate(newPost);\n  };\n\n  const handleCreateSkill = () => {\n    if (!newSkill.skillName.trim() || !newSkill.category || !newSkill.proficiencyLevel) {\n      toast({\n        title: \"Missing information\",\n        description: \"Please fill in all required fields.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    createSkillMutation.mutate(newSkill);\n  };\n\n  const handleCreateShowcase = () => {\n    if (!newShowcase.skillId || !newShowcase.title.trim() || !newShowcase.description.trim() || !newShowcase.type) {\n      toast({\n        title: \"Missing information\", \n        description: \"Please fill in all required fields.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    createShowcaseMutation.mutate(newShowcase);\n  };\n\n  const getCategoryIcon = (category: string) => {\n    switch(category) {\n      case 'technical': return Code;\n      case 'creative': return Palette;\n      case 'academic': return GraduationCap;\n      case 'sports': return Trophy;\n      default: return Star;\n    }\n  };\n\n  const getProficiencyColor = (level: string) => {\n    switch(level) {\n      case 'beginner': return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';\n      case 'intermediate': return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';\n      case 'advanced': return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200';\n      case 'expert': return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200';\n    }\n  };\n\n  return (\n    <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n      <BackButton />\n      \n      {/* Header Section */}\n      <div className=\"mb-8\">\n        <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 rounded-xl p-6 border border-blue-100 dark:border-blue-800\">\n          <div className=\"flex items-center space-x-3 mb-4\">\n            <div className=\"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center\">\n              <Users className=\"h-6 w-6 text-white\" />\n            </div>\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Community Hub</h1>\n              <p className=\"text-blue-700 dark:text-blue-300\">Connect, share experiences, and showcase your talents</p>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6\">\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-100 dark:border-gray-700\">\n              <div className=\"flex items-center space-x-2\">\n                <Star className=\"h-5 w-5 text-yellow-500\" />\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white\">Safe Space</span>\n              </div>\n              <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">Anonymous support discussions</p>\n            </div>\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-100 dark:border-gray-700\">\n              <div className=\"flex items-center space-x-2\">\n                <TrendingUp className=\"h-5 w-5 text-green-500\" />\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white\">Peer Support</span>\n              </div>\n              <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">Share experiences with students</p>\n            </div>\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-100 dark:border-gray-700\">\n              <div className=\"flex items-center space-x-2\">\n                <Award className=\"h-5 w-5 text-purple-500\" />\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white\">Skill Showcase</span>\n              </div>\n              <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">Display your talents and achievements</p>\n            </div>\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-100 dark:border-gray-700\">\n              <div className=\"flex items-center space-x-2\">\n                <Lightbulb className=\"h-5 w-5 text-blue-500\" />\n                <span className=\"text-sm font-medium text-gray-900 dark:text-white\">Learn Together</span>\n              </div>\n              <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">Discover new skills and inspiration</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <Tabs defaultValue=\"forum\" className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-2 mb-6\">\n          <TabsTrigger value=\"forum\" className=\"flex items-center gap-2\">\n            <MessageSquare className=\"h-4 w-4\" />\n            Support Forum\n          </TabsTrigger>\n          <TabsTrigger value=\"skills\" className=\"flex items-center gap-2\">\n            <Award className=\"h-4 w-4\" />\n            Skill Showcase\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"forum\" className=\"mt-0\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n            {/* Sidebar */}\n            <div className=\"lg:col-span-1 space-y-6\">\n              {/* Quick Actions */}\n              <Card className=\"border-gray-200 dark:border-gray-700 shadow-sm\">\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center\">\n                    <Plus className=\"h-5 w-5 mr-2 text-blue-600\" />\n                    Quick Actions\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  <Button \n                    onClick={() => setIsCreatePostOpen(true)}\n                    className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium\"\n                    data-testid=\"button-create-post-sidebar\"\n                  >\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Share Your Story\n                  </Button>\n                  <div className=\"text-xs text-gray-500 dark:text-gray-400 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n                    💡 Your posts are always anonymous and reviewed by trained peer moderators\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Community Guidelines */}\n              <Card className=\"border-gray-200 dark:border-gray-700 shadow-sm\">\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center\">\n                    <Shield className=\"h-5 w-5 mr-2 text-green-600\" />\n                    Community Guidelines\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <ul className=\"space-y-3 text-sm\">\n                    <li className=\"flex items-start space-x-3\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                      <span className=\"text-gray-700 dark:text-gray-300\">Be respectful and supportive to all members</span>\n                    </li>\n                    <li className=\"flex items-start space-x-3\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                      <span className=\"text-gray-700 dark:text-gray-300\">Share personal experiences, not professional advice</span>\n                    </li>\n                    <li className=\"flex items-start space-x-3\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                      <span className=\"text-gray-700 dark:text-gray-300\">Maintain anonymity for everyone's safety</span>\n                    </li>\n                    <li className=\"flex items-start space-x-3\">\n                      <CheckCircle className=\"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                      <span className=\"text-gray-700 dark:text-gray-300\">Report content that may be harmful</span>\n                    </li>\n                  </ul>\n                </CardContent>\n              </Card>\n\n              {/* Active Moderators */}\n              <Card className=\"border-gray-200 dark:border-gray-700 shadow-sm\">\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center\">\n                    <ShieldQuestion className=\"h-5 w-5 mr-2 text-purple-600\" />\n                    Peer Moderators\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {moderators.map((mod, index) => (\n                      <div key={index} className=\"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n                        <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center\">\n                          <ShieldQuestion className=\"text-white h-5 w-5\" />\n                        </div>\n                        <div className=\"flex-1\">\n                          <p className=\"text-sm font-medium text-gray-900 dark:text-white\">{mod.pseudonym}</p>\n                          <p className=\"text-xs text-gray-600 dark:text-gray-400\">{mod.role}</p>\n                          <div className=\"flex items-center mt-1\">\n                            <div className=\"w-2 h-2 bg-green-500 rounded-full mr-2\"></div>\n                            <span className=\"text-xs text-green-600 dark:text-green-400\">Online</span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"mt-4 p-3 bg-purple-50 dark:bg-purple-950/30 rounded-lg border border-purple-100 dark:border-purple-800\">\n                    <p className=\"text-xs text-purple-700 dark:text-purple-300\">\n                      <BookOpen className=\"inline h-3 w-3 mr-1\" />\n                      Our moderators are trained students who understand your challenges\n                    </p>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Discussion Forum */}\n            <div className=\"lg:col-span-3\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Discussion Forum</h2>\n                  <p className=\"text-gray-600 dark:text-gray-400 mt-1\">Share your experiences and find support from fellow students</p>\n                </div>\n                \n                <Dialog open={isCreatePostOpen} onOpenChange={setIsCreatePostOpen}>\n                  <DialogTrigger asChild>\n                    <Button className=\"bg-blue-600 hover:bg-blue-700 text-white font-medium\" data-testid=\"button-create-post\">\n                      <Plus className=\"h-4 w-4 mr-2\" />\n                      New Post\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent className=\"max-w-2xl\">\n                    <DialogHeader>\n                      <DialogTitle className=\"text-xl font-semibold text-gray-900 dark:text-white\">Share Your Experience</DialogTitle>\n                    </DialogHeader>\n                    \n                    <div className=\"space-y-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                          Title\n                        </label>\n                        <Input\n                          placeholder=\"Share a brief, supportive title...\"\n                          value={newPost.title}\n                          onChange={(e) => setNewPost({ ...newPost, title: e.target.value })}\n                          className=\"border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500\"\n                          data-testid=\"input-post-title\"\n                        />\n                      </div>\n                      \n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                          Category\n                        </label>\n                        <Select \n                          value={newPost.category} \n                          onValueChange={(value) => setNewPost({ ...newPost, category: value })}\n                        >\n                          <SelectTrigger data-testid=\"select-post-category\">\n                            <SelectValue placeholder=\"Select a category\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {categories.map((category) => (\n                              <SelectItem key={category} value={category}>\n                                {category}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      \n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                          Your Experience\n                        </label>\n                        <Textarea\n                          placeholder=\"Share your experience, feelings, or ask for peer support. Remember to be respectful and supportive.\"\n                          rows={5}\n                          value={newPost.content}\n                          onChange={(e) => setNewPost({ ...newPost, content: e.target.value })}\n                          className=\"border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500\"\n                          data-testid=\"textarea-post-content\"\n                        />\n                      </div>\n                      \n                      <div className=\"bg-blue-50 dark:bg-blue-950/30 rounded-lg p-4 border border-blue-100 dark:border-blue-800\">\n                        <p className=\"text-sm text-blue-700 dark:text-blue-300\">\n                          <Shield className=\"inline h-4 w-4 mr-2\" />\n                          Your post will be shared anonymously and reviewed by trained peer moderators before appearing in the forum.\n                        </p>\n                      </div>\n                      \n                      <div className=\"flex justify-end space-x-2\">\n                        <Button \n                          variant=\"outline\" \n                          onClick={() => setIsCreatePostOpen(false)}\n                        >\n                          Cancel\n                        </Button>\n                        <Button \n                          onClick={handleCreatePost}\n                          disabled={createPostMutation.isPending}\n                          className=\"bg-blue-600 hover:bg-blue-700 text-white font-medium\"\n                          data-testid=\"button-submit-post\"\n                        >\n                          {createPostMutation.isPending ? \"Posting...\" : \"Share Post\"}\n                        </Button>\n                      </div>\n                    </div>\n                  </DialogContent>\n                </Dialog>\n              </div>\n\n              <div className=\"space-y-4\">\n                {isLoadingPosts ? (\n                  Array.from({ length: 3 }).map((_, i) => (\n                    <Card key={i} className=\"animate-pulse\">\n                      <CardContent className=\"p-6\">\n                        <div className=\"h-4 bg-muted rounded mb-4\"></div>\n                        <div className=\"h-3 bg-muted rounded mb-2\"></div>\n                        <div className=\"h-3 bg-muted rounded mb-4\"></div>\n                        <div className=\"h-8 bg-muted rounded\"></div>\n                      </CardContent>\n                    </Card>\n                  ))\n                ) : !forumPosts || (forumPosts as any)?.length === 0 ? (\n                  <Card className=\"border-gray-200 dark:border-gray-700 shadow-sm\">\n                    <CardContent className=\"p-12 text-center\">\n                      <div className=\"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6\">\n                        <Users className=\"h-8 w-8 text-gray-400\" />\n                      </div>\n                      <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">Start the Conversation</h3>\n                      <p className=\"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto\">\n                        Be the first to share your experience and create a supportive space for fellow students.\n                      </p>\n                      <Button \n                        onClick={() => setIsCreatePostOpen(true)}\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2\"\n                      >\n                        <Plus className=\"h-4 w-4 mr-2\" />\n                        Create First Post\n                      </Button>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  (forumPosts as any)?.map?.((post: ForumPostType) => (\n                    <ForumPost key={post.id} post={post as ForumPostType & { replies?: any[] }} />\n                  ))\n                )}\n              </div>\n            </div>\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"skills\" className=\"mt-0\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n            {/* Skills Sidebar */}\n            <div className=\"lg:col-span-1 space-y-6\">\n              {/* Quick Actions */}\n              <Card className=\"border-gray-200 dark:border-gray-700 shadow-sm\">\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center\">\n                    <Plus className=\"h-5 w-5 mr-2 text-purple-600\" />\n                    Showcase Actions\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  <Button \n                    onClick={() => setIsAddSkillOpen(true)}\n                    className=\"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium\"\n                    data-testid=\"button-add-skill\"\n                  >\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Add Skill\n                  </Button>\n                  <Button \n                    onClick={() => setIsCreateShowcaseOpen(true)}\n                    variant=\"outline\"\n                    className=\"w-full\"\n                    data-testid=\"button-create-showcase\"\n                  >\n                    <Award className=\"h-4 w-4 mr-2\" />\n                    Create Showcase\n                  </Button>\n                  <div className=\"text-xs text-gray-500 dark:text-gray-400 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n                    🎯 Showcase your talents and inspire fellow students\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Your Skills */}\n              <Card className=\"border-gray-200 dark:border-gray-700 shadow-sm\">\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center\">\n                    <Award className=\"h-5 w-5 mr-2 text-purple-600\" />\n                    Your Skills\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  {isLoadingSkills ? (\n                    <div className=\"space-y-3\">\n                      {Array.from({ length: 3 }).map((_, i) => (\n                        <div key={i} className=\"h-16 bg-muted rounded-lg animate-pulse\" />\n                      ))}\n                    </div>\n                  ) : !userSkills || (userSkills as any)?.length === 0 ? (\n                    <div className=\"text-center py-6\">\n                      <Award className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-3\">No skills added yet</p>\n                      <Button \n                        size=\"sm\" \n                        onClick={() => setIsAddSkillOpen(true)}\n                        className=\"bg-purple-600 hover:bg-purple-700\"\n                      >\n                        Add Your First Skill\n                      </Button>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-3\">\n                      {(userSkills as any)?.slice(0, 3).map((skill: any) => {\n                        const IconComponent = getCategoryIcon(skill.category);\n                        return (\n                          <div key={skill.id} className=\"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n                            <div className=\"flex items-start space-x-3\">\n                              <IconComponent className=\"h-5 w-5 text-purple-600 mt-0.5\" />\n                              <div className=\"flex-1 min-w-0\">\n                                <p className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">{skill.skillName}</p>\n                                <Badge className={`text-xs mt-1 ${getProficiencyColor(skill.proficiencyLevel)}`}>\n                                  {skill.proficiencyLevel}\n                                </Badge>\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                      {(userSkills as any)?.length > 3 && (\n                        <p className=\"text-xs text-center text-gray-500 dark:text-gray-400\">\n                          +{(userSkills as any).length - 3} more skills\n                        </p>\n                      )}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Skills Showcase */}\n            <div className=\"lg:col-span-3\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Skill Showcase</h2>\n                  <p className=\"text-gray-600 dark:text-gray-400 mt-1\">Discover amazing talents from fellow students</p>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                {isLoadingShowcases ? (\n                  Array.from({ length: 4 }).map((_, i) => (\n                    <Card key={i} className=\"animate-pulse\">\n                      <div className=\"aspect-video bg-muted rounded-t-lg\"></div>\n                      <CardContent className=\"p-4\">\n                        <div className=\"h-4 bg-muted rounded mb-2\"></div>\n                        <div className=\"h-3 bg-muted rounded mb-3\"></div>\n                        <div className=\"h-6 bg-muted rounded\"></div>\n                      </CardContent>\n                    </Card>\n                  ))\n                ) : !skillShowcases || (skillShowcases as any)?.length === 0 ? (\n                  <div className=\"col-span-2\">\n                    <Card className=\"border-gray-200 dark:border-gray-700 shadow-sm\">\n                      <CardContent className=\"p-12 text-center\">\n                        <div className=\"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6\">\n                          <Award className=\"h-8 w-8 text-gray-400\" />\n                        </div>\n                        <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">Be the First to Showcase</h3>\n                        <p className=\"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto\">\n                          Share your amazing skills and inspire other students in the community.\n                        </p>\n                        <div className=\"flex gap-3 justify-center\">\n                          <Button \n                            onClick={() => setIsAddSkillOpen(true)}\n                            className=\"bg-purple-600 hover:bg-purple-700 text-white font-medium\"\n                          >\n                            <Plus className=\"h-4 w-4 mr-2\" />\n                            Add Skills First\n                          </Button>\n                          <Button \n                            onClick={() => setIsCreateShowcaseOpen(true)}\n                            variant=\"outline\"\n                          >\n                            Create Showcase\n                          </Button>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  </div>\n                ) : (\n                  (skillShowcases as any)?.map?.((showcase: any) => (\n                    <Card key={showcase.id} className=\"border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow\">\n                      <div className=\"aspect-video bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/30 dark:to-blue-900/30 rounded-t-lg flex items-center justify-center\">\n                        {showcase.mediaUrl ? (\n                          <img src={showcase.mediaUrl} alt={showcase.title} className=\"w-full h-full object-cover rounded-t-lg\" />\n                        ) : (\n                          <Award className=\"h-12 w-12 text-purple-500\" />\n                        )}\n                      </div>\n                      <CardContent className=\"p-4\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white truncate\">{showcase.title}</h3>\n                          <Badge className=\"text-xs bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200\">\n                            {showcase.type}\n                          </Badge>\n                        </div>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2\">{showcase.description}</p>\n                        \n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"flex items-center space-x-4 text-xs text-gray-500\">\n                            <div className=\"flex items-center space-x-1\">\n                              <ThumbsUp className=\"h-3 w-3\" />\n                              <span>{showcase.likes || 0}</span>\n                            </div>\n                            <div className=\"flex items-center space-x-1\">\n                              <Eye className=\"h-3 w-3\" />\n                              <span>{showcase.views || 0}</span>\n                            </div>\n                          </div>\n                          {showcase.externalUrl && (\n                            <a \n                              href={showcase.externalUrl} \n                              target=\"_blank\" \n                              rel=\"noopener noreferrer\"\n                              className=\"text-purple-600 hover:text-purple-700 text-xs flex items-center space-x-1\"\n                            >\n                              <ExternalLink className=\"h-3 w-3\" />\n                              <span>View Project</span>\n                            </a>\n                          )}\n                        </div>\n                        \n                        {showcase.tags && showcase.tags.length > 0 && (\n                          <div className=\"flex flex-wrap gap-1 mt-3\">\n                            {showcase.tags.slice(0, 3).map((tag: string, index: number) => (\n                              <Badge key={index} variant=\"outline\" className=\"text-xs px-2 py-0.5\">\n                                {tag}\n                              </Badge>\n                            ))}\n                          </div>\n                        )}\n                      </CardContent>\n                    </Card>\n                  ))\n                )}\n              </div>\n            </div>\n          </div>\n        </TabsContent>\n      </Tabs>\n\n      {/* Add Skill Dialog */}\n      <Dialog open={isAddSkillOpen} onOpenChange={setIsAddSkillOpen}>\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <DialogTitle className=\"text-xl font-semibold text-gray-900 dark:text-white\">Add Your Skill</DialogTitle>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Skill Name *\n              </label>\n              <Input\n                placeholder=\"e.g., React Development, Digital Art, Public Speaking\"\n                value={newSkill.skillName}\n                onChange={(e) => setNewSkill({ ...newSkill, skillName: e.target.value })}\n                data-testid=\"input-skill-name\"\n              />\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Category *\n                </label>\n                <Select \n                  value={newSkill.category} \n                  onValueChange={(value) => setNewSkill({ ...newSkill, category: value })}\n                >\n                  <SelectTrigger data-testid=\"select-skill-category\">\n                    <SelectValue placeholder=\"Select category\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {skillCategories.map((category) => (\n                      <SelectItem key={category} value={category}>\n                        {category.charAt(0).toUpperCase() + category.slice(1)}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Proficiency Level *\n                </label>\n                <Select \n                  value={newSkill.proficiencyLevel} \n                  onValueChange={(value) => setNewSkill({ ...newSkill, proficiencyLevel: value })}\n                >\n                  <SelectTrigger data-testid=\"select-proficiency-level\">\n                    <SelectValue placeholder=\"Select level\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {proficiencyLevels.map((level) => (\n                      <SelectItem key={level} value={level}>\n                        {level.charAt(0).toUpperCase() + level.slice(1)}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Years of Experience\n              </label>\n              <Input\n                type=\"number\"\n                min=\"0\"\n                max=\"50\"\n                placeholder=\"0\"\n                value={newSkill.yearsOfExperience}\n                onChange={(e) => setNewSkill({ ...newSkill, yearsOfExperience: parseInt(e.target.value) || 0 })}\n                data-testid=\"input-years-experience\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Description\n              </label>\n              <Textarea\n                placeholder=\"Describe your skill, what you can do with it, any notable achievements...\"\n                rows={3}\n                value={newSkill.description}\n                onChange={(e) => setNewSkill({ ...newSkill, description: e.target.value })}\n                data-testid=\"textarea-skill-description\"\n              />\n            </div>\n            \n            <div className=\"flex justify-end space-x-2\">\n              <Button \n                variant=\"outline\" \n                onClick={() => setIsAddSkillOpen(false)}\n              >\n                Cancel\n              </Button>\n              <Button \n                onClick={handleCreateSkill}\n                disabled={createSkillMutation.isPending}\n                className=\"bg-purple-600 hover:bg-purple-700 text-white\"\n                data-testid=\"button-submit-skill\"\n              >\n                {createSkillMutation.isPending ? \"Adding...\" : \"Add Skill\"}\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Create Showcase Dialog */}\n      <Dialog open={isCreateShowcaseOpen} onOpenChange={setIsCreateShowcaseOpen}>\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <DialogTitle className=\"text-xl font-semibold text-gray-900 dark:text-white\">Create Skill Showcase</DialogTitle>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Select Skill *\n              </label>\n              <Select \n                value={newShowcase.skillId} \n                onValueChange={(value) => setNewShowcase({ ...newShowcase, skillId: value })}\n              >\n                <SelectTrigger data-testid=\"select-showcase-skill\">\n                  <SelectValue placeholder=\"Choose a skill to showcase\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {(userSkills as any)?.map((skill: any) => (\n                    <SelectItem key={skill.id} value={skill.id}>\n                      {skill.skillName} ({skill.proficiencyLevel})\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              {(!userSkills || (userSkills as any)?.length === 0) && (\n                <p className=\"text-xs text-amber-600 dark:text-amber-400 mt-1\">\n                  You need to add skills first before creating a showcase\n                </p>\n              )}\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Title *\n              </label>\n              <Input\n                placeholder=\"e.g., My Portfolio Website, Award-winning Art Project\"\n                value={newShowcase.title}\n                onChange={(e) => setNewShowcase({ ...newShowcase, title: e.target.value })}\n                data-testid=\"input-showcase-title\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Type *\n              </label>\n              <Select \n                value={newShowcase.type} \n                onValueChange={(value) => setNewShowcase({ ...newShowcase, type: value })}\n              >\n                <SelectTrigger data-testid=\"select-showcase-type\">\n                  <SelectValue placeholder=\"Select showcase type\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {showcaseTypes.map((type) => (\n                    <SelectItem key={type} value={type}>\n                      {type.charAt(0).toUpperCase() + type.slice(1)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Description *\n              </label>\n              <Textarea\n                placeholder=\"Describe your showcase, what makes it special, what you learned...\"\n                rows={4}\n                value={newShowcase.description}\n                onChange={(e) => setNewShowcase({ ...newShowcase, description: e.target.value })}\n                data-testid=\"textarea-showcase-description\"\n              />\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Media URL (optional)\n                </label>\n                <Input\n                  placeholder=\"https://example.com/image.jpg\"\n                  value={newShowcase.mediaUrl}\n                  onChange={(e) => setNewShowcase({ ...newShowcase, mediaUrl: e.target.value })}\n                  data-testid=\"input-media-url\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Project URL (optional)\n                </label>\n                <Input\n                  placeholder=\"https://github.com/user/project\"\n                  value={newShowcase.externalUrl}\n                  onChange={(e) => setNewShowcase({ ...newShowcase, externalUrl: e.target.value })}\n                  data-testid=\"input-external-url\"\n                />\n              </div>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Tags (optional)\n              </label>\n              <Input\n                placeholder=\"react, web-design, responsive (comma separated)\"\n                onChange={(e) => {\n                  const tags = e.target.value.split(',').map(tag => tag.trim()).filter(Boolean);\n                  setNewShowcase({ ...newShowcase, tags });\n                }}\n                data-testid=\"input-showcase-tags\"\n              />\n            </div>\n            \n            <div className=\"flex justify-end space-x-2\">\n              <Button \n                variant=\"outline\" \n                onClick={() => setIsCreateShowcaseOpen(false)}\n              >\n                Cancel\n              </Button>\n              <Button \n                onClick={handleCreateShowcase}\n                disabled={createShowcaseMutation.isPending}\n                className=\"bg-purple-600 hover:bg-purple-700 text-white\"\n                data-testid=\"button-submit-showcase\"\n              >\n                {createShowcaseMutation.isPending ? \"Creating...\" : \"Create Showcase\"}\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </main>\n  );\n}","size_bytes":44666},"client/src/pages/dashboard.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { useAppContext, userModes } from \"@/context/AppContext\";\nimport AISuggestions from \"@/components/ai-suggestions\";\nimport CrisisAlert from \"@/components/dashboard/crisis-alert\";\nimport MoodTracker from \"@/components/dashboard/mood-tracker\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Brain, Heart, Calendar, Users, ArrowRight, Phone, Shield, BookOpen, Gamepad2, Flower, Moon, Music, Palette } from \"lucide-react\";\nimport { useLocation } from \"wouter\";\n\ninterface DashboardStats {\n  recentActivities: Array<{\n    id: string;\n    title: string;\n    timestamp: string;\n    result?: string;\n    duration?: string;\n    type: \"screening\" | \"chat\" | \"appointment\";\n  }>;\n  nextAppointment?: {\n    date: string;\n    time: string;\n    counselor: string;\n  };\n}\n\nexport default function Dashboard() {\n  const { currentUser, userMode } = useAppContext();\n  const [, setLocation] = useLocation();\n\n  const { data: analytics } = useQuery({\n    queryKey: [\"/api/analytics\"],\n    enabled: currentUser?.isAdmin || false,\n  });\n\n  const { data: userAppointments } = useQuery({\n    queryKey: [\"/api/appointments/user\", currentUser?.id],\n    enabled: !!currentUser?.id,\n  });\n\n  const { data: screeningHistory } = useQuery({\n    queryKey: [\"/api/screening/history\", currentUser?.id],\n    enabled: !!currentUser?.id,\n  });\n\n  const { data: moodHistory } = useQuery({\n    queryKey: [\"/api/mood/history\", currentUser?.id],\n    enabled: !!currentUser?.id,\n  });\n\n  const { data: crisisResources } = useQuery({\n    queryKey: [\"/api/crisis/resources\"],\n  });\n\n  const recentActivities = [\n    {\n      id: \"1\",\n      title: \"Completed GAD-7 Screening\",\n      timestamp: \"2 hours ago\",\n      result: \"Low Risk\",\n      type: \"screening\" as const,\n    },\n    {\n      id: \"2\",\n      title: \"Chat Session with AI\",\n      timestamp: \"Yesterday\",\n      duration: \"15 min\",\n      type: \"chat\" as const,\n    },\n    {\n      id: \"3\",\n      title: \"Scheduled Counseling Session\",\n      timestamp: \"Tomorrow, 2:00 PM\",\n      result: \"Upcoming\",\n      type: \"appointment\" as const,\n    },\n  ];\n\n  // Mode-specific customizations\n  const getModeConfig = () => {\n    const currentMode = userModes.find(mode => mode.id === userMode);\n    if (!currentMode) return null;\n\n    const modeConfigs = {\n      'focus': {\n        welcomeMessage: \"Ready to focus and achieve your study goals today?\",\n        primaryActions: [\n          {\n            icon: Brain,\n            title: \"Focus Chat Assistant\",\n            description: \"Get study strategies and productivity tips\",\n            action: () => setLocation(\"/chat\"),\n            color: \"bg-primary/10 text-primary\",\n          },\n          {\n            icon: BookOpen,\n            title: \"Study Resources\",\n            description: \"Access learning materials and guides\",\n            action: () => setLocation(\"/resources\"),\n            color: \"bg-secondary/10 text-secondary\",\n          },\n        ],\n        recommendations: [\n          {\n            title: \"Pomodoro Study Session\",\n            description: \"25-minute focused study technique\",\n            action: () => setLocation(\"/routine\"),\n            icon: \"🍅\"\n          },\n          {\n            title: \"Study Break Exercises\",\n            description: \"Mental breaks between study sessions\",\n            action: () => setLocation(\"/yoga\"),\n            icon: \"📚\"\n          }\n        ]\n      },\n      'relax': {\n        welcomeMessage: \"Take a moment to breathe and find your inner peace today.\",\n        primaryActions: [\n          {\n            icon: Flower,\n            title: \"Meditation & Yoga\",\n            description: \"Guided sessions for inner peace\",\n            action: () => setLocation(\"/yoga\"),\n            color: \"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400\",\n          },\n          {\n            icon: Music,\n            title: \"Calming Sounds\",\n            description: \"Nature sounds and meditation music\",\n            action: () => setLocation(\"/music\"),\n            color: \"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400\",\n          },\n        ],\n        recommendations: [\n          {\n            title: \"5-Minute Breathing Exercise\",\n            description: \"Quick relaxation technique\",\n            action: () => setLocation(\"/yoga\"),\n            icon: \"🧘\"\n          },\n          {\n            title: \"Sleep Stories\",\n            description: \"Calming bedtime stories\",\n            action: () => setLocation(\"/sleep\"),\n            icon: \"💤\"\n          }\n        ]\n      },\n      'social': {\n        welcomeMessage: \"Ready to connect and share your journey with others?\",\n        primaryActions: [\n          {\n            icon: Users,\n            title: \"Peer Support\",\n            description: \"Connect with fellow students anonymously\",\n            action: () => setLocation(\"/peer-calling\"),\n            color: \"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-400\",\n          },\n          {\n            icon: Heart,\n            title: \"Community Resources\",\n            description: \"Shared experiences and support\",\n            action: () => setLocation(\"/resources\"),\n            color: \"bg-pink-100 text-pink-700 dark:bg-pink-900/20 dark:text-pink-400\",\n          },\n        ],\n        recommendations: [\n          {\n            title: \"Join Support Group\",\n            description: \"Connect with others facing similar challenges\",\n            action: () => setLocation(\"/peer-calling\"),\n            icon: \"🤝\"\n          },\n          {\n            title: \"Share Your Story\",\n            description: \"Help others by sharing your experience\",\n            action: () => setLocation(\"/community\"),\n            icon: \"💬\"\n          }\n        ]\n      },\n      'energy': {\n        welcomeMessage: \"Let's channel that energy into positive action today!\",\n        primaryActions: [\n          {\n            icon: Gamepad2,\n            title: \"Active Games\",\n            description: \"Fun games to boost your energy\",\n            action: () => setLocation(\"/games\"),\n            color: \"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400\",\n          },\n          {\n            icon: Calendar,\n            title: \"Active Routine\",\n            description: \"Build an energizing daily routine\",\n            action: () => setLocation(\"/routine\"),\n            color: \"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400\",\n          },\n        ],\n        recommendations: [\n          {\n            title: \"10-Minute Energy Workout\",\n            description: \"Quick exercises to boost mood\",\n            action: () => setLocation(\"/routine\"),\n            icon: \"⚡\"\n          },\n          {\n            title: \"Motivational Videos\",\n            description: \"Inspiring content to keep you moving\",\n            action: () => setLocation(\"/videos\"),\n            icon: \"🎯\"\n          }\n        ]\n      },\n      'mindful': {\n        welcomeMessage: \"Time for mindful reflection and personal growth today.\",\n        primaryActions: [\n          {\n            icon: BookOpen,\n            title: \"Personal Diary\",\n            description: \"Reflect on your thoughts and feelings\",\n            action: () => setLocation(\"/diary\"),\n            color: \"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-400\",\n          },\n          {\n            icon: Brain,\n            title: \"Mindful Chat\",\n            description: \"Reflective conversations with AI guide\",\n            action: () => setLocation(\"/chat\"),\n            color: \"bg-teal-100 text-teal-700 dark:bg-teal-900/20 dark:text-teal-400\",\n          },\n        ],\n        recommendations: [\n          {\n            title: \"Daily Reflection Prompt\",\n            description: \"Guided questions for self-discovery\",\n            action: () => setLocation(\"/diary\"),\n            icon: \"🌱\"\n          },\n          {\n            title: \"Mindfulness Exercise\",\n            description: \"Present-moment awareness practice\",\n            action: () => setLocation(\"/yoga\"),\n            icon: \"🧠\"\n          }\n        ]\n      },\n      'creative': {\n        welcomeMessage: \"Let your creativity flow and express yourself today!\",\n        primaryActions: [\n          {\n            icon: Palette,\n            title: \"Creative Expression\",\n            description: \"Art therapy and creative activities\",\n            action: () => setLocation(\"/resources\"),\n            color: \"bg-violet-100 text-violet-700 dark:bg-violet-900/20 dark:text-violet-400\",\n          },\n          {\n            icon: Music,\n            title: \"Creative Sounds\",\n            description: \"Inspiring music for creativity\",\n            action: () => setLocation(\"/music\"),\n            color: \"bg-fuchsia-100 text-fuchsia-700 dark:bg-fuchsia-900/20 dark:text-fuchsia-400\",\n          },\n        ],\n        recommendations: [\n          {\n            title: \"Art Therapy Session\",\n            description: \"Express emotions through creativity\",\n            action: () => setLocation(\"/resources\"),\n            icon: \"🎨\"\n          },\n          {\n            title: \"Creative Writing Prompt\",\n            description: \"Explore thoughts through writing\",\n            action: () => setLocation(\"/diary\"),\n            icon: \"✍️\"\n          }\n        ]\n      },\n      'recovery': {\n        welcomeMessage: \"Take the time you need to rest and recover today.\",\n        primaryActions: [\n          {\n            icon: Moon,\n            title: \"Sleep & Rest Guide\",\n            description: \"Tools for better rest and recovery\",\n            action: () => setLocation(\"/sleep\"),\n            color: \"bg-slate-100 text-slate-700 dark:bg-slate-900/20 dark:text-slate-400\",\n          },\n          {\n            icon: Heart,\n            title: \"Gentle Support\",\n            description: \"Low-energy wellness activities\",\n            action: () => setLocation(\"/chat\"),\n            color: \"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/20 dark:text-indigo-400\",\n          },\n        ],\n        recommendations: [\n          {\n            title: \"Gentle Stretching\",\n            description: \"Restorative movement for recovery\",\n            action: () => setLocation(\"/yoga\"),\n            icon: \"💤\"\n          },\n          {\n            title: \"Sleep Hygiene Tips\",\n            description: \"Improve your sleep quality\",\n            action: () => setLocation(\"/sleep\"),\n            icon: \"🛌\"\n          }\n        ]\n      }\n    };\n\n    return modeConfigs[userMode as keyof typeof modeConfigs] || null;\n  };\n\n  const modeConfig = getModeConfig();\n\n  const quickActions = modeConfig?.primaryActions || [\n    {\n      icon: Brain,\n      title: \"AI Support Chat\",\n      description: \"Get instant support and coping strategies\",\n      action: () => setLocation(\"/chat\"),\n      color: \"bg-primary/10 text-primary\",\n    },\n    {\n      icon: Heart,\n      title: \"Wellness Screening\",\n      description: \"Check your mental health with PHQ-9 & GAD-7\",\n      action: () => setLocation(\"/screening\"),\n      color: \"bg-secondary/10 text-secondary\",\n    },\n    {\n      icon: Calendar,\n      title: \"Book Counseling\",\n      description: \"Schedule confidential sessions\",\n      action: () => setLocation(\"/doctor\"),\n      color: \"bg-accent/10 text-accent\",\n    },\n    {\n      icon: Users,\n      title: \"Peer Support\",\n      description: \"Connect with fellow students anonymously\",\n      action: () => setLocation(\"/community\"),\n      color: \"bg-chart-4/10 text-chart-4\",\n    },\n  ];\n\n  return (\n    <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <CrisisAlert />\n\n      {/* Welcome Section */}\n      <div className=\"bg-gradient-to-r from-primary to-secondary rounded-xl p-8 text-primary-foreground mb-8\">\n        <h2 className=\"text-3xl font-bold mb-2\">\n          Welcome back, {currentUser?.firstName || \"Student\"}\n        </h2>\n        <p className=\"text-primary-foreground/80 text-lg mb-4\">\n          {modeConfig?.welcomeMessage || \"How are you feeling today? Remember, taking care of your mental health is just as important as your physical health.\"}\n        </p>\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <Button\n            onClick={() => setLocation(\"/chat\")}\n            className=\"bg-primary-foreground/20 hover:bg-primary-foreground/30 text-primary-foreground\"\n            data-testid=\"button-start-chat\"\n          >\n            <Brain className=\"mr-2 h-4 w-4\" />\n            Talk to AI Helper\n          </Button>\n          <Button\n            onClick={() => setLocation(\"/screening\")}\n            className=\"bg-white/90 hover:bg-white text-primary border-0\"\n            data-testid=\"button-start-screening\"\n          >\n            <Heart className=\"mr-2 h-4 w-4\" />\n            Quick Wellness Check\n          </Button>\n        </div>\n      </div>\n\n      {/* Quick Actions Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        {quickActions.map((action, index) => (\n          <Card\n            key={index}\n            className=\"hover:shadow-md transition-shadow cursor-pointer\"\n            onClick={action.action}\n            data-testid={`card-action-${index}`}\n          >\n            <CardContent className=\"p-6\">\n              <div className={`w-12 h-12 rounded-lg flex items-center justify-center mb-4 ${action.color}`}>\n                <action.icon className=\"h-6 w-6\" />\n              </div>\n              <h3 className=\"font-semibold text-card-foreground mb-2\">{action.title}</h3>\n              <p className=\"text-muted-foreground text-sm\">{action.description}</p>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Personal Insights */}\n        <div className=\"lg:col-span-2\">\n          <h3 className=\"text-xl font-semibold text-card-foreground mb-6\">Your Wellness Journey</h3>\n          \n          {/* Mood Tracking */}\n          <MoodTracker moodHistory={moodHistory as any} />\n\n          {/* Recent Activities */}\n          <Card className=\"mt-6\">\n            <CardContent className=\"p-6\">\n              <h4 className=\"text-lg font-medium text-card-foreground mb-4\">Recent Activities</h4>\n              <div className=\"space-y-4\">\n                {recentActivities.map((activity) => {\n                  const getActivityPath = (type: string) => {\n                    switch (type) {\n                      case \"screening\": return \"/screening\";\n                      case \"chat\": return \"/chat\";\n                      case \"appointment\": return \"/doctor\";\n                      default: return \"/\";\n                    }\n                  };\n\n                  return (\n                    <div\n                      key={activity.id}\n                      className=\"flex items-center space-x-4 p-3 bg-muted/30 rounded-lg hover:bg-muted/50 cursor-pointer transition-colors\"\n                      onClick={() => setLocation(getActivityPath(activity.type))}\n                      data-testid={`activity-${activity.id}`}\n                    >\n                    <div className=\"w-10 h-10 bg-secondary/10 rounded-full flex items-center justify-center\">\n                      {activity.type === \"screening\" && <Heart className=\"h-5 w-5 text-secondary\" />}\n                      {activity.type === \"chat\" && <Brain className=\"h-5 w-5 text-primary\" />}\n                      {activity.type === \"appointment\" && <Calendar className=\"h-5 w-5 text-accent\" />}\n                    </div>\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm font-medium text-card-foreground\">{activity.title}</p>\n                      <p className=\"text-xs text-muted-foreground\">{activity.timestamp}</p>\n                    </div>\n                    <div className=\"text-sm font-medium text-secondary\">\n                      {activity.result || activity.duration}\n                    </div>\n                  </div>\n                  );\n                })}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Sidebar */}\n        <div>\n          {/* AI-Powered Suggestions */}\n          <AISuggestions />\n          \n          {/* Today's Recommendations */}\n          <Card className=\"mb-6\">\n            <CardContent className=\"p-6\">\n              <h4 className=\"text-lg font-medium text-card-foreground mb-4\">\n                {modeConfig ? `Recommended for ${userModes.find(m => m.id === userMode)?.name}` : \"Recommended for You\"}\n              </h4>\n              <div className=\"space-y-4\">\n                {(modeConfig?.recommendations || [\n                  {\n                    title: \"5-Minute Breathing Exercise\",\n                    description: \"Perfect for exam stress relief\",\n                    action: () => setLocation(\"/chat\"),\n                    icon: \"🧘\"\n                  },\n                  {\n                    title: \"Sleep Hygiene Guide\",\n                    description: \"Improve your sleep quality\",\n                    action: () => setLocation(\"/resources\"),\n                    icon: \"💤\"\n                  }\n                ]).map((recommendation, index) => (\n                  <div key={index} className=\"p-4 bg-muted/30 rounded-lg border\">\n                    <div className=\"flex items-center space-x-3 mb-2\">\n                      <div className=\"w-6 h-6 bg-secondary/20 rounded-full flex items-center justify-center\">\n                        <span className=\"text-xs\">{recommendation.icon}</span>\n                      </div>\n                      <span className=\"text-sm font-medium text-card-foreground\">{recommendation.title}</span>\n                    </div>\n                    <p className=\"text-xs text-muted-foreground mb-3\">{recommendation.description}</p>\n                    <Button \n                      size=\"sm\" \n                      className=\"w-full\" \n                      onClick={recommendation.action}\n                      data-testid={`button-recommendation-${index}`}\n                    >\n                      Start\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Crisis Resources */}\n          <Card className=\"border-destructive/20 bg-destructive/5\">\n            <CardContent className=\"p-6\">\n              <h4 className=\"text-lg font-medium text-destructive mb-4\">\n                <Phone className=\"inline mr-2 h-5 w-5\" />\n                Crisis Support\n              </h4>\n              <div className=\"space-y-3\">\n                {(crisisResources as any)?.immediateHelp?.slice(0, 3).map((resource: any, index: number) => (\n                  <div key={index} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-destructive/80\">{resource.name}</span>\n                    <a \n                      href={`tel:${resource.phone}`} \n                      className=\"text-sm font-medium text-destructive hover:underline\"\n                      data-testid={`link-crisis-${index}`}\n                    >\n                      Call Now\n                    </a>\n                  </div>\n                ))}\n              </div>\n              <p className=\"text-xs text-destructive/60 mt-4\">\n                <Shield className=\"inline mr-1 h-3 w-3\" />\n                All conversations are completely confidential\n              </p>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </main>\n  );\n}\n","size_bytes":19628},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\nimport logoUrl from '@assets/logo (1)_1758315813528.png';\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex items-center justify-center mb-4\">\n            <img src={logoUrl} alt=\"ApnaMann Logo\" className=\"w-10 h-10 rounded-lg object-cover\" data-testid=\"img-logo-404\" />\n          </div>\n          <div className=\"flex mb-4 gap-2 justify-center\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":994},"client/src/pages/resources.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { \n  Leaf, \n  Moon, \n  Book, \n  Clover, \n  Users, \n  Construction, \n  Play, \n  BookOpen, \n  Download, \n  ThumbsUp, \n  Bookmark,\n  Search,\n  Filter,\n  Timer,\n  Brain,\n  Heart,\n  Target,\n  Lightbulb,\n  CheckCircle,\n  Clock,\n  FileText,\n  Headphones,\n  Zap,\n  Star,\n  Calendar,\n  MessageCircle,\n  Mic,\n  Award,\n  TrendingUp\n} from \"lucide-react\";\nimport type { Resource } from \"@/types\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\n// Import generated wellness images (category fallbacks)\nimport stressImage from \"@assets/generated_images/Stress_management_breathing_exercise_cea20dc4.png\";\nimport sleepImage from \"@assets/generated_images/Sleep_hygiene_wellness_illustration_06246b3a.png\";\nimport studyImage from \"@assets/generated_images/Study_techniques_educational_illustration_89d65f81.png\";\nimport mindfulnessImage from \"@assets/generated_images/Mindfulness_meditation_wellness_illustration_1d2de5d2.png\";\nimport socialImage from \"@assets/generated_images/Social_confidence_building_illustration_08d34b18.png\";\nimport careerImage from \"@assets/generated_images/Career_guidance_professional_illustration_3fdaef7e.png\";\n\n// Import individual resource images\n// Career Guidance Resources\nimport resumeTemplateImage from \"@assets/generated_images/Resume_cover_letter_template_05ce5519.png\";\nimport careerAssessmentImage from \"@assets/generated_images/Career_personality_assessment_4033cd1c.png\";\nimport interviewPrepImage from \"@assets/generated_images/Interview_preparation_kit_4a058855.png\";\nimport higherStudiesImage from \"@assets/generated_images/Higher_studies_planning_af61ca8e.png\";\nimport internshipStrategyImage from \"@assets/generated_images/Internship_strategy_toolkit_0d1769a0.png\";\nimport careerRoadmapImage from \"@assets/generated_images/Career_roadmap_planning_af806bfb.png\";\n\n// Stress Management Resources  \nimport breathingExerciseImage from \"@assets/generated_images/Breathing_exercise_visualization_77e51cdf.png\";\nimport muscleRelaxationImage from \"@assets/generated_images/Muscle_relaxation_technique_43a66f6c.png\";\nimport stressJournalImage from \"@assets/generated_images/Stress_journaling_template_7e3cc169.png\";\nimport deskReliefImage from \"@assets/generated_images/Desk_stress_relief_12a92efc.png\";\nimport motivationalQuotesImage from \"@assets/generated_images/Motivational_quotes_generator_722d6da0.png\";\nimport stressGamesImage from \"@assets/generated_images/Stress_relief_games_058c09ee.png\";\n\n// Sleep Hygiene Resources\nimport sleepPlannerImage from \"@assets/generated_images/Sleep_routine_planner_0af8795f.png\";\nimport sleepGuideImage from \"@assets/generated_images/Sleep_hygiene_guide_3546547c.png\";\nimport bedtimeSoundsImage from \"@assets/generated_images/Bedtime_sounds_interface_5193fa06.png\";\nimport sleepTrackerImage from \"@assets/generated_images/Sleep_quality_tracker_123f2c82.png\";\nimport powerNapImage from \"@assets/generated_images/Power_nap_guide_81cfa41b.png\";\nimport windDownImage from \"@assets/generated_images/Bedtime_wind-down_routine_61f2a713.png\";\n\n// Study Techniques Resources\nimport pomodoroTimerImage from \"@assets/generated_images/Pomodoro_study_timer_1811327b.png\";\nimport activeRecallImage from \"@assets/generated_images/Active_recall_technique_ffc85078.png\";\nimport noteStrategyImage from \"@assets/generated_images/Note-taking_strategies_guide_74d3ee40.png\";\nimport memoryPalaceImage from \"@assets/generated_images/Memory_palace_builder_2871afba.png\";\nimport flashcardCreatorImage from \"@assets/generated_images/Digital_flashcard_creator_b9d79bf2.png\";\nimport practiceTestImage from \"@assets/generated_images/Practice_test_generator_e91ca28c.png\";\n\n// Mindfulness Resources\nimport dailyMeditationImage from \"@assets/generated_images/Daily_meditation_practice_8bc47657.png\";\nimport gratitudeJournalImage from \"@assets/generated_images/Gratitude_journal_prompts_d1e3f898.png\";\nimport mindfulBreathingImage from \"@assets/generated_images/Mindful_breathing_exercises_b10fdf6b.png\";\nimport groundingTechniquesImage from \"@assets/generated_images/Anxiety_grounding_techniques_8047483e.png\";\nimport calmingVisualizationImage from \"@assets/generated_images/Calming_visualizations_0408780e.png\";\nimport mindfulMovementImage from \"@assets/generated_images/Mindful_movement_practice_4f903034.png\";\n\n// Social Confidence Resources\nimport conversationStarterImage from \"@assets/generated_images/Conversation_starter_toolkit_3f9aeeba.png\";\nimport publicSpeakingImage from \"@assets/generated_images/Public_speaking_guide_c12690b7.png\";\nimport shynessReductionImage from \"@assets/generated_images/Shyness_reduction_activities_880ac6c1.png\";\nimport socialSimulatorImage from \"@assets/generated_images/Social_situation_simulator_5475e22f.png\";\nimport empathyListeningImage from \"@assets/generated_images/Empathy_listening_skills_ab0affd8.png\";\nimport socialChallengesImage from \"@assets/generated_images/Social_confidence_challenges_9f9da52a.png\";\n\n\nconst categories = [\n  { id: \"stress-management\", icon: Leaf, label: \"Stress Management\", color: \"bg-card border border-border text-card-foreground\" },\n  { id: \"sleep-hygiene\", icon: Moon, label: \"Sleep Hygiene\", color: \"bg-card border border-border text-card-foreground\" },\n  { id: \"study-techniques\", icon: Book, label: \"Study Techniques\", color: \"bg-card border border-border text-card-foreground\" },\n  { id: \"mindfulness\", icon: Clover, label: \"Mindfulness\", color: \"bg-card border border-border text-card-foreground\" },\n  { id: \"social-confidence\", icon: Users, label: \"Social Confidence\", color: \"bg-card border border-border text-card-foreground\" },\n  { id: \"career-guidance\", icon: Construction, label: \"Career Guidance\", color: \"bg-primary text-primary-foreground\" },\n];\n\nconst resourceTypeIcons = {\n  video: Play,\n  article: BookOpen,\n  audio: Play,\n  guide: Book,\n  tool: BookOpen,\n  activity: BookOpen,\n};\n\nconst resourceTypeColors = {\n  video: \"bg-secondary/20 text-secondary\",\n  article: \"bg-accent/20 text-accent\", \n  audio: \"bg-chart-4/20 text-chart-4\",\n  guide: \"bg-secondary/20 text-secondary\",\n  tool: \"bg-primary/20 text-primary\",\n  activity: \"bg-green-500/20 text-green-700\",\n};\n\n// Category to image mapping (fallback)\nconst categoryImages = {\n  \"stress-management\": stressImage,\n  \"sleep-hygiene\": sleepImage,\n  \"study-techniques\": studyImage,\n  \"mindfulness\": mindfulnessImage,\n  \"social-confidence\": socialImage,\n  \"career-guidance\": careerImage,\n};\n\n// Resource ID to image mapping\nconst resourceImages: Record<string, string> = {\n  // Career Guidance Resources\n  \"career-1\": resumeTemplateImage,\n  \"career-2\": careerAssessmentImage,\n  \"career-3\": interviewPrepImage,\n  \"career-4\": higherStudiesImage,\n  \"career-5\": internshipStrategyImage,\n  \"career-6\": careerRoadmapImage,\n  \n  // Stress Management Resources\n  \"stress-1\": breathingExerciseImage,\n  \"stress-2\": muscleRelaxationImage,\n  \"stress-3\": stressJournalImage,\n  \"stress-4\": deskReliefImage,\n  \"stress-5\": motivationalQuotesImage,\n  \"stress-6\": stressGamesImage,\n  \n  // Sleep Hygiene Resources\n  \"sleep-1\": sleepPlannerImage,\n  \"sleep-2\": sleepGuideImage,\n  \"sleep-3\": bedtimeSoundsImage,\n  \"sleep-4\": sleepTrackerImage,\n  \"sleep-5\": powerNapImage,\n  \"sleep-6\": windDownImage,\n  \n  // Study Techniques Resources\n  \"study-1\": pomodoroTimerImage,\n  \"study-2\": activeRecallImage,\n  \"study-3\": noteStrategyImage,\n  \"study-4\": memoryPalaceImage,\n  \"study-5\": flashcardCreatorImage,\n  \"study-6\": practiceTestImage,\n  \n  // Mindfulness Resources\n  \"mindful-1\": dailyMeditationImage,\n  \"mindful-2\": gratitudeJournalImage,\n  \"mindful-3\": mindfulBreathingImage,\n  \"mindful-4\": groundingTechniquesImage,\n  \"mindful-5\": calmingVisualizationImage,\n  \"mindful-6\": mindfulMovementImage,\n  \n  // Social Confidence Resources\n  \"social-1\": conversationStarterImage,\n  \"social-2\": publicSpeakingImage,\n  \"social-3\": shynessReductionImage,\n  \"social-4\": socialSimulatorImage,\n  \"social-5\": empathyListeningImage,\n  \"social-6\": socialChallengesImage,\n};\n\nconst wellnessResourcesData = {\n  \"stress-management\": {\n    title: \"Stress Management\",\n    description: \"Tools and techniques to help you manage stress effectively\",\n    resources: [\n      {\n        id: \"stress-1\",\n        title: \"4-7-8 Breathing Exercise\",\n        description: \"A simple yet powerful breathing technique to reduce stress instantly. Inhale for 4, hold for 7, exhale for 8.\",\n        type: \"activity\",\n        duration: 5,\n        likes: 245,\n        icon: Heart,\n        category: \"Breathing Exercise\"\n      },\n      {\n        id: \"stress-2\", \n        title: \"Progressive Muscle Relaxation\",\n        description: \"Step-by-step guide to systematically tense and relax different muscle groups for deep relaxation.\",\n        type: \"guide\",\n        duration: 15,\n        likes: 189,\n        icon: Target,\n        category: \"Relaxation Technique\"\n      },\n      {\n        id: \"stress-3\",\n        title: \"Stress Journal Template\",\n        description: \"Track your stress triggers, responses, and coping strategies with this structured journaling template.\",\n        type: \"tool\",\n        duration: 10,\n        likes: 167,\n        icon: FileText,\n        category: \"Journaling Tool\"\n      },\n      {\n        id: \"stress-4\",\n        title: \"5-Minute Desk Stress Relief\",\n        description: \"Quick exercises and stretches you can do at your desk to release tension and boost energy.\",\n        type: \"activity\",\n        duration: 5,\n        likes: 203,\n        icon: Zap,\n        category: \"Quick Exercise\"\n      },\n      {\n        id: \"stress-5\",\n        title: \"Motivational Quotes Generator\",\n        description: \"Daily dose of inspiration with curated motivational quotes to help shift your mindset.\",\n        type: \"tool\",\n        duration: 2,\n        likes: 134,\n        icon: Star,\n        category: \"Motivation\"\n      },\n      {\n        id: \"stress-6\",\n        title: \"Stress Relief Mini Games\",\n        description: \"Fun, interactive games designed to distract your mind and reduce stress levels quickly.\",\n        type: \"activity\",\n        duration: 10,\n        likes: 276,\n        icon: Play,\n        category: \"Interactive Game\"\n      }\n    ]\n  },\n  \"sleep-hygiene\": {\n    title: \"Sleep Hygiene\",\n    description: \"Improve your sleep quality with evidence-based tips and tools\",\n    resources: [\n      {\n        id: \"sleep-1\",\n        title: \"Personalized Sleep Routine Planner\",\n        description: \"Create a custom bedtime routine tailored to your schedule and preferences for better sleep quality.\",\n        type: \"tool\",\n        duration: 15,\n        likes: 312,\n        icon: Calendar,\n        category: \"Planning Tool\"\n      },\n      {\n        id: \"sleep-2\",\n        title: \"Sleep Hygiene Do's & Don'ts\",\n        description: \"Comprehensive guide covering what helps and what hurts your sleep, with actionable tips.\",\n        type: \"guide\",\n        duration: 8,\n        likes: 198,\n        icon: CheckCircle,\n        category: \"Educational Guide\"\n      },\n      {\n        id: \"sleep-3\",\n        title: \"Relaxing Bedtime Sounds\",\n        description: \"Curated collection of nature sounds, white noise, and calming music for better sleep.\",\n        type: \"audio\",\n        duration: 30,\n        likes: 445,\n        icon: Headphones,\n        category: \"Sleep Audio\"\n      },\n      {\n        id: \"sleep-4\",\n        title: \"Sleep Quality Tracker\",\n        description: \"Monitor your sleep patterns, quality, and factors affecting your rest with detailed analytics.\",\n        type: \"tool\",\n        duration: 5,\n        likes: 267,\n        icon: TrendingUp,\n        category: \"Tracking Tool\"\n      },\n      {\n        id: \"sleep-5\",\n        title: \"Power Nap Optimization Guide\",\n        description: \"Learn the science of napping and how to take perfect 20-minute power naps for energy boost.\",\n        type: \"guide\",\n        duration: 6,\n        likes: 156,\n        icon: Clock,\n        category: \"Nap Strategy\"\n      },\n      {\n        id: \"sleep-6\",\n        title: \"Bedtime Wind-Down Routine\",\n        description: \"Gentle activities and exercises to help your mind and body prepare for restful sleep.\",\n        type: \"activity\",\n        duration: 20,\n        likes: 234,\n        icon: Moon,\n        category: \"Bedtime Routine\"\n      }\n    ]\n  },\n  \"study-techniques\": {\n    title: \"Study Techniques\",\n    description: \"Proven methods to enhance learning efficiency and academic performance\",\n    resources: [\n      {\n        id: \"study-1\",\n        title: \"Pomodoro Study Timer\",\n        description: \"Interactive timer using the Pomodoro Technique: 25 minutes focused study + 5 minute breaks.\",\n        type: \"tool\",\n        duration: 30,\n        likes: 389,\n        icon: Timer,\n        category: \"Time Management\"\n      },\n      {\n        id: \"study-2\",\n        title: \"Active Recall & Spaced Repetition\",\n        description: \"Master these powerful learning techniques that boost memory retention by up to 200%.\",\n        type: \"guide\",\n        duration: 12,\n        likes: 278,\n        icon: Brain,\n        category: \"Learning Method\"\n      },\n      {\n        id: \"study-3\",\n        title: \"Note-Taking Strategy Guide\",\n        description: \"Explore Cornell, Mind Mapping, and Outline methods to find your perfect note-taking style.\",\n        type: \"guide\",\n        duration: 10,\n        likes: 195,\n        icon: FileText,\n        category: \"Note-Taking\"\n      },\n      {\n        id: \"study-4\",\n        title: \"Memory Palace Builder\",\n        description: \"Learn and practice the ancient memory palace technique to remember complex information.\",\n        type: \"activity\",\n        duration: 20,\n        likes: 167,\n        icon: Lightbulb,\n        category: \"Memory Technique\"\n      },\n      {\n        id: \"study-5\",\n        title: \"Digital Flashcard Creator\",\n        description: \"Create, organize, and review flashcards with spaced repetition algorithms for optimal learning.\",\n        type: \"tool\",\n        duration: 15,\n        likes: 224,\n        icon: BookOpen,\n        category: \"Study Tool\"\n      },\n      {\n        id: \"study-6\",\n        title: \"Practice Test Generator\",\n        description: \"Generate custom practice tests and quizzes to assess your knowledge and identify weak areas.\",\n        type: \"tool\",\n        duration: 25,\n        likes: 201,\n        icon: Award,\n        category: \"Assessment Tool\"\n      }\n    ]\n  },\n  \"mindfulness\": {\n    title: \"Mindfulness\",\n    description: \"Develop present-moment awareness and inner peace through guided practices\",\n    resources: [\n      {\n        id: \"mindful-1\",\n        title: \"5-Minute Daily Meditation\",\n        description: \"Quick guided meditation sessions perfect for busy students to start their mindfulness journey.\",\n        type: \"audio\",\n        duration: 5,\n        likes: 356,\n        icon: Heart,\n        category: \"Meditation\"\n      },\n      {\n        id: \"mindful-2\",\n        title: \"Gratitude Journal Prompts\",\n        description: \"Daily prompts to cultivate appreciation and positive thinking through structured gratitude practice.\",\n        type: \"tool\",\n        duration: 10,\n        likes: 298,\n        icon: Star,\n        category: \"Gratitude Practice\"\n      },\n      {\n        id: \"mindful-3\",\n        title: \"Mindful Breathing Exercises\",\n        description: \"Various breathing techniques to center yourself and reduce anxiety in any situation.\",\n        type: \"activity\",\n        duration: 8,\n        likes: 267,\n        icon: Heart,\n        category: \"Breathing Practice\"\n      },\n      {\n        id: \"mindful-4\",\n        title: \"Grounding Techniques for Anxiety\",\n        description: \"Practical exercises to help you stay present and calm during anxious moments using your senses.\",\n        type: \"guide\",\n        duration: 7,\n        likes: 312,\n        icon: Target,\n        category: \"Anxiety Relief\"\n      },\n      {\n        id: \"mindful-5\",\n        title: \"Calming Visualizations\",\n        description: \"Guided imagery and visualization exercises to create inner peace and mental relaxation.\",\n        type: \"audio\",\n        duration: 12,\n        likes: 234,\n        icon: Moon,\n        category: \"Visualization\"\n      },\n      {\n        id: \"mindful-6\",\n        title: \"Mindful Movement Practice\",\n        description: \"Gentle yoga and stretching exercises that combine movement with mindfulness awareness.\",\n        type: \"activity\",\n        duration: 15,\n        likes: 189,\n        icon: Clover,\n        category: \"Mindful Movement\"\n      }\n    ]\n  },\n  \"social-confidence\": {\n    title: \"Social Confidence\",\n    description: \"Build meaningful connections and overcome social anxiety with practical tools\",\n    resources: [\n      {\n        id: \"social-1\",\n        title: \"Conversation Starter Toolkit\",\n        description: \"Ready-to-use conversation prompts and questions for various social situations and settings.\",\n        type: \"tool\",\n        duration: 8,\n        likes: 276,\n        icon: MessageCircle,\n        category: \"Communication Tool\"\n      },\n      {\n        id: \"social-2\",\n        title: \"Public Speaking Confidence Guide\",\n        description: \"Step-by-step techniques to overcome speaking anxiety and deliver confident presentations.\",\n        type: \"guide\",\n        duration: 15,\n        likes: 203,\n        icon: Mic,\n        category: \"Public Speaking\"\n      },\n      {\n        id: \"social-3\",\n        title: \"Shyness Reduction Activities\",\n        description: \"Gradual exposure exercises and confidence-building activities to overcome social shyness.\",\n        type: \"activity\",\n        duration: 20,\n        likes: 198,\n        icon: Users,\n        category: \"Confidence Building\"\n      },\n      {\n        id: \"social-4\",\n        title: \"Social Situation Simulator\",\n        description: \"Practice common social scenarios through interactive role-play simulations and feedback.\",\n        type: \"tool\",\n        duration: 12,\n        likes: 167,\n        icon: Play,\n        category: \"Practice Tool\"\n      },\n      {\n        id: \"social-5\",\n        title: \"Empathy & Active Listening\",\n        description: \"Develop deeper connections by learning to truly understand and connect with others.\",\n        type: \"guide\",\n        duration: 10,\n        likes: 245,\n        icon: Heart,\n        category: \"Relationship Skills\"\n      },\n      {\n        id: \"social-6\",\n        title: \"Social Confidence Challenges\",\n        description: \"Weekly challenges to gradually expand your comfort zone and build lasting social confidence.\",\n        type: \"activity\",\n        duration: 30,\n        likes: 189,\n        icon: Target,\n        category: \"Challenge Series\"\n      }\n    ]\n  },\n  \"career-guidance\": {\n    title: \"Career Guidance\",\n    description: \"Navigate your career path with tools, templates, and strategic guidance\",\n    resources: [\n      {\n        id: \"career-1\",\n        title: \"Resume & Cover Letter Templates\",\n        description: \"Professional, ATS-friendly templates with industry-specific examples and writing guides.\",\n        type: \"tool\",\n        duration: 30,\n        likes: 445,\n        icon: FileText,\n        category: \"Application Tools\"\n      },\n      {\n        id: \"career-2\",\n        title: \"Career Personality Assessment\",\n        description: \"Discover your strengths, interests, and ideal career paths through comprehensive personality testing.\",\n        type: \"tool\",\n        duration: 20,\n        likes: 367,\n        icon: Brain,\n        category: \"Self-Assessment\"\n      },\n      {\n        id: \"career-3\",\n        title: \"Interview Preparation Kit\",\n        description: \"Common questions, STAR method training, and mock interview practice for job success.\",\n        type: \"guide\",\n        duration: 25,\n        likes: 312,\n        icon: MessageCircle,\n        category: \"Interview Prep\"\n      },\n      {\n        id: \"career-4\",\n        title: \"Higher Studies Planning Guide\",\n        description: \"Navigate graduate school applications, funding options, and program selection strategies.\",\n        type: \"guide\",\n        duration: 18,\n        likes: 234,\n        icon: Book,\n        category: \"Education Planning\"\n      },\n      {\n        id: \"career-5\",\n        title: \"Internship Strategy Toolkit\",\n        description: \"Find, apply, and excel in internships with networking tips and application strategies.\",\n        type: \"tool\",\n        duration: 15,\n        likes: 289,\n        icon: TrendingUp,\n        category: \"Internship Guide\"\n      },\n      {\n        id: \"career-6\",\n        title: \"5-Year Career Roadmap\",\n        description: \"Create a strategic plan for your career with goal-setting templates and milestone tracking.\",\n        type: \"tool\",\n        duration: 45,\n        likes: 198,\n        icon: Calendar,\n        category: \"Career Planning\"\n      }\n    ]\n  }\n};\n\nexport default function Resources() {\n  const [selectedCategory, setSelectedCategory] = useState(\"career-guidance\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [currentResource, setCurrentResource] = useState<any>(null);\n  const [isResourceOpen, setIsResourceOpen] = useState(false);\n  const [timerState, setTimerState] = useState({ minutes: 25, seconds: 0, isRunning: false, isBreak: false });\n  const [breathingState, setBreathingState] = useState({ phase: 'ready', count: 0, currentCycle: 0, totalCycles: 4, isActive: false });\n  const [journalState, setJournalState] = useState({ triggers: '', response: '', strategies: '' });\n  const [bookmarkedResources, setBookmarkedResources] = useState<string[]>(() => {\n    const saved = localStorage.getItem('bookmarked-resources');\n    return saved ? JSON.parse(saved) : [];\n  });\n  const { toast } = useToast();\n\n  // Get current category data\n  const currentCategoryData = wellnessResourcesData[selectedCategory as keyof typeof wellnessResourcesData];\n  \n  // Filter resources based on search query\n  const resources = currentCategoryData?.resources.filter(resource => \n    searchQuery === \"\" || \n    resource.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    resource.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    resource.category.toLowerCase().includes(searchQuery.toLowerCase())\n  ) || [];\n\n  const isLoading = false; // No loading since we use local data\n\n  const handleCategoryChange = (categoryId: string) => {\n    setSelectedCategory(categoryId);\n    const category = categories.find(c => c.id === categoryId);\n    if (category) {\n      // Reset other categories to default styling\n      categories.forEach(cat => {\n        if (cat.id !== categoryId) {\n          cat.color = \"bg-card border border-border text-card-foreground hover:bg-muted/50 transition-colors\";\n        }\n      });\n      // Set active category styling\n      category.color = \"bg-primary text-primary-foreground\";\n    }\n  };\n\n  // Timer effect for Pomodoro\n  useEffect(() => {\n    let interval: number;\n    if (timerState.isRunning) {\n      interval = window.setInterval(() => {\n        setTimerState(prev => {\n          if (prev.seconds === 0) {\n            if (prev.minutes === 0) {\n              // Timer finished - auto-transition to next phase\n              toast({\n                title: prev.isBreak ? \"Break finished!\" : \"Focus session complete!\",\n                description: prev.isBreak ? \"Time to get back to work.\" : \"Take a well-deserved break.\"\n              });\n              return {\n                minutes: prev.isBreak ? 25 : 5,\n                seconds: 0,\n                isRunning: true,\n                isBreak: !prev.isBreak\n              };\n            }\n            return { ...prev, minutes: prev.minutes - 1, seconds: 59 };\n          }\n          return { ...prev, seconds: prev.seconds - 1 };\n        });\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [timerState.isRunning, toast]);\n\n  // Breathing exercise effect\n  useEffect(() => {\n    let interval: number;\n    if (breathingState.isActive && breathingState.phase !== 'ready') {\n      interval = window.setInterval(() => {\n        setBreathingState(prev => {\n          if (prev.count === 1) {\n            // Move to next phase\n            if (prev.phase === 'inhale') {\n              return { ...prev, phase: 'hold', count: 7 };\n            } else if (prev.phase === 'hold') {\n              return { ...prev, phase: 'exhale', count: 8 };\n            } else if (prev.phase === 'exhale') {\n              // Complete cycle - increment first then check\n              const nextCycle = prev.currentCycle + 1;\n              if (nextCycle > prev.totalCycles) {\n                toast({\n                  title: \"Breathing exercise complete!\",\n                  description: \"Well done! You've completed all 4 cycles.\"\n                });\n                return { phase: 'ready', count: 0, currentCycle: 0, totalCycles: 4, isActive: false };\n              } else {\n                return { ...prev, phase: 'inhale', count: 4, currentCycle: nextCycle };\n              }\n            }\n          }\n          return { ...prev, count: prev.count - 1 };\n        });\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [breathingState.isActive, breathingState.phase, toast]);\n\n  const saveJournalEntry = () => {\n    if (!journalState.triggers || !journalState.response) {\n      toast({\n        title: \"Incomplete entry\",\n        description: \"Please fill in at least the triggers and response fields.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    \n    const entry = {\n      ...journalState,\n      timestamp: new Date().toISOString(),\n      id: Date.now().toString()\n    };\n    \n    const savedEntries = localStorage.getItem('stress-journal-entries');\n    const entries = savedEntries ? JSON.parse(savedEntries) : [];\n    entries.push(entry);\n    localStorage.setItem('stress-journal-entries', JSON.stringify(entries));\n    \n    setJournalState({ triggers: '', response: '', strategies: '' });\n    toast({\n      title: \"Journal entry saved\",\n      description: \"Your stress management entry has been recorded.\"\n    });\n  };\n\n  const toggleBookmark = (resourceId: string) => {\n    const isBookmarked = bookmarkedResources.includes(resourceId);\n    const newBookmarks = isBookmarked \n      ? bookmarkedResources.filter(id => id !== resourceId)\n      : [...bookmarkedResources, resourceId];\n    \n    setBookmarkedResources(newBookmarks);\n    localStorage.setItem('bookmarked-resources', JSON.stringify(newBookmarks));\n    \n    toast({\n      title: isBookmarked ? \"Bookmark removed\" : \"Bookmarked!\",\n      description: `${resources.find(r => r.id === resourceId)?.title} ${isBookmarked ? 'removed from' : 'added to'} your bookmarks.`\n    });\n  };\n\n  const handleResourceAction = (action: string, resourceId: string) => {\n    const resource = resources.find(r => r.id === resourceId);\n    if (!resource) return;\n\n    if (action === 'view') {\n      setCurrentResource(resource);\n      setIsResourceOpen(true);\n    } else if (action === 'bookmark') {\n      toggleBookmark(resourceId);\n    } else if (action === 'download') {\n      // Create a simple text file download for guides/articles\n      if (resource.type === 'guide' || resource.type === 'article') {\n        const content = `${resource.title}\\n\\n${resource.description}\\n\\nCategory: ${resource.category}\\nDuration: ${resource.duration} minutes\\n\\nThis is a ${resource.type} resource that would contain detailed content in a real implementation.`;\n        const blob = new Blob([content], { type: 'text/plain' });\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = url;\n        a.download = `${resource.title.replace(/[^a-z0-9]/gi, '_').toLowerCase()}.txt`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n        \n        toast({\n          title: \"Download complete\",\n          description: `${resource.title} has been downloaded as a text file.`\n        });\n      } else {\n        toast({\n          title: \"Download not available\",\n          description: `${resource.type} resources cannot be downloaded.`,\n          variant: \"destructive\"\n        });\n      }\n    }\n  };\n\n  const startTimer = () => {\n    setTimerState(prev => ({ ...prev, isRunning: !prev.isRunning }));\n  };\n\n  const resetTimer = () => {\n    setTimerState({ minutes: 25, seconds: 0, isRunning: false, isBreak: false });\n  };\n\n  const startBreathingExercise = () => {\n    if (breathingState.isActive) {\n      setBreathingState(prev => ({ ...prev, isActive: false, phase: 'ready' }));\n      return;\n    }\n    \n    setBreathingState({ phase: 'inhale', count: 4, currentCycle: 1, totalCycles: 4, isActive: true });\n    toast({\n      title: \"Breathing exercise started\",\n      description: \"Follow the guided breathing pattern\"\n    });\n  };\n\n  const renderResourceContent = (resource: any) => {\n    if (!resource) return null;\n\n    switch (resource.type) {\n      case 'video':\n      case 'audio':\n        return (\n          <div className=\"space-y-4\" data-testid={`content-${resource.type}-${resource.id}`}>\n            <div className=\"space-y-2\">\n              <p className=\"text-sm\">{resource.description}</p>\n              <Badge variant=\"secondary\">{resource.duration} min</Badge>\n            </div>\n            <div className=\"aspect-video bg-secondary/20 rounded-lg overflow-hidden\">\n              {resource.type === 'video' ? (\n                <video \n                  controls \n                  className=\"w-full h-full\"\n                  data-testid=\"video-player\"\n                  poster=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNTAwIiBoZWlnaHQ9IjMwMCIgZmlsbD0iI2Y5ZmFmYiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0ic3lzdGVtLXVpLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjNmI3Mjk2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+U2FtcGxlIFZpZGVvIC0gQ2xpY2sgUGxheSB0byBTdGFydDwvdGV4dD48L3N2Zz4=\"\n                >\n                  <source src=\"https://www.w3schools.com/html/mov_bbb.mp4\" type=\"video/mp4\" />\n                  <p className=\"p-4 text-center\">Your browser does not support the video tag.</p>\n                </video>\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center bg-secondary/10\">\n                  <audio \n                    controls \n                    className=\"w-full max-w-md\"\n                    data-testid=\"audio-player\"\n                  >\n                    <source src=\"https://www.soundjay.com/misc/sounds/fail-buzzer-02.wav\" type=\"audio/wav\" />\n                    <p className=\"text-center text-muted-foreground\">Your browser does not support the audio tag.</p>\n                  </audio>\n                </div>\n              )}\n            </div>\n            <p className=\"text-xs text-muted-foreground text-center\">Sample {resource.type} for demonstration purposes</p>\n          </div>\n        );\n\n      case 'tool':\n        if (resource.id === 'study-1') {\n          // Pomodoro Timer\n          return (\n            <div className=\"space-y-4\" data-testid=\"content-pomodoro-timer\">\n              <div className=\"text-center\">\n                <div className=\"text-6xl font-bold mb-4\">\n                  {String(timerState.minutes).padStart(2, '0')}:{String(timerState.seconds).padStart(2, '0')}\n                </div>\n                <p className=\"text-sm text-muted-foreground mb-4\">\n                  {timerState.isBreak ? 'Break Time' : 'Focus Time'}\n                </p>\n                <div className=\"flex gap-2 justify-center\">\n                  <Button onClick={startTimer} data-testid=\"button-start-timer\">\n                    {timerState.isRunning ? 'Pause' : 'Start'}\n                  </Button>\n                  <Button variant=\"outline\" onClick={resetTimer} data-testid=\"button-reset-timer\">\n                    Reset\n                  </Button>\n                </div>\n              </div>\n            </div>\n          );\n        } else if (resource.id === 'stress-3') {\n          // Stress Journal\n          return (\n            <div className=\"space-y-4\" data-testid=\"content-stress-journal\">\n              <p className=\"text-sm text-muted-foreground\">{resource.description}</p>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"text-sm font-medium\">What's causing you stress today?</label>\n                  <Textarea \n                    placeholder=\"Describe your stress triggers...\" \n                    className=\"mt-1\"\n                    value={journalState.triggers}\n                    onChange={(e) => setJournalState(prev => ({ ...prev, triggers: e.target.value }))}\n                    data-testid=\"textarea-stress-triggers\"\n                  />\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium\">How did you respond?</label>\n                  <Textarea \n                    placeholder=\"Describe your response...\" \n                    className=\"mt-1\"\n                    value={journalState.response}\n                    onChange={(e) => setJournalState(prev => ({ ...prev, response: e.target.value }))}\n                    data-testid=\"textarea-stress-response\"\n                  />\n                </div>\n                <div>\n                  <label className=\"text-sm font-medium\">What coping strategies helped?</label>\n                  <Textarea \n                    placeholder=\"List effective coping strategies...\" \n                    className=\"mt-1\"\n                    value={journalState.strategies}\n                    onChange={(e) => setJournalState(prev => ({ ...prev, strategies: e.target.value }))}\n                    data-testid=\"textarea-coping-strategies\"\n                  />\n                </div>\n                <Button onClick={saveJournalEntry} data-testid=\"button-save-journal\">\n                  <FileText className=\"h-4 w-4 mr-2\" />\n                  Save Entry\n                </Button>\n              </div>\n            </div>\n          );\n        } else {\n          // Generic tool interface\n          return (\n            <div className=\"space-y-4\" data-testid={`content-tool-${resource.id}`}>\n              <p className=\"text-sm\">{resource.description}</p>\n              <div className=\"bg-secondary/10 p-4 rounded-lg\">\n                <p className=\"text-center text-muted-foreground mb-3\">Interactive {resource.category.toLowerCase()} tool</p>\n                <Button className=\"w-full\" onClick={() => toast({ title: `Launching ${resource.title}`, description: \"Tool is now active and ready to use.\" })} data-testid=\"button-launch-tool\">\n                  <Zap className=\"h-4 w-4 mr-2\" />\n                  Launch {resource.title}\n                </Button>\n              </div>\n            </div>\n          );\n        }\n\n      case 'activity':\n        if (resource.id === 'stress-1') {\n          // 4-7-8 Breathing Exercise\n          return (\n            <div className=\"space-y-4\" data-testid=\"content-breathing-exercise\">\n              <div className=\"text-center\">\n                <h4 className=\"font-semibold mb-2\">4-7-8 Breathing Exercise</h4>\n                <p className=\"text-sm text-muted-foreground mb-4\">{resource.description}</p>\n                <div className=\"space-y-2\">\n                  <div className=\"bg-secondary/10 p-4 rounded-lg\">\n                    <p className=\"text-lg font-bold mb-2\">Instructions:</p>\n                    <div className=\"space-y-1 text-sm text-left max-w-md mx-auto\">\n                      <p>1. Inhale through nose for 4 counts</p>\n                      <p>2. Hold breath for 7 counts</p> \n                      <p>3. Exhale through mouth for 8 counts</p>\n                      <p>4. Repeat cycle 4 times</p>\n                    </div>\n                  </div>\n                  {breathingState.isActive && breathingState.phase !== 'ready' ? (\n                    <div className=\"space-y-4\">\n                      <div className=\"text-center\">\n                        <div className=\"text-4xl font-bold text-primary mb-2\">\n                          {breathingState.phase === 'inhale' ? 'Breathe In' : \n                           breathingState.phase === 'hold' ? 'Hold' : 'Breathe Out'}\n                        </div>\n                        <div className=\"text-6xl font-bold mb-2\">{breathingState.count}</div>\n                        <div className=\"text-sm text-muted-foreground\">Cycle {breathingState.currentCycle} of {breathingState.totalCycles}</div>\n                        <Progress \n                          value={((breathingState.currentCycle - 1) / breathingState.totalCycles) * 100 + \n                                  (breathingState.phase === 'inhale' ? ((4 - breathingState.count) / 4) * (100 / breathingState.totalCycles / 3) :\n                                   breathingState.phase === 'hold' ? (25 / breathingState.totalCycles) + ((7 - breathingState.count) / 7) * (100 / breathingState.totalCycles / 3) :\n                                   (50 / breathingState.totalCycles) + ((8 - breathingState.count) / 8) * (100 / breathingState.totalCycles / 3))}\n                          className=\"w-full mt-4\"\n                        />\n                        <Button variant=\"outline\" onClick={startBreathingExercise} className=\"mt-4\">\n                          Stop Exercise\n                        </Button>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"text-center\">\n                      <Button className=\"mt-4\" onClick={startBreathingExercise} data-testid=\"button-start-breathing\">\n                        <Heart className=\"h-4 w-4 mr-2\" />\n                        {breathingState.currentCycle > 0 && !breathingState.isActive ? 'Resume Exercise' : 'Start Breathing Exercise'}\n                      </Button>\n                      {breathingState.currentCycle > 0 && !breathingState.isActive && (\n                        <div className=\"text-sm text-muted-foreground mt-2\">\n                          Paused at cycle {breathingState.currentCycle}\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          );\n        } else {\n          // Generic activity interface\n          return (\n            <div className=\"space-y-4\" data-testid={`content-activity-${resource.id}`}>\n              <p className=\"text-sm\">{resource.description}</p>\n              <div className=\"bg-accent/10 p-4 rounded-lg text-center\">\n                <BookOpen className=\"h-8 w-8 mx-auto mb-2 text-primary\" />\n                <p className=\"font-semibold mb-2\">Ready to start this activity?</p>\n                <Badge variant=\"secondary\" className=\"mb-3\">{resource.duration} minutes</Badge>\n                <br />\n                <Button onClick={() => toast({ title: `Starting ${resource.title}`, description: \"Activity session has begun.\" })} data-testid=\"button-begin-activity\">\n                  Begin Activity\n                </Button>\n              </div>\n            </div>\n          );\n        }\n\n      case 'guide':\n      case 'article':\n        return (\n          <div className=\"space-y-4\" data-testid={`content-guide-${resource.id}`}>\n            <p className=\"text-sm\">{resource.description}</p>\n            <div className=\"space-y-3\">\n              <div className=\"bg-card border rounded-lg p-4\">\n                <h4 className=\"font-semibold mb-2\">Guide Contents</h4>\n                <ul className=\"space-y-1 text-sm text-muted-foreground\">\n                  <li>• Introduction and Overview</li>\n                  <li>• Step-by-step Instructions</li>\n                  <li>• Tips and Best Practices</li>\n                  <li>• Common Mistakes to Avoid</li>\n                  <li>• Additional Resources</li>\n                </ul>\n                <Badge variant=\"outline\" className=\"mt-2\">{resource.duration} min read</Badge>\n              </div>\n              <Button onClick={() => toast({ title: `Opening ${resource.title}`, description: \"Full guide content is now available.\" })} data-testid=\"button-read-guide\">\n                <BookOpen className=\"h-4 w-4 mr-2\" />\n                Read Full Guide\n              </Button>\n            </div>\n          </div>\n        );\n\n      default:\n        return (\n          <div className=\"text-center py-8\" data-testid=\"content-default\">\n            <p className=\"text-muted-foreground\">Content not available</p>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <BackButton />\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Wellness Resources</h1>\n        <p className=\"text-muted-foreground\">\n          Explore curated content to support your mental health journey.\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n        {/* Category Sidebar */}\n        <div className=\"lg:col-span-1\">\n          <div className=\"space-y-4\">\n            <div>\n              <h3 className=\"text-xl font-semibold text-card-foreground mb-4\">Browse Resources</h3>\n              <div className=\"grid grid-cols-1 gap-3\">\n                {categories.map((category) => {\n                  const IconComponent = category.icon;\n                  return (\n                    <div\n                      key={category.id}\n                      className={`cursor-pointer rounded-lg p-4 transition-all duration-300 hover:shadow-lg border-2 ${\n                        selectedCategory === category.id \n                          ? \"border-primary shadow-md bg-primary text-primary-foreground\" \n                          : \"border-border hover:border-primary/50 bg-card text-card-foreground\"\n                      }`}\n                      onClick={() => handleCategoryChange(category.id)}\n                      data-testid={`button-category-${category.id}`}\n                    >\n                      <div className=\"flex items-center\">\n                        <IconComponent className=\"h-5 w-5 mr-3\" />\n                        <span className=\"font-medium\">{category.label}</span>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            {/* Search */}\n            <div>\n              <h4 className=\"font-medium text-card-foreground mb-2\">Search Resources</h4>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search by title or topic...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"pl-9\"\n                  data-testid=\"input-search-resources\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Resource Content */}\n        <div className=\"lg:col-span-3\">\n          {isLoading ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {Array.from({ length: 4 }).map((_, i) => (\n                <Card key={i} className=\"animate-pulse\">\n                  <div className=\"h-48 bg-muted\"></div>\n                  <CardContent className=\"p-4\">\n                    <div className=\"h-4 bg-muted rounded mb-2\"></div>\n                    <div className=\"h-3 bg-muted rounded mb-3\"></div>\n                    <div className=\"h-8 bg-muted rounded\"></div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          ) : !resources || resources.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <Book className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-card-foreground mb-2\">No Resources Found</h3>\n              <p className=\"text-muted-foreground\">\n                {searchQuery ? \"Try adjusting your search terms.\" : \"Resources are being curated for this category.\"}\n              </p>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              {/* Category Header */}\n              <div className=\"text-center py-6 border-b border-border\">\n                <h2 className=\"text-2xl font-bold text-foreground mb-2\">{currentCategoryData?.title}</h2>\n                <p className=\"text-muted-foreground\">{currentCategoryData?.description}</p>\n              </div>\n\n              {/* Resources Grid */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {resources.map((resource) => {\n                  const ResourceIcon = resource.icon;\n                  const typeColor = resourceTypeColors[resource.type as keyof typeof resourceTypeColors];\n                  \n                  return (\n                    <Card key={resource.id} className=\"overflow-hidden hover:shadow-lg transition-all duration-300 hover:scale-105 border-l-4 border-l-primary\">\n                      {/* Beautiful Resource Image */}\n                      <div className=\"h-32 relative overflow-hidden\">\n                        <img \n                          src={resourceImages[resource.id] || categoryImages[selectedCategory as keyof typeof categoryImages]} \n                          alt={resource.title}\n                          className=\"w-full h-full object-cover\"\n                          data-testid={`img-resource-${resource.id}`}\n                        />\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent\"></div>\n                        <div className=\"absolute top-3 right-3\">\n                          <Badge className={`text-xs font-medium ${typeColor} backdrop-blur-sm`}>\n                            {resource.type}\n                          </Badge>\n                        </div>\n                        <div className=\"absolute bottom-3 left-3\">\n                          <ResourceIcon className=\"h-8 w-8 text-white drop-shadow-lg\" />\n                        </div>\n                      </div>\n                      \n                      <CardContent className=\"p-4\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            {resource.category}\n                          </Badge>\n                          <div className=\"flex items-center text-xs text-muted-foreground\">\n                            <Clock className=\"h-3 w-3 mr-1\" />\n                            <span>{resource.duration} min</span>\n                          </div>\n                        </div>\n                        \n                        <h4 className=\"font-semibold text-card-foreground mb-2 line-clamp-2 text-lg\">\n                          {resource.title}\n                        </h4>\n                        \n                        <p className=\"text-sm text-muted-foreground mb-4 line-clamp-3 leading-relaxed\">\n                          {resource.description}\n                        </p>\n                        \n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"flex items-center text-xs text-muted-foreground\">\n                            <ThumbsUp className=\"h-3 w-3 mr-1 text-green-500\" />\n                            <span className=\"font-medium\">{resource.likes} helpful</span>\n                          </div>\n                          \n                          <div className=\"flex space-x-1\">\n                            <Button \n                              size=\"sm\" \n                              className=\"h-8 px-3\"\n                              onClick={() => handleResourceAction('view', resource.id)}\n                              data-testid={`button-view-resource-${resource.id}`}\n                            >\n                              {resource.type === 'video' || resource.type === 'audio' ? (\n                                <>\n                                  <Play className=\"h-3 w-3 mr-1\" />\n                                  Play\n                                </>\n                              ) : resource.type === 'tool' ? (\n                                <>\n                                  <Zap className=\"h-3 w-3 mr-1\" />\n                                  Use\n                                </>\n                              ) : (\n                                <>\n                                  <BookOpen className=\"h-3 w-3 mr-1\" />\n                                  Start\n                                </>\n                              )}\n                            </Button>\n                            \n                            <Button \n                              size=\"sm\" \n                              variant={bookmarkedResources.includes(resource.id) ? \"default\" : \"outline\"}\n                              className=\"h-8 w-8 p-0\"\n                              onClick={() => handleResourceAction('bookmark', resource.id)}\n                              data-testid={`button-bookmark-resource-${resource.id}`}\n                            >\n                              <Bookmark className={`h-3 w-3 ${bookmarkedResources.includes(resource.id) ? 'fill-current' : ''}`} />\n                            </Button>\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Resource Content Modal */}\n      <Dialog open={isResourceOpen} onOpenChange={setIsResourceOpen}>\n        <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\" data-testid=\"dialog-resource-content\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\" data-testid=\"dialog-resource-title\">\n              {currentResource?.icon && (\n                <currentResource.icon className=\"h-5 w-5 text-primary\" />\n              )}\n              {currentResource?.title}\n            </DialogTitle>\n            <DialogDescription data-testid=\"dialog-resource-description\">\n              {currentResource?.category} • {currentResource?.duration} {currentResource?.type === 'guide' || currentResource?.type === 'article' ? 'min read' : 'minutes'}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"mt-4\">\n            {renderResourceContent(currentResource)}\n          </div>\n        </DialogContent>\n      </Dialog>\n    </main>\n  );\n}\n","size_bytes":51246},"client/src/pages/screening.tsx":{"content":"import { useState } from \"react\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport PHQ9Form from \"@/components/screening/phq9-form\";\nimport GAD7Form from \"@/components/screening/gad7-form\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Heart, Brain, Info } from \"lucide-react\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\nexport default function Screening() {\n  return (\n    <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <BackButton />\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Mental Health Screening</h1>\n        <p className=\"text-muted-foreground\">\n          Take validated assessments to understand your mental health and get personalized recommendations.\n        </p>\n      </div>\n\n      <Tabs defaultValue=\"phq9\" className=\"space-y-6\">\n        <TabsList className=\"grid w-full grid-cols-2\">\n          <TabsTrigger value=\"phq9\" data-testid=\"tab-phq9\">\n            <Heart className=\"h-4 w-4 mr-2\" />\n            PHQ-9 Depression\n          </TabsTrigger>\n          <TabsTrigger value=\"gad7\" data-testid=\"tab-gad7\">\n            <Brain className=\"h-4 w-4 mr-2\" />\n            GAD-7 Anxiety\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"phq9\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n            <div className=\"lg:col-span-2\">\n              <PHQ9Form />\n            </div>\n            <div>\n              <ScreeningInfo type=\"PHQ-9\" />\n            </div>\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"gad7\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n            <div className=\"lg:col-span-2\">\n              <GAD7Form />\n            </div>\n            <div>\n              <ScreeningInfo type=\"GAD-7\" />\n            </div>\n          </div>\n        </TabsContent>\n      </Tabs>\n    </main>\n  );\n}\n\nfunction ScreeningInfo({ type }: { type: \"PHQ-9\" | \"GAD-7\" }) {\n  const info = {\n    \"PHQ-9\": {\n      title: \"About PHQ-9\",\n      description: \"The Patient Health Questionnaire-9 (PHQ-9) is a widely used tool for screening and monitoring depression severity.\",\n      details: [\n        \"9 questions about mood over the past 2 weeks\",\n        \"Scores range from 0-27\",\n        \"Higher scores indicate more severe symptoms\",\n        \"Used worldwide by healthcare professionals\",\n      ],\n    },\n    \"GAD-7\": {\n      title: \"About GAD-7\",\n      description: \"The Generalized Anxiety Disorder-7 (GAD-7) is a validated screening tool for anxiety disorders.\",\n      details: [\n        \"7 questions about anxiety over the past 2 weeks\",\n        \"Scores range from 0-21\",\n        \"Higher scores indicate more severe anxiety\",\n        \"Helps identify generalized anxiety disorder\",\n      ],\n    },\n  };\n\n  const currentInfo = info[type];\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center\">\n          <Info className=\"h-5 w-5 mr-2\" />\n          {currentInfo.title}\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <p className=\"text-sm text-muted-foreground leading-relaxed\">\n          {currentInfo.description}\n        </p>\n        \n        <div>\n          <h4 className=\"font-medium text-card-foreground mb-2\">Key Features:</h4>\n          <ul className=\"space-y-1\">\n            {currentInfo.details.map((detail, index) => (\n              <li key={index} className=\"text-sm text-muted-foreground flex items-start\">\n                <span className=\"inline-block w-1.5 h-1.5 bg-primary rounded-full mt-2 mr-2 flex-shrink-0\" />\n                {detail}\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        <div className=\"bg-muted/50 rounded-lg p-4\">\n          <h5 className=\"font-medium text-card-foreground mb-2\">Important Notice</h5>\n          <p className=\"text-xs text-muted-foreground leading-relaxed\">\n            These screening tools help identify symptoms but are not diagnostic instruments. \n            Results are completely confidential and help guide you to appropriate support resources.\n            Always consult with a qualified mental health professional for proper diagnosis and treatment.\n          </p>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":4345},"client/src/types/index.ts":{"content":"export interface User {\n  id: string;\n  username: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  anonymousName?: string; // Random unique name for user privacy\n  institution: string;\n  course?: string;\n  year?: number;\n  language: string;\n  isAdmin: boolean;\n  coins?: number;\n}\n\nexport interface ScreeningAssessment {\n  id: string;\n  userId: string;\n  type: \"PHQ9\" | \"GAD7\";\n  responses: number[];\n  totalScore: number;\n  riskLevel: \"minimal\" | \"mild\" | \"moderate\" | \"moderately-severe\" | \"severe\";\n  isHighRisk: boolean;\n  completedAt: Date;\n}\n\nexport interface ScreeningQuestion {\n  id: number;\n  text: string;\n}\n\nexport interface ScreeningResult {\n  totalScore: number;\n  riskLevel: string;\n  isHighRisk: boolean;\n  recommendations: string[];\n  isCrisis: boolean;\n}\n\nexport interface ChatMessage {\n  role: \"user\" | \"assistant\" | \"system\";\n  content: string;\n  timestamp: Date;\n}\n\nexport interface ChatSession {\n  id: string;\n  userId: string;\n  messages: ChatMessage[];\n  startedAt: Date;\n  endedAt?: Date;\n  isActive: boolean;\n}\n\nexport interface Counselor {\n  id: string;\n  name: string;\n  specialization: string;\n  languages: string[];\n  experience: number;\n  rating: number;\n  isAvailable: boolean;\n  availableSlots: string[];\n}\n\nexport interface Appointment {\n  id: string;\n  userId: string;\n  counselorId: string;\n  sessionType: \"individual\" | \"group\" | \"crisis\";\n  scheduledFor: Date;\n  duration: number;\n  status: \"scheduled\" | \"completed\" | \"cancelled\" | \"no-show\";\n  notes?: string;\n  createdAt: Date;\n}\n\nexport interface ForumPost {\n  id: string;\n  userId: string;\n  title: string;\n  content: string;\n  category: string;\n  isAnonymous: boolean;\n  likes: number;\n  createdAt: Date;\n  replies?: ForumReply[];\n}\n\nexport interface ForumReply {\n  id: string;\n  postId: string;\n  userId: string;\n  content: string;\n  isAnonymous: boolean;\n  likes: number;\n  createdAt: Date;\n}\n\nexport interface Resource {\n  id: string;\n  title: string;\n  description: string;\n  type: \"video\" | \"article\" | \"audio\" | \"guide\";\n  category: string;\n  url?: string;\n  content?: string;\n  duration?: number;\n  language: string;\n  likes: number;\n  isOfflineAvailable: boolean;\n}\n\nexport interface MoodEntry {\n  id: string;\n  userId: string;\n  moodLevel: number;\n  moodType: string;\n  notes?: string;\n  date: Date;\n}\n\nexport interface CrisisAlert {\n  id: string;\n  userId: string;\n  triggerType: \"screening\" | \"chat\" | \"manual\";\n  severity: \"high\" | \"critical\";\n  isResolved: boolean;\n  createdAt: Date;\n}\n\nexport interface Analytics {\n  activeUsers: number;\n  screeningsCompleted: number;\n  counselingSessions: number;\n  highRiskAlerts: number;\n  riskDistribution: Array<{\n    riskLevel: string;\n    count: number;\n  }>;\n}\n","size_bytes":2730},"client/src/components/booking/counselor-booking-modal.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { UserCheck, Star, Languages, Clock, Shield, X } from \"lucide-react\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { Counselor } from \"@/types\";\n\ninterface CounselorBookingModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst sessionTypes = [\n  {\n    value: \"individual\",\n    title: \"Individual Session\",\n    description: \"One-on-one counseling\",\n    color: \"bg-primary/10 border-primary text-primary\"\n  },\n  {\n    value: \"group\", \n    title: \"Group Session\",\n    description: \"Small group support\",\n    color: \"bg-muted/50 border-transparent text-muted-foreground\"\n  },\n  {\n    value: \"crisis\",\n    title: \"Crisis Support\", \n    description: \"Immediate assistance\",\n    color: \"bg-destructive/10 border-destructive text-destructive\"\n  }\n];\n\nconst availableTimes = [\n  \"9:00 AM - 10:00 AM\",\n  \"11:00 AM - 12:00 PM\", \n  \"2:00 PM - 3:00 PM\",\n  \"4:00 PM - 5:00 PM\"\n];\n\nexport default function CounselorBookingModal({ isOpen, onClose }: CounselorBookingModalProps) {\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const [bookingData, setBookingData] = useState({\n    sessionType: \"individual\",\n    counselorId: \"\",\n    preferredDate: \"\",\n    preferredTime: \"\",\n    notes: \"\"\n  });\n\n  const { data: counselors, isLoading: counselorsLoading } = useQuery({\n    queryKey: [\"/api/counselors\"],\n    enabled: isOpen,\n  });\n\n  const bookingMutation = useMutation({\n    mutationFn: async (data: any) => {\n      // Convert time from \"9:00 AM - 10:00 AM\" format to \"09:00\"\n      const timeString = data.preferredTime.split(' - ')[0]; // Get \"9:00 AM\"\n      const [time, period] = timeString.split(' '); // Split \"9:00\" and \"AM\"\n      const [hours, minutes] = time.split(':'); // Split \"9\" and \"00\"\n      \n      let hour24 = parseInt(hours);\n      if (period === 'PM' && hour24 !== 12) hour24 += 12;\n      if (period === 'AM' && hour24 === 12) hour24 = 0;\n      \n      const formattedTime = `${hour24.toString().padStart(2, '0')}:${minutes}`;\n      const scheduledFor = new Date(`${data.preferredDate}T${formattedTime}:00`);\n      \n      return await apiRequest(\"POST\", \"/api/appointments\", {\n        userId: currentUser?.id,\n        counselorId: data.counselorId,\n        sessionType: data.sessionType,\n        scheduledFor: scheduledFor.toISOString(),\n        notes: data.notes,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/appointments/user\", currentUser?.id] });\n      toast({\n        title: \"Appointment booked\",\n        description: \"Your counseling session has been scheduled successfully.\",\n      });\n      handleClose();\n    },\n    onError: (error) => {\n      toast({\n        title: \"Booking failed\",\n        description: \"Unable to book appointment. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleClose = () => {\n    setBookingData({\n      sessionType: \"individual\",\n      counselorId: \"\",\n      preferredDate: \"\",\n      preferredTime: \"\",\n      notes: \"\"\n    });\n    onClose();\n  };\n\n  const handleSubmit = () => {\n    if (!bookingData.counselorId || !bookingData.preferredDate || !bookingData.preferredTime) {\n      toast({\n        title: \"Missing information\",\n        description: \"Please fill in all required fields.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    bookingMutation.mutate(bookingData);\n  };\n\n  const getRatingStars = (rating: number) => {\n    const stars = Math.round(rating / 10); // Convert from 0-50 scale to 0-5\n    return Array.from({ length: 5 }, (_, i) => (\n      <Star\n        key={i}\n        className={`h-3 w-3 ${i < stars ? 'text-accent fill-current' : 'text-muted-foreground'}`}\n      />\n    ));\n  };\n\n  // Get minimum date (today)\n  const today = new Date().toISOString().split('T')[0];\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleClose}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <div className=\"flex items-center justify-between\">\n            <DialogTitle className=\"text-xl font-semibold\">Book Counseling Session</DialogTitle>\n            <Button variant=\"ghost\" size=\"sm\" onClick={handleClose} data-testid=\"button-close-modal\">\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <p className=\"text-sm text-muted-foreground\">\n            Schedule a confidential session with our qualified counselors\n          </p>\n        </DialogHeader>\n\n        <div className=\"space-y-6 py-4\">\n          {/* Session Type Selection */}\n          <div>\n            <Label className=\"block text-sm font-medium text-card-foreground mb-3\">\n              Session Type\n            </Label>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n              {sessionTypes.map((type) => (\n                <label\n                  key={type.value}\n                  className={`flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer transition-colors ${\n                    bookingData.sessionType === type.value \n                      ? type.color \n                      : \"bg-muted/50 border-transparent hover:bg-muted\"\n                  }`}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"sessionType\"\n                    value={type.value}\n                    checked={bookingData.sessionType === type.value}\n                    onChange={(e) => setBookingData({ ...bookingData, sessionType: e.target.value })}\n                    className=\"sr-only\"\n                    data-testid={`radio-session-${type.value}`}\n                  />\n                  <div>\n                    <p className=\"font-medium\">{type.title}</p>\n                    <p className=\"text-xs opacity-70\">{type.description}</p>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Available Counselors */}\n          <div>\n            <Label className=\"block text-sm font-medium text-card-foreground mb-3\">\n              Choose Counselor\n            </Label>\n            \n            {counselorsLoading ? (\n              <div className=\"space-y-3\">\n                {Array.from({ length: 2 }).map((_, i) => (\n                  <div key={i} className=\"animate-pulse p-4 bg-muted/30 rounded-lg\">\n                    <div className=\"h-4 bg-muted rounded mb-2\"></div>\n                    <div className=\"h-3 bg-muted rounded\"></div>\n                  </div>\n                ))}\n              </div>\n            ) : !counselors || (counselors as any)?.length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-8\">\n                No counselors are currently available. Please try again later.\n              </p>\n            ) : (\n              <RadioGroup\n                value={bookingData.counselorId}\n                onValueChange={(value) => setBookingData({ ...bookingData, counselorId: value })}\n              >\n                <div className=\"space-y-3\">\n                  {(counselors as any)?.map?.((counselor: Counselor) => (\n                    <label\n                      key={counselor.id}\n                      className=\"flex items-center space-x-4 p-4 bg-muted/30 border-2 border-transparent rounded-lg cursor-pointer hover:bg-muted transition-colors data-[checked]:border-primary\"\n                      data-checked={bookingData.counselorId === counselor.id}\n                    >\n                      <RadioGroupItem\n                        value={counselor.id}\n                        id={counselor.id}\n                        data-testid={`radio-counselor-${counselor.id}`}\n                      />\n                      <div className=\"w-12 h-12 bg-secondary rounded-full flex items-center justify-center\">\n                        <UserCheck className=\"text-secondary-foreground h-6 w-6\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <p className=\"font-medium text-card-foreground\">{counselor.name}</p>\n                        <p className=\"text-sm text-muted-foreground\">{counselor.specialization}</p>\n                        <div className=\"flex items-center space-x-2 mt-1\">\n                          <Languages className=\"h-3 w-3 text-muted-foreground\" />\n                          <span className=\"text-xs text-secondary\">\n                            {counselor.languages.join(\", \")}\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"flex items-center space-x-1 mb-1\">\n                          {getRatingStars(counselor.rating)}\n                        </div>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {counselor.experience}+ years exp\n                        </p>\n                      </div>\n                    </label>\n                  ))}\n                </div>\n              </RadioGroup>\n            )}\n          </div>\n\n          {/* Date and Time Selection */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <Label className=\"block text-sm font-medium text-card-foreground mb-3\">\n                Preferred Date\n              </Label>\n              <Input\n                type=\"date\"\n                min={today}\n                value={bookingData.preferredDate}\n                onChange={(e) => setBookingData({ ...bookingData, preferredDate: e.target.value })}\n                data-testid=\"input-preferred-date\"\n              />\n            </div>\n            <div>\n              <Label className=\"block text-sm font-medium text-card-foreground mb-3\">\n                Preferred Time\n              </Label>\n              <Select \n                value={bookingData.preferredTime}\n                onValueChange={(value) => setBookingData({ ...bookingData, preferredTime: value })}\n              >\n                <SelectTrigger data-testid=\"select-preferred-time\">\n                  <SelectValue placeholder=\"Select time slot\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {availableTimes.map((time) => (\n                    <SelectItem key={time} value={time}>\n                      {time}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          {/* Additional Notes */}\n          <div>\n            <Label className=\"block text-sm font-medium text-card-foreground mb-3\">\n              Additional Notes (Optional)\n            </Label>\n            <Textarea\n              rows={3}\n              placeholder=\"Share any specific concerns or preferences...\"\n              value={bookingData.notes}\n              onChange={(e) => setBookingData({ ...bookingData, notes: e.target.value })}\n              data-testid=\"textarea-appointment-notes\"\n            />\n          </div>\n\n          {/* Privacy Notice */}\n          <div className=\"bg-muted/50 rounded-lg p-4\">\n            <h5 className=\"font-medium text-card-foreground mb-2 flex items-center\">\n              <Shield className=\"h-4 w-4 mr-2 text-primary\" />\n              Privacy & Confidentiality\n            </h5>\n            <p className=\"text-xs text-muted-foreground leading-relaxed\">\n              Your session details and personal information are completely confidential. \n              Only your assigned counselor will have access to session notes. \n              You can cancel or reschedule up to 2 hours before the appointment.\n            </p>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex space-x-3 pt-4\">\n            <Button\n              onClick={handleSubmit}\n              disabled={bookingMutation.isPending}\n              className=\"flex-1\"\n              data-testid=\"button-confirm-booking\"\n            >\n              <Clock className=\"h-4 w-4 mr-2\" />\n              {bookingMutation.isPending ? \"Booking...\" : \"Confirm Booking\"}\n            </Button>\n            <Button\n              variant=\"outline\"\n              onClick={handleClose}\n              className=\"px-6\"\n              data-testid=\"button-cancel-booking\"\n            >\n              Cancel\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":13147},"client/src/components/chat/chat-interface.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { Send, Bot, User, Trash2 } from \"lucide-react\";\nimport femaleAvatarUrl from '@assets/generated_images/Female_AI_assistant_avatar_378b1633.png';\nimport maleAvatarUrl from '@assets/generated_images/Male_AI_assistant_avatar_155145be.png';\nimport femaleDoctorUrl from '@assets/generated_images/Female_doctor_AI_avatar_5c6d48f5.png';\nimport maleDoctorUrl from '@assets/generated_images/Male_doctor_AI_avatar_7e89bed0.png';\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useWebSocket } from \"@/hooks/use-websocket\";\nimport { useAppContext } from \"@/context/AppContext\";\n\ninterface ChatMessage {\n  role: \"user\" | \"assistant\";\n  content: string;\n  timestamp: Date;\n}\n\ninterface ChatInterfaceProps {\n  selectedAction?: string | null;\n  selectedPersonality?: any;\n  chatType?: \"assistance\" | \"live\";\n  selectedUser?: any;\n}\n\n// AI Avatar selection based on message index for variety\nconst getAiAvatar = (messageIndex: number) => {\n  const avatars = [femaleAvatarUrl, maleAvatarUrl, femaleDoctorUrl, maleDoctorUrl];\n  return avatars[messageIndex % avatars.length];\n};\n\nexport default function ChatInterface({ selectedAction, selectedPersonality, chatType, selectedUser }: ChatInterfaceProps) {\n  const { currentUser, chatMessages, setChatMessages, addChatMessage } = useAppContext();\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const { sendMessage, isConnected } = useWebSocket(currentUser?.id || \"\", (message) => {\n    if (message.type === \"chat_response\") {\n      // AI chat response\n      addChatMessage({\n        role: \"assistant\",\n        content: message.message,\n        timestamp: new Date(),\n      });\n      setIsTyping(false);\n    } else if (message.type === \"peer_message\" && chatType === \"live\" && selectedUser) {\n      // Peer message - validate sender and recipient\n      if (message.fromUserId === selectedUser.id && \n          message.toUserId === currentUser?.id &&\n          message.fromUserId !== currentUser?.id) {\n        addChatMessage({\n          role: \"assistant\", // In peer chat, \"assistant\" represents the other peer\n          content: message.message,\n          timestamp: new Date(),\n        });\n      }\n    }\n  });\n\n  const scrollToBottom = () => {\n    setTimeout(() => {\n      messagesEndRef.current?.scrollIntoView({ \n        behavior: \"smooth\",\n        block: \"end\",\n        inline: \"nearest\"\n      });\n    }, 100);\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [chatMessages, isTyping]);\n\n  // Clear chat when switching between AI and peer modes\n  useEffect(() => {\n    clearChat();\n  }, [chatType, selectedUser?.id]);\n\n  useEffect(() => {\n    if (selectedAction) {\n      handleQuickAction(selectedAction);\n    }\n  }, [selectedAction]);\n\n  const handleSendMessage = () => {\n    if (!inputMessage.trim() || !isConnected) return;\n\n    const userMessage: ChatMessage = {\n      role: \"user\",\n      content: inputMessage,\n      timestamp: new Date(),\n    };\n\n    addChatMessage(userMessage);\n    \n    if (chatType === \"live\" && selectedUser) {\n      // Send peer-to-peer message - no typing indicator needed\n      sendMessage({\n        type: \"peer_message\",\n        message: inputMessage,\n        toUserId: selectedUser.id,\n        fromUserId: currentUser?.id,\n      });\n    } else {\n      // Send AI chat message with typing indicator\n      setIsTyping(true);\n      sendMessage({\n        type: \"chat_message\",\n        message: inputMessage,\n        chatHistory: chatMessages,\n        personality: selectedPersonality,\n      });\n    }\n\n    setInputMessage(\"\");\n  };\n\n  const handleQuickAction = (action: string) => {\n    const actionMessages = {\n      breathing: \"I'm feeling stressed and would like help with breathing exercises.\",\n      journal: \"I'd like to journal about my feelings and get some guidance.\",\n      relaxation: \"I'm feeling tense and need help with muscle relaxation.\",\n      emergency: \"I'm having a difficult time and might need immediate support.\",\n    };\n\n    const message = actionMessages[action as keyof typeof actionMessages];\n    if (message) {\n      setInputMessage(message);\n    }\n  };\n\n  const clearChat = () => {\n    if (chatType === \"live\" && selectedUser) {\n      // For peer chat, start with empty chat\n      setChatMessages([]);\n    } else {\n      // For AI chat, use the original greeting\n      setChatMessages([{\n        role: \"assistant\",\n        content: \"Hello! I'm here to provide psychological first aid and support. How are you feeling today? Remember, this is a safe space to share your thoughts.\",\n        timestamp: new Date(),\n      }]);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <Card className=\"h-[650px] sm:h-[750px] lg:h-[850px] xl:h-[900px] flex flex-col w-full max-w-6xl mx-auto border-4 sm:border-6 lg:border-8 border-primary/20 shadow-2xl\">\n      <CardHeader className=\"border-b-4 border-primary/10 bg-gradient-to-r from-primary/5 to-primary/10 dark:from-primary/10 dark:to-primary/20 p-4 sm:p-6 lg:p-8\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"relative\">\n              <div className=\"w-12 h-12 sm:w-14 sm:h-14 bg-primary rounded-full flex items-center justify-center shadow-xl border-4 border-primary/20\">\n                {chatType === \"live\" && selectedUser ? (\n                  <User className=\"text-primary-foreground h-6 w-6 sm:h-7 sm:w-7\" />\n                ) : (\n                  <Bot className=\"text-primary-foreground h-6 w-6 sm:h-7 sm:w-7\" />\n                )}\n              </div>\n              {/* Connection status indicator */}\n              <div \n                className={`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-background ${\n                  isConnected ? 'bg-green-500' : 'bg-red-500'\n                }`}\n              />\n            </div>\n            <div className=\"min-w-0 flex-1\">\n              <CardTitle className=\"text-xl sm:text-2xl lg:text-3xl font-bold truncate\">\n                {chatType === \"live\" && selectedUser \n                  ? selectedUser.name \n                  : selectedPersonality?.name || \"Medical AI Assistant\"}\n              </CardTitle>\n              <p className=\"text-sm sm:text-base lg:text-lg text-muted-foreground\">\n                {isConnected ? (\n                  chatType === \"live\" && selectedUser \n                    ? `${selectedUser.connectionType === 'trained-peer' ? 'Trained Peer' : 'Peer Support'} • ${selectedUser.isOnline ? 'Online' : 'Offline'}` \n                    : selectedPersonality?.role || \"Online • Medical & Psychological Support\"\n                ) : (\n                  <span className=\"flex items-center gap-1\">\n                    <div className=\"w-2 h-2 bg-current rounded-full animate-pulse\" />\n                    Connecting...\n                  </span>\n                )}\n              </p>\n            </div>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={clearChat}\n            className=\"text-muted-foreground hover:text-foreground shrink-0\"\n            data-testid=\"button-clear-chat\"\n          >\n            <Trash2 className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"flex-1 flex flex-col p-0\">\n        {/* Messages */}\n        <div className=\"flex-1 overflow-y-auto overflow-x-hidden p-3 sm:p-6 space-y-3 sm:space-y-4 bg-gradient-to-b from-muted/20 to-background max-h-[500px] scroll-smooth\">\n          {chatMessages.map((message, index) => (\n            <div\n              key={index}\n              className={`flex space-x-2 sm:space-x-3 ${message.role === \"user\" ? \"justify-end\" : \"\"}`}\n              data-testid={`message-${index}`}\n            >\n              {message.role === \"assistant\" && (\n                <div className=\"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 xl:w-16 xl:h-16 rounded-full flex-shrink-0 shadow-xl border-3 sm:border-4 border-primary/30 overflow-hidden bg-primary/5\">\n                  {chatType === \"live\" && selectedUser ? (\n                    <div className=\"w-full h-full bg-gradient-to-br from-accent/20 to-primary/20 dark:from-accent/30 dark:to-primary/30 flex items-center justify-center\">\n                      <User className=\"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 xl:h-8 xl:w-8 text-primary dark:text-primary-foreground\" />\n                    </div>\n                  ) : (\n                    <img \n                      src={getAiAvatar(index)}\n                      alt=\"AI Assistant\"\n                      className=\"w-full h-full object-cover\"\n                    />\n                  )}\n                </div>\n              )}\n              \n              <div\n                className={`max-w-[75%] sm:max-w-md lg:max-w-xl xl:max-w-2xl p-4 sm:p-5 lg:p-6 xl:p-7 rounded-3xl shadow-md border-3 sm:border-4 lg:border-5 transition-all hover:shadow-xl hover:scale-[1.02] word-wrap break-words overflow-hidden ${\n                  message.role === \"user\"\n                    ? \"bg-primary text-primary-foreground rounded-br-lg border-primary/30\"\n                    : \"bg-card border-border/50 rounded-bl-lg backdrop-blur-sm\"\n                }`}\n              >\n                <p className=\"text-sm sm:text-base lg:text-lg whitespace-pre-wrap leading-relaxed font-mono break-words\">{message.content}</p>\n                <p className=\"text-xs sm:text-sm opacity-60 mt-3 font-sans\">\n                  {message.timestamp ? new Date(message.timestamp).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) : ''}\n                </p>\n              </div>\n\n              {message.role === \"user\" && (\n                <div className=\"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 xl:w-16 xl:h-16 bg-accent rounded-full flex items-center justify-center flex-shrink-0 shadow-xl border-3 sm:border-4 border-accent/30\">\n                  <User className=\"text-accent-foreground h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 xl:h-8 xl:w-8\" />\n                </div>\n              )}\n            </div>\n          ))}\n\n          {isTyping && (\n            <div className=\"flex space-x-2 sm:space-x-3 animate-in slide-in-from-left-2 duration-300\">\n              <div className=\"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full flex-shrink-0 shadow-md border-2 sm:border-3 border-primary/30 overflow-hidden bg-primary/5\">\n                {chatType === \"live\" && selectedUser ? (\n                  <div className=\"w-full h-full bg-gradient-to-br from-accent/20 to-primary/20 dark:from-accent/30 dark:to-primary/30 flex items-center justify-center\">\n                    <User className=\"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-primary dark:text-primary-foreground\" />\n                  </div>\n                ) : (\n                  <img \n                    src={getAiAvatar(chatMessages.length)}\n                    alt=\"AI Assistant\"\n                    className=\"w-full h-full object-cover\"\n                  />\n                )}\n              </div>\n              <div className=\"bg-card border-2 sm:border-3 border-border/50 rounded-2xl rounded-bl-md p-3 sm:p-4 max-w-[75%] sm:max-w-md shadow-sm backdrop-blur-sm\">\n                <div className=\"flex space-x-1 items-center\">\n                  <div className=\"w-2 h-2 bg-muted-foreground rounded-full animate-bounce\"></div>\n                  <div className=\"w-2 h-2 bg-muted-foreground rounded-full animate-bounce delay-100\"></div>\n                  <div className=\"w-2 h-2 bg-muted-foreground rounded-full animate-bounce delay-200\"></div>\n                  <span className=\"text-xs text-muted-foreground ml-2 font-sans\">{chatType === \"live\" && selectedUser ? `${selectedUser.name} is typing...` : \"AI is thinking...\"}</span>\n                </div>\n              </div>\n            </div>\n          )}\n          \n          <div ref={messagesEndRef} className=\"h-1\" />\n        </div>\n\n        {/* Message Input */}\n        <div className=\"border-t-4 sm:border-t-6 lg:border-t-8 border-primary/10 bg-background/80 backdrop-blur-sm p-4 sm:p-5 lg:p-6 xl:p-8\">\n          <div className=\"flex space-x-3 sm:space-x-4 max-w-5xl mx-auto\">\n            <Input\n              value={inputMessage}\n              onChange={(e) => setInputMessage(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder={chatType === \"live\" && selectedUser \n                ? `Message ${selectedUser.name}...` \n                : \"Ask about your health or share what's on your mind...\"}\n              className=\"flex-1 rounded-full px-5 py-3 sm:py-4 lg:py-5 border-3 sm:border-4 lg:border-5 border-border/50 focus:border-primary/50 transition-colors text-base sm:text-lg lg:text-xl shadow-lg focus:shadow-xl\"\n              disabled={!isConnected}\n              data-testid=\"input-chat-message\"\n            />\n            <Button\n              onClick={handleSendMessage}\n              disabled={!inputMessage.trim() || !isConnected || (chatType !== \"live\" && isTyping)}\n              className=\"rounded-full h-12 w-12 sm:h-14 sm:w-14 lg:h-16 lg:w-16 xl:h-18 xl:w-18 p-0 shadow-xl hover:shadow-2xl transition-all hover:scale-110 border-3 sm:border-4 lg:border-5 border-primary/20\"\n              data-testid=\"button-send-message\"\n            >\n              <Send className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          \n          {!isConnected && (\n            <div className=\"text-center mt-2\">\n              <p className=\"text-xs text-muted-foreground\">\n                Connection lost. Attempting to reconnect...\n              </p>\n            </div>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":14016},"client/src/components/community/forum-post.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Heart, MessageSquare, Flag, Send, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { ForumPost as ForumPostType, ForumReply } from \"@/types\";\n\ninterface ForumPostProps {\n  post: ForumPostType & { replies?: ForumReply[] };\n}\n\nexport default function ForumPost({ post }: ForumPostProps) {\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  const [showReplies, setShowReplies] = useState(false);\n  const [showReplyForm, setShowReplyForm] = useState(false);\n  const [replyContent, setReplyContent] = useState(\"\");\n\n  const likeMutation = useMutation({\n    mutationFn: async () => {\n      return await apiRequest(\"POST\", `/api/forum/posts/${post.id}/like`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum/posts\"] });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to like post. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const replyMutation = useMutation({\n    mutationFn: async (content: string) => {\n      return await apiRequest(\"POST\", `/api/forum/posts/${post.id}/replies`, {\n        userId: currentUser?.id,\n        content,\n        isAnonymous: true,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum/posts\"] });\n      setReplyContent(\"\");\n      setShowReplyForm(false);\n      setShowReplies(true);\n      toast({\n        title: \"Reply posted\",\n        description: \"Your reply has been submitted for moderation.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\", \n        description: \"Failed to post reply. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const flagMutation = useMutation({\n    mutationFn: async () => {\n      // This would typically flag the post for moderation\n      return await apiRequest(\"POST\", `/api/forum/posts/${post.id}/flag`, {});\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Post reported\",\n        description: \"Thank you for reporting. Our moderators will review this post.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to report post. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleLike = () => {\n    likeMutation.mutate();\n  };\n\n  const handleReply = () => {\n    if (!replyContent.trim()) {\n      toast({\n        title: \"Empty reply\",\n        description: \"Please enter a reply before submitting.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    replyMutation.mutate(replyContent);\n  };\n\n  const handleFlag = () => {\n    if (window.confirm(\"Are you sure you want to report this post? This action will notify our moderators.\")) {\n      flagMutation.mutate();\n    }\n  };\n\n  const generatePseudonym = (userId: string, index: number = 0) => {\n    // Generate a consistent pseudonym based on user ID\n    const prefixes = [\"Anonymous\", \"Quiet\", \"Thoughtful\", \"Caring\", \"Support\"];\n    const suffixes = [\"Student\", \"Seeker\", \"Helper\", \"Friend\", \"Voice\"];\n    const hash = userId.charCodeAt(0) + index;\n    const prefix = prefixes[hash % prefixes.length];\n    const suffix = suffixes[(hash + 1) % suffixes.length];\n    const number = (hash % 999) + 1;\n    return `${prefix}${suffix}_${number}`;\n  };\n\n  const getTimestamp = (date: Date | string) => {\n    const now = new Date();\n    const postDate = new Date(date);\n    const diffInHours = Math.floor((now.getTime() - postDate.getTime()) / (1000 * 60 * 60));\n    \n    if (diffInHours < 1) return \"Just now\";\n    if (diffInHours < 24) return `${diffInHours} hour${diffInHours !== 1 ? 's' : ''} ago`;\n    \n    const diffInDays = Math.floor(diffInHours / 24);\n    if (diffInDays < 7) return `${diffInDays} day${diffInDays !== 1 ? 's' : ''} ago`;\n    \n    return postDate.toLocaleDateString();\n  };\n\n  const getCategoryColor = (category: string) => {\n    const colors = {\n      \"Exam Stress\": \"bg-accent/20 text-accent\",\n      \"Social Anxiety\": \"bg-primary/20 text-primary\", \n      \"Depression Support\": \"bg-chart-4/20 text-chart-4\",\n      \"Study Motivation\": \"bg-secondary/20 text-secondary\",\n      \"General Support\": \"bg-muted text-muted-foreground\",\n    };\n    return colors[category as keyof typeof colors] || \"bg-muted text-muted-foreground\";\n  };\n\n  const replyCount = post.replies?.length || 0;\n\n  return (\n    <Card data-testid={`post-${post.id}`}>\n      <CardContent className=\"p-6\">\n        <div className=\"flex items-start justify-between mb-4\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center\">\n              <span className=\"text-primary-foreground font-medium text-sm\">\n                {generatePseudonym(post.userId).substring(0, 2)}\n              </span>\n            </div>\n            <div>\n              <p className=\"font-medium text-card-foreground\">\n                {generatePseudonym(post.userId)}\n              </p>\n              <p className=\"text-xs text-muted-foreground\">\n                {getTimestamp(post.createdAt)} • College Student\n              </p>\n            </div>\n          </div>\n          <Badge className={`${getCategoryColor(post.category)} text-xs font-medium`}>\n            {post.category}\n          </Badge>\n        </div>\n\n        <div className=\"mb-4\">\n          <h4 className=\"font-medium text-card-foreground mb-2\">{post.title}</h4>\n          <p className=\"text-sm text-muted-foreground leading-relaxed whitespace-pre-wrap\">\n            {post.content}\n          </p>\n        </div>\n\n        <div className=\"flex items-center justify-between text-sm\">\n          <div className=\"flex items-center space-x-4\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={handleLike}\n              disabled={likeMutation.isPending}\n              className=\"text-muted-foreground hover:text-primary transition-colors\"\n              data-testid={`button-like-${post.id}`}\n            >\n              <Heart className=\"h-4 w-4 mr-1\" />\n              {post.likes}\n            </Button>\n            \n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setShowReplies(!showReplies)}\n              className=\"text-muted-foreground hover:text-primary transition-colors\"\n              data-testid={`button-replies-${post.id}`}\n            >\n              <MessageSquare className=\"h-4 w-4 mr-1\" />\n              {replyCount} {replyCount === 1 ? 'reply' : 'replies'}\n              {showReplies ? (\n                <ChevronUp className=\"h-3 w-3 ml-1\" />\n              ) : (\n                <ChevronDown className=\"h-3 w-3 ml-1\" />\n              )}\n            </Button>\n          </div>\n          \n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleFlag}\n            disabled={flagMutation.isPending}\n            className=\"text-muted-foreground hover:text-destructive transition-colors\"\n            data-testid={`button-flag-${post.id}`}\n          >\n            <Flag className=\"h-4 w-4\" />\n          </Button>\n        </div>\n\n        {/* Replies Section */}\n        {showReplies && (\n          <div className=\"mt-6 space-y-4\">\n            {/* Reply Form */}\n            <div className=\"border-l-4 border-primary/20 pl-4\">\n              <div className=\"flex items-center space-x-2 mb-2\">\n                <div className=\"w-6 h-6 bg-accent rounded-full flex items-center justify-center\">\n                  <span className=\"text-accent-foreground font-medium text-xs\">\n                    {generatePseudonym(currentUser?.id || \"\").substring(0, 1)}\n                  </span>\n                </div>\n                <span className=\"text-sm font-medium text-card-foreground\">\n                  {generatePseudonym(currentUser?.id || \"\")}\n                </span>\n              </div>\n              \n              {showReplyForm ? (\n                <div className=\"space-y-3\">\n                  <Textarea\n                    placeholder=\"Share your supportive response...\"\n                    value={replyContent}\n                    onChange={(e) => setReplyContent(e.target.value)}\n                    rows={3}\n                    data-testid={`textarea-reply-${post.id}`}\n                  />\n                  <div className=\"flex space-x-2\">\n                    <Button\n                      size=\"sm\"\n                      onClick={handleReply}\n                      disabled={replyMutation.isPending}\n                      data-testid={`button-submit-reply-${post.id}`}\n                    >\n                      <Send className=\"h-3 w-3 mr-1\" />\n                      {replyMutation.isPending ? \"Posting...\" : \"Reply\"}\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => {\n                        setShowReplyForm(false);\n                        setReplyContent(\"\");\n                      }}\n                    >\n                      Cancel\n                    </Button>\n                  </div>\n                </div>\n              ) : (\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  onClick={() => setShowReplyForm(true)}\n                  data-testid={`button-show-reply-form-${post.id}`}\n                >\n                  <MessageSquare className=\"h-3 w-3 mr-1\" />\n                  Write a reply\n                </Button>\n              )}\n            </div>\n\n            {/* Existing Replies */}\n            {post.replies && post.replies.length > 0 && (\n              <div className=\"space-y-3\">\n                {post.replies.map((reply) => (\n                  <div key={reply.id} className=\"ml-6 p-4 bg-muted/30 rounded-lg border-l-4 border-secondary\">\n                    <div className=\"flex items-center space-x-2 mb-2\">\n                      <div className=\"w-6 h-6 bg-secondary rounded-full flex items-center justify-center\">\n                        <span className=\"text-secondary-foreground font-medium text-xs\">\n                          {generatePseudonym(reply.userId).substring(0, 1)}\n                        </span>\n                      </div>\n                      <p className=\"text-xs text-muted-foreground\">\n                        {generatePseudonym(reply.userId)} • {getTimestamp(reply.createdAt)}\n                      </p>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground whitespace-pre-wrap\">\n                      {reply.content}\n                    </p>\n                    \n                    {reply.likes > 0 && (\n                      <div className=\"flex items-center mt-2\">\n                        <Heart className=\"h-3 w-3 text-muted-foreground mr-1\" />\n                        <span className=\"text-xs text-muted-foreground\">{reply.likes}</span>\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":11707},"client/src/components/dashboard/crisis-alert.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { AlertTriangle } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useAppContext } from \"@/context/AppContext\";\n\nexport default function CrisisAlert() {\n  const { currentUser } = useAppContext();\n\n  const { data: crisisAlerts } = useQuery({\n    queryKey: [\"/api/crisis/alerts\"],\n    enabled: !!currentUser?.id,\n  });\n\n  const { data: crisisResources } = useQuery({\n    queryKey: [\"/api/crisis/resources\"],\n  });\n\n  // Check if user has active crisis alerts or high-risk screening\n  const hasActiveCrisis = (crisisAlerts as any)?.some?.((alert: any) => \n    alert.userId === currentUser?.id && !alert.isResolved\n  );\n\n  if (!hasActiveCrisis) {\n    return null;\n  }\n\n  return (\n    <div \n      className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-4 mb-6\"\n      data-testid=\"alert-crisis\"\n    >\n      <div className=\"flex items-center space-x-3\">\n        <AlertTriangle className=\"text-destructive h-6 w-6\" />\n        <div className=\"flex-1\">\n          <h3 className=\"text-destructive font-semibold\">Immediate Support Available</h3>\n          <p className=\"text-sm text-destructive/80\">\n            We're here to help. Please consider reaching out to our counselors or calling the crisis helpline: \n            <strong className=\"ml-1\">+91-9876543210</strong>\n          </p>\n        </div>\n        <Button \n          className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n          data-testid=\"button-get-help\"\n        >\n          Get Help Now\n        </Button>\n      </div>\n    </div>\n  );\n}\n","size_bytes":1620},"client/src/components/dashboard/mood-tracker.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Smile, Meh, Frown, Plus } from \"lucide-react\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { MoodEntry } from \"@/types\";\n\ninterface MoodTrackerProps {\n  moodHistory?: MoodEntry[];\n}\n\nconst moodIcons = {\n  5: { icon: Smile, color: \"text-green-500 bg-green-100\", label: \"Great\" },\n  4: { icon: Smile, color: \"text-green-400 bg-green-50\", label: \"Good\" },\n  3: { icon: Meh, color: \"text-yellow-500 bg-yellow-100\", label: \"Okay\" },\n  2: { icon: Frown, color: \"text-orange-500 bg-orange-100\", label: \"Poor\" },\n  1: { icon: Frown, color: \"text-red-500 bg-red-100\", label: \"Terrible\" },\n};\n\nexport default function MoodTracker({ moodHistory }: MoodTrackerProps) {\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [localMoodHistory, setLocalMoodHistory] = useState<MoodEntry[]>([]);\n\n  // Load mood history from localStorage on component mount\n  useEffect(() => {\n    const loadMoodHistory = () => {\n      try {\n        const stored = localStorage.getItem('moodHistory');\n        if (stored) {\n          const parsed = JSON.parse(stored);\n          const moodsWithDates = parsed.map((mood: any) => ({\n            ...mood,\n            date: new Date(mood.date)\n          }));\n          setLocalMoodHistory(moodsWithDates);\n        }\n      } catch (error) {\n        console.error('Error loading mood history:', error);\n      }\n    };\n    \n    loadMoodHistory();\n  }, []);\n\n  const addMoodMutation = useMutation({\n    mutationFn: async (moodData: { moodLevel: number; moodType: string; notes?: string }) => {\n      // Use local storage instead of API for mood tracking\n      const moodEntry = {\n        id: Date.now().toString(),\n        userId: currentUser?.id || 'default',\n        moodLevel: moodData.moodLevel,\n        moodType: moodData.moodType,\n        notes: moodData.notes,\n        date: new Date()\n      };\n      \n      const existingMoods = JSON.parse(localStorage.getItem('moodHistory') || '[]');\n      const updatedMoods = [...existingMoods, moodEntry];\n      localStorage.setItem('moodHistory', JSON.stringify(updatedMoods));\n      \n      return moodEntry;\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Mood recorded\",\n        description: \"Your mood has been tracked successfully.\",\n      });\n      // Update local state and force re-render\n      const stored = localStorage.getItem('moodHistory');\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        const moodsWithDates = parsed.map((mood: any) => ({\n          ...mood,\n          date: new Date(mood.date)\n        }));\n        setLocalMoodHistory(moodsWithDates);\n      }\n    },\n    onError: (error) => {\n      toast({\n        title: \"Error\", \n        description: \"Failed to record mood. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleMoodEntry = (moodLevel: number) => {\n    const moodType = moodLevel >= 4 ? \"happy\" : moodLevel === 3 ? \"neutral\" : \"sad\";\n    addMoodMutation.mutate({ moodLevel, moodType });\n  };\n\n  // Generate last 7 days for display\n  const last7Days = Array.from({ length: 7 }, (_, i) => {\n    const date = new Date();\n    date.setDate(date.getDate() - (6 - i));\n    return date;\n  });\n\n  const getMoodForDate = (date: Date) => {\n    // Use local mood history instead of prop\n    const historyToUse = localMoodHistory.length > 0 ? localMoodHistory : (moodHistory || []);\n    return historyToUse.find(mood => {\n      const moodDate = new Date(mood.date);\n      return moodDate.toDateString() === date.toDateString();\n    });\n  };\n\n  return (\n    <Card>\n      <CardContent className=\"p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h4 className=\"text-lg font-medium text-card-foreground\">Recent Mood Check-ins</h4>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"text-primary hover:text-primary/80\"\n            data-testid=\"button-add-mood\"\n          >\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Add Entry\n          </Button>\n        </div>\n\n        <div className=\"grid grid-cols-7 gap-2 mb-4\">\n          {last7Days.map((date, index) => {\n            const mood = getMoodForDate(date);\n            const dayName = date.toLocaleDateString('en', { weekday: 'short' });\n            \n            return (\n              <div key={index} className=\"text-center\" data-testid={`mood-day-${index}`}>\n                <div className=\"w-12 h-12 rounded-full flex items-center justify-center mb-2\">\n                  {mood ? (\n                    <div className={`w-full h-full rounded-full flex items-center justify-center ${moodIcons[mood.moodLevel as keyof typeof moodIcons].color}`}>\n                      {(() => {\n                        const MoodIcon = moodIcons[mood.moodLevel as keyof typeof moodIcons].icon;\n                        return <MoodIcon className=\"h-6 w-6\" />;\n                      })()}\n                    </div>\n                  ) : index === 6 ? (\n                    <div className=\"w-full h-full bg-border rounded-full flex items-center justify-center text-muted-foreground cursor-pointer hover:bg-muted transition-colors\">\n                      <Plus className=\"h-4 w-4\" />\n                    </div>\n                  ) : (\n                    <div className=\"w-full h-full bg-muted/30 rounded-full\"></div>\n                  )}\n                </div>\n                <div className=\"text-xs text-muted-foreground\">{dayName}</div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Mood Entry Buttons for Today */}\n        <div className=\"border-t pt-4\">\n          <p className=\"text-sm text-muted-foreground mb-3\">How are you feeling today?</p>\n          <div className=\"flex justify-center space-x-2\">\n            {Object.entries(moodIcons).reverse().map(([level, config]) => (\n              <Button\n                key={level}\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => handleMoodEntry(parseInt(level))}\n                className={`p-2 ${config.color} hover:opacity-80`}\n                disabled={addMoodMutation.isPending}\n                data-testid={`button-mood-${level}`}\n              >\n                <config.icon className=\"h-5 w-5\" />\n              </Button>\n            ))}\n          </div>\n        </div>\n\n        <p className=\"text-sm text-muted-foreground mt-4\">\n          {localMoodHistory.length > 0\n            ? \"Your mood has been mostly positive this week. Keep up the good self-care practices!\"\n            : \"Start tracking your mood to get personalized insights and recommendations.\"}\n        </p>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":7022},"client/src/components/layout/header.tsx":{"content":"import { useState } from \"react\";\nimport {\n  ChevronDown,\n  ChevronRight,\n  Globe,\n  Menu,\n  Moon,\n  Sun,\n  Stethoscope,\n  Flower,\n  Gamepad2,\n  BookOpen,\n  Save,\n  Settings,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { useAppContext, userModes, dailyFeelings } from \"@/context/AppContext\";\nimport { useLocation } from \"wouter\";\nimport GlobalSearch from \"@/components/global-search\";\nimport NotificationCenter from \"@/components/notifications/notification-center\";\nimport CoinDisplay from \"@/components/coins/coin-display\";\nimport SmartWatchIntegrationPopup from \"@/components/smartwatch-integration-popup\";\nimport { useTranslation } from \"@/hooks/use-translation\";\nimport logoUrl from \"@assets/logo (1)_1758315813528.png\";\n\nconst languages = [\n  { code: \"en\", name: \"English\" },\n  { code: \"hi\", name: \"हिंदी\" },\n  { code: \"bn\", name: \"বাংলা\" },\n  { code: \"ta\", name: \"தমিழ্\" },\n  { code: \"gu\", name: \"ગુજરાતી\" },\n];\n\nconst lightThemes = [\n  { value: \"light\", label: \"Light\" },\n  { value: \"coral\", label: \"Coral Warmth\" },\n  { value: \"sky\", label: \"Sky Fresh\" },\n  { value: \"mint\", label: \"Mint Fresh\" },\n  { value: \"cream\", label: \"Cream Comfort\" },\n  { value: \"rose\", label: \"Rose Blush\" },\n  { value: \"peach\", label: \"Peach Glow\" },\n  { value: \"lavender-light\", label: \"Lavender Soft\" },\n];\n\nconst darkThemes = [\n  { value: \"dark\", label: \"Dark\" },\n  { value: \"ocean\", label: \"Ocean Breeze\" },\n  { value: \"sunset\", label: \"Sunset Warm\" },\n  { value: \"forest\", label: \"Forest Calm\" },\n  { value: \"lavender\", label: \"Lavender Dreams\" },\n  { value: \"cosmic\", label: \"Cosmic Space\" },\n];\n\ninterface HeaderProps {\n  sidebarOpen?: boolean;\n  setSidebarOpen?: (open: boolean) => void;\n}\n\nexport default function Header({ sidebarOpen, setSidebarOpen }: HeaderProps = {}) {\n  const { currentUser, theme, setTheme, userMode, dailyFeeling, logout } = useAppContext();\n  const [, setLocation] = useLocation();\n  const [showSmartWatchPopup, setShowSmartWatchPopup] = useState(false);\n  const { ts, changeLanguage, currentLanguage, isTranslating } =\n    useTranslation();\n\n  // Note: Language change listening is now handled by useTranslation hook\n\n  const getInitials = (firstName?: string, lastName?: string) => {\n    return `${firstName?.[0] || \"\"}${lastName?.[0] || \"\"}`.toUpperCase();\n  };\n\n  const handleLanguageChange = (languageCode: string) => {\n    if (languageCode === currentLanguage) return;\n\n    // Use the React hook approach - this will trigger re-renders automatically\n    changeLanguage(languageCode);\n  };\n\n  // Get suggested themes based on user mode\n  const getSuggestedThemes = () => {\n    if (!userMode) return [...lightThemes, ...darkThemes];\n\n    const currentMode = userModes.find(mode => mode.id === userMode);\n    if (!currentMode || !currentMode.suggestedThemes) return [...lightThemes, ...darkThemes];\n\n    // Return suggested themes first, then other themes\n    const suggested = currentMode.suggestedThemes;\n    const allThemes = [...lightThemes, ...darkThemes];\n    const suggestedThemeObjects = allThemes.filter(theme => suggested.includes(theme.value as any));\n    const otherThemes = allThemes.filter(theme => !suggested.includes(theme.value as any));\n    \n    return [...suggestedThemeObjects, ...otherThemes];\n  };\n\n  const suggestedThemes = getSuggestedThemes();\n\n  return (\n    <>\n      <header className=\"bg-card border-b border-border sticky top-0 z-50\">\n      <div className=\"px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-[4.5rem]\">\n          {/* Left side - Mobile Menu Button + Desktop Search */}\n          <div className=\"flex items-center flex-1\">\n            {/* Mobile Menu Button - Always visible on mobile */}\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setSidebarOpen?.(!sidebarOpen)}\n              className=\"md:hidden hover:bg-accent mr-2\"\n              data-testid=\"button-mobile-menu\"\n              aria-controls=\"mobile-sidebar\"\n              aria-expanded={sidebarOpen}\n            >\n              <Menu className=\"h-5 w-5\" />\n            </Button>\n\n            {/* Global Search - Desktop only */}\n            <div className=\"hidden md:flex flex-1 max-w-md\">\n              <GlobalSearch />\n            </div>\n          </div>\n\n          {/* Right side - User menu items */}\n          <div className=\"flex items-center space-x-1 sm:space-x-2 lg:space-x-3\">\n            {/* Notifications - Hidden on small mobile, visible on larger screens */}\n            <div className=\"hidden sm:block\">\n              <NotificationCenter />\n            </div>\n\n            {/* Coin Display - Always visible */}\n            {currentUser && (\n              <CoinDisplay userId={currentUser.id} />\n            )}\n\n            {/* Settings Button - Mobile optimized */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  data-testid=\"button-settings\"\n                  className=\"hover:bg-accent h-8 w-8 p-0 sm:h-9 sm:w-9 sm:p-2\"\n                >\n                  <Settings className=\"h-4 w-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-56\">\n                <div>\n                  <DropdownMenuSub>\n                    <DropdownMenuSubTrigger data-testid=\"submenu-theme-settings\">\n                      {theme === \"dark\" ? (\n                        <Moon className=\"h-4 w-4 mr-2\" />\n                      ) : (\n                        <Sun className=\"h-4 w-4 mr-2\" />\n                      )}\n                      {ts(\"Theme\")}\n                    </DropdownMenuSubTrigger>\n                    <DropdownMenuSubContent className=\"max-h-80 overflow-y-auto\">\n                      {userMode && userModes.find(m => m.id === userMode)?.suggestedThemes && (\n                        <>\n                          {/* Suggested themes for current mode */}\n                          {userModes.find(m => m.id === userMode)!.suggestedThemes!.map((themeValue) => {\n                            const themeOption = suggestedThemes.find(t => t.value === themeValue);\n                            if (!themeOption) return null;\n                            return (\n                              <DropdownMenuItem\n                                key={themeOption.value}\n                                onClick={() => setTheme(themeOption.value as any)}\n                                data-testid={`option-theme-suggested-${themeOption.value}-settings`}\n                                className={`border-l-2 border-primary/50 ${theme === themeOption.value ? \"bg-primary/10 text-primary font-semibold\" : \"\"}`}\n                              >\n                                <span className=\"mr-2\">⭐</span>\n                                {ts(themeOption.label)}\n                                {theme === themeOption.value && (\n                                  <span className=\"ml-auto text-primary\">✓</span>\n                                )}\n                              </DropdownMenuItem>\n                            );\n                          })}\n                          <div className=\"border-t border-border my-1\"></div>\n                        </>\n                      )}\n                      \n                      {/* Light Themes Submenu */}\n                      <DropdownMenuSub>\n                        <DropdownMenuSubTrigger data-testid=\"submenu-light-themes\">\n                          <Sun className=\"h-4 w-4 mr-2\" />\n                          Light\n                        </DropdownMenuSubTrigger>\n                        <DropdownMenuSubContent>\n                          {suggestedThemes.filter(themeOption => \n                            lightThemes.some(t => t.value === themeOption.value) &&\n                            (!userMode || !userModes.find(m => m.id === userMode)?.suggestedThemes?.includes(themeOption.value as any))\n                          ).map((themeOption) => (\n                            <DropdownMenuItem\n                              key={themeOption.value}\n                              onClick={() => setTheme(themeOption.value as any)}\n                              data-testid={`option-theme-light-${themeOption.value}-settings`}\n                              className={theme === themeOption.value ? \"bg-primary/10 text-primary font-semibold\" : \"\"}\n                            >\n                              <span className=\"mr-2\">☀️</span>\n                              {ts(themeOption.label)}\n                              {theme === themeOption.value && (\n                                <span className=\"ml-auto text-primary\">✓</span>\n                              )}\n                            </DropdownMenuItem>\n                          ))}\n                        </DropdownMenuSubContent>\n                      </DropdownMenuSub>\n                      \n                      {/* Dark Themes Submenu */}\n                      <DropdownMenuSub>\n                        <DropdownMenuSubTrigger data-testid=\"submenu-dark-themes\">\n                          <Moon className=\"h-4 w-4 mr-2\" />\n                          Dark\n                        </DropdownMenuSubTrigger>\n                        <DropdownMenuSubContent>\n                          {suggestedThemes.filter(themeOption => \n                            !lightThemes.some(t => t.value === themeOption.value) &&\n                            (!userMode || !userModes.find(m => m.id === userMode)?.suggestedThemes?.includes(themeOption.value as any))\n                          ).map((themeOption) => (\n                            <DropdownMenuItem\n                              key={themeOption.value}\n                              onClick={() => setTheme(themeOption.value as any)}\n                              data-testid={`option-theme-dark-${themeOption.value}-settings`}\n                              className={theme === themeOption.value ? \"bg-primary/10 text-primary font-semibold\" : \"\"}\n                            >\n                              <span className=\"mr-2\">🌙</span>\n                              {ts(themeOption.label)}\n                              {theme === themeOption.value && (\n                                <span className=\"ml-auto text-primary\">✓</span>\n                              )}\n                            </DropdownMenuItem>\n                          ))}\n                        </DropdownMenuSubContent>\n                      </DropdownMenuSub>\n                    </DropdownMenuSubContent>\n                  </DropdownMenuSub>\n\n                  <DropdownMenuSub>\n                    <DropdownMenuSubTrigger data-testid=\"submenu-language-settings\">\n                      <Globe className=\"h-4 w-4 mr-2\" />\n                      {ts(\"Language\")}\n                    </DropdownMenuSubTrigger>\n                    <DropdownMenuSubContent>\n                      {languages.map((lang) => (\n                        <DropdownMenuItem\n                          key={lang.code}\n                          onClick={() => handleLanguageChange(lang.code)}\n                          data-testid={`option-language-${lang.code}-settings`}\n                          disabled={isTranslating}\n                          className={currentLanguage === lang.code ? \"bg-primary/10 text-primary font-semibold\" : \"\"}\n                        >\n                          {lang.name}\n                          {currentLanguage === lang.code && (\n                            <span className=\"ml-auto text-primary\">✓</span>\n                          )}\n                          {isTranslating && currentLanguage === lang.code && (\n                            <span className=\"ml-2 text-xs text-muted-foreground\">\n                              {ts(\"Translating...\")}\n                            </span>\n                          )}\n                        </DropdownMenuItem>\n                      ))}\n                    </DropdownMenuSubContent>\n                  </DropdownMenuSub>\n                </div>\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            {/* User Menu - Mobile optimized */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  className=\"w-8 h-8 sm:w-9 sm:h-9 bg-accent rounded-full p-0 touch-manipulation relative\"\n                  data-testid=\"button-user-menu\"\n                >\n                  <span className=\"text-accent-foreground text-xs sm:text-sm font-medium\">\n                    {getInitials(currentUser?.firstName, currentUser?.lastName)}\n                  </span>\n                  {userMode && (\n                    <span \n                      className=\"absolute -top-1 -right-1 text-xs bg-background rounded-full w-5 h-5 flex items-center justify-center border border-border shadow-sm\"\n                      data-testid=\"emoji-user-mode-profile\"\n                      aria-label={`Current mode: ${userModes.find(m => m.id === userMode)?.name}`}\n                      title={`Current mode: ${userModes.find(m => m.id === userMode)?.name}`}\n                    >\n                      {userModes.find(m => m.id === userMode)?.emoji}\n                    </span>\n                  )}\n                  {(() => {\n                    const feeling = dailyFeeling ? dailyFeelings.find(f => f.id === dailyFeeling) : null;\n                    return feeling ? (\n                      <span \n                        className=\"absolute inset-0 pointer-events-none\"\n                        style={{\n                          animation: 'profile-orbit 3s ease-in-out forwards',\n                          transformOrigin: 'center',\n                          willChange: 'transform'\n                        }}\n                      >\n                        <span \n                          className=\"absolute -bottom-1 -right-1 text-xs bg-background rounded-full w-5 h-5 flex items-center justify-center border border-border shadow-sm\"\n                          data-testid=\"emoji-daily-feeling-profile\"\n                          aria-label={`Today's feeling: ${feeling.name}`}\n                          title={`Today's feeling: ${feeling.name}`}\n                        >\n                          {feeling.emoji}\n                        </span>\n                      </span>\n                    ) : null;\n                  })()}\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-56\">\n                <DropdownMenuItem\n                  onClick={() => setLocation(\"/profile\")}\n                  data-testid=\"menu-item-profile\"\n                >\n                  {ts(\"Profile & Settings\")}\n                </DropdownMenuItem>\n                <DropdownMenuItem\n                  onClick={() => setLocation(\"/admin\")}\n                  data-testid=\"menu-item-admin\"\n                  className={currentUser?.isAdmin ? \"\" : \"hidden\"}\n                >\n                  {ts(\"Admin Dashboard\")}\n                </DropdownMenuItem>\n\n                <DropdownMenuItem\n                  onClick={() => setShowSmartWatchPopup(true)}\n                  data-testid=\"menu-item-smart-integration\"\n                  className=\"sm:hidden\"\n                >\n                  Smart Integration\n                </DropdownMenuItem>\n\n                <DropdownMenuItem\n                  onClick={logout}\n                  data-testid=\"menu-item-logout\"\n                >\n                  {ts(\"Sign Out\")}\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            {/* Mobile Notifications */}\n            <div className=\"sm:hidden\">\n              <NotificationCenter />\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n    \n    {/* SmartWatch Integration Popup */}\n    <SmartWatchIntegrationPopup \n      isOpen={showSmartWatchPopup} \n      onClose={() => setShowSmartWatchPopup(false)} \n    />\n    </>\n  );\n}\n","size_bytes":16355},"client/src/components/layout/navigation.tsx":{"content":"import { useLocation } from \"wouter\";\nimport {\n  ChevronDown,\n  Play,\n  Music,\n  Gamepad2,\n  Video,\n  Radio,\n  Phone,\n  Stethoscope,\n  Brain,\n  Flower,\n  Moon,\n  BookOpen,\n  Save,\n  Pill,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\nconst navItems = [\n  { href: \"/\", label: \"Home\", testId: \"nav-home\" },\n  { href: \"/chat\", label: \"AI Assistant\", testId: \"nav-ai-assistant\" },\n];\n\nconst doctorScreeningItems = [\n  { href: \"/doctor\", label: \"Doctor\", icon: Stethoscope, testId: \"nav-doctor\" },\n  {\n    href: \"/screening\",\n    label: \"Screening\",\n    icon: Brain,\n    testId: \"nav-screening\",\n  },\n  {\n    href: \"/medicine\",\n    label: \"Buy Medicine\",\n    icon: Pill,\n    testId: \"nav-medicine\",\n  },\n];\n\nconst wellnessItems = [\n  { href: \"/yoga\", label: \"Yoga\", icon: Flower, testId: \"nav-yoga\" },\n  {\n    href: \"/sleep\",\n    label: \"Sleep Cycle Guide\",\n    icon: Moon,\n    testId: \"nav-sleep-cycle\",\n  },\n  {\n    href: \"/routine\",\n    label: \"Routine Generator\",\n    icon: Play,\n    testId: \"nav-routine-generator\",\n  },\n];\n\nconst relaxRefreshItems = [\n  { href: \"/games\", label: \"Games\", icon: Gamepad2, testId: \"nav-games\" },\n  {\n    href: \"/music\",\n    label: \"Mind Fresh Music\",\n    icon: Music,\n    testId: \"nav-music\",\n  },\n  {\n    href: \"/videos\",\n    label: \"Motivation Videos\",\n    icon: Video,\n    testId: \"nav-videos\",\n  },\n  {\n    href: \"/live\",\n    label: \"Live Sessions\",\n    icon: Radio,\n    testId: \"nav-live-sessions\",\n  },\n];\n\nconst communityItems = [\n  {\n    href: \"/resources\",\n    label: \"Resources\",\n    icon: BookOpen,\n    testId: \"nav-resources\",\n  },\n  {\n    href: \"/peer-calling\",\n    label: \"Peer Call\",\n    icon: Phone,\n    testId: \"nav-peer-calling\",\n  },\n];\n\nconst mySpaceItems = [\n  { href: \"/diary\", label: \"My Diary\", icon: BookOpen, testId: \"nav-my-diary\" },\n  {\n    href: \"/saved\",\n    label: \"Saved Content\",\n    icon: Save,\n    testId: \"nav-saved-content\",\n  },\n];\n\nexport default function Navigation() {\n  const [location, setLocation] = useLocation();\n\n  const isDoctorScreeningActive = doctorScreeningItems.some(\n    (item) => location === item.href,\n  );\n  const isWellnessActive = wellnessItems.some((item) => location === item.href);\n  const isRelaxRefreshActive = relaxRefreshItems.some(\n    (item) => location === item.href,\n  );\n  const isCommunityActive = communityItems.some(\n    (item) => location === item.href,\n  );\n  const isMySpaceActive = mySpaceItems.some((item) => location === item.href);\n\n  return (\n    <nav className=\"hidden md:flex items-center space-x-4 lg:space-x-6\">\n      {navItems.map((item) => (\n        <button\n          key={item.href}\n          onClick={() => setLocation(item.href)}\n          className={cn(\n            \"text-foreground hover:text-primary transition-colors whitespace-nowrap text-sm lg:text-base\",\n            location === item.href && \"text-primary font-medium\",\n          )}\n          data-testid={item.testId}\n        >\n          {item.label}\n        </button>\n      ))}\n\n      {/* Doctor/Screening Dropdown */}\n      <DropdownMenu>\n        <DropdownMenuTrigger\n          className={cn(\n            \"flex items-center space-x-1 text-foreground hover:text-primary transition-colors focus:outline-none whitespace-nowrap text-sm lg:text-base\",\n            isDoctorScreeningActive && \"text-primary font-medium\",\n          )}\n        >\n          <span>Doctor/Screening</span>\n          <ChevronDown className=\"h-3 w-3\" />\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-56\">\n          {doctorScreeningItems.map((item) => {\n            const Icon = item.icon;\n            return (\n              <DropdownMenuItem\n                key={item.href}\n                onClick={() => setLocation(item.href)}\n                className=\"flex items-center space-x-2 cursor-pointer\"\n                data-testid={item.testId}\n              >\n                <Icon className=\"h-4 w-4\" />\n                <span>{item.label}</span>\n              </DropdownMenuItem>\n            );\n          })}\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      {/* Wellness Dropdown */}\n      <DropdownMenu>\n        <DropdownMenuTrigger\n          className={cn(\n            \"flex items-center space-x-1 text-foreground hover:text-primary transition-colors focus:outline-none whitespace-nowrap text-sm lg:text-base\",\n            isWellnessActive && \"text-primary font-medium\",\n          )}\n        >\n          <span>Wellness</span>\n          <ChevronDown className=\"h-3 w-3\" />\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-56\">\n          {wellnessItems.map((item) => {\n            const Icon = item.icon;\n            return (\n              <DropdownMenuItem\n                key={item.href}\n                onClick={() => setLocation(item.href)}\n                className=\"flex items-center space-x-2 cursor-pointer\"\n                data-testid={item.testId}\n              >\n                <Icon className=\"h-4 w-4\" />\n                <span>{item.label}</span>\n              </DropdownMenuItem>\n            );\n          })}\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      {/* Relax & Refresh Dropdown */}\n      <DropdownMenu>\n        <DropdownMenuTrigger\n          className={cn(\n            \"flex items-center space-x-1 text-foreground hover:text-primary transition-colors focus:outline-none whitespace-nowrap text-sm lg:text-base\",\n            isRelaxRefreshActive && \"text-primary font-medium\",\n          )}\n        >\n          <span>Relax & Refresh</span>\n          <ChevronDown className=\"h-3 w-3\" />\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-56\">\n          {relaxRefreshItems.map((item) => {\n            const Icon = item.icon;\n            return (\n              <DropdownMenuItem\n                key={item.href}\n                onClick={() => setLocation(item.href)}\n                className=\"flex items-center space-x-2 cursor-pointer\"\n                data-testid={item.testId}\n              >\n                <Icon className=\"h-4 w-4\" />\n                <span>{item.label}</span>\n              </DropdownMenuItem>\n            );\n          })}\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      {/* Community Dropdown */}\n      <DropdownMenu>\n        <DropdownMenuTrigger\n          className={cn(\n            \"flex items-center space-x-1 text-foreground hover:text-primary transition-colors focus:outline-none whitespace-nowrap text-sm lg:text-base\",\n            isCommunityActive && \"text-primary font-medium\",\n          )}\n        >\n          <span>Community</span>\n          <ChevronDown className=\"h-3 w-3\" />\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-56\">\n          {communityItems.map((item) => {\n            const Icon = item.icon;\n            return (\n              <DropdownMenuItem\n                key={item.href}\n                onClick={() => setLocation(item.href)}\n                className=\"flex items-center space-x-2 cursor-pointer\"\n                data-testid={item.testId}\n              >\n                <Icon className=\"h-4 w-4\" />\n                <span>{item.label}</span>\n              </DropdownMenuItem>\n            );\n          })}\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      {/* My Space Dropdown */}\n      <DropdownMenu>\n        <DropdownMenuTrigger\n          className={cn(\n            \"flex items-center space-x-1 text-foreground hover:text-primary transition-colors focus:outline-none whitespace-nowrap text-sm lg:text-base\",\n            isMySpaceActive && \"text-primary font-medium\",\n          )}\n        >\n          <span>My Space</span>\n          <ChevronDown className=\"h-3 w-3\" />\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-56\">\n          {mySpaceItems.map((item) => {\n            const Icon = item.icon;\n            return (\n              <DropdownMenuItem\n                key={item.href}\n                onClick={() => setLocation(item.href)}\n                className=\"flex items-center space-x-2 cursor-pointer\"\n                data-testid={item.testId}\n              >\n                <Icon className=\"h-4 w-4\" />\n                <span>{item.label}</span>\n              </DropdownMenuItem>\n            );\n          })}\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </nav>\n  );\n}\n","size_bytes":8497},"client/src/components/screening/gad7-form.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Brain, ArrowLeft, ArrowRight, CheckCircle, History, Share } from \"lucide-react\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { ScreeningQuestion, ScreeningResult, ScreeningAssessment } from \"@/types\";\n\nexport default function GAD7Form() {\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [responses, setResponses] = useState<number[]>([]);\n  const [isCompleted, setIsCompleted] = useState(false);\n  const [result, setResult] = useState<ScreeningResult | null>(null);\n  const [showHistory, setShowHistory] = useState(false);\n\n  const { data: questionsData } = useQuery({\n    queryKey: [\"/api/screening/questions/GAD7\"],\n  });\n\n  const { data: history } = useQuery({\n    queryKey: [\"/api/screening/history\", currentUser?.id],\n    select: (data: any) => data?.filter?.((item: ScreeningAssessment) => item.type === \"GAD7\"),\n  });\n\n  const { data: latestScreening } = useQuery({\n    queryKey: [\"/api/screening/history\", currentUser?.id, \"GAD7\"],\n    select: (data: any) => data?.find?.((item: ScreeningAssessment) => item.type === \"GAD7\"),\n  });\n\n  const submitMutation = useMutation({\n    mutationFn: async (assessmentData: any) => {\n      return await apiRequest(\"POST\", \"/api/screening/submit\", assessmentData);\n    },\n    onSuccess: (data: any) => {\n      setResult(data.result);\n      setIsCompleted(true);\n      queryClient.invalidateQueries({ queryKey: [\"/api/screening/history\"] });\n      \n      toast({\n        title: \"Assessment completed\",\n        description: \"Your GAD-7 screening has been saved securely.\",\n      });\n    },\n    onError: (error) => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to submit assessment. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const questions = (questionsData as any)?.questions || [];\n  const responseOptions = (questionsData as any)?.options || [];\n  \n  const handleResponseChange = (value: string) => {\n    const newResponses = [...responses];\n    newResponses[currentQuestion] = parseInt(value);\n    setResponses(newResponses);\n  };\n\n  const handleNext = () => {\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n    } else {\n      // Submit assessment\n      submitMutation.mutate({\n        userId: currentUser?.id,\n        type: \"GAD7\",\n        responses,\n      });\n    }\n  };\n\n  const handlePrevious = () => {\n    if (currentQuestion > 0) {\n      setCurrentQuestion(currentQuestion - 1);\n    }\n  };\n\n  const handleRestart = () => {\n    setCurrentQuestion(0);\n    setResponses([]);\n    setIsCompleted(false);\n    setResult(null);\n    setShowHistory(false);\n  };\n\n  const handleStartNew = () => {\n    setShowHistory(false);\n    handleRestart();\n  };\n\n  const progress = ((currentQuestion + 1) / questions.length) * 100;\n  const canProceed = responses[currentQuestion] !== undefined;\n\n  if (questions.length === 0) {\n    return (\n      <Card>\n        <CardContent className=\"p-6\">\n          <p className=\"text-muted-foreground\">Loading assessment questions...</p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  // Show previous results first\n  if (!showHistory && latestScreening && !isCompleted && currentQuestion === 0 && responses.length === 0) {\n    const daysSinceLastScreening = Math.floor(\n      (new Date().getTime() - new Date(latestScreening.completedAt).getTime()) / (1000 * 60 * 60 * 24)\n    );\n\n    return (\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center space-x-3 mb-4\">\n            <div className=\"w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center\">\n              <Brain className=\"text-secondary h-6 w-6\" />\n            </div>\n            <div>\n              <CardTitle>GAD-7 Anxiety Screening</CardTitle>\n              <p className=\"text-sm text-muted-foreground\">\n                Assess anxiety symptoms over the past 2 weeks\n              </p>\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"space-y-6\">\n          {/* Previous Result */}\n          <div className=\"p-4 bg-muted/30 rounded-lg\">\n            <h4 className=\"font-medium text-card-foreground mb-3\">Your Last Result</h4>\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"text-sm text-muted-foreground\">\n                Score: {latestScreening.totalScore}/21\n              </span>\n              <Badge className={`${\n                latestScreening.riskLevel === \"minimal\" ? \"bg-green-100 text-green-800\" :\n                latestScreening.riskLevel === \"mild\" ? \"bg-yellow-100 text-yellow-800\" :\n                latestScreening.riskLevel === \"moderate\" ? \"bg-orange-100 text-orange-800\" :\n                \"bg-red-100 text-red-800\"\n              }`}>\n                {latestScreening.riskLevel.charAt(0).toUpperCase() + latestScreening.riskLevel.slice(1)} Anxiety\n              </Badge>\n            </div>\n            <Progress value={(latestScreening.totalScore / 21) * 100} className=\"mb-2\" />\n            <p className=\"text-xs text-muted-foreground\">\n              Taken {daysSinceLastScreening} {daysSinceLastScreening === 1 ? 'day' : 'days'} ago\n            </p>\n          </div>\n\n          <div className=\"space-y-3\">\n            <Button \n              className=\"w-full\"\n              onClick={handleStartNew}\n              data-testid=\"button-start-gad7\"\n            >\n              <Brain className=\"h-4 w-4 mr-2\" />\n              Take New GAD-7 Screening\n            </Button>\n            \n            <Button \n              variant=\"outline\" \n              className=\"w-full\"\n              onClick={() => setShowHistory(true)}\n              data-testid=\"button-view-history\"\n            >\n              <History className=\"h-4 w-4 mr-2\" />\n              View History\n            </Button>\n            \n            <Button \n              variant=\"outline\" \n              className=\"w-full\"\n              data-testid=\"button-share-with-counselor\"\n            >\n              <Share className=\"h-4 w-4 mr-2\" />\n              Share with Counselor\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (showHistory) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center justify-between\">\n            GAD-7 Assessment History\n            <Button variant=\"outline\" onClick={() => setShowHistory(false)}>\n              Back to Assessment\n            </Button>\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {!history || history.length === 0 ? (\n            <p className=\"text-muted-foreground text-center py-8\">No previous assessments found.</p>\n          ) : (\n            <div className=\"space-y-4\">\n              {history.map((assessment: ScreeningAssessment) => (\n                <div key={assessment.id} className=\"p-4 border rounded-lg\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"font-medium\">Score: {assessment.totalScore}/21</span>\n                    <Badge className={`${\n                      assessment.riskLevel === \"minimal\" ? \"bg-green-100 text-green-800\" :\n                      assessment.riskLevel === \"mild\" ? \"bg-yellow-100 text-yellow-800\" :\n                      assessment.riskLevel === \"moderate\" ? \"bg-orange-100 text-orange-800\" :\n                      \"bg-red-100 text-red-800\"\n                    }`}>\n                      {assessment.riskLevel.charAt(0).toUpperCase() + assessment.riskLevel.slice(1)}\n                    </Badge>\n                  </div>\n                  <Progress value={(assessment.totalScore / 21) * 100} className=\"mb-2\" />\n                  <p className=\"text-xs text-muted-foreground\">\n                    {new Date(assessment.completedAt).toLocaleDateString()}\n                  </p>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (isCompleted && result) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center text-secondary\">\n            <CheckCircle className=\"h-6 w-6 mr-2\" />\n            GAD-7 Assessment Complete\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"text-center\">\n            <div className=\"text-4xl font-bold text-primary mb-2\">\n              {result.totalScore}/21\n            </div>\n            <Badge className={`inline-block px-4 py-2 rounded-full text-sm font-medium ${\n              result.riskLevel === \"minimal\" ? \"bg-green-100 text-green-800\" :\n              result.riskLevel === \"mild\" ? \"bg-yellow-100 text-yellow-800\" :\n              result.riskLevel === \"moderate\" ? \"bg-orange-100 text-orange-800\" :\n              \"bg-red-100 text-red-800\"\n            }`}>\n              {result.riskLevel.charAt(0).toUpperCase() + result.riskLevel.slice(1)} Anxiety Symptoms\n            </Badge>\n          </div>\n\n          <div>\n            <h4 className=\"font-medium text-card-foreground mb-3\">Recommendations:</h4>\n            <ul className=\"space-y-2\">\n              {result.recommendations.map((rec, index) => (\n                <li key={index} className=\"text-sm text-muted-foreground flex items-start\">\n                  <span className=\"inline-block w-1.5 h-1.5 bg-primary rounded-full mt-2 mr-2 flex-shrink-0\" />\n                  {rec}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {result.isHighRisk && (\n            <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-4\">\n              <p className=\"text-destructive font-medium\">\n                Your responses suggest you may benefit from professional support for anxiety management. \n                Please consider speaking with a counselor or mental health professional.\n              </p>\n            </div>\n          )}\n\n          <div className=\"flex space-x-3\">\n            <Button onClick={handleRestart} variant=\"outline\" data-testid=\"button-retake-gad7\">\n              Take Again\n            </Button>\n            <Button data-testid=\"button-book-counseling-gad7\">\n              Book Counseling Session\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center space-x-3 mb-4\">\n          <div className=\"w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center\">\n            <Brain className=\"text-secondary h-6 w-6\" />\n          </div>\n          <div>\n            <CardTitle>GAD-7 Anxiety Screening</CardTitle>\n            <p className=\"text-sm text-muted-foreground\">\n              Over the last 2 weeks, how often have you been bothered by the following?\n            </p>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-6\">\n        <div className=\"space-y-4\">\n          <div className=\"text-center text-muted-foreground text-sm\">\n            Question {currentQuestion + 1} of {questions.length}\n          </div>\n          <Progress value={progress} className=\"h-2\" />\n        </div>\n\n        <div className=\"space-y-4\">\n          <h3 className=\"text-lg font-medium text-card-foreground\">\n            {questions[currentQuestion]?.text}\n          </h3>\n\n          <RadioGroup\n            value={responses[currentQuestion]?.toString() || \"\"}\n            onValueChange={handleResponseChange}\n          >\n            <div className=\"grid grid-cols-1 gap-3\">\n              {responseOptions.map((option: any) => (\n                <div\n                  key={option.value}\n                  className=\"flex items-center space-x-3 p-3 rounded-lg border hover:bg-muted/50 transition-colors\"\n                >\n                  <RadioGroupItem\n                    value={option.value.toString()}\n                    id={`gad7-option-${option.value}`}\n                    data-testid={`radio-gad7-option-${option.value}`}\n                  />\n                  <Label\n                    htmlFor={`gad7-option-${option.value}`}\n                    className=\"flex-1 cursor-pointer\"\n                  >\n                    {option.label}\n                  </Label>\n                </div>\n              ))}\n            </div>\n          </RadioGroup>\n        </div>\n\n        <div className=\"flex justify-between pt-4\">\n          <Button\n            variant=\"outline\"\n            onClick={handlePrevious}\n            disabled={currentQuestion === 0}\n            data-testid=\"button-previous-gad7\"\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Previous\n          </Button>\n          \n          <Button\n            onClick={handleNext}\n            disabled={!canProceed || submitMutation.isPending}\n            data-testid=\"button-next-gad7\"\n          >\n            {currentQuestion === questions.length - 1 ? (\n              submitMutation.isPending ? \"Submitting...\" : \"Complete Assessment\"\n            ) : (\n              <>\n                Next Question\n                <ArrowRight className=\"h-4 w-4 ml-2\" />\n              </>\n            )}\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":13892},"client/src/components/screening/phq9-form.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Heart, ArrowLeft, ArrowRight, CheckCircle } from \"lucide-react\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { ScreeningQuestion, ScreeningResult } from \"@/types\";\n\nexport default function PHQ9Form() {\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [responses, setResponses] = useState<number[]>([]);\n  const [isCompleted, setIsCompleted] = useState(false);\n  const [result, setResult] = useState<ScreeningResult | null>(null);\n\n  const { data: questionsData } = useQuery({\n    queryKey: [\"/api/screening/questions/PHQ9\"],\n  });\n\n  const { data: history } = useQuery({\n    queryKey: [\"/api/screening/history\", currentUser?.id],\n    select: (data: any) => data?.filter?.((item: any) => item.type === \"PHQ9\"),\n  });\n\n  const submitMutation = useMutation({\n    mutationFn: async (assessmentData: any) => {\n      return await apiRequest(\"POST\", \"/api/screening/submit\", assessmentData);\n    },\n    onSuccess: (data: any) => {\n      setResult(data.result);\n      setIsCompleted(true);\n      queryClient.invalidateQueries({ queryKey: [\"/api/screening/history\"] });\n      \n      toast({\n        title: \"Assessment completed\",\n        description: \"Your PHQ-9 screening has been saved securely.\",\n      });\n    },\n    onError: (error) => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to submit assessment. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const questions = (questionsData as any)?.questions || [];\n  const responseOptions = (questionsData as any)?.options || [];\n  \n  const handleResponseChange = (value: string) => {\n    const newResponses = [...responses];\n    newResponses[currentQuestion] = parseInt(value);\n    setResponses(newResponses);\n  };\n\n  const handleNext = () => {\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n    } else {\n      // Submit assessment\n      submitMutation.mutate({\n        userId: currentUser?.id,\n        type: \"PHQ9\",\n        responses,\n      });\n    }\n  };\n\n  const handlePrevious = () => {\n    if (currentQuestion > 0) {\n      setCurrentQuestion(currentQuestion - 1);\n    }\n  };\n\n  const handleRestart = () => {\n    setCurrentQuestion(0);\n    setResponses([]);\n    setIsCompleted(false);\n    setResult(null);\n  };\n\n  const progress = ((currentQuestion + 1) / questions.length) * 100;\n  const canProceed = responses[currentQuestion] !== undefined;\n\n  if (questions.length === 0) {\n    return (\n      <Card>\n        <CardContent className=\"p-6\">\n          <p className=\"text-muted-foreground\">Loading assessment questions...</p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (isCompleted && result) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center text-secondary\">\n            <CheckCircle className=\"h-6 w-6 mr-2\" />\n            PHQ-9 Assessment Complete\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <div className=\"text-center\">\n            <div className=\"text-4xl font-bold text-primary mb-2\">\n              {result.totalScore}/27\n            </div>\n            <div className={`inline-block px-4 py-2 rounded-full text-sm font-medium ${\n              result.riskLevel === \"minimal\" ? \"bg-green-100 text-green-800\" :\n              result.riskLevel === \"mild\" ? \"bg-yellow-100 text-yellow-800\" :\n              result.riskLevel === \"moderate\" ? \"bg-orange-100 text-orange-800\" :\n              \"bg-red-100 text-red-800\"\n            }`}>\n              {result.riskLevel.charAt(0).toUpperCase() + result.riskLevel.slice(1)} Depression Symptoms\n            </div>\n          </div>\n\n          <div>\n            <h4 className=\"font-medium text-card-foreground mb-3\">Recommendations:</h4>\n            <ul className=\"space-y-2\">\n              {result.recommendations.map((rec, index) => (\n                <li key={index} className=\"text-sm text-muted-foreground flex items-start\">\n                  <span className=\"inline-block w-1.5 h-1.5 bg-primary rounded-full mt-2 mr-2 flex-shrink-0\" />\n                  {rec}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {result.isHighRisk && (\n            <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-4\">\n              <p className=\"text-destructive font-medium\">\n                Your responses suggest you may benefit from professional support. \n                Please consider speaking with a counselor or mental health professional.\n              </p>\n            </div>\n          )}\n\n          <div className=\"flex space-x-3\">\n            <Button onClick={handleRestart} variant=\"outline\" data-testid=\"button-retake-assessment\">\n              Take Again\n            </Button>\n            <Button data-testid=\"button-book-counseling\">\n              Book Counseling Session\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center space-x-3 mb-4\">\n          <div className=\"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center\">\n            <Heart className=\"text-primary h-6 w-6\" />\n          </div>\n          <div>\n            <CardTitle>PHQ-9 Depression Screening</CardTitle>\n            <p className=\"text-sm text-muted-foreground\">\n              Over the last 2 weeks, how often have you been bothered by the following?\n            </p>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-6\">\n        <div className=\"space-y-4\">\n          <div className=\"text-center text-muted-foreground text-sm\">\n            Question {currentQuestion + 1} of {questions.length}\n          </div>\n          <Progress value={progress} className=\"h-2\" />\n        </div>\n\n        <div className=\"space-y-4\">\n          <h3 className=\"text-lg font-medium text-card-foreground\">\n            {questions[currentQuestion]?.text}\n          </h3>\n\n          <RadioGroup\n            value={responses[currentQuestion]?.toString() || \"\"}\n            onValueChange={handleResponseChange}\n          >\n            <div className=\"grid grid-cols-1 gap-3\">\n              {responseOptions.map((option: any) => (\n                <div\n                  key={option.value}\n                  className=\"flex items-center space-x-3 p-3 rounded-lg border hover:bg-muted/50 transition-colors\"\n                >\n                  <RadioGroupItem\n                    value={option.value.toString()}\n                    id={`option-${option.value}`}\n                    data-testid={`radio-option-${option.value}`}\n                  />\n                  <Label\n                    htmlFor={`option-${option.value}`}\n                    className=\"flex-1 cursor-pointer\"\n                  >\n                    {option.label}\n                  </Label>\n                </div>\n              ))}\n            </div>\n          </RadioGroup>\n        </div>\n\n        <div className=\"flex justify-between pt-4\">\n          <Button\n            variant=\"outline\"\n            onClick={handlePrevious}\n            disabled={currentQuestion === 0}\n            data-testid=\"button-previous\"\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Previous\n          </Button>\n          \n          <Button\n            onClick={handleNext}\n            disabled={!canProceed || submitMutation.isPending}\n            data-testid=\"button-next\"\n          >\n            {currentQuestion === questions.length - 1 ? (\n              submitMutation.isPending ? \"Submitting...\" : \"Complete Assessment\"\n            ) : (\n              <>\n                Next Question\n                <ArrowRight className=\"h-4 w-4 ml-2\" />\n              </>\n            )}\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":8497},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1128},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1901},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1858},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":791},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5742},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":23567},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[320px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-3 overflow-hidden rounded-md border p-3 pr-6 shadow-md transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-xs font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/global-search.tsx":{"content":"import { useState, useEffect, useCallback } from \"react\";\nimport { Search, FileText, MessageCircle, Users, Heart, Calendar, ArrowRight } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  CommandDialog,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n} from \"@/components/ui/command\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { useAppContext } from \"@/context/AppContext\";\n\ninterface SearchResult {\n  id: string;\n  title: string;\n  description: string;\n  type: \"resource\" | \"post\" | \"page\" | \"quick-action\";\n  url: string;\n  icon: any;\n  category?: string;\n}\n\nexport default function GlobalSearch() {\n  const [open, setOpen] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const [, setLocation] = useLocation();\n  const { currentUser } = useAppContext();\n\n  // Quick keyboard shortcut\n  useEffect(() => {\n    const down = (e: KeyboardEvent) => {\n      if (e.key === \"k\" && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault();\n        setOpen((open) => !open);\n      }\n    };\n    document.addEventListener(\"keydown\", down);\n    return () => document.removeEventListener(\"keydown\", down);\n  }, []);\n\n  // Fetch search data\n  const { data: resources } = useQuery({\n    queryKey: [\"/api/resources\"],\n    enabled: open,\n  });\n\n  const { data: forumPosts } = useQuery({\n    queryKey: [\"/api/forum/posts\"],\n    enabled: open,\n  });\n\n  // Quick actions\n  const quickActions: SearchResult[] = [\n    {\n      id: \"chat\",\n      title: \"AI Support Chat\",\n      description: \"Get instant mental health support\",\n      type: \"quick-action\",\n      url: \"/chat\",\n      icon: MessageCircle,\n    },\n    {\n      id: \"screening\",\n      title: \"Mental Health Screening\",\n      description: \"Take PHQ-9 or GAD-7 assessment\",\n      type: \"quick-action\",\n      url: \"/screening\",\n      icon: Heart,\n    },\n    {\n      id: \"community\",\n      title: \"Community Forum\",\n      description: \"Connect with peer support\",\n      type: \"quick-action\",\n      url: \"/community\",\n      icon: Users,\n    },\n    {\n      id: \"resources\",\n      title: \"Wellness Resources\",\n      description: \"Browse mental health resources\",\n      type: \"quick-action\",\n      url: \"/resources\",\n      icon: FileText,\n    },\n  ];\n\n  // Pages\n  const pages: SearchResult[] = [\n    {\n      id: \"home\",\n      title: \"Home Dashboard\",\n      description: \"Your personal mental health overview\",\n      type: \"page\",\n      url: \"/\",\n      icon: Calendar,\n    },\n    ...(currentUser?.isAdmin ? [{\n      id: \"admin\",\n      title: \"Admin Dashboard\",\n      description: \"Analytics and user management\",\n      type: \"page\" as const,\n      url: \"/admin\",\n      icon: Users,\n    }] : []),\n  ];\n\n  // Filter results based on query\n  const filteredResults = useCallback(() => {\n    if (!query.trim()) {\n      return {\n        quickActions: quickActions.slice(0, 4),\n        pages: pages.slice(0, 3),\n        resources: [],\n        posts: [],\n      };\n    }\n\n    const queryLower = query.toLowerCase();\n    const filterByQuery = (items: any[], searchFields: string[]) =>\n      (items || []).filter(item => \n        searchFields.some(field => \n          item[field]?.toLowerCase().includes(queryLower)\n        )\n      );\n\n    const resourcesArray = Array.isArray(resources) ? resources : [];\n    const postsArray = Array.isArray(forumPosts) ? forumPosts : [];\n\n    const filteredResources = filterByQuery(resourcesArray, [\"title\", \"description\", \"category\"])\n      .slice(0, 5)\n      .map((resource: any) => ({\n        id: resource.id,\n        title: resource.title,\n        description: resource.description,\n        type: \"resource\" as const,\n        url: \"/resources\",\n        icon: FileText,\n        category: resource.category,\n      }));\n\n    const filteredPosts = filterByQuery(postsArray, [\"title\", \"content\", \"category\"])\n      .slice(0, 5)\n      .map((post: any) => ({\n        id: post.id,\n        title: post.title,\n        description: post.content?.substring(0, 100) + \"...\",\n        type: \"post\" as const,\n        url: \"/community\",\n        icon: MessageCircle,\n        category: post.category,\n      }));\n\n    const filteredQuickActions = filterByQuery(quickActions, [\"title\", \"description\"]);\n    const filteredPages = filterByQuery(pages, [\"title\", \"description\"]);\n\n    return {\n      quickActions: filteredQuickActions,\n      pages: filteredPages,\n      resources: filteredResources,\n      posts: filteredPosts,\n    };\n  }, [query, resources, forumPosts, quickActions, pages]);\n\n  const results = filteredResults();\n  const hasResults = Object.values(results).some(arr => arr.length > 0);\n\n  const handleSelect = (result: SearchResult) => {\n    setOpen(false);\n    setQuery(\"\");\n    setLocation(result.url);\n  };\n\n  return (\n    <>\n      <Button\n        variant=\"outline\"\n        className=\"relative w-full justify-start text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64\"\n        onClick={() => setOpen(true)}\n        data-testid=\"button-global-search\"\n      >\n        <Search className=\"mr-2 h-4 w-4\" />\n        <span className=\"hidden lg:inline-flex\">Search everything...</span>\n        <span className=\"inline-flex lg:hidden\">Search...</span>\n        <kbd className=\"pointer-events-none absolute right-1.5 top-1.5 hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex\">\n          <span className=\"text-xs\">⌘</span>K\n        </kbd>\n      </Button>\n\n      <CommandDialog open={open} onOpenChange={setOpen}>\n        <CommandInput\n          placeholder=\"Search resources, posts, pages...\"\n          value={query}\n          onValueChange={setQuery}\n          data-testid=\"input-global-search\"\n        />\n        <CommandList>\n          {!hasResults && (\n            <CommandEmpty>\n              {query ? \"No results found.\" : \"Start typing to search...\"}\n            </CommandEmpty>\n          )}\n\n          {results.quickActions.length > 0 && (\n            <CommandGroup heading=\"Quick Actions\">\n              {results.quickActions.map((result) => {\n                const IconComponent = result.icon;\n                return (\n                  <CommandItem\n                    key={result.id}\n                    onSelect={() => handleSelect(result)}\n                    className=\"flex items-center gap-2 px-2 py-3\"\n                    data-testid={`search-result-${result.type}-${result.id}`}\n                  >\n                    <IconComponent className=\"h-4 w-4 text-primary\" />\n                    <div className=\"flex flex-col\">\n                      <span className=\"font-medium\">{result.title}</span>\n                      <span className=\"text-sm text-muted-foreground\">{result.description}</span>\n                    </div>\n                    <ArrowRight className=\"ml-auto h-3 w-3 text-muted-foreground\" />\n                  </CommandItem>\n                );\n              })}\n            </CommandGroup>\n          )}\n\n          {results.pages.length > 0 && (\n            <>\n              <CommandSeparator />\n              <CommandGroup heading=\"Pages\">\n                {results.pages.map((result) => {\n                  const IconComponent = result.icon;\n                  return (\n                    <CommandItem\n                      key={result.id}\n                      onSelect={() => handleSelect(result)}\n                      className=\"flex items-center gap-2 px-2 py-3\"\n                      data-testid={`search-result-${result.type}-${result.id}`}\n                    >\n                      <IconComponent className=\"h-4 w-4 text-secondary\" />\n                      <div className=\"flex flex-col\">\n                        <span className=\"font-medium\">{result.title}</span>\n                        <span className=\"text-sm text-muted-foreground\">{result.description}</span>\n                      </div>\n                      <ArrowRight className=\"ml-auto h-3 w-3 text-muted-foreground\" />\n                    </CommandItem>\n                  );\n                })}\n              </CommandGroup>\n            </>\n          )}\n\n          {results.resources.length > 0 && (\n            <>\n              <CommandSeparator />\n              <CommandGroup heading=\"Resources\">\n                {results.resources.map((result) => (\n                  <CommandItem\n                    key={result.id}\n                    onSelect={() => handleSelect(result)}\n                    className=\"flex items-center gap-2 px-2 py-3\"\n                    data-testid={`search-result-${result.type}-${result.id}`}\n                  >\n                    <FileText className=\"h-4 w-4 text-accent\" />\n                    <div className=\"flex flex-col\">\n                      <span className=\"font-medium\">{result.title}</span>\n                      <span className=\"text-sm text-muted-foreground\">{result.description}</span>\n                      {result.category && (\n                        <span className=\"text-xs text-muted-foreground\">in {result.category}</span>\n                      )}\n                    </div>\n                    <ArrowRight className=\"ml-auto h-3 w-3 text-muted-foreground\" />\n                  </CommandItem>\n                ))}\n              </CommandGroup>\n            </>\n          )}\n\n          {results.posts.length > 0 && (\n            <>\n              <CommandSeparator />\n              <CommandGroup heading=\"Community Posts\">\n                {results.posts.map((result) => (\n                  <CommandItem\n                    key={result.id}\n                    onSelect={() => handleSelect(result)}\n                    className=\"flex items-center gap-2 px-2 py-3\"\n                    data-testid={`search-result-${result.type}-${result.id}`}\n                  >\n                    <MessageCircle className=\"h-4 w-4 text-chart-4\" />\n                    <div className=\"flex flex-col\">\n                      <span className=\"font-medium\">{result.title}</span>\n                      <span className=\"text-sm text-muted-foreground\">{result.description}</span>\n                      {result.category && (\n                        <span className=\"text-xs text-muted-foreground\">in {result.category}</span>\n                      )}\n                    </div>\n                    <ArrowRight className=\"ml-auto h-3 w-3 text-muted-foreground\" />\n                  </CommandItem>\n                ))}\n              </CommandGroup>\n            </>\n          )}\n        </CommandList>\n      </CommandDialog>\n    </>\n  );\n}","size_bytes":10532},"client/src/components/quick-actions-fab.tsx":{"content":"import { useState } from \"react\";\nimport { Plus, MessageCircle, Heart, Calendar, Users, Phone, X, Video } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { useLocation } from \"wouter\";\nimport { cn } from \"@/lib/utils\";\n\ninterface QuickAction {\n  id: string;\n  label: string;\n  icon: any;\n  action: () => void;\n  color: string;\n  urgent?: boolean;\n}\n\nexport default function QuickActionsFAB() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [, setLocation] = useLocation();\n\n  const quickActions: QuickAction[] = [\n    {\n      id: \"chat\",\n      label: \"AI Support Chat\",\n      icon: MessageCircle,\n      action: () => {\n        setLocation(\"/chat\");\n        setIsOpen(false);\n      },\n      color: \"bg-primary hover:bg-primary/90 text-primary-foreground\",\n    },\n    {\n      id: \"screening\",\n      label: \"Mental Health Screening\",\n      icon: Heart,\n      action: () => {\n        setLocation(\"/screening\");\n        setIsOpen(false);\n      },\n      color: \"bg-secondary hover:bg-secondary/90 text-secondary-foreground\",\n    },\n    {\n      id: \"peer-calling\",\n      label: \"Peer Calling\",\n      icon: Video,\n      action: () => {\n        setLocation(\"/peer-calling\");\n        setIsOpen(false);\n      },\n      color: \"bg-green-600 hover:bg-green-700 text-white\",\n    },\n    {\n      id: \"community\",\n      label: \"Peer Support\",\n      icon: Users,\n      action: () => {\n        setLocation(\"/community\");\n        setIsOpen(false);\n      },\n      color: \"bg-accent hover:bg-accent/90 text-accent-foreground\",\n    },\n    {\n      id: \"crisis\",\n      label: \"Crisis Helpline\",\n      icon: Phone,\n      action: () => {\n        // In a real app, this would open crisis resources or dial emergency\n        window.open(\"tel:988\", \"_self\"); // Mental Health Crisis Lifeline\n        setIsOpen(false);\n      },\n      color: \"bg-destructive hover:bg-destructive/90 text-destructive-foreground\",\n      urgent: true,\n    },\n  ];\n\n  const toggleFAB = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <TooltipProvider>\n      <div className=\"fixed bottom-6 right-6 z-50\">\n        {/* Quick Action Buttons */}\n        <div className={cn(\n          \"flex flex-col-reverse space-y-3 space-y-reverse mb-3 transition-all duration-300 ease-in-out\",\n          isOpen ? \"opacity-100 scale-100\" : \"opacity-0 scale-95 pointer-events-none\"\n        )}>\n          {quickActions.map((action, index) => {\n            const IconComponent = action.icon;\n            return (\n              <Tooltip key={action.id}>\n                <TooltipTrigger asChild>\n                  <Button\n                    size=\"lg\"\n                    className={cn(\n                      \"w-14 h-14 rounded-full shadow-lg transition-all duration-200 delay-[${index * 50}ms]\",\n                      action.color,\n                      action.urgent && \"animate-pulse\"\n                    )}\n                    onClick={action.action}\n                    data-testid={`fab-action-${action.id}`}\n                  >\n                    <IconComponent className=\"h-6 w-6\" />\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"left\" className=\"mr-2\">\n                  <p>{action.label}</p>\n                </TooltipContent>\n              </Tooltip>\n            );\n          })}\n        </div>\n\n        {/* Main FAB Button */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              size=\"lg\"\n              className={cn(\n                \"w-16 h-16 rounded-full shadow-lg transition-all duration-300 ease-in-out\",\n                \"bg-primary hover:bg-primary/90 text-primary-foreground\",\n                isOpen && \"rotate-45\"\n              )}\n              onClick={toggleFAB}\n              data-testid=\"fab-main-button\"\n            >\n              {isOpen ? (\n                <X className=\"h-6 w-6\" />\n              ) : (\n                <Plus className=\"h-6 w-6\" />\n              )}\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent side=\"left\" className=\"mr-2\">\n            <p>{isOpen ? \"Close quick actions\" : \"Quick actions\"}</p>\n          </TooltipContent>\n        </Tooltip>\n\n        {/* Background overlay for mobile */}\n        {isOpen && (\n          <div\n            className=\"fixed inset-0 bg-black/20 -z-10 md:hidden\"\n            onClick={() => setIsOpen(false)}\n            data-testid=\"fab-overlay\"\n          />\n        )}\n      </div>\n    </TooltipProvider>\n  );\n}","size_bytes":4576},"client/src/pages/login.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Brain, Mail, Lock, Eye, EyeOff, Users } from \"lucide-react\";\nimport { FaGoogle } from \"react-icons/fa\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useLocation } from \"wouter\";\nimport logoUrl from '@assets/logo (1)_1758315813528.png';\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const { login, isAuthenticated, isOnboarding } = useAppContext();\n  const { toast } = useToast();\n  const [, setLocation] = useLocation();\n\n  // Redirect to dashboard when user is authenticated and not in onboarding\n  useEffect(() => {\n    if (isAuthenticated && !isOnboarding) {\n      setLocation(\"/\");\n    }\n  }, [isAuthenticated, isOnboarding, setLocation]);\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!email || !password) {\n      toast({\n        title: \"Missing information\",\n        description: \"Please enter both email and password\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    \n    // Simulate fake login - accept any email/password\n    try {\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API call\n      login(email); // This will trigger the onboarding flow\n      toast({\n        title: \"Welcome!\",\n        description: \"Please complete your profile setup\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Login failed\",\n        description: \"Please try again\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n\n  const handleGoogleLogin = async () => {\n    setIsLoading(true);\n    \n    try {\n      // Simulate Google OAuth flow\n      await new Promise(resolve => setTimeout(resolve, 1500)); // Simulate OAuth redirect time\n      \n      // Simulate successful Google login with fake user data\n      const fakeGoogleEmail = \"user@gmail.com\";\n      login(fakeGoogleEmail);\n      \n      toast({\n        title: \"Welcome!\",\n        description: \"Successfully signed in with Google. Please complete your profile setup\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Google Sign-in failed\",\n        description: \"Please try again\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"h-[100svh] bg-gradient-to-br from-primary/10 via-background to-secondary/20 flex items-center justify-center p-3\">\n      <Card className=\"w-full max-w-sm sm:max-w-md lg:max-w-lg flex flex-col bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-2 border-gray-200/50 dark:border-gray-700/50 shadow-[0_8px_40px_rgba(0,0,0,0.12)] dark:shadow-[0_8px_40px_rgba(0,0,0,0.4)] rounded-2xl\">\n        <CardHeader className=\"py-2 sm:py-3 text-center flex-shrink-0\">\n          <div className=\"mx-auto mb-1 sm:mb-2 w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center\">\n            <img src={logoUrl} alt=\"ApnaMann Logo\" className=\"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover\" data-testid=\"img-logo-login\" />\n          </div>\n          <CardTitle className=\"text-sm sm:text-base font-bold text-foreground\">ApnaMann</CardTitle>\n          <p className=\"text-xs sm:text-sm text-muted-foreground leading-tight\">Mental Health Support • Sign in to access your platform</p>\n        </CardHeader>\n        \n        <CardContent className=\"p-3 sm:p-4 flex-1\">\n          <div className=\"space-y-3 sm:space-y-4\">\n            {/* Main Login Form */}\n            <div className=\"space-y-4\">\n              <form onSubmit={handleLogin} className=\"space-y-3\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\" className=\"text-sm font-medium text-foreground\">Email</Label>\n                  <div className=\"relative\">\n                    <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500\" />\n                    <Input\n                      id=\"email\"\n                      type=\"email\"\n                      placeholder=\"your.email@student.edu\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                      className=\"pl-10 h-9 text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 text-foreground placeholder:text-muted-foreground transition-all duration-200 rounded-md\"\n                      data-testid=\"input-email\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"password\" className=\"text-sm font-medium text-foreground\">Password</Label>\n                  <div className=\"relative\">\n                    <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500\" />\n                    <Input\n                      id=\"password\"\n                      type={showPassword ? \"text\" : \"password\"}\n                      placeholder=\"Enter password\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                      className=\"pl-10 pr-10 h-9 text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 text-foreground placeholder:text-muted-foreground transition-all duration-200 rounded-md\"\n                      data-testid=\"input-password\"\n                    />\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors duration-200\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      data-testid=\"button-toggle-password\"\n                    >\n                      {showPassword ? (\n                        <EyeOff className=\"h-3 w-3\" />\n                      ) : (\n                        <Eye className=\"h-3 w-3\" />\n                      )}\n                    </Button>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-2\" data-testid=\"row-auth-buttons\">\n                  <Button\n                    type=\"submit\"\n                    className=\"h-10 text-sm font-semibold bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 hover:scale-105 active:scale-95 text-white shadow-lg hover:shadow-blue-500/30 hover:shadow-xl transition-all duration-300 rounded-lg\"\n                    disabled={isLoading}\n                    data-testid=\"button-signin\"\n                  >\n                    {isLoading ? \"Signing up...\" : \"Sign Up\"}\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    className=\"h-10 text-sm font-semibold bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 hover:scale-105 active:scale-95 text-white shadow-lg hover:shadow-emerald-500/30 hover:shadow-xl transition-all duration-300 rounded-lg\"\n                    onClick={handleLogin}\n                    disabled={isLoading}\n                    data-testid=\"button-login\"\n                  >\n                    {isLoading ? \"Logging in...\" : \"Login\"}\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    className=\"h-10 text-sm font-semibold bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500 hover:scale-105 active:scale-95 text-gray-700 dark:text-gray-200 shadow-lg hover:shadow-gray-400/20 hover:shadow-xl transition-all duration-300 rounded-lg\"\n                    onClick={handleGoogleLogin}\n                    disabled={isLoading}\n                    data-testid=\"button-google-login\"\n                  >\n                    <FaGoogle className=\"h-4 w-4 mr-2 text-red-500\" />\n                    <span className=\"hidden sm:inline\">Google</span>\n                    <span className=\"sm:hidden\">Sign in with Google</span>\n                  </Button>\n                </div>\n              </form>\n            </div>\n\n            {/* Additional Info Sections */}\n            <div className=\"space-y-2 sm:space-y-3\">\n              <div className=\"text-center text-xs sm:text-sm text-teal-700 dark:text-teal-300 p-2 sm:p-3 bg-gradient-to-br from-teal-50 to-teal-100/50 dark:from-teal-950/50 dark:to-teal-900/30 backdrop-blur-sm rounded-lg border border-teal-200 dark:border-teal-800\">\n                <p className=\"font-medium mb-0.5 sm:mb-1 text-teal-800 dark:text-teal-200\">New User?</p>\n                <p className=\"leading-tight\">Contact student services for account setup</p>\n              </div>\n\n              <div \n                className=\"p-2 sm:p-3 bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-950/50 dark:to-emerald-900/30 backdrop-blur-sm rounded-lg text-xs sm:text-sm border border-emerald-200 dark:border-emerald-800 text-center cursor-pointer hover:from-emerald-100 hover:to-emerald-200 hover:border-emerald-300 dark:hover:from-emerald-900/70 dark:hover:to-emerald-800/50 dark:hover:border-emerald-700 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]\"\n                onClick={() => window.open('/privacy', '_blank', 'noopener,noreferrer')}\n                data-testid=\"div-privacy-security\"\n              >\n                <h4 className=\"font-medium text-emerald-800 dark:text-emerald-200 mb-0.5 sm:mb-1 flex items-center justify-center\">\n                  <Lock className=\"h-3 w-3 mr-1 text-emerald-600 dark:text-emerald-400\" />\n                  Privacy & Security\n                </h4>\n                <p className=\"text-emerald-700 dark:text-emerald-300 leading-tight\">\n                  <span className=\"font-bold text-emerald-800 dark:text-emerald-200\">Nobody knows details - your parents, institute, or no one.</span>\n                </p>\n                <p className=\"text-xs text-emerald-700 dark:text-emerald-300 mt-0.5 sm:mt-1 font-medium\">Click for full details →</p>\n              </div>\n\n              <div className=\"p-2 sm:p-3 bg-gradient-to-br from-orange-50 to-orange-100/50 dark:from-orange-950/50 dark:to-orange-900/30 backdrop-blur-sm rounded-lg text-xs sm:text-sm border border-orange-200 dark:border-orange-800\">\n                <div className=\"text-center\">\n                  <Users className=\"h-4 w-4 sm:h-5 sm:w-5 mx-auto text-orange-600 dark:text-orange-400 mb-0.5 sm:mb-1\" />\n                  <h4 className=\"font-medium text-orange-800 dark:text-orange-200 mb-0.5 sm:mb-1\">Parent Guide</h4>\n                  <p className=\"text-orange-700 dark:text-orange-300 mb-1 sm:mb-2 leading-tight\">\n                    <span className=\"font-bold text-orange-800 dark:text-orange-200\">Register as a student parent</span>\n                  </p>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"w-full h-7 sm:h-8 text-xs bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/50 dark:to-orange-800/30 border-orange-200 dark:border-orange-700 hover:bg-orange-100 dark:hover:bg-orange-800/40 hover:scale-105 active:scale-95 text-orange-700 dark:text-orange-300 font-medium shadow-md hover:shadow-orange-400/20 hover:shadow-lg transition-all duration-200\"\n                    onClick={() => setLocation(\"/parent-portal\")}\n                    data-testid=\"button-parent-portal\"\n                  >\n                    Access Portal\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":12641},"client/src/pages/profile.tsx":{"content":"import { useState } from \"react\";\nimport { User, Settings, Bell, Shield, Languages, Palette, Download, Save, Camera } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useAppContext, type ThemeType } from \"@/context/AppContext\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { BackButton } from \"@/components/ui/back-button\";\nimport { getAnonymousDisplayName } from \"@/utils/nameGenerator\";\n\nexport default function Profile() {\n  const { currentUser, setCurrentUser, theme, setTheme, toggleTheme } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const [formData, setFormData] = useState({\n    firstName: currentUser?.firstName || \"\",\n    lastName: currentUser?.lastName || \"\",\n    email: currentUser?.email || \"\",\n    institution: currentUser?.institution || \"\",\n    course: currentUser?.course || \"\",\n    year: currentUser?.year || 1,\n    bio: \"\",\n    language: currentUser?.language || \"en\",\n  });\n\n  const [notifications, setNotifications] = useState({\n    appointmentReminders: true,\n    screeningReminders: true,\n    communityUpdates: false,\n    crisisAlerts: true,\n    weeklyReports: true,\n  });\n\n  const [privacy, setPrivacy] = useState({\n    profileVisibility: \"private\",\n    shareScreeningData: false,\n    allowDirectMessages: true,\n    showOnlineStatus: false,\n  });\n\n  // Update profile mutation\n  const updateProfileMutation = useMutation({\n    mutationFn: async (data: typeof formData) => {\n      return await apiRequest(\"PATCH\", `/api/users/${currentUser?.id}`, data);\n    },\n    onSuccess: (response) => {\n      if (currentUser) {\n        setCurrentUser({ ...currentUser, ...formData });\n      }\n      queryClient.invalidateQueries({ queryKey: [\"/api/users\"] });\n      toast({\n        title: \"Profile updated\",\n        description: \"Your profile has been successfully updated.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update profile. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Update notification preferences\n  const updateNotificationsMutation = useMutation({\n    mutationFn: async (data: typeof notifications) => {\n      return await apiRequest(\"PATCH\", `/api/users/${currentUser?.id}/notifications`, data);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Notification preferences updated\",\n        description: \"Your notification settings have been saved.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update notification preferences.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Update privacy settings\n  const updatePrivacyMutation = useMutation({\n    mutationFn: async (data: typeof privacy) => {\n      return await apiRequest(\"PATCH\", `/api/users/${currentUser?.id}/privacy`, data);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Privacy settings updated\",\n        description: \"Your privacy preferences have been saved.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update privacy settings.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Export user data\n  const exportDataMutation = useMutation({\n    mutationFn: async () => {\n      return await apiRequest(\"GET\", `/api/users/${currentUser?.id}/export`, {});\n    },\n    onSuccess: (response) => {\n      // Create download link\n      const blob = new Blob([JSON.stringify(response, null, 2)], { type: 'application/json' });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `mental-health-data-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n\n      toast({\n        title: \"Data exported\",\n        description: \"Your data has been downloaded successfully.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to export data. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleInputChange = (field: string, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleNotificationChange = (field: string, value: boolean) => {\n    setNotifications(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handlePrivacyChange = (field: string, value: any) => {\n    setPrivacy(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleSaveProfile = () => {\n    updateProfileMutation.mutate(formData);\n  };\n\n  const handleSaveNotifications = () => {\n    updateNotificationsMutation.mutate(notifications);\n  };\n\n  const handleSavePrivacy = () => {\n    updatePrivacyMutation.mutate(privacy);\n  };\n\n  return (\n    <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <BackButton />\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Profile & Settings</h1>\n        <p className=\"text-muted-foreground\">\n          Manage your account settings, privacy preferences, and notification options.\n        </p>\n      </div>\n\n      <Tabs defaultValue=\"profile\" className=\"space-y-6\">\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"profile\" data-testid=\"tab-profile\">\n            <User className=\"h-4 w-4 mr-2\" />\n            Profile\n          </TabsTrigger>\n          <TabsTrigger value=\"notifications\" data-testid=\"tab-notifications\">\n            <Bell className=\"h-4 w-4 mr-2\" />\n            Notifications\n          </TabsTrigger>\n          <TabsTrigger value=\"privacy\" data-testid=\"tab-privacy\">\n            <Shield className=\"h-4 w-4 mr-2\" />\n            Privacy\n          </TabsTrigger>\n          <TabsTrigger value=\"preferences\" data-testid=\"tab-preferences\">\n            <Settings className=\"h-4 w-4 mr-2\" />\n            Preferences\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Profile Tab */}\n        <TabsContent value=\"profile\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <User className=\"h-5 w-5 mr-2\" />\n                Personal Information\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {/* Profile Picture */}\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"w-20 h-20 bg-accent rounded-full flex items-center justify-center\">\n                  <span className=\"text-accent-foreground text-xl font-medium\">\n                    {formData.firstName?.[0]}{formData.lastName?.[0]}\n                  </span>\n                </div>\n                <Button variant=\"outline\" size=\"sm\">\n                  <Camera className=\"h-4 w-4 mr-2\" />\n                  Change Photo\n                </Button>\n              </div>\n\n              <Separator />\n\n              {/* Anonymous Display Name */}\n              <div className=\"bg-accent/20 border border-accent rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-1\">\n                    <Label className=\"text-sm font-medium\">Your Anonymous Name</Label>\n                    <p className=\"text-2xl font-bold text-primary\" data-testid=\"text-anonymous-name\">\n                      {getAnonymousDisplayName(currentUser || {})}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      This unique anonymous name represents you in community discussions and helps protect your privacy.\n                    </p>\n                  </div>\n                  <Badge variant=\"secondary\" className=\"text-xs\">Private</Badge>\n                </div>\n              </div>\n\n              <Separator />\n\n              {/* Basic Information */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"firstName\">First Name</Label>\n                  <Input\n                    id=\"firstName\"\n                    value={formData.firstName}\n                    onChange={(e) => handleInputChange(\"firstName\", e.target.value)}\n                    data-testid=\"input-first-name\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"lastName\">Last Name</Label>\n                  <Input\n                    id=\"lastName\"\n                    value={formData.lastName}\n                    onChange={(e) => handleInputChange(\"lastName\", e.target.value)}\n                    data-testid=\"input-last-name\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\">Email Address</Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => handleInputChange(\"email\", e.target.value)}\n                  data-testid=\"input-email\"\n                />\n              </div>\n\n              {/* Academic Information */}\n              <Separator />\n              <h3 className=\"text-lg font-medium\">Academic Information</h3>\n              \n              <div className=\"space-y-2\">\n                <Label htmlFor=\"institution\">Institution</Label>\n                <Input\n                  id=\"institution\"\n                  value={formData.institution}\n                  onChange={(e) => handleInputChange(\"institution\", e.target.value)}\n                  data-testid=\"input-institution\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"course\">Course/Major</Label>\n                  <Input\n                    id=\"course\"\n                    value={formData.course}\n                    onChange={(e) => handleInputChange(\"course\", e.target.value)}\n                    data-testid=\"input-course\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"year\">Year of Study</Label>\n                  <Select value={formData.year.toString()} onValueChange={(value) => handleInputChange(\"year\", parseInt(value))}>\n                    <SelectTrigger data-testid=\"select-year\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"1\">1st Year</SelectItem>\n                      <SelectItem value=\"2\">2nd Year</SelectItem>\n                      <SelectItem value=\"3\">3rd Year</SelectItem>\n                      <SelectItem value=\"4\">4th Year</SelectItem>\n                      <SelectItem value=\"5\">5th Year</SelectItem>\n                      <SelectItem value=\"6\">Graduate</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"bio\">Bio (Optional)</Label>\n                <Textarea\n                  id=\"bio\"\n                  placeholder=\"Tell us a bit about yourself...\"\n                  value={formData.bio}\n                  onChange={(e) => handleInputChange(\"bio\", e.target.value)}\n                  data-testid=\"textarea-bio\"\n                />\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button\n                  onClick={handleSaveProfile}\n                  disabled={updateProfileMutation.isPending}\n                  data-testid=\"button-save-profile\"\n                >\n                  <Save className=\"h-4 w-4 mr-2\" />\n                  {updateProfileMutation.isPending ? \"Saving...\" : \"Save Changes\"}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Notifications Tab */}\n        <TabsContent value=\"notifications\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <Bell className=\"h-5 w-5 mr-2\" />\n                Notification Preferences\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label>Appointment Reminders</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Get notified about upcoming counseling sessions\n                    </p>\n                  </div>\n                  <Switch\n                    checked={notifications.appointmentReminders}\n                    onCheckedChange={(checked) => handleNotificationChange(\"appointmentReminders\", checked)}\n                    data-testid=\"switch-appointment-reminders\"\n                  />\n                </div>\n\n                <Separator />\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label>Screening Reminders</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Periodic reminders to take mental health assessments\n                    </p>\n                  </div>\n                  <Switch\n                    checked={notifications.screeningReminders}\n                    onCheckedChange={(checked) => handleNotificationChange(\"screeningReminders\", checked)}\n                    data-testid=\"switch-screening-reminders\"\n                  />\n                </div>\n\n                <Separator />\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label>Community Updates</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Notifications about new posts and replies in forums you follow\n                    </p>\n                  </div>\n                  <Switch\n                    checked={notifications.communityUpdates}\n                    onCheckedChange={(checked) => handleNotificationChange(\"communityUpdates\", checked)}\n                    data-testid=\"switch-community-updates\"\n                  />\n                </div>\n\n                <Separator />\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label>Crisis Alerts</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Important notifications about crisis resources and emergency support\n                    </p>\n                  </div>\n                  <Switch\n                    checked={notifications.crisisAlerts}\n                    onCheckedChange={(checked) => handleNotificationChange(\"crisisAlerts\", checked)}\n                    data-testid=\"switch-crisis-alerts\"\n                  />\n                </div>\n\n                <Separator />\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label>Weekly Reports</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Weekly summary of your mental health journey and insights\n                    </p>\n                  </div>\n                  <Switch\n                    checked={notifications.weeklyReports}\n                    onCheckedChange={(checked) => handleNotificationChange(\"weeklyReports\", checked)}\n                    data-testid=\"switch-weekly-reports\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button\n                  onClick={handleSaveNotifications}\n                  disabled={updateNotificationsMutation.isPending}\n                  data-testid=\"button-save-notifications\"\n                >\n                  <Save className=\"h-4 w-4 mr-2\" />\n                  {updateNotificationsMutation.isPending ? \"Saving...\" : \"Save Preferences\"}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Privacy Tab */}\n        <TabsContent value=\"privacy\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <Shield className=\"h-5 w-5 mr-2\" />\n                Privacy & Security\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label>Profile Visibility</Label>\n                  <Select value={privacy.profileVisibility} onValueChange={(value) => handlePrivacyChange(\"profileVisibility\", value)}>\n                    <SelectTrigger data-testid=\"select-profile-visibility\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"private\">Private - Only visible to me</SelectItem>\n                      <SelectItem value=\"institution\">Institution - Visible to students from my institution</SelectItem>\n                      <SelectItem value=\"public\">Public - Visible to all users</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <Separator />\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label>Share Screening Data</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Allow anonymous contribution of screening results for research (no personal data shared)\n                    </p>\n                  </div>\n                  <Switch\n                    checked={privacy.shareScreeningData}\n                    onCheckedChange={(checked) => handlePrivacyChange(\"shareScreeningData\", checked)}\n                    data-testid=\"switch-share-screening-data\"\n                  />\n                </div>\n\n                <Separator />\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label>Allow Direct Messages</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Allow other users to send you private messages\n                    </p>\n                  </div>\n                  <Switch\n                    checked={privacy.allowDirectMessages}\n                    onCheckedChange={(checked) => handlePrivacyChange(\"allowDirectMessages\", checked)}\n                    data-testid=\"switch-allow-direct-messages\"\n                  />\n                </div>\n\n                <Separator />\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"space-y-0.5\">\n                    <Label>Show Online Status</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      Let others see when you're active on the platform\n                    </p>\n                  </div>\n                  <Switch\n                    checked={privacy.showOnlineStatus}\n                    onCheckedChange={(checked) => handlePrivacyChange(\"showOnlineStatus\", checked)}\n                    data-testid=\"switch-show-online-status\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <Button\n                  onClick={handleSavePrivacy}\n                  disabled={updatePrivacyMutation.isPending}\n                  data-testid=\"button-save-privacy\"\n                >\n                  <Save className=\"h-4 w-4 mr-2\" />\n                  {updatePrivacyMutation.isPending ? \"Saving...\" : \"Save Settings\"}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Preferences Tab */}\n        <TabsContent value=\"preferences\">\n          <div className=\"space-y-6\">\n            {/* Theme & Language */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center\">\n                  <Palette className=\"h-5 w-5 mr-2\" />\n                  Appearance & Language\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"space-y-3\">\n                  <Label>Color Theme</Label>\n                  <p className=\"text-sm text-muted-foreground\">\n                    Choose a color theme that feels comfortable and calming for you\n                  </p>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                    {([\n                      { value: \"light\", label: \"Light\", colors: [\"#ffffff\", \"#f1f5f9\", \"#10b981\", \"#6366f1\"] },\n                      { value: \"dark\", label: \"Dark\", colors: [\"#0f172a\", \"#1e293b\", \"#10b981\", \"#6366f1\"] },\n                      { value: \"ocean\", label: \"Ocean Breeze\", colors: [\"#0c1620\", \"#1a2b3d\", \"#40e0d0\", \"#0891b2\"] },\n                      { value: \"sunset\", label: \"Sunset Warm\", colors: [\"#1a0f0a\", \"#2d1b17\", \"#ff8c42\", \"#ec4899\"] },\n                      { value: \"forest\", label: \"Forest Calm\", colors: [\"#0a140a\", \"#162016\", \"#22c55e\", \"#65a30d\"] },\n                      { value: \"lavender\", label: \"Lavender Dreams\", colors: [\"#1a0f1a\", \"#2d1b2d\", \"#a855f7\", \"#c084fc\"] },\n                      { value: \"cosmic\", label: \"Cosmic Space\", colors: [\"#0c0a1a\", \"#1a162d\", \"#d946ef\", \"#3b82f6\"] }\n                    ] as const).map((themeOption) => (\n                      <button\n                        key={themeOption.value}\n                        onClick={() => setTheme(themeOption.value as ThemeType)}\n                        className={`p-3 rounded-lg border-2 transition-all hover:scale-105 ${\n                          theme === themeOption.value \n                            ? 'border-primary shadow-md' \n                            : 'border-border hover:border-muted-foreground'\n                        }`}\n                        data-testid={`theme-${themeOption.value}`}\n                      >\n                        <div className=\"flex items-center space-x-2 mb-2\">\n                          <div className=\"grid grid-cols-2 gap-1 w-8 h-8\">\n                            {themeOption.colors.map((color, index) => (\n                              <div\n                                key={index}\n                                className=\"w-3 h-3 rounded-sm\"\n                                style={{ backgroundColor: color }}\n                              />\n                            ))}\n                          </div>\n                          <div className=\"flex-1 text-left\">\n                            <p className=\"text-sm font-medium\">{themeOption.label}</p>\n                          </div>\n                        </div>\n                        {theme === themeOption.value && (\n                          <div className=\"text-xs text-primary font-medium\">✓ Active</div>\n                        )}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                <Separator />\n\n                <div className=\"space-y-2\">\n                  <Label>Language</Label>\n                  <Select value={formData.language} onValueChange={(value) => handleInputChange(\"language\", value)}>\n                    <SelectTrigger data-testid=\"select-language\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"en\">English</SelectItem>\n                      <SelectItem value=\"hi\">हिंदी (Hindi)</SelectItem>\n                      <SelectItem value=\"bn\">বাংলা (Bengali)</SelectItem>\n                      <SelectItem value=\"ta\">தமிழ் (Tamil)</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Data Export */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center\">\n                  <Download className=\"h-5 w-5 mr-2\" />\n                  Data Export\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <p className=\"text-sm text-muted-foreground\">\n                    Download a copy of your data including screening results, chat history, and profile information.\n                    This data is provided in JSON format for your records.\n                  </p>\n                  <Button\n                    onClick={() => exportDataMutation.mutate()}\n                    disabled={exportDataMutation.isPending}\n                    variant=\"outline\"\n                    data-testid=\"button-export-data\"\n                  >\n                    <Download className=\"h-4 w-4 mr-2\" />\n                    {exportDataMutation.isPending ? \"Preparing Download...\" : \"Download My Data\"}\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Account Status */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Account Status</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"flex items-center space-x-2\">\n                  <Badge variant=\"default\">Active</Badge>\n                  <span className=\"text-sm text-muted-foreground\">\n                    Member since {new Date().toLocaleDateString()}\n                  </span>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n      </Tabs>\n    </main>\n  );\n}","size_bytes":26854},"client/src/components/notifications/notification-center.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Bell, CheckCircle2, AlertTriangle, Heart, MessageCircle, Calendar, X, Settings } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from \"@/components/ui/tabs\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface Notification {\n  id: string;\n  type: \"appointment\" | \"screening\" | \"chat\" | \"crisis\" | \"community\" | \"system\";\n  title: string;\n  message: string;\n  isRead: boolean;\n  priority: \"low\" | \"medium\" | \"high\" | \"urgent\";\n  timestamp: string;\n  actionUrl?: string;\n  actionText?: string;\n}\n\nconst notificationIcons = {\n  appointment: Calendar,\n  screening: Heart,\n  chat: MessageCircle,\n  crisis: AlertTriangle,\n  community: MessageCircle,\n  system: Bell,\n};\n\nconst priorityColors = {\n  low: \"bg-blue-500\",\n  medium: \"bg-yellow-500\", \n  high: \"bg-orange-500\",\n  urgent: \"bg-red-500\",\n};\n\nexport default function NotificationCenter() {\n  const [open, setOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  // Fetch notifications\n  const { data: notifications = [], isLoading } = useQuery<Notification[]>({\n    queryKey: [\"/api/notifications\", currentUser?.id],\n    enabled: !!currentUser?.id,\n    refetchInterval: 30000, // Refetch every 30 seconds\n  });\n\n  // Mark notification as read\n  const markAsReadMutation = useMutation({\n    mutationFn: async (notificationId: string) => {\n      return await apiRequest(\"PATCH\", `/api/notifications/${notificationId}/read`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/notifications\"] });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to mark notification as read\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Mark all as read\n  const markAllAsReadMutation = useMutation({\n    mutationFn: async () => {\n      return await apiRequest(\"PATCH\", `/api/notifications/mark-all-read`, {\n        userId: currentUser?.id,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/notifications\"] });\n      toast({\n        title: \"All notifications marked as read\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\", \n        description: \"Failed to mark all notifications as read\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Delete notification\n  const deleteNotificationMutation = useMutation({\n    mutationFn: async (notificationId: string) => {\n      return await apiRequest(\"DELETE\", `/api/notifications/${notificationId}`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/notifications\"] });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to delete notification\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Filter notifications by type\n  const filterNotifications = (type: string) => {\n    if (type === \"all\") return notifications;\n    return notifications.filter((n: Notification) => n.type === type);\n  };\n\n  // Count unread notifications\n  const unreadCount = (notifications as Notification[]).filter((n: Notification) => !n.isRead).length;\n  const urgentCount = (notifications as Notification[]).filter((n: Notification) => \n    !n.isRead && (n.priority === \"urgent\" || n.priority === \"high\")\n  ).length;\n\n  // Handle notification click\n  const handleNotificationClick = (notification: Notification) => {\n    if (!notification.isRead) {\n      markAsReadMutation.mutate(notification.id);\n    }\n    \n    if (notification.actionUrl) {\n      window.location.href = notification.actionUrl;\n    }\n  };\n\n  // Group notifications by type for tabs\n  const notificationCounts = {\n    all: (notifications as Notification[]).length,\n    appointment: (notifications as Notification[]).filter((n: Notification) => n.type === \"appointment\").length,\n    screening: (notifications as Notification[]).filter((n: Notification) => n.type === \"screening\").length,\n    crisis: (notifications as Notification[]).filter((n: Notification) => n.type === \"crisis\").length,\n    community: (notifications as Notification[]).filter((n: Notification) => n.type === \"community\").length,\n    system: (notifications as Notification[]).filter((n: Notification) => n.type === \"system\").length,\n  };\n\n  // Mock notifications for development (replace with real API data)\n  const mockNotifications: Notification[] = [\n    {\n      id: \"1\",\n      type: \"appointment\",\n      title: \"Upcoming Counseling Session\",\n      message: \"Your counseling session is scheduled for tomorrow at 2:00 PM\",\n      isRead: false,\n      priority: \"high\",\n      timestamp: \"2024-01-15T14:00:00Z\",\n      actionUrl: \"/appointments\",\n      actionText: \"View Details\"\n    },\n    {\n      id: \"2\", \n      type: \"screening\",\n      title: \"Screening Reminder\",\n      message: \"It's been 2 weeks since your last mental health screening\",\n      isRead: false,\n      priority: \"medium\",\n      timestamp: \"2024-01-14T10:00:00Z\",\n      actionUrl: \"/screening\",\n      actionText: \"Take Screening\"\n    },\n    {\n      id: \"3\",\n      type: \"community\",\n      title: \"New Reply to Your Post\",\n      message: \"Someone replied to your post in the Stress Management forum\",\n      isRead: true,\n      priority: \"low\",\n      timestamp: \"2024-01-13T16:30:00Z\",\n      actionUrl: \"/community\",\n      actionText: \"View Post\"\n    },\n    {\n      id: \"4\",\n      type: \"crisis\",\n      title: \"Crisis Resources Available\",\n      message: \"If you're experiencing a mental health crisis, immediate help is available\",\n      isRead: false,\n      priority: \"urgent\",\n      timestamp: \"2024-01-12T08:00:00Z\",\n      actionUrl: \"/crisis\",\n      actionText: \"Get Help Now\"\n    }\n  ];\n\n  const displayNotifications = (notifications as Notification[]).length > 0 ? (notifications as Notification[]) : mockNotifications;\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"relative\"\n          data-testid=\"button-notifications\"\n        >\n          <Bell className=\"h-4 w-4\" />\n          {unreadCount > 0 && (\n            <Badge\n              variant=\"destructive\"\n              className={cn(\n                \"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs\",\n                urgentCount > 0 ? \"animate-pulse\" : \"\"\n              )}\n            >\n              {unreadCount > 99 ? \"99+\" : unreadCount}\n            </Badge>\n          )}\n        </Button>\n      </PopoverTrigger>\n      \n      <PopoverContent className=\"w-80 p-0\" align=\"end\" data-testid=\"notification-panel\">\n        <Card className=\"border-0 shadow-none\">\n          <CardHeader className=\"pb-3\">\n            <div className=\"flex items-center justify-between\">\n              <CardTitle className=\"text-base\">Notifications</CardTitle>\n              <div className=\"flex items-center space-x-2\">\n                {unreadCount > 0 && (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => markAllAsReadMutation.mutate()}\n                    className=\"text-xs h-6 px-2\"\n                    data-testid=\"button-mark-all-read\"\n                  >\n                    Mark all read\n                  </Button>\n                )}\n                <Button variant=\"ghost\" size=\"sm\" className=\"h-6 w-6 p-0\">\n                  <Settings className=\"h-3 w-3\" />\n                </Button>\n              </div>\n            </div>\n          </CardHeader>\n\n          <CardContent className=\"p-0\">\n            <Tabs value={activeTab} onValueChange={setActiveTab}>\n              <TabsList className=\"grid w-full grid-cols-3 h-8\">\n                <TabsTrigger value=\"all\" className=\"text-xs\" data-testid=\"tab-all-notifications\">\n                  All {notificationCounts.all > 0 && `(${notificationCounts.all})`}\n                </TabsTrigger>\n                <TabsTrigger value=\"urgent\" className=\"text-xs\" data-testid=\"tab-urgent-notifications\">\n                  Urgent {urgentCount > 0 && `(${urgentCount})`}\n                </TabsTrigger>\n                <TabsTrigger value=\"unread\" className=\"text-xs\" data-testid=\"tab-unread-notifications\">\n                  Unread {unreadCount > 0 && `(${unreadCount})`}\n                </TabsTrigger>\n              </TabsList>\n\n              <TabsContent value=\"all\" className=\"mt-0\">\n                <ScrollArea className=\"h-[300px]\">\n                  {displayNotifications.length === 0 ? (\n                    <div className=\"p-4 text-center text-muted-foreground\">\n                      <Bell className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n                      <p className=\"text-sm\">No notifications</p>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-1\">\n                      {displayNotifications.map((notification: Notification) => {\n                        const IconComponent = notificationIcons[notification.type];\n                        return (\n                          <div\n                            key={notification.id}\n                            className={cn(\n                              \"p-3 hover:bg-muted cursor-pointer transition-colors border-l-2\",\n                              !notification.isRead ? \"bg-muted/50\" : \"\",\n                              priorityColors[notification.priority]\n                            )}\n                            onClick={() => handleNotificationClick(notification)}\n                            data-testid={`notification-${notification.id}`}\n                          >\n                            <div className=\"flex items-start space-x-3\">\n                              <IconComponent className={cn(\n                                \"h-4 w-4 mt-0.5 flex-shrink-0\",\n                                notification.priority === \"urgent\" ? \"text-destructive\" : \"text-muted-foreground\"\n                              )} />\n                              <div className=\"flex-1 space-y-1\">\n                                <div className=\"flex items-center justify-between\">\n                                  <p className={cn(\n                                    \"text-sm font-medium\",\n                                    !notification.isRead && \"font-semibold\"\n                                  )}>\n                                    {notification.title}\n                                  </p>\n                                  <Button\n                                    variant=\"ghost\"\n                                    size=\"sm\"\n                                    className=\"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground\"\n                                    onClick={(e) => {\n                                      e.stopPropagation();\n                                      deleteNotificationMutation.mutate(notification.id);\n                                    }}\n                                    data-testid={`delete-notification-${notification.id}`}\n                                  >\n                                    <X className=\"h-3 w-3\" />\n                                  </Button>\n                                </div>\n                                <p className=\"text-xs text-muted-foreground leading-relaxed\">\n                                  {notification.message}\n                                </p>\n                                <div className=\"flex items-center justify-between\">\n                                  <p className=\"text-xs text-muted-foreground\">\n                                    {new Date(notification.timestamp).toLocaleDateString()}\n                                  </p>\n                                  {notification.actionText && (\n                                    <span className=\"text-xs text-primary\">\n                                      {notification.actionText}\n                                    </span>\n                                  )}\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                    </div>\n                  )}\n                </ScrollArea>\n              </TabsContent>\n\n              <TabsContent value=\"urgent\" className=\"mt-0\">\n                <ScrollArea className=\"h-[300px]\">\n                  {displayNotifications.filter((n: Notification) => \n                    n.priority === \"urgent\" || n.priority === \"high\"\n                  ).length === 0 ? (\n                    <div className=\"p-4 text-center text-muted-foreground\">\n                      <CheckCircle2 className=\"h-8 w-8 mx-auto mb-2 text-green-500\" />\n                      <p className=\"text-sm\">No urgent notifications</p>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-1\">\n                      {displayNotifications\n                        .filter((n: Notification) => n.priority === \"urgent\" || n.priority === \"high\")\n                        .map((notification: Notification) => {\n                          const IconComponent = notificationIcons[notification.type];\n                          return (\n                            <div\n                              key={notification.id}\n                              className={cn(\n                                \"p-3 hover:bg-muted cursor-pointer transition-colors border-l-2\",\n                                !notification.isRead ? \"bg-muted/50\" : \"\",\n                                priorityColors[notification.priority]\n                              )}\n                              onClick={() => handleNotificationClick(notification)}\n                            >\n                              <div className=\"flex items-start space-x-3\">\n                                <IconComponent className=\"h-4 w-4 mt-0.5 flex-shrink-0 text-destructive\" />\n                                <div className=\"flex-1 space-y-1\">\n                                  <p className=\"text-sm font-semibold\">{notification.title}</p>\n                                  <p className=\"text-xs text-muted-foreground\">{notification.message}</p>\n                                  <p className=\"text-xs text-muted-foreground\">\n                                    {new Date(notification.timestamp).toLocaleDateString()}\n                                  </p>\n                                </div>\n                              </div>\n                            </div>\n                          );\n                        })}\n                    </div>\n                  )}\n                </ScrollArea>\n              </TabsContent>\n\n              <TabsContent value=\"unread\" className=\"mt-0\">\n                <ScrollArea className=\"h-[300px]\">\n                  {displayNotifications.filter((n: Notification) => !n.isRead).length === 0 ? (\n                    <div className=\"p-4 text-center text-muted-foreground\">\n                      <CheckCircle2 className=\"h-8 w-8 mx-auto mb-2 text-green-500\" />\n                      <p className=\"text-sm\">All caught up!</p>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-1\">\n                      {displayNotifications\n                        .filter((n: Notification) => !n.isRead)\n                        .map((notification: Notification) => {\n                          const IconComponent = notificationIcons[notification.type];\n                          return (\n                            <div\n                              key={notification.id}\n                              className={cn(\n                                \"p-3 hover:bg-muted cursor-pointer transition-colors border-l-2 bg-muted/50\",\n                                priorityColors[notification.priority]\n                              )}\n                              onClick={() => handleNotificationClick(notification)}\n                            >\n                              <div className=\"flex items-start space-x-3\">\n                                <IconComponent className=\"h-4 w-4 mt-0.5 flex-shrink-0\" />\n                                <div className=\"flex-1 space-y-1\">\n                                  <p className=\"text-sm font-semibold\">{notification.title}</p>\n                                  <p className=\"text-xs text-muted-foreground\">{notification.message}</p>\n                                  <p className=\"text-xs text-muted-foreground\">\n                                    {new Date(notification.timestamp).toLocaleDateString()}\n                                  </p>\n                                </div>\n                              </div>\n                            </div>\n                          );\n                        })}\n                    </div>\n                  )}\n                </ScrollArea>\n              </TabsContent>\n            </Tabs>\n          </CardContent>\n        </Card>\n      </PopoverContent>\n    </Popover>\n  );\n}","size_bytes":17756},"client/src/components/onboarding/onboarding-popup.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { User, GraduationCap, Heart, ArrowRight, ArrowLeft } from \"lucide-react\";\nimport logoUrl from '@assets/logo (1)_1758315813528.png';\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Progress } from \"@/components/ui/progress\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface OnboardingData {\n  firstName: string;\n  lastName: string;\n  institution: string;\n  course: string;\n  year: number;\n  language: string;\n  // Screening questions\n  mood: string;\n  stress: string;\n  sleep: string;\n  support: string;\n  previousHelp: string;\n}\n\ninterface OnboardingPopupProps {\n  isOpen: boolean;\n  onComplete: (data: OnboardingData) => void;\n}\n\nexport default function OnboardingPopup({ isOpen, onComplete }: OnboardingPopupProps) {\n  const [step, setStep] = useState(1);\n  const [data, setData] = useState<OnboardingData>({\n    firstName: \"\",\n    lastName: \"\",\n    institution: \"\",\n    course: \"\",\n    year: 1,\n    language: \"en\",\n    mood: \"\",\n    stress: \"\",\n    sleep: \"\",\n    support: \"\",\n    previousHelp: \"\",\n  });\n  const { toast } = useToast();\n\n  const totalSteps = 3;\n  const progress = (step / totalSteps) * 100;\n\n  const handleNext = () => {\n    if (step === 1) {\n      if (!data.firstName || !data.lastName) {\n        toast({\n          title: \"Missing information\",\n          description: \"Please enter your first and last name\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n    } else if (step === 2) {\n      if (!data.institution || !data.course) {\n        toast({\n          title: \"Missing information\", \n          description: \"Please complete your academic information\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n    }\n    \n    if (step < totalSteps) {\n      setStep(step + 1);\n    }\n  };\n\n  const handlePrevious = () => {\n    if (step > 1) {\n      setStep(step - 1);\n    }\n  };\n\n  const handleComplete = () => {\n    if (!data.mood || !data.stress || !data.sleep) {\n      toast({\n        title: \"Missing information\",\n        description: \"Please answer all screening questions\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    \n    onComplete(data);\n  };\n\n  const updateData = (field: keyof OnboardingData, value: string | number) => {\n    setData(prev => ({ ...prev, [field]: value }));\n  };\n\n\n  return (\n    <Dialog open={isOpen} onOpenChange={() => {}}>\n      <DialogContent className=\"p-0 w-full max-w-[95vw] sm:max-w-xl lg:max-w-2xl max-h-[90vh] overflow-hidden my-2 sm:my-8 mx-2 sm:mx-4 rounded-xl bg-white dark:bg-slate-900 shadow-2xl border border-slate-200 dark:border-slate-700 flex flex-col\">\n        {/* Scrollable Content Area */}\n        <div className=\"px-3 sm:px-4 lg:px-6 pt-3 sm:pt-4 pb-1 sm:pb-2 overflow-y-auto flex-1 min-h-0\">\n          <DialogHeader className=\"pb-2 sm:pb-3\">\n            <div className=\"flex items-center justify-center mb-2 sm:mb-2\">\n              <div className=\"p-2 bg-slate-100 dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700\">\n                <img src={logoUrl} alt=\"ApnaMann Logo\" className=\"w-6 h-6 sm:w-8 sm:h-8 rounded-md object-cover\" data-testid=\"img-logo-onboarding\" />\n              </div>\n            </div>\n            <DialogTitle className=\"flex items-center justify-center text-sm sm:text-base font-semibold text-slate-800 dark:text-slate-100\">\n              <User className=\"h-3 w-3 mr-1 text-slate-600 dark:text-slate-400\" />\n              Welcome! Let's get you started\n            </DialogTitle>\n            <DialogDescription className=\"text-xs text-center px-2 text-slate-600 dark:text-slate-400 max-w-md mx-auto\">\n              We need some information to personalize your mental health journey\n            </DialogDescription>\n          </DialogHeader>\n\n        <div className=\"space-y-1 sm:space-y-2\">\n          <div className=\"space-y-1 bg-slate-50 dark:bg-slate-800 rounded-lg p-1.5 border border-slate-200 dark:border-slate-700\">\n            <div className=\"flex items-center justify-between text-xs px-1\">\n              <span className=\"font-medium text-slate-700 dark:text-slate-300\">Step {step} of {totalSteps}</span>\n              <span className=\"font-medium text-slate-600 dark:text-slate-400\">{Math.round(progress)}% complete</span>\n            </div>\n            <Progress value={progress} className=\"h-1 bg-slate-200 dark:bg-slate-700\" />\n          </div>\n\n          {/* Step 1: Personal Information */}\n          {step === 1 && (\n            <Card className=\"rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg bg-white dark:bg-slate-900\">\n              <CardHeader className=\"pb-1 sm:pb-2 bg-slate-800 dark:bg-slate-800 text-white rounded-t-lg\">\n                <CardTitle className=\"text-xs sm:text-sm flex items-center font-semibold\">\n                  <User className=\"h-4 w-4 mr-2 text-slate-300\" />\n                  Personal Information\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-1.5 sm:space-y-2 pt-1.5 pb-2 bg-slate-50 dark:bg-slate-800 rounded-b-lg\">\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2 lg:gap-4\">\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"firstName\" className=\"text-xs font-medium text-slate-700 dark:text-slate-300\">First Name</Label>\n                    <Input\n                      id=\"firstName\"\n                      placeholder=\"Enter your first name\"\n                      value={data.firstName}\n                      onChange={(e) => updateData(\"firstName\", e.target.value)}\n                      data-testid=\"input-first-name\"\n                      className=\"border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 bg-white dark:bg-slate-900 transition-all duration-200 rounded-md\"\n                    />\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"lastName\" className=\"text-xs font-medium text-slate-700 dark:text-slate-300\">Last Name</Label>\n                    <Input\n                      id=\"lastName\"\n                      placeholder=\"Enter your last name\"\n                      value={data.lastName}\n                      onChange={(e) => updateData(\"lastName\", e.target.value)}\n                      data-testid=\"input-last-name\"\n                      className=\"border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 bg-white dark:bg-slate-900 transition-all duration-200 rounded-md\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-1\">\n                  <Label className=\"text-xs font-medium text-slate-700 dark:text-slate-300\">Preferred Language</Label>\n                  <Select value={data.language} onValueChange={(value) => updateData(\"language\", value)}>\n                    <SelectTrigger data-testid=\"select-language\" className=\"border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 bg-white dark:bg-slate-900 transition-all duration-200 rounded-md\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"en\">English</SelectItem>\n                      <SelectItem value=\"hi\">हिंदी (Hindi)</SelectItem>\n                      <SelectItem value=\"bn\">বাংলা (Bengali)</SelectItem>\n                      <SelectItem value=\"ta\">தமிழ் (Tamil)</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Step 2: Academic Information */}\n          {step === 2 && (\n            <Card className=\"rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg bg-white dark:bg-slate-900\">\n              <CardHeader className=\"pb-2 sm:pb-3 bg-slate-700 dark:bg-slate-700 text-white rounded-t-xl\">\n                <CardTitle className=\"text-xs sm:text-sm flex items-center font-semibold\">\n                  <GraduationCap className=\"h-4 w-4 mr-2 text-slate-300\" />\n                  Academic Information\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-1.5 sm:space-y-2 pt-1.5 pb-2 bg-slate-50 dark:bg-slate-800 rounded-b-lg\">\n                <div className=\"space-y-1\">\n                  <Label htmlFor=\"institution\" className=\"text-xs font-medium text-slate-700 dark:text-slate-300\">Institution</Label>\n                  <Input\n                    id=\"institution\"\n                    placeholder=\"e.g., IIT Delhi, Delhi University\"\n                    value={data.institution}\n                    onChange={(e) => updateData(\"institution\", e.target.value)}\n                    data-testid=\"input-institution\"\n                    className=\"border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 bg-white dark:bg-slate-900 transition-all duration-200 rounded-md\"\n                  />\n                </div>\n\n                <div className=\"space-y-1\">\n                  <Label htmlFor=\"course\" className=\"text-xs font-medium text-slate-700 dark:text-slate-300\">Course/Major</Label>\n                  <Input\n                    id=\"course\"\n                    placeholder=\"e.g., Computer Science, Psychology\"\n                    value={data.course}\n                    onChange={(e) => updateData(\"course\", e.target.value)}\n                    data-testid=\"input-course\"\n                    className=\"border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 bg-white dark:bg-slate-900 transition-all duration-200 rounded-md\"\n                  />\n                </div>\n\n                <div className=\"space-y-1\">\n                  <Label className=\"text-xs font-medium text-slate-700 dark:text-slate-300\">Year of Study</Label>\n                  <Select value={data.year.toString()} onValueChange={(value) => updateData(\"year\", parseInt(value))}>\n                    <SelectTrigger data-testid=\"select-year\" className=\"border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-500/20 dark:focus:ring-blue-400/20 bg-white dark:bg-slate-900 transition-all duration-200 rounded-md\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"1\">1st Year</SelectItem>\n                      <SelectItem value=\"2\">2nd Year</SelectItem>\n                      <SelectItem value=\"3\">3rd Year</SelectItem>\n                      <SelectItem value=\"4\">4th Year</SelectItem>\n                      <SelectItem value=\"5\">5th Year</SelectItem>\n                      <SelectItem value=\"6\">Graduate</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Step 3: Initial Screening Questions */}\n          {step === 3 && (\n            <Card className=\"rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg bg-white dark:bg-slate-900\">\n              <CardHeader className=\"pb-2 sm:pb-3 bg-slate-600 dark:bg-slate-600 text-white rounded-t-xl\">\n                <CardTitle className=\"text-xs sm:text-sm flex items-center font-semibold\">\n                  <Heart className=\"h-4 w-4 mr-2 text-slate-300\" />\n                  Quick Wellness Check\n                </CardTitle>\n                <p className=\"text-xs text-slate-200 px-1\">\n                  These questions help us understand how to best support your mental health journey\n                </p>\n              </CardHeader>\n              <CardContent className=\"space-y-1.5 sm:space-y-2 pt-1.5 pb-2 bg-slate-50 dark:bg-slate-800 rounded-b-lg\">\n                <div className=\"space-y-1 p-1.5 bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700\">\n                  <Label className=\"text-xs font-medium text-slate-700 dark:text-slate-300 flex items-center\">\n                    How has your mood been lately?\n                  </Label>\n                  <RadioGroup value={data.mood} onValueChange={(value) => updateData(\"mood\", value)}>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-1\">\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"mood\", \"excellent\")}>\n                        <RadioGroupItem value=\"excellent\" id=\"mood-excellent\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"mood-excellent\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Excellent</Label>\n                      </div>\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"mood\", \"good\")}>\n                        <RadioGroupItem value=\"good\" id=\"mood-good\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"mood-good\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Good</Label>\n                      </div>\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"mood\", \"fair\")}>\n                        <RadioGroupItem value=\"fair\" id=\"mood-fair\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"mood-fair\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Fair</Label>\n                      </div>\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"mood\", \"poor\")}>\n                        <RadioGroupItem value=\"poor\" id=\"mood-poor\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"mood-poor\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Poor</Label>\n                      </div>\n                    </div>\n                  </RadioGroup>\n                </div>\n\n                <div className=\"space-y-1 p-1.5 bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700\">\n                  <Label className=\"text-xs font-medium text-slate-700 dark:text-slate-300 flex items-center\">\n                    How would you rate your current stress level?\n                  </Label>\n                  <RadioGroup value={data.stress} onValueChange={(value) => updateData(\"stress\", value)}>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-1\">\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"stress\", \"low\")}>\n                        <RadioGroupItem value=\"low\" id=\"stress-low\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"stress-low\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Low</Label>\n                      </div>\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"stress\", \"moderate\")}>\n                        <RadioGroupItem value=\"moderate\" id=\"stress-moderate\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"stress-moderate\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Moderate</Label>\n                      </div>\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"stress\", \"high\")}>\n                        <RadioGroupItem value=\"high\" id=\"stress-high\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"stress-high\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">High</Label>\n                      </div>\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"stress\", \"very-high\")}>\n                        <RadioGroupItem value=\"very-high\" id=\"stress-very-high\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"stress-very-high\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Very High</Label>\n                      </div>\n                    </div>\n                  </RadioGroup>\n                </div>\n\n                <div className=\"space-y-1 p-1.5 bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700\">\n                  <Label className=\"text-xs font-medium text-slate-700 dark:text-slate-300 flex items-center\">\n                    How has your sleep been?\n                  </Label>\n                  <RadioGroup value={data.sleep} onValueChange={(value) => updateData(\"sleep\", value)}>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-1\">\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"sleep\", \"excellent\")}>\n                        <RadioGroupItem value=\"excellent\" id=\"sleep-excellent\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"sleep-excellent\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Excellent</Label>\n                      </div>\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"sleep\", \"good\")}>\n                        <RadioGroupItem value=\"good\" id=\"sleep-good\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"sleep-good\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Good</Label>\n                      </div>\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"sleep\", \"fair\")}>\n                        <RadioGroupItem value=\"fair\" id=\"sleep-fair\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"sleep-fair\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Fair</Label>\n                      </div>\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"sleep\", \"poor\")}>\n                        <RadioGroupItem value=\"poor\" id=\"sleep-poor\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"sleep-poor\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Poor</Label>\n                      </div>\n                    </div>\n                  </RadioGroup>\n                </div>\n\n                <div className=\"space-y-1 p-1.5 bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700\">\n                  <Label className=\"text-xs font-medium text-slate-700 dark:text-slate-300 flex items-center\">\n                    Have you sought mental health support before?\n                  </Label>\n                  <RadioGroup value={data.previousHelp} onValueChange={(value) => updateData(\"previousHelp\", value)}>\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"previousHelp\", \"yes\")}>\n                        <RadioGroupItem value=\"yes\" id=\"help-yes\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"help-yes\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">Yes</Label>\n                      </div>\n                      <div className=\"flex items-center space-x-1 p-1.5 rounded-md bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer\" onClick={() => updateData(\"previousHelp\", \"no\")}>\n                        <RadioGroupItem value=\"no\" id=\"help-no\" className=\"border-slate-400 text-slate-600 dark:border-slate-500 dark:text-slate-400\" />\n                        <Label htmlFor=\"help-no\" className=\"text-xs text-slate-700 dark:text-slate-300 cursor-pointer\">No</Label>\n                      </div>\n                    </div>\n                  </RadioGroup>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n        </div>\n        </div>\n\n        {/* Navigation Buttons - Sticky Footer */}\n        <div className=\"flex-shrink-0 px-2 sm:px-4 lg:px-6 py-1.5 pb-[env(safe-area-inset-bottom,6px)] bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-t border-slate-200 dark:border-slate-700 flex flex-col-reverse sm:flex-row items-stretch sm:items-center justify-between gap-1.5 rounded-b-lg\">\n          <Button\n            variant=\"outline\"\n            onClick={handlePrevious}\n            disabled={step === 1}\n            data-testid=\"button-previous\"\n            className=\"w-full sm:w-auto min-w-[100px] h-9 sm:h-8 text-xs font-medium border-slate-300 text-slate-700 hover:bg-slate-50 hover:border-slate-400 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:border-slate-500 transition-all\"\n          >\n            <ArrowLeft className=\"h-3 w-3 mr-1\" />\n            Previous\n          </Button>\n\n          {step < totalSteps ? (\n            <Button onClick={handleNext} data-testid=\"button-next\" className=\"w-full sm:w-auto min-w-[100px] h-9 sm:h-8 text-xs font-medium bg-slate-800 hover:bg-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 text-white shadow-sm transition-all\">\n              Next\n              <ArrowRight className=\"h-3 w-3 ml-1\" />\n            </Button>\n          ) : (\n            <Button onClick={handleComplete} data-testid=\"button-complete\" className=\"w-full sm:w-auto min-w-[100px] h-9 sm:h-8 text-xs font-medium bg-slate-900 hover:bg-slate-800 dark:bg-slate-600 dark:hover:bg-slate-500 text-white shadow-sm transition-all\">\n              Complete Setup\n            </Button>\n          )}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":25913},"client/src/components/optimized/memoized-components.tsx":{"content":"import { memo, useMemo, useCallback } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\n\n// Memoized Card Component for Better Performance\nexport const MemoizedCard = memo<{\n  title?: string;\n  children: React.ReactNode;\n  className?: string;\n  headerAction?: React.ReactNode;\n}>(({ title, children, className, headerAction }) => {\n  return (\n    <Card className={className}>\n      {title && (\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle>{title}</CardTitle>\n          {headerAction}\n        </CardHeader>\n      )}\n      <CardContent>\n        {children}\n      </CardContent>\n    </Card>\n  );\n});\n\nMemoizedCard.displayName = \"MemoizedCard\";\n\n// Memoized Activity Item for Dashboard\nexport const MemoizedActivityItem = memo<{\n  id: string;\n  title: string;\n  timestamp: string;\n  result?: string;\n  duration?: string;\n  type: \"screening\" | \"chat\" | \"appointment\";\n  onClick?: () => void;\n}>(({ id, title, timestamp, result, duration, type, onClick }) => {\n  const typeColors = useMemo(() => ({\n    screening: \"bg-secondary/10 text-secondary\",\n    chat: \"bg-primary/10 text-primary\", \n    appointment: \"bg-accent/10 text-accent\",\n  }), []);\n\n  const handleClick = useCallback(() => {\n    onClick?.();\n  }, [onClick]);\n\n  return (\n    <div\n      className=\"flex items-center justify-between p-4 hover:bg-muted/50 transition-colors cursor-pointer\"\n      onClick={handleClick}\n      data-testid={`activity-item-${id}`}\n    >\n      <div className=\"flex items-center space-x-3\">\n        <div className={cn(\"w-2 h-2 rounded-full\", typeColors[type])} />\n        <div>\n          <p className=\"text-sm font-medium\">{title}</p>\n          <p className=\"text-xs text-muted-foreground\">{timestamp}</p>\n        </div>\n      </div>\n      <div className=\"text-right\">\n        {result && (\n          <Badge variant=\"outline\" className=\"text-xs\">\n            {result}\n          </Badge>\n        )}\n        {duration && (\n          <p className=\"text-xs text-muted-foreground mt-1\">{duration}</p>\n        )}\n      </div>\n    </div>\n  );\n});\n\nMemoizedActivityItem.displayName = \"MemoizedActivityItem\";\n\n// Memoized Quick Action Button\nexport const MemoizedQuickAction = memo<{\n  icon: any;\n  title: string;\n  description: string;\n  color: string;\n  onClick: () => void;\n  disabled?: boolean;\n}>(({ icon: IconComponent, title, description, color, onClick, disabled = false }) => {\n  const handleClick = useCallback(() => {\n    if (!disabled) {\n      onClick();\n    }\n  }, [onClick, disabled]);\n\n  return (\n    <Button\n      variant=\"ghost\"\n      className={cn(\n        \"w-full h-auto p-6 flex flex-col items-center space-y-2 text-center transition-all hover:scale-105\",\n        disabled && \"opacity-50 cursor-not-allowed\"\n      )}\n      onClick={handleClick}\n      disabled={disabled}\n      data-testid={`quick-action-${title.toLowerCase().replace(/\\s+/g, '-')}`}\n    >\n      <div className={cn(\"w-12 h-12 rounded-lg flex items-center justify-center\", color)}>\n        <IconComponent className=\"h-6 w-6\" />\n      </div>\n      <div>\n        <p className=\"font-medium text-sm\">{title}</p>\n        <p className=\"text-xs text-muted-foreground leading-tight\">{description}</p>\n      </div>\n    </Button>\n  );\n});\n\nMemoizedQuickAction.displayName = \"MemoizedQuickAction\";\n\n// Memoized Resource Item\nexport const MemoizedResourceItem = memo<{\n  id: string;\n  title: string;\n  description: string;\n  category: string;\n  tags: string[];\n  onView: (id: string) => void;\n  onBookmark: (id: string) => void;\n  onDownload?: (id: string) => void;\n  isBookmarked?: boolean;\n}>(({ id, title, description, category, tags, onView, onBookmark, onDownload, isBookmarked = false }) => {\n  const handleView = useCallback(() => onView(id), [onView, id]);\n  const handleBookmark = useCallback(() => onBookmark(id), [onBookmark, id]);\n  const handleDownload = useCallback(() => onDownload?.(id), [onDownload, id]);\n\n  const memoizedTags = useMemo(() => \n    tags.slice(0, 3).map(tag => (\n      <Badge key={tag} variant=\"secondary\" className=\"text-xs\">\n        {tag}\n      </Badge>\n    )), [tags]\n  );\n\n  return (\n    <Card className=\"hover:shadow-md transition-shadow\">\n      <CardContent className=\"p-4\">\n        <div className=\"space-y-3\">\n          <div>\n            <div className=\"flex items-center justify-between mb-2\">\n              <Badge variant=\"outline\" className=\"text-xs\">\n                {category}\n              </Badge>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleBookmark}\n                className={cn(\n                  \"h-6 w-6 p-0\",\n                  isBookmarked && \"text-yellow-500\"\n                )}\n                data-testid={`bookmark-${id}`}\n              >\n                ★\n              </Button>\n            </div>\n            <h3 className=\"font-medium text-sm leading-tight\">{title}</h3>\n            <p className=\"text-xs text-muted-foreground mt-1 line-clamp-2\">{description}</p>\n          </div>\n\n          <div className=\"flex flex-wrap gap-1\">\n            {memoizedTags}\n          </div>\n\n          <div className=\"flex items-center justify-between pt-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleView}\n              className=\"text-xs\"\n              data-testid={`view-${id}`}\n            >\n              View\n            </Button>\n            {onDownload && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleDownload}\n                className=\"text-xs\"\n                data-testid={`download-${id}`}\n              >\n                Download\n              </Button>\n            )}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n});\n\nMemoizedResourceItem.displayName = \"MemoizedResourceItem\";\n\n// Memoized Community Post\nexport const MemoizedCommunityPost = memo<{\n  id: string;\n  title: string;\n  content: string;\n  author: string;\n  category: string;\n  timestamp: string;\n  likes: number;\n  replies: number;\n  isLiked: boolean;\n  onLike: (id: string) => void;\n  onReply: (id: string) => void;\n  onView: (id: string) => void;\n}>(({ id, title, content, author, category, timestamp, likes, replies, isLiked, onLike, onReply, onView }) => {\n  const handleLike = useCallback(() => onLike(id), [onLike, id]);\n  const handleReply = useCallback(() => onReply(id), [onReply, id]);\n  const handleView = useCallback(() => onView(id), [onView, id]);\n\n  const truncatedContent = useMemo(() => \n    content.length > 150 ? content.substring(0, 150) + \"...\" : content\n  , [content]);\n\n  return (\n    <Card className=\"hover:shadow-sm transition-shadow cursor-pointer\" onClick={handleView}>\n      <CardContent className=\"p-4\">\n        <div className=\"space-y-3\">\n          <div>\n            <div className=\"flex items-center justify-between mb-2\">\n              <Badge variant=\"outline\" className=\"text-xs\">\n                {category}\n              </Badge>\n              <span className=\"text-xs text-muted-foreground\">{timestamp}</span>\n            </div>\n            <h3 className=\"font-medium text-sm leading-tight\">{title}</h3>\n            <p className=\"text-xs text-muted-foreground mt-1\">{truncatedContent}</p>\n          </div>\n\n          <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n            <span>by {author}</span>\n            <div className=\"flex items-center space-x-4\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleLike();\n                }}\n                className={cn(\n                  \"h-6 px-2 text-xs\",\n                  isLiked && \"text-red-500\"\n                )}\n                data-testid={`like-${id}`}\n              >\n                ♥ {likes}\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleReply();\n                }}\n                className=\"h-6 px-2 text-xs\"\n                data-testid={`reply-${id}`}\n              >\n                💬 {replies}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n});\n\nMemoizedCommunityPost.displayName = \"MemoizedCommunityPost\";","size_bytes":8612},"client/src/components/startup-popup.tsx":{"content":"import { useState } from \"react\";\nimport { Brain, Heart, Users, Shield, X } from \"lucide-react\";\nimport logoUrl from '@assets/logo (1)_1758315813528.png';\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\n\ninterface StartupPopupProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport default function StartupPopup({ isOpen, onClose }: StartupPopupProps) {\n  const [currentSlide, setCurrentSlide] = useState(0);\n\n  const slides = [\n    {\n      icon: Brain,\n      title: \"Welcome to Apnamann\",\n      subtitle: \"Mental Health Support Platform\",\n      description: \"Your comprehensive mental health support platform designed specifically for Indian college students.\",\n      color: \"text-blue-500\"\n    },\n    {\n      icon: Heart,\n      title: \"AI-Powered Support\",\n      subtitle: \"24/7 Mental Health Assistance\",\n      description: \"Get instant psychological first aid and support through our AI chatbot, available whenever you need it.\",\n      color: \"text-red-500\"\n    },\n    {\n      icon: Users,\n      title: \"Community & Counselors\",\n      subtitle: \"Connect with Peers & Professionals\",\n      description: \"Join peer support forums and book appointments with qualified counselors for personalized care.\",\n      color: \"text-green-500\"\n    },\n    {\n      icon: Shield,\n      title: \"Safe & Confidential\",\n      subtitle: \"Your Privacy is Our Priority\",\n      description: \"All conversations and data are confidential, encrypted, and follow strict privacy guidelines.\",\n      color: \"text-purple-500\"\n    }\n  ];\n\n  const handleNext = () => {\n    if (currentSlide < slides.length - 1) {\n      setCurrentSlide(currentSlide + 1);\n    } else {\n      onClose();\n    }\n  };\n\n  const handlePrevious = () => {\n    if (currentSlide > 0) {\n      setCurrentSlide(currentSlide - 1);\n    }\n  };\n\n  const currentSlideData = slides[currentSlide];\n  const IconComponent = currentSlideData.icon;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-lg\">\n        <DialogHeader>\n          <div className=\"flex items-center justify-center mb-4\">\n            <img src={logoUrl} alt=\"ApnaMann Logo\" className=\"w-12 h-12 rounded-lg object-cover\" data-testid=\"img-logo-startup\" />\n          </div>\n          <DialogTitle className=\"flex items-center justify-center\">\n            <IconComponent className={`h-6 w-6 mr-2 ${currentSlideData.color}`} />\n            {currentSlideData.title}\n          </DialogTitle>\n          <DialogDescription className=\"text-lg font-medium\">\n            {currentSlideData.subtitle}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          <Card className=\"border-2\">\n            <CardHeader className=\"pb-4\">\n              <div className={`mx-auto w-16 h-16 rounded-full flex items-center justify-center bg-muted ${currentSlideData.color}`}>\n                <IconComponent className=\"h-8 w-8 text-background\" />\n              </div>\n            </CardHeader>\n            <CardContent className=\"text-center\">\n              <p className=\"text-muted-foreground leading-relaxed\">\n                {currentSlideData.description}\n              </p>\n            </CardContent>\n          </Card>\n\n          {/* Progress indicators */}\n          <div className=\"flex items-center justify-center space-x-2\">\n            {slides.map((_, index) => (\n              <div\n                key={index}\n                className={`w-2 h-2 rounded-full transition-colors ${\n                  index === currentSlide\n                    ? \"bg-primary\"\n                    : \"bg-muted-foreground/30\"\n                }`}\n              />\n            ))}\n          </div>\n\n          {/* Navigation buttons */}\n          <div className=\"flex items-center justify-between\">\n            <Button\n              variant=\"outline\"\n              onClick={handlePrevious}\n              disabled={currentSlide === 0}\n              data-testid=\"button-previous-slide\"\n            >\n              Previous\n            </Button>\n\n            {currentSlide < slides.length - 1 ? (\n              <Button onClick={handleNext} data-testid=\"button-next-slide\">\n                Next\n              </Button>\n            ) : (\n              <Button onClick={onClose} data-testid=\"button-get-started\">\n                Get Started\n              </Button>\n            )}\n          </div>\n\n          <div className=\"text-center\">\n            <p className=\"text-xs text-muted-foreground\">\n              Step {currentSlide + 1} of {slides.length}\n            </p>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":4796},"client/src/pages/peer-calling.tsx":{"content":"import { useState, useEffect, useRef, useCallback } from \"react\";\nimport { \n  Video, \n  VideoOff, \n  Mic, \n  MicOff, \n  Phone, \n  PhoneOff, \n  Users,\n  Heart,\n  Clock,\n  MessageCircle,\n  Settings,\n  ChevronRight\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\ninterface PeerUser {\n  id: string;\n  firstName: string;\n  lastName: string;\n  institution: string;\n  year: number;\n  anxietyLevel: \"mild\" | \"moderate\" | \"high\";\n  isOnline: boolean;\n  matchScore: number;\n  languages: string[];\n  interests: string[];\n  lastOnline: string;\n}\n\ninterface CallSession {\n  id: string;\n  partnerId: string;\n  partnerName: string;\n  status: \"waiting\" | \"connecting\" | \"active\" | \"ended\";\n  startTime: string;\n  duration?: number;\n  type: \"audio\" | \"video\";\n}\n\nexport default function PeerCalling() {\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  const [activeCall, setActiveCall] = useState<CallSession | null>(null);\n  const [isAudioEnabled, setIsAudioEnabled] = useState(true);\n  const [isVideoEnabled, setIsVideoEnabled] = useState(false);\n  const [callDuration, setCallDuration] = useState(0);\n  const [waitingTime, setWaitingTime] = useState(0);\n  const [connectionStatus, setConnectionStatus] = useState<'disconnected' | 'connecting' | 'connected'>('disconnected');\n  const [mediaError, setMediaError] = useState<string | null>(null);\n  \n  const videoRef = useRef<HTMLVideoElement>(null);\n  const remoteVideoRef = useRef<HTMLVideoElement>(null);\n  const callIntervalRef = useRef<NodeJS.Timeout | null>(null);\n  const peerConnectionRef = useRef<RTCPeerConnection | null>(null);\n  const localStreamRef = useRef<MediaStream | null>(null);\n  const wsRef = useRef<WebSocket | null>(null);\n\n  // Fetch available peers\n  const { data: availablePeers = [], isLoading: isLoadingPeers } = useQuery<PeerUser[]>({\n    queryKey: [\"/api/peer-calling/available-peers\", currentUser?.id],\n    enabled: !!currentUser?.id,\n  });\n\n  // Fetch call history\n  const { data: callHistory = [] } = useQuery<any[]>({\n    queryKey: [\"/api/peer-calling/history\", currentUser?.id],\n    enabled: !!currentUser?.id,\n  });\n\n  // Find peer match mutation\n  const findPeerMutation = useMutation({\n    mutationFn: async (preferences: { type: \"audio\" | \"video\"; anxietyLevel?: string }) => {\n      return await apiRequest(\"POST\", \"/api/peer-calling/find-peer\", {\n        userId: currentUser?.id,\n        ...preferences,\n      });\n    },\n    onSuccess: (data: any, variables) => {\n      const callId = `call-${Date.now()}`;\n      const newCall = {\n        id: callId,\n        partnerId: data.partnerId || 'peer-' + Date.now(),\n        partnerName: data.partnerName || 'Anonymous Student',\n        status: \"connecting\" as const,\n        startTime: new Date().toISOString(),\n        type: variables.type,\n      };\n      \n      setActiveCall(newCall);\n      \n      // Initiate call through WebSocket\n      if (wsRef.current?.readyState === WebSocket.OPEN) {\n        wsRef.current.send(JSON.stringify({\n          type: 'initiate_call',\n          targetUserId: data.partnerId,\n          callType: variables.type,\n          callId\n        }));\n      }\n      \n      toast({\n        title: \"Found a peer!\",\n        description: `Calling ${data.partnerName || 'Anonymous Student'}...`,\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"No peers available\",\n        description: \"Try again in a few minutes or adjust your preferences\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // End call mutation\n  const endCallMutation = useMutation({\n    mutationFn: async (sessionId: string) => {\n      return await apiRequest(\"POST\", `/api/peer-calling/end-call/${sessionId}`, {});\n    },\n    onSuccess: () => {\n      setActiveCall(null);\n      setCallDuration(0);\n      setWaitingTime(0);\n      if (callIntervalRef.current) {\n        clearInterval(callIntervalRef.current);\n      }\n      toast({\n        title: \"Call ended\",\n        description: \"Thank you for supporting each other!\",\n      });\n    },\n  });\n\n  // Handle call duration tracking\n  useEffect(() => {\n    if (activeCall?.status === \"active\") {\n      callIntervalRef.current = setInterval(() => {\n        setCallDuration(prev => prev + 1);\n      }, 1000);\n    } else if (activeCall?.status === \"connecting\") {\n      callIntervalRef.current = setInterval(() => {\n        setWaitingTime(prev => prev + 1);\n      }, 1000);\n    }\n\n    return () => {\n      if (callIntervalRef.current) {\n        clearInterval(callIntervalRef.current);\n      }\n    };\n  }, [activeCall?.status]);\n\n  // Simulate call connection after waiting\n  useEffect(() => {\n    if (activeCall?.status === \"connecting\" && waitingTime >= 3) {\n      setActiveCall(prev => prev ? { ...prev, status: \"active\" } : null);\n      setWaitingTime(0);\n      toast({\n        title: \"Connected!\",\n        description: \"You're now connected with your peer. Be kind and supportive!\",\n      });\n    }\n  }, [activeCall?.status, waitingTime]);\n\n  const formatDuration = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n  };\n\n  const startCall = async (type: \"audio\" | \"video\") => {\n    if (connectionStatus !== 'connected') {\n      toast({ title: \"Connection Error\", description: \"Please wait for connection to establish.\", variant: \"destructive\" });\n      return;\n    }\n    \n    setIsVideoEnabled(type === \"video\");\n    \n    try {\n      // Test media access first\n      await getUserMedia(type === \"video\");\n      \n      // Now find a peer\n      findPeerMutation.mutate({ type });\n    } catch (error) {\n      toast({ \n        title: \"Media Error\", \n        description: \"Could not access camera/microphone. Please check permissions.\", \n        variant: \"destructive\" \n      });\n    }\n  };\n\n  // WebSocket setup for signaling\n  const setupWebSocket = useCallback(() => {\n    if (!currentUser?.id) return;\n    \n    const protocol = window.location.protocol === \"https:\" ? \"wss:\" : \"ws:\";\n    const wsUrl = `${protocol}//${window.location.host}/ws?userId=${currentUser.id}`;\n    \n    wsRef.current = new WebSocket(wsUrl);\n    \n    wsRef.current.onopen = () => {\n      setConnectionStatus('connected');\n      console.log('WebSocket connected for peer calling');\n    };\n    \n    wsRef.current.onmessage = async (event) => {\n      const data = JSON.parse(event.data);\n      \n      if (data.type === 'webrtc_signal') {\n        await handleSignal(data.signal, data.fromUserId, data.callId);\n      } else if (data.type === 'incoming_call') {\n        handleIncomingCall(data.fromUserId, data.callType, data.callId);\n      } else if (data.type === 'call_response') {\n        if (data.accepted) {\n          await startWebRTCCall(data.fromUserId, data.callId, false);\n        } else {\n          toast({ title: \"Call declined\", description: \"The peer declined your call.\" });\n          setActiveCall(null);\n        }\n      } else if (data.type === 'call_ended') {\n        endCall();\n      }\n    };\n    \n    wsRef.current.onclose = () => {\n      setConnectionStatus('disconnected');\n    };\n    \n    wsRef.current.onerror = (error) => {\n      console.error('WebSocket error:', error);\n      setConnectionStatus('disconnected');\n    };\n  }, [currentUser?.id]);\n\n  // Get user media\n  const getUserMedia = async (video: boolean) => {\n    try {\n      setMediaError(null);\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true,\n        video: video\n      });\n      \n      localStreamRef.current = stream;\n      \n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n      \n      return stream;\n    } catch (error) {\n      console.error('Error accessing media devices:', error);\n      setMediaError('Could not access camera/microphone. Please check permissions.');\n      throw error;\n    }\n  };\n\n  // Create WebRTC peer connection\n  const createPeerConnection = (callId: string, targetUserId: string) => {\n    const config = {\n      iceServers: [\n        { urls: 'stun:stun.l.google.com:19302' },\n        { urls: 'stun:stun1.l.google.com:19302' }\n      ]\n    };\n    \n    peerConnectionRef.current = new RTCPeerConnection(config);\n    \n    peerConnectionRef.current.onicecandidate = (event) => {\n      if (event.candidate && wsRef.current?.readyState === WebSocket.OPEN) {\n        wsRef.current.send(JSON.stringify({\n          type: 'webrtc_signal',\n          targetUserId,\n          signal: { type: 'ice-candidate', candidate: event.candidate },\n          callId\n        }));\n      }\n    };\n    \n    peerConnectionRef.current.ontrack = (event) => {\n      if (remoteVideoRef.current) {\n        remoteVideoRef.current.srcObject = event.streams[0];\n      }\n    };\n    \n    peerConnectionRef.current.onconnectionstatechange = () => {\n      const state = peerConnectionRef.current?.connectionState;\n      if (state === 'connected') {\n        setActiveCall(prev => prev ? { ...prev, status: 'active' } : null);\n        toast({ title: \"Connected!\", description: \"You're now connected with your peer!\" });\n      } else if (state === 'disconnected' || state === 'failed') {\n        endCall();\n      }\n    };\n    \n    return peerConnectionRef.current;\n  };\n\n  // Handle incoming signaling\n  const handleSignal = async (signal: any, fromUserId: string, callId: string) => {\n    if (!peerConnectionRef.current) return;\n    \n    try {\n      if (signal.type === 'offer') {\n        await peerConnectionRef.current.setRemoteDescription(signal.offer);\n        const answer = await peerConnectionRef.current.createAnswer();\n        await peerConnectionRef.current.setLocalDescription(answer);\n        \n        if (wsRef.current?.readyState === WebSocket.OPEN) {\n          wsRef.current.send(JSON.stringify({\n            type: 'webrtc_signal',\n            targetUserId: fromUserId,\n            signal: { type: 'answer', answer },\n            callId\n          }));\n        }\n      } else if (signal.type === 'answer') {\n        await peerConnectionRef.current.setRemoteDescription(signal.answer);\n      } else if (signal.type === 'ice-candidate') {\n        await peerConnectionRef.current.addIceCandidate(signal.candidate);\n      }\n    } catch (error) {\n      console.error('Error handling signal:', error);\n    }\n  };\n\n  // Handle incoming call\n  const handleIncomingCall = (fromUserId: string, callType: string, callId: string) => {\n    const accept = window.confirm(`Incoming ${callType} call. Accept?`);\n    \n    if (wsRef.current?.readyState === WebSocket.OPEN) {\n      wsRef.current.send(JSON.stringify({\n        type: 'call_response',\n        targetUserId: fromUserId,\n        accepted: accept,\n        callId\n      }));\n    }\n    \n    if (accept) {\n      startWebRTCCall(fromUserId, callId, true);\n    }\n  };\n\n  // Start WebRTC call\n  const startWebRTCCall = async (targetUserId: string, callId: string, isReceiver: boolean) => {\n    try {\n      const stream = await getUserMedia(isVideoEnabled);\n      const pc = createPeerConnection(callId, targetUserId);\n      \n      // Add local stream to peer connection\n      stream.getTracks().forEach(track => {\n        pc.addTrack(track, stream);\n      });\n      \n      if (!isReceiver) {\n        // Create and send offer\n        const offer = await pc.createOffer();\n        await pc.setLocalDescription(offer);\n        \n        if (wsRef.current?.readyState === WebSocket.OPEN) {\n          wsRef.current.send(JSON.stringify({\n            type: 'webrtc_signal',\n            targetUserId,\n            signal: { type: 'offer', offer },\n            callId\n          }));\n        }\n      }\n    } catch (error) {\n      console.error('Error starting WebRTC call:', error);\n      toast({ title: \"Call failed\", description: \"Could not start the call. Check your permissions.\", variant: \"destructive\" });\n    }\n  };\n\n  const endCall = () => {\n    if (activeCall) {\n      // Send end call signal\n      if (wsRef.current?.readyState === WebSocket.OPEN) {\n        wsRef.current.send(JSON.stringify({\n          type: 'end_call',\n          targetUserId: activeCall.partnerId,\n          callId: activeCall.id\n        }));\n      }\n      \n      // Clean up local resources\n      if (localStreamRef.current) {\n        localStreamRef.current.getTracks().forEach(track => track.stop());\n        localStreamRef.current = null;\n      }\n      \n      if (peerConnectionRef.current) {\n        peerConnectionRef.current.close();\n        peerConnectionRef.current = null;\n      }\n      \n      endCallMutation.mutate(activeCall.id);\n    }\n  };\n\n  const toggleAudio = () => {\n    setIsAudioEnabled(!isAudioEnabled);\n    \n    if (localStreamRef.current) {\n      const audioTrack = localStreamRef.current.getAudioTracks()[0];\n      if (audioTrack) {\n        audioTrack.enabled = !isAudioEnabled;\n      }\n    }\n  };\n\n  const toggleVideo = () => {\n    setIsVideoEnabled(!isVideoEnabled);\n    \n    if (localStreamRef.current) {\n      const videoTrack = localStreamRef.current.getVideoTracks()[0];\n      if (videoTrack) {\n        videoTrack.enabled = !isVideoEnabled;\n      }\n    }\n  };\n\n  // Initialize WebSocket when component mounts\n  useEffect(() => {\n    setupWebSocket();\n    \n    return () => {\n      if (wsRef.current) {\n        wsRef.current.close();\n      }\n      if (localStreamRef.current) {\n        localStreamRef.current.getTracks().forEach(track => track.stop());\n      }\n      if (peerConnectionRef.current) {\n        peerConnectionRef.current.close();\n      }\n    };\n  }, [setupWebSocket]);\n\n\n  if (activeCall) {\n    return (\n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"space-y-6\">\n          {/* Call Header */}\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-12 h-12 bg-primary rounded-full flex items-center justify-center\">\n                    <Heart className=\"h-6 w-6 text-primary-foreground\" />\n                  </div>\n                  <div>\n                    <h2 className=\"text-xl font-semibold\">\n                      {activeCall.status === \"connecting\" ? \"Connecting...\" : activeCall.partnerName}\n                    </h2>\n                    <p className=\"text-muted-foreground\">\n                      {activeCall.status === \"connecting\" ? \"Finding your peer...\" : \"1:1 Peer Support Call\"}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-2xl font-mono\">\n                    {activeCall.status === \"connecting\" \n                      ? formatDuration(waitingTime) \n                      : formatDuration(callDuration)\n                    }\n                  </div>\n                  <Badge variant={activeCall.status === \"active\" ? \"default\" : \"secondary\"}>\n                    {activeCall.status}\n                  </Badge>\n                </div>\n              </div>\n            </CardHeader>\n          </Card>\n\n          {/* Video/Audio Interface */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {/* Local Video */}\n            <Card>\n              <CardContent className=\"p-0\">\n                <div className=\"aspect-video bg-muted rounded-lg flex items-center justify-center relative\">\n                  {isVideoEnabled ? (\n                    <video\n                      ref={videoRef}\n                      className=\"w-full h-full object-cover rounded-lg\"\n                      autoPlay\n                      muted\n                      playsInline\n                    />\n                  ) : (\n                    <div className=\"text-center\">\n                      <Users className=\"h-16 w-16 text-muted-foreground mx-auto mb-2\" />\n                      <p className=\"text-sm text-muted-foreground\">Audio Only</p>\n                    </div>\n                  )}\n                  <div className=\"absolute top-4 left-4\">\n                    <Badge variant=\"secondary\">You</Badge>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Remote Video */}\n            <Card>\n              <CardContent className=\"p-0\">\n                <div className=\"aspect-video bg-muted rounded-lg flex items-center justify-center relative\">\n                  {activeCall.status === \"connecting\" ? (\n                    <div className=\"text-center\">\n                      <div className=\"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4\" />\n                      <p className=\"text-sm text-muted-foreground\">Connecting...</p>\n                    </div>\n                  ) : isVideoEnabled ? (\n                    <video\n                      ref={remoteVideoRef}\n                      className=\"w-full h-full object-cover rounded-lg\"\n                      autoPlay\n                      playsInline\n                    />\n                  ) : (\n                    <div className=\"text-center\">\n                      <Heart className=\"h-16 w-16 text-primary mx-auto mb-2\" />\n                      <p className=\"text-sm text-muted-foreground\">{activeCall.partnerName}</p>\n                    </div>\n                  )}\n                  {activeCall.status === \"active\" && (\n                    <div className=\"absolute top-4 left-4\">\n                      <Badge variant=\"default\">{activeCall.partnerName}</Badge>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Call Controls */}\n          <Card>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-center space-x-4\">\n                <Button\n                  variant={isAudioEnabled ? \"default\" : \"destructive\"}\n                  size=\"lg\"\n                  className=\"w-12 h-12 rounded-full p-0\"\n                  onClick={toggleAudio}\n                  data-testid=\"button-toggle-audio\"\n                >\n                  {isAudioEnabled ? <Mic className=\"h-6 w-6\" /> : <MicOff className=\"h-6 w-6\" />}\n                </Button>\n\n                <Button\n                  variant={isVideoEnabled ? \"default\" : \"secondary\"}\n                  size=\"lg\"\n                  className=\"w-12 h-12 rounded-full p-0\"\n                  onClick={toggleVideo}\n                  data-testid=\"button-toggle-video\"\n                >\n                  {isVideoEnabled ? <Video className=\"h-6 w-6\" /> : <VideoOff className=\"h-6 w-6\" />}\n                </Button>\n\n                <Button\n                  variant=\"destructive\"\n                  size=\"lg\"\n                  className=\"w-16 h-16 rounded-full p-0\"\n                  onClick={endCall}\n                  data-testid=\"button-end-call\"\n                >\n                  <PhoneOff className=\"h-8 w-8\" />\n                </Button>\n              </div>\n              \n              {activeCall.status === \"active\" && (\n                <div className=\"mt-4 text-center\">\n                  <p className=\"text-sm text-muted-foreground\">\n                    Remember: This is a safe space for mutual support. Be kind, listen actively, and respect boundaries.\n                  </p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </main>\n    );\n  }\n\n  return (\n    <main className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <BackButton />\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Peer Support Calling</h1>\n        <p className=\"text-muted-foreground\">\n          Connect 1:1 with fellow students for mutual anxiety support and understanding\n        </p>\n      </div>\n\n      <Tabs defaultValue=\"start-call\" className=\"space-y-6\">\n        <TabsList className=\"grid w-full grid-cols-3\">\n          <TabsTrigger value=\"start-call\" data-testid=\"tab-start-call\">Start Call</TabsTrigger>\n          <TabsTrigger value=\"available-peers\" data-testid=\"tab-available-peers\">Available Peers</TabsTrigger>\n          <TabsTrigger value=\"call-history\" data-testid=\"tab-call-history\">Call History</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"start-call\" className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Quick Call Options */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center\">\n                  <Phone className=\"h-5 w-5 mr-2\" />\n                  Quick Connect\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <Button\n                  className=\"w-full h-16 text-lg\"\n                  onClick={() => startCall(\"audio\")}\n                  disabled={findPeerMutation.isPending}\n                  data-testid=\"button-start-audio-call\"\n                >\n                  <Mic className=\"h-6 w-6 mr-3\" />\n                  Audio Call\n                  <ChevronRight className=\"h-5 w-5 ml-3\" />\n                </Button>\n                \n                <Button\n                  variant=\"secondary\"\n                  className=\"w-full h-16 text-lg\"\n                  onClick={() => startCall(\"video\")}\n                  disabled={findPeerMutation.isPending}\n                  data-testid=\"button-start-video-call\"\n                >\n                  <Video className=\"h-6 w-6 mr-3\" />\n                  Video Call\n                  <ChevronRight className=\"h-5 w-5 ml-3\" />\n                </Button>\n\n                <p className=\"text-sm text-muted-foreground\">\n                  We'll match you with a peer based on your anxiety level and preferences\n                </p>\n              </CardContent>\n            </Card>\n\n            {/* Guidelines */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center\">\n                  <Heart className=\"h-5 w-5 mr-2\" />\n                  Support Guidelines\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"w-2 h-2 bg-primary rounded-full mt-2\" />\n                    <p className=\"text-sm\">Listen actively and without judgment</p>\n                  </div>\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"w-2 h-2 bg-primary rounded-full mt-2\" />\n                    <p className=\"text-sm\">Share your experiences respectfully</p>\n                  </div>\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"w-2 h-2 bg-primary rounded-full mt-2\" />\n                    <p className=\"text-sm\">Respect privacy and boundaries</p>\n                  </div>\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"w-2 h-2 bg-primary rounded-full mt-2\" />\n                    <p className=\"text-sm\">End the call if you feel uncomfortable</p>\n                  </div>\n                </div>\n                \n                <div className=\"bg-muted p-4 rounded-lg\">\n                  <p className=\"text-sm\">\n                    <strong>Remember:</strong> This is peer support, not professional therapy. \n                    For crisis situations, use our emergency resources.\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Stats */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <Card>\n              <CardContent className=\"p-6 text-center\">\n                <Users className=\"h-8 w-8 text-primary mx-auto mb-2\" />\n                <div className=\"text-2xl font-bold\">{availablePeers.length}</div>\n                <p className=\"text-sm text-muted-foreground\">Peers Online</p>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardContent className=\"p-6 text-center\">\n                <MessageCircle className=\"h-8 w-8 text-green-500 mx-auto mb-2\" />\n                <div className=\"text-2xl font-bold\">{Array.isArray(callHistory) ? callHistory.length : 0}</div>\n                <p className=\"text-sm text-muted-foreground\">Total Calls</p>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardContent className=\"p-6 text-center\">\n                <Clock className=\"h-8 w-8 text-blue-500 mx-auto mb-2\" />\n                <div className=\"text-2xl font-bold\">~3 min</div>\n                <p className=\"text-sm text-muted-foreground\">Avg Wait Time</p>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"available-peers\" className=\"space-y-4\">\n          {isLoadingPeers ? (\n            <Card>\n              <CardContent className=\"p-6 text-center\">\n                <div className=\"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4\" />\n                <p>Loading available peers...</p>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {availablePeers.map((peer) => (\n                <Card key={peer.id}>\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-center justify-between mb-3\">\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-8 h-8 bg-primary rounded-full flex items-center justify-center\">\n                          <span className=\"text-primary-foreground text-sm font-medium\">\n                            {peer.firstName[0]}{peer.lastName[0]}\n                          </span>\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{peer.firstName}</p>\n                          <p className=\"text-xs text-muted-foreground\">{peer.institution}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-1\">\n                        <div className=\"w-2 h-2 bg-green-500 rounded-full\" />\n                        <span className=\"text-xs text-muted-foreground\">Online</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"space-y-2\">\n                      <div className=\"flex justify-between text-sm\">\n                        <span>Match Score</span>\n                        <span className=\"font-medium\">{peer.matchScore}%</span>\n                      </div>\n                      <Progress value={peer.matchScore} className=\"h-1\" />\n                    </div>\n                    \n                    <div className=\"mt-3 flex flex-wrap gap-1\">\n                      <Badge variant=\"secondary\" className=\"text-xs\">\n                        Year {peer.year}\n                      </Badge>\n                      <Badge variant=\"outline\" className=\"text-xs\">\n                        {peer.anxietyLevel} anxiety\n                      </Badge>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          )}\n        </TabsContent>\n\n        <TabsContent value=\"call-history\" className=\"space-y-4\">\n          {!Array.isArray(callHistory) || callHistory.length === 0 ? (\n            <Card>\n              <CardContent className=\"p-6 text-center\">\n                <MessageCircle className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                <p className=\"text-muted-foreground\">No calls yet. Start your first peer support call!</p>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"space-y-4\">\n              {Array.isArray(callHistory) && callHistory.map((call: any, index: number) => (\n                <Card key={index}>\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div className=\"w-10 h-10 bg-muted rounded-full flex items-center justify-center\">\n                          <Heart className=\"h-5 w-5 text-muted-foreground\" />\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">Anonymous Peer</p>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {new Date(call.date).toLocaleDateString()} • {call.duration} minutes\n                          </p>\n                        </div>\n                      </div>\n                      <Badge variant={call.type === \"video\" ? \"default\" : \"secondary\"}>\n                        {call.type}\n                      </Badge>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          )}\n        </TabsContent>\n      </Tabs>\n    </main>\n  );\n}","size_bytes":29812},"server/services/ai-service.ts":{"content":"import OpenAI from \"openai\";\nimport { GoogleGenAI } from \"@google/genai\";\nimport * as fs from \"fs\";\nimport * as path from \"path\";\n\ninterface AIConfig {\n  ai_provider: \"openai\" | \"gemini\";\n  openai_api_key: string;\n  gemini_api_key: string;\n  current_model: string;\n  fallback_model: string;\n  max_tokens: number;\n  temperature: number;\n}\n\nexport interface ChatMessage {\n  role: \"user\" | \"assistant\" | \"system\";\n  content: string;\n  timestamp?: Date;\n}\n\nexport interface PsychologicalResponse {\n  message: string;\n  supportiveActions: string[];\n  riskLevel: \"low\" | \"moderate\" | \"high\";\n  escalationRequired: boolean;\n}\n\nexport class AIService {\n  private config!: AIConfig;\n  private openai?: OpenAI;\n  private gemini?: GoogleGenAI;\n\n  constructor() {\n    this.loadConfig();\n    this.initializeProviders();\n  }\n\n  private loadConfig() {\n    try {\n      const configPath = path.join(process.cwd(), 'config', 'api-config.json');\n      const configData = fs.readFileSync(configPath, 'utf8');\n      this.config = JSON.parse(configData);\n    } catch (error) {\n      // In production, we should have proper environment variables or config files\n      const isProduction = process.env.NODE_ENV === 'production';\n      \n      this.config = {\n        ai_provider: \"gemini\",\n        openai_api_key: process.env.OPENAI_API_KEY || \"\",\n        gemini_api_key: process.env.GEMINI_API_KEY || \"\",\n        current_model: \"gemini-2.5-flash\",\n        fallback_model: \"gpt-4\",\n        max_tokens: 2000,\n        temperature: 0.7\n      };\n      \n      // Log warning in development, but error in production\n      if (isProduction) {\n        console.error(\"Production configuration issue: Config file not found and environment variables may be missing\");\n        if (!this.config.openai_api_key && !this.config.gemini_api_key) {\n          throw new Error(\"At least one AI provider API key must be configured in production\");\n        }\n      } else {\n        console.warn(\"Config file not found, using development defaults. AI features may be limited without API keys.\");\n      }\n    }\n  }\n\n  private initializeProviders() {\n    const isProduction = process.env.NODE_ENV === 'production';\n    \n    try {\n      if (this.config.ai_provider === \"openai\") {\n        if (this.config.openai_api_key && this.config.openai_api_key !== \"your-openai-key-here\") {\n          this.openai = new OpenAI({ \n            apiKey: this.config.openai_api_key \n          });\n        } else if (isProduction) {\n          console.error(\"Production error: OpenAI provider selected but no valid API key found\");\n        }\n      }\n      \n      if (this.config.ai_provider === \"gemini\") {\n        if (this.config.gemini_api_key && this.config.gemini_api_key !== \"your-gemini-key-here\") {\n          this.gemini = new GoogleGenAI({ \n            apiKey: this.config.gemini_api_key \n          });\n        } else if (isProduction) {\n          console.error(\"Production error: Gemini provider selected but no valid API key found\");\n        }\n      }\n      \n      // Check if any provider was successfully initialized\n      if (isProduction && !this.openai && !this.gemini) {\n        console.error(\"Critical production error: No AI providers could be initialized. Check API key configuration.\");\n      }\n    } catch (error) {\n      if (isProduction) {\n        console.error(\"Failed to initialize AI providers:\", error);\n      } else {\n        console.warn(\"AI providers not initialized, using fallback responses\");\n      }\n    }\n  }\n\n  private getContextAwareSystemPrompt(messages: ChatMessage[]) {\n    const basePrompt = `You are a compassionate AI assistant providing psychological first aid and basic medical guidance for Indian college students. Your role is to:\n\nPSYCHOLOGICAL SUPPORT:\n1. Listen empathetically and validate feelings\n2. Provide evidence-based coping strategies for anxiety, depression, and stress\n3. Guide users through breathing exercises, mindfulness, and relaxation techniques\n4. Offer study stress management and academic pressure support\n5. Detect crisis situations and recommend immediate intervention\n\nMEDICAL GUIDANCE:\n6. Provide basic health information and wellness tips\n7. Recognize symptoms that require medical attention\n8. Offer preventive health measures and lifestyle advice\n9. Guide users to appropriate medical resources when needed\n10. Support mental-physical health connection awareness\n\nCULTURAL CONSIDERATIONS:\n- Be aware of Indian cultural contexts, family pressures, and social stigmas\n- Understand academic competition and career pressure in Indian education system\n- Respect traditional healing practices while promoting evidence-based care\n- Be sensitive to economic constraints in accessing healthcare\n\nSAFETY GUIDELINES:\n- Always emphasize that you're not a replacement for professional medical or psychological care\n- For serious medical symptoms, immediately recommend consulting a doctor\n- If you detect high-risk language (self-harm, suicide ideation), immediately recommend crisis resources\n- Recognize emergency situations requiring immediate medical attention\n\nCONVERSATION CONTEXT:\n- Review the entire conversation history to understand the user's ongoing concerns\n- Avoid repeating the same advice or information you've already given\n- Build upon previous conversations and show continuity\n- Acknowledge progress or changes since your last interaction\n- Ask follow-up questions about previously discussed topics when appropriate\n- Remember specific details the user has shared (symptoms, situations, feelings)\n\nCOMMUNICATION STYLE:\n- Use warm, supportive, and non-judgmental language\n- Provide practical, actionable advice\n- Explain medical concepts in simple, understandable terms\n- Offer both immediate relief strategies and long-term wellness plans\n- Vary your responses to avoid repetitive language\n- Show genuine engagement with the user's unique situation\n\nResponse format: Always respond with JSON containing:\n- message: Your supportive response with medical/psychological guidance (tailored to conversation context)\n- supportiveActions: Array of 2-3 specific actions the user can take (building on previous suggestions)\n- riskLevel: \"low\", \"moderate\", or \"high\" (considering both psychological and physical health risks)\n- escalationRequired: boolean (true if immediate professional help needed)`;\n\n    // Add conversation context analysis\n    if (messages.length > 2) {\n      const recentTopics = this.analyzeConversationContext(messages);\n      return basePrompt + `\\n\\nCONVERSATION CONTEXT ANALYSIS:\\n${recentTopics}`;\n    }\n\n    return basePrompt;\n  }\n\n  private analyzeConversationContext(messages: ChatMessage[]): string {\n    const userMessages = messages.filter(m => m.role === 'user').slice(-3);\n    const assistantMessages = messages.filter(m => m.role === 'assistant').slice(-2);\n    \n    let context = '';\n    \n    if (userMessages.length > 0) {\n      context += `Recent user concerns: ${userMessages.map(m => m.content.substring(0, 100)).join('; ')}\\n`;\n    }\n    \n    if (assistantMessages.length > 0) {\n      context += `Previous advice given: Avoid repeating these exact suggestions - ${assistantMessages.map(m => {\n        try {\n          const parsed = JSON.parse(m.content);\n          return parsed.supportiveActions?.join(', ') || '';\n        } catch {\n          return m.content.substring(0, 100);\n        }\n      }).join('; ')}\\n`;\n    }\n    \n    context += `Remember to acknowledge any progress and build upon the ongoing conversation.`;\n    \n    return context;\n  }\n\n  async generateResponse(messages: ChatMessage[], personality?: any): Promise<PsychologicalResponse> {\n    try {\n      let personalityPrompt = this.getContextAwareSystemPrompt(messages);\n      \n      if (personality && personality.customPrompt) {\n        personalityPrompt += `\\n\\nAdditional personality instructions: ${personality.customPrompt}`;\n      }\n\n      // Check if we have a functioning AI provider\n      if (this.config.ai_provider === \"gemini\" && this.gemini) {\n        return await this.generateGeminiResponse(messages, personalityPrompt);\n      } else if (this.config.ai_provider === \"openai\" && this.openai) {\n        return await this.generateOpenAIResponse(messages, personalityPrompt);\n      } else {\n        // No valid provider available, use fallback\n        console.warn(\"No AI provider available, using fallback response\");\n        return this.getFallbackResponse(personality);\n      }\n    } catch (error) {\n      console.error(\"AI API error:\", error);\n      return this.getFallbackResponse(personality);\n    }\n  }\n\n  private async generateGeminiResponse(messages: ChatMessage[], systemPrompt: string): Promise<PsychologicalResponse> {\n    if (!this.gemini) {\n      throw new Error(\"Gemini provider not initialized\");\n    }\n    \n    const conversationText = messages.map(msg => \n      `${msg.role === 'user' ? 'User' : 'Assistant'}: ${msg.content}`\n    ).join('\\n');\n\n    const prompt = `${systemPrompt}\\n\\nConversation:\\n${conversationText}\\n\\nPlease respond in JSON format as specified.`;\n\n    const response = await this.gemini.models.generateContent({\n      model: this.config.current_model,\n      config: {\n        responseMimeType: \"application/json\",\n        responseSchema: {\n          type: \"object\",\n          properties: {\n            message: { type: \"string\" },\n            supportiveActions: { \n              type: \"array\",\n              items: { type: \"string\" }\n            },\n            riskLevel: { \n              type: \"string\",\n              enum: [\"low\", \"moderate\", \"high\"]\n            },\n            escalationRequired: { type: \"boolean\" }\n          },\n          required: [\"message\", \"supportiveActions\", \"riskLevel\", \"escalationRequired\"]\n        }\n      },\n      contents: prompt\n    });\n\n    let result: any = {};\n    try {\n      result = JSON.parse(response.text || \"{}\");\n    } catch (parseError) {\n      console.error(\"Failed to parse Gemini response JSON:\", parseError);\n      result = {};\n    }\n    \n    return {\n      message: (result as any).message || \"I'm here to support you. Could you tell me more about how you're feeling?\",\n      supportiveActions: (result as any).supportiveActions || [\n        \"Take 5 deep breaths slowly\",\n        \"Talk to a trusted friend or counselor\",\n        \"Practice a grounding exercise\"\n      ],\n      riskLevel: (result as any).riskLevel || \"low\",\n      escalationRequired: (result as any).escalationRequired || false,\n    };\n  }\n\n  private async generateOpenAIResponse(messages: ChatMessage[], systemPrompt: string): Promise<PsychologicalResponse> {\n    if (!this.openai) {\n      throw new Error(\"OpenAI provider not initialized\");\n    }\n    \n    const response = await this.openai.chat.completions.create({\n      model: this.config.current_model,\n      messages: [\n        { role: \"system\", content: systemPrompt },\n        ...messages.map(msg => ({\n          role: msg.role,\n          content: msg.content\n        }))\n      ],\n      response_format: { type: \"json_object\" },\n      temperature: this.config.temperature,\n      max_tokens: this.config.max_tokens,\n    });\n\n    let result: any = {};\n    try {\n      result = JSON.parse(response.choices[0].message.content || \"{}\");\n    } catch (parseError) {\n      console.error(\"Failed to parse OpenAI response JSON:\", parseError);\n      result = {};\n    }\n    \n    return {\n      message: (result as any).message || \"I'm here to support you. Could you tell me more about how you're feeling?\",\n      supportiveActions: (result as any).supportiveActions || [\n        \"Take 5 deep breaths slowly\",\n        \"Talk to a trusted friend or counselor\",\n        \"Practice a grounding exercise\"\n      ],\n      riskLevel: (result as any).riskLevel || \"low\",\n      escalationRequired: (result as any).escalationRequired || false,\n    };\n  }\n\n  private getFallbackResponse(personality?: any): PsychologicalResponse {\n    let message = \"I'm here to listen and support you. Sometimes our systems need a moment to respond, but I want you to know that your feelings are valid and you're not alone. Can you tell me a bit about what's on your mind today?\";\n    \n    if (personality?.name && personality.customPrompt) {\n      message = `Hey there! I'm ${personality.name}, your personalized AI companion. I'm still learning from the conversations you shared with me, but I'm here to support you. What's on your mind today?`;\n    }\n\n    return {\n      message,\n      supportiveActions: [\n        \"Take a few deep, calming breaths\",\n        \"Consider talking to someone you trust\",\n        \"Try some light physical activity or stretching\"\n      ],\n      riskLevel: \"low\",\n      escalationRequired: false,\n    };\n  }\n\n  async generateGuidedExercise(type: string): Promise<string[]> {\n    const exercisePrompts = {\n      breathing: [\n        \"Find a comfortable seated position and close your eyes\",\n        \"Breathe in slowly through your nose for 4 counts\",\n        \"Hold your breath gently for 4 counts\",\n        \"Exhale slowly through your mouth for 6 counts\",\n        \"Repeat this cycle 5 more times, focusing only on your breath\"\n      ],\n      relaxation: [\n        \"Lie down comfortably and close your eyes\",\n        \"Starting with your toes, tense the muscles for 5 seconds\",\n        \"Release the tension and feel the relaxation\",\n        \"Move up to your calves, thighs, abdomen, and so on\",\n        \"Continue until you've relaxed your entire body\"\n      ],\n      journal: [\n        \"Find a quiet space and get a pen and paper\",\n        \"Write about how you're feeling right now\",\n        \"Don't worry about grammar or structure\",\n        \"Include what triggered these feelings\",\n        \"End with one positive thing you can do for yourself today\"\n      ]\n    };\n\n    return exercisePrompts[type as keyof typeof exercisePrompts] || exercisePrompts.breathing;\n  }\n\n  // Method to reload config without restarting server\n  reloadConfig() {\n    this.loadConfig();\n    this.initializeProviders();\n  }\n}\n\nexport const aiService = new AIService();","size_bytes":13969},"client/src/pages/diary.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Plus, Search, Calendar, Edit, Trash2, Save, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\ninterface DiaryEntry {\n  id: string;\n  title: string;\n  content: string;\n  date: string;\n  mood: 'happy' | 'neutral' | 'sad' | 'anxious' | 'excited';\n  tags: string[];\n  createdAt: Date;\n}\n\nconst moodEmojis = {\n  happy: '😊',\n  neutral: '😐',\n  sad: '😢',\n  anxious: '😰',\n  excited: '🤩'\n};\n\nconst moodColors = {\n  happy: 'bg-green-100 text-green-800',\n  neutral: 'bg-gray-100 text-gray-800',\n  sad: 'bg-blue-100 text-blue-800',\n  anxious: 'bg-orange-100 text-orange-800',\n  excited: 'bg-purple-100 text-purple-800'\n};\n\nexport default function Diary() {\n  const [entries, setEntries] = useState<DiaryEntry[]>([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedEntry, setSelectedEntry] = useState<DiaryEntry | null>(null);\n  const [isCreating, setIsCreating] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [newEntry, setNewEntry] = useState({\n    title: '',\n    content: '',\n    mood: 'neutral' as DiaryEntry['mood'],\n    tags: ''\n  });\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n\n  // Load entries from localStorage on component mount\n  useEffect(() => {\n    const savedEntries = localStorage.getItem(`diary_entries_${currentUser?.id}`);\n    if (savedEntries) {\n      setEntries(JSON.parse(savedEntries));\n    }\n  }, [currentUser?.id]);\n\n  // Save entries to localStorage whenever entries change\n  useEffect(() => {\n    if (currentUser?.id) {\n      localStorage.setItem(`diary_entries_${currentUser.id}`, JSON.stringify(entries));\n    }\n  }, [entries, currentUser?.id]);\n\n  const filteredEntries = entries.filter(entry =>\n    entry.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    entry.content.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    entry.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\n  );\n\n  const handleSaveEntry = () => {\n    if (!newEntry.title.trim() || !newEntry.content.trim()) {\n      toast({\n        title: \"Missing Information\",\n        description: \"Please fill in both title and content\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    const entry: DiaryEntry = {\n      id: isEditing && selectedEntry ? selectedEntry.id : Date.now().toString(),\n      title: newEntry.title,\n      content: newEntry.content,\n      date: new Date().toISOString().split('T')[0],\n      mood: newEntry.mood,\n      tags: newEntry.tags.split(',').map(tag => tag.trim()).filter(tag => tag),\n      createdAt: isEditing && selectedEntry ? selectedEntry.createdAt : new Date()\n    };\n\n    if (isEditing && selectedEntry) {\n      setEntries(prev => prev.map(e => e.id === selectedEntry.id ? entry : e));\n      toast({\n        title: \"Entry Updated\",\n        description: \"Your diary entry has been updated successfully\"\n      });\n    } else {\n      setEntries(prev => [entry, ...prev]);\n      toast({\n        title: \"Entry Saved\",\n        description: \"Your diary entry has been saved successfully\"\n      });\n    }\n\n    resetForm();\n  };\n\n  const handleEditEntry = (entry: DiaryEntry) => {\n    setSelectedEntry(entry);\n    setNewEntry({\n      title: entry.title,\n      content: entry.content,\n      mood: entry.mood,\n      tags: entry.tags.join(', ')\n    });\n    setIsEditing(true);\n    setIsCreating(true);\n  };\n\n  const handleDeleteEntry = (entryId: string) => {\n    setEntries(prev => prev.filter(e => e.id !== entryId));\n    toast({\n      title: \"Entry Deleted\",\n      description: \"Your diary entry has been deleted\"\n    });\n  };\n\n  const resetForm = () => {\n    setNewEntry({\n      title: '',\n      content: '',\n      mood: 'neutral',\n      tags: ''\n    });\n    setIsCreating(false);\n    setIsEditing(false);\n    setSelectedEntry(null);\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 max-w-6xl\">\n      <BackButton />\n      <div className=\"flex items-center justify-between mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">My Personal Diary</h1>\n          <p className=\"text-muted-foreground\">Record your thoughts, feelings, and daily reflections</p>\n        </div>\n        <Dialog open={isCreating} onOpenChange={(open) => !open && resetForm()}>\n          <DialogTrigger asChild>\n            <Button onClick={() => setIsCreating(true)} data-testid=\"button-new-entry\">\n              <Plus className=\"h-4 w-4 mr-2\" />\n              New Entry\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle>{isEditing ? 'Edit Entry' : 'Create New Entry'}</DialogTitle>\n              <DialogDescription>\n                Write down your thoughts and feelings for today\n              </DialogDescription>\n            </DialogHeader>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Title</label>\n                <Input\n                  value={newEntry.title}\n                  onChange={(e) => setNewEntry(prev => ({ ...prev, title: e.target.value }))}\n                  placeholder=\"What's on your mind today?\"\n                  data-testid=\"input-entry-title\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">How are you feeling?</label>\n                <div className=\"flex gap-2\">\n                  {Object.entries(moodEmojis).map(([mood, emoji]) => (\n                    <button\n                      key={mood}\n                      type=\"button\"\n                      onClick={() => setNewEntry(prev => ({ ...prev, mood: mood as DiaryEntry['mood'] }))}\n                      className={`p-2 rounded-lg border-2 transition-colors ${\n                        newEntry.mood === mood \n                          ? 'border-primary bg-primary/10' \n                          : 'border-border hover:border-primary/50'\n                      }`}\n                      data-testid={`mood-${mood}`}\n                    >\n                      <span className=\"text-2xl\">{emoji}</span>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Content</label>\n                <Textarea\n                  value={newEntry.content}\n                  onChange={(e) => setNewEntry(prev => ({ ...prev, content: e.target.value }))}\n                  placeholder=\"Write about your day, thoughts, or anything that comes to mind...\"\n                  className=\"min-h-[200px]\"\n                  data-testid=\"textarea-entry-content\"\n                />\n              </div>\n\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Tags (comma separated)</label>\n                <Input\n                  value={newEntry.tags}\n                  onChange={(e) => setNewEntry(prev => ({ ...prev, tags: e.target.value }))}\n                  placeholder=\"work, family, health, goals\"\n                  data-testid=\"input-entry-tags\"\n                />\n              </div>\n            </div>\n\n            <DialogFooter>\n              <Button variant=\"outline\" onClick={resetForm}>\n                <X className=\"h-4 w-4 mr-2\" />\n                Cancel\n              </Button>\n              <Button onClick={handleSaveEntry} data-testid=\"button-save-entry\">\n                <Save className=\"h-4 w-4 mr-2\" />\n                {isEditing ? 'Update Entry' : 'Save Entry'}\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Search Bar */}\n      <div className=\"mb-6\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n          <Input\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            placeholder=\"Search your entries...\"\n            className=\"pl-10\"\n            data-testid=\"input-search-entries\"\n          />\n        </div>\n      </div>\n\n      {/* Entries Grid */}\n      {filteredEntries.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <Calendar className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n          <h3 className=\"text-lg font-semibold mb-2\">No entries found</h3>\n          <p className=\"text-muted-foreground mb-4\">\n            {searchTerm ? \"No entries match your search criteria\" : \"Start writing your first diary entry\"}\n          </p>\n          {!searchTerm && (\n            <Button onClick={() => setIsCreating(true)}>\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Create Your First Entry\n            </Button>\n          )}\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {filteredEntries.map((entry) => (\n            <Card key={entry.id} className=\"hover:shadow-lg transition-shadow\">\n              <CardHeader className=\"pb-3\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <CardTitle className=\"text-lg leading-tight\">{entry.title}</CardTitle>\n                    <CardDescription className=\"flex items-center gap-2 mt-1\">\n                      <Calendar className=\"h-3 w-3\" />\n                      {formatDate(entry.date)}\n                    </CardDescription>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <span className=\"text-lg\">{moodEmojis[entry.mood]}</span>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <p className=\"text-sm text-muted-foreground line-clamp-3 mb-3\">\n                  {entry.content}\n                </p>\n                \n                {entry.tags.length > 0 && (\n                  <div className=\"flex flex-wrap gap-1 mb-3\">\n                    {entry.tags.slice(0, 3).map((tag, index) => (\n                      <span\n                        key={index}\n                        className=\"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded\"\n                      >\n                        #{tag}\n                      </span>\n                    ))}\n                    {entry.tags.length > 3 && (\n                      <span className=\"text-xs text-muted-foreground\">\n                        +{entry.tags.length - 3} more\n                      </span>\n                    )}\n                  </div>\n                )}\n\n                <div className=\"flex justify-between items-center\">\n                  <span className={`text-xs px-2 py-1 rounded ${moodColors[entry.mood]}`}>\n                    {entry.mood}\n                  </span>\n                  <div className=\"flex gap-1\">\n                    <Button \n                      variant=\"ghost\" \n                      size=\"sm\" \n                      onClick={() => handleEditEntry(entry)}\n                      data-testid={`button-edit-${entry.id}`}\n                    >\n                      <Edit className=\"h-3 w-3\" />\n                    </Button>\n                    <Button \n                      variant=\"ghost\" \n                      size=\"sm\" \n                      onClick={() => handleDeleteEntry(entry.id)}\n                      className=\"text-destructive hover:text-destructive\"\n                      data-testid={`button-delete-${entry.id}`}\n                    >\n                      <Trash2 className=\"h-3 w-3\" />\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}","size_bytes":12522},"client/src/pages/music.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { Play, Pause, SkipBack, SkipForward, Volume2, Heart, Search, Loader2, Upload, Plus, ChevronDown, Filter, Shuffle } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { ambientMusic } from \"@/lib/ambient-music\";\nimport { musicAPI, Track } from \"@/lib/music-api\";\nimport { localMusicManager, LocalTrack } from \"@/lib/local-music\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\n// Import the uploaded audio files\nimport audio1 from \"@assets/WhatsApp Audio 2025-09-06 at 09.26.39_7516e2fa_1757131765090.mp3\";\nimport audio2 from \"@assets/WhatsApp Audio 2025-09-06 at 09.26.40_42b10528_1757131765090.mp3\";\nimport audio3 from \"@assets/WhatsApp Audio 2025-09-06 at 09.26.40_816527c1_1757131765090.mp3\";\nimport audio4 from \"@assets/WhatsApp Audio 2025-09-06 at 09.26.40_f0a72bd0_1757131765090.mp3\";\n\nconst musicTracks = [\n  {\n    id: 1,\n    title: \"Mind Fresh Track 1\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"3:45\",\n    category: \"Uploaded\",\n    type: \"uploaded\",\n    description: \"Relaxing audio for mental wellness\",\n    audioUrl: audio1,\n    isUploaded: true\n  },\n  {\n    id: 2,\n    title: \"Mind Fresh Track 2\",\n    artist: \"Mind Fresh Audio\", \n    duration: \"4:12\",\n    category: \"Uploaded\",\n    type: \"uploaded\",\n    description: \"Calming sounds for stress relief\",\n    audioUrl: audio2,\n    isUploaded: true\n  },\n  {\n    id: 3,\n    title: \"Mind Fresh Track 3\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"2:58\",\n    category: \"Uploaded\", \n    type: \"uploaded\",\n    description: \"Peaceful audio for relaxation\",\n    audioUrl: audio3,\n    isUploaded: true\n  },\n  {\n    id: 4,\n    title: \"Mind Fresh Track 4\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"3:21\",\n    category: \"Uploaded\",\n    type: \"uploaded\", \n    description: \"Soothing sounds for meditation\",\n    audioUrl: audio4,\n    isUploaded: true\n  },\n  {\n    id: 5,\n    title: \"Peaceful Meditation\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Meditation\",\n    type: \"meditation\",\n    description: \"Gentle meditation tones to start your day peacefully\"\n  },\n  {\n    id: 6,\n    title: \"Ocean Waves\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Relaxation\",\n    type: \"ocean\",\n    description: \"Soothing ocean waves for deep relaxation\"\n  },\n  {\n    id: 7,\n    title: \"Forest Ambience\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Nature\",\n    type: \"forest\",\n    description: \"Peaceful forest sounds to reduce stress\"\n  },\n  {\n    id: 8,\n    title: \"Gentle Rain\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Sleep\",\n    type: \"rain\",\n    description: \"Soft rainfall sounds for better sleep\"\n  },\n  {\n    id: 9,\n    title: \"Focus Sounds\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Focus\",\n    type: \"focus\",\n    description: \"Clear focus sounds for better concentration\"\n  },\n  {\n    id: 10,\n    title: \"Mountain Stream\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Nature\",\n    type: \"stream\",\n    description: \"Gentle flowing water sounds from mountain streams\"\n  },\n  {\n    id: 11,\n    title: \"Deep Focus\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Focus\",\n    type: \"deep-focus\",\n    description: \"Binaural beats for enhanced concentration\"\n  },\n  {\n    id: 8,\n    title: \"Evening Wind\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Sleep\",\n    type: \"wind\",\n    description: \"Soft evening wind sounds for peaceful sleep\"\n  },\n  {\n    id: 9,\n    title: \"Zen Garden\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Meditation\",\n    type: \"zen\",\n    description: \"Tranquil sounds from a peaceful zen garden\"\n  },\n  {\n    id: 10,\n    title: \"Healing Frequencies\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Relaxation\",\n    type: \"healing\",\n    description: \"Therapeutic frequencies for mind and body healing\"\n  },\n  {\n    id: 11,\n    title: \"Bird Songs\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Nature\",\n    type: \"birds\",\n    description: \"Peaceful morning bird songs and chirping\"\n  },\n  {\n    id: 12,\n    title: \"Study Alpha\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Focus\",\n    type: \"alpha\",\n    description: \"Alpha wave frequencies for enhanced learning\"\n  },\n  {\n    id: 13,\n    title: \"Campfire Crackle\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Relaxation\",\n    type: \"fire\",\n    description: \"Cozy campfire sounds for warm relaxation\"\n  },\n  {\n    id: 14,\n    title: \"Thunder Storm\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Sleep\",\n    type: \"storm\",\n    description: \"Distant thunder and rain for deep sleep\"\n  },\n  {\n    id: 15,\n    title: \"Mindful Breathing\",\n    artist: \"Mind Fresh Audio\",\n    duration: \"∞\",\n    category: \"Meditation\",\n    type: \"breathing\",\n    description: \"Guided breathing rhythms for mindfulness\"\n  }\n];\n\nconst categories = [\n  { value: \"All\", label: \"All Categories\" },\n  { value: \"Uploaded\", label: \"Uploaded Audio\" },\n  { value: \"Meditation\", label: \"Meditation\" },\n  { value: \"Relaxation\", label: \"Relaxation\" },\n  { value: \"Nature\", label: \"Nature Sounds\" },\n  { value: \"Sleep\", label: \"Sleep\" },\n  { value: \"Focus\", label: \"Focus & Study\" },\n  { value: \"Music\", label: \"Music Tracks\" },\n  { value: \"Local Music\", label: \"My Music\" }\n];\n\nexport default function Music() {\n  const [currentTrack, setCurrentTrack] = useState(musicTracks[0]);\n  const [currentApiTrack, setCurrentApiTrack] = useState<Track | null>(null);\n  const [currentLocalTrack, setCurrentLocalTrack] = useState<LocalTrack | null>(null);\n  const [currentTrackType, setCurrentTrackType] = useState<'ambient' | 'api' | 'local'>('ambient');\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState([80]);\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\n  const [likedTracks, setLikedTracks] = useState<number[]>([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [ambientTimer, setAmbientTimer] = useState<NodeJS.Timeout | null>(null);\n  const [isShuffleMode, setIsShuffleMode] = useState(false);\n  const [playedTracks, setPlayedTracks] = useState<number[]>([]);\n  \n  const audioRef = useRef<HTMLAudioElement>(null);\n\n  // Fetch popular tracks for Music category\n  const { data: popularTracks = [], isLoading: loadingPopular } = useQuery({\n    queryKey: ['/music/popular'],\n    queryFn: () => musicAPI.getTracksByMood('relaxing'),\n    staleTime: 1000 * 60 * 30, // Cache for 30 minutes\n    enabled: selectedCategory === \"Music\"\n  });\n\n  // Search tracks based on query\n  const { data: searchResults = [], isLoading: loadingSearch } = useQuery({\n    queryKey: ['/music/search', searchQuery],\n    queryFn: () => musicAPI.searchTracks(searchQuery),\n    enabled: searchQuery.length > 2 && selectedCategory === \"Music\",\n    staleTime: 1000 * 60 * 10 // Cache for 10 minutes\n  });\n\n  // Scan local music files\n  const { data: localTracks = [], isLoading: loadingLocal } = useQuery({\n    queryKey: ['/music/local'],\n    queryFn: () => localMusicManager.scanMusicFiles(),\n    staleTime: 1000 * 60 * 5, // Cache for 5 minutes\n    enabled: selectedCategory === \"Local Music\"\n  });\n\n  const ambientTracks = selectedCategory === \"All\" \n    ? musicTracks \n    : musicTracks.filter(track => track.category === selectedCategory);\n\n  const apiTracks = selectedCategory === \"Music\" \n    ? (searchQuery ? searchResults : popularTracks)\n    : [];\n\n  const localMusicTracks = selectedCategory === \"Local Music\" ? localTracks : [];\n\n  const allTracks = selectedCategory === \"Music\" \n    ? apiTracks \n    : selectedCategory === \"Local Music\" \n    ? localMusicTracks \n    : ambientTracks;\n\n  // Shuffle function\n  const shuffleArray = (array: any[]) => {\n    const shuffled = [...array];\n    for (let i = shuffled.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n    }\n    return shuffled;\n  };\n\n  // Get next track for random playback\n  const getNextRandomTrack = () => {\n    const availableTracks = allTracks.filter((_, index) => !playedTracks.includes(index));\n    if (availableTracks.length === 0) {\n      // Reset played tracks if all have been played\n      setPlayedTracks([]);\n      return allTracks[Math.floor(Math.random() * allTracks.length)];\n    }\n    const randomTrack = availableTracks[Math.floor(Math.random() * availableTracks.length)];\n    const trackIndex = allTracks.findIndex(t => t.id === randomTrack.id);\n    setPlayedTracks(prev => [...prev, trackIndex]);\n    return randomTrack;\n  };\n\n  const playAmbientTrack = async (track: any) => {\n    // Handle uploaded audio files\n    if (track.isUploaded && track.audioUrl) {\n      if (audioRef.current) {\n        audioRef.current.src = track.audioUrl;\n        await audioRef.current.play();\n        setIsPlaying(true);\n        setCurrentTrackType('ambient');\n        setCurrentTrack(track);\n      }\n      return;\n    }\n\n    const trackType = track.type as string;\n    switch (trackType) {\n      case 'uploaded':\n        // Handle uploaded files\n        if (audioRef.current && track.audioUrl) {\n          audioRef.current.src = track.audioUrl;\n          await audioRef.current.play();\n        }\n        break;\n      case 'meditation':\n        await ambientMusic.playMeditation();\n        break;\n      case 'ocean':\n        await ambientMusic.playOceanWaves();\n        break;\n      case 'forest':\n        await ambientMusic.playForest();\n        break;\n      case 'rain':\n        await ambientMusic.playRainfall();\n        break;\n      case 'focus':\n      case 'deep-focus':\n      case 'alpha':\n        await ambientMusic.playFocus();\n        break;\n      case 'stream':\n      case 'birds':\n        await ambientMusic.playForest();\n        break;\n      case 'wind':\n      case 'storm':\n        await ambientMusic.playRainfall();\n        break;\n      case 'zen':\n      case 'breathing':\n        await ambientMusic.playMeditation();\n        break;\n      case 'healing':\n      case 'fire':\n        await ambientMusic.playOceanWaves();\n        break;\n      default:\n        await ambientMusic.playMeditation();\n    }\n  };\n\n  const playApiTrack = (track: Track) => {\n    if (audioRef.current && track.preview_url) {\n      audioRef.current.src = track.preview_url;\n      audioRef.current.play();\n    }\n  };\n\n  const playLocalTrack = (track: LocalTrack) => {\n    if (audioRef.current) {\n      audioRef.current.src = track.file_url;\n      audioRef.current.play();\n    }\n  };\n\n  const selectTrack = (track: any, type: 'ambient' | 'api' | 'local') => {\n    if (isPlaying) {\n      ambientMusic.stop();\n      if (audioRef.current) {\n        audioRef.current.pause();\n      }\n      if (ambientTimer) {\n        clearInterval(ambientTimer);\n        setAmbientTimer(null);\n      }\n      setIsPlaying(false);\n    }\n    \n    // Reset current time when selecting a new track\n    setCurrentTime(0);\n    \n    if (type === 'ambient') {\n      setCurrentTrack(track);\n      setCurrentTrackType('ambient');\n    } else if (type === 'api') {\n      setCurrentApiTrack(track);\n      setCurrentTrackType('api');\n    } else if (type === 'local') {\n      setCurrentLocalTrack(track);\n      setCurrentTrackType('local');\n    }\n  };\n\n  const togglePlay = async () => {\n    if (isPlaying) {\n      ambientMusic.stop();\n      if (audioRef.current) {\n        audioRef.current.pause();\n      }\n      if (ambientTimer) {\n        clearInterval(ambientTimer);\n        setAmbientTimer(null);\n      }\n      setIsPlaying(false);\n    } else {\n      if (currentTrackType === 'ambient') {\n        await playAmbientTrack(currentTrack);\n        // Start timer for ambient tracks\n        const timer = setInterval(() => {\n          setCurrentTime(prev => prev + 1);\n        }, 1000);\n        setAmbientTimer(timer);\n      } else if (currentTrackType === 'api' && currentApiTrack) {\n        playApiTrack(currentApiTrack);\n      } else if (currentTrackType === 'local' && currentLocalTrack) {\n        playLocalTrack(currentLocalTrack);\n      }\n      setIsPlaying(true);\n    }\n  };\n\n  const skipToNext = async () => {\n    if (currentTrackType === 'ambient') {\n      let nextTrack;\n      \n      if (isShuffleMode) {\n        nextTrack = getNextRandomTrack();\n      } else {\n        const currentIndex = ambientTracks.findIndex((track: any) => track.id === currentTrack.id);\n        const nextIndex = (currentIndex + 1) % ambientTracks.length;\n        nextTrack = ambientTracks[nextIndex];\n      }\n      \n      if (isPlaying) {\n        ambientMusic.stop();\n        await playAmbientTrack(nextTrack);\n      }\n      setCurrentTrack(nextTrack);\n    } else if (currentApiTrack && apiTracks.length > 0) {\n      let nextTrack;\n      \n      if (isShuffleMode) {\n        const randomIndex = Math.floor(Math.random() * apiTracks.length);\n        nextTrack = apiTracks[randomIndex];\n      } else {\n        const currentIndex = apiTracks.findIndex((track: Track) => track.id === currentApiTrack.id);\n        const nextIndex = (currentIndex + 1) % apiTracks.length;\n        nextTrack = apiTracks[nextIndex];\n      }\n      \n      if (isPlaying && audioRef.current) {\n        audioRef.current.pause();\n      }\n      setCurrentApiTrack(nextTrack);\n      if (isPlaying) {\n        playApiTrack(nextTrack);\n      }\n    }\n  };\n\n  const skipToPrevious = async () => {\n    if (currentTrackType === 'ambient') {\n      const currentIndex = ambientTracks.findIndex((track: any) => track.id === currentTrack.id);\n      const prevIndex = currentIndex === 0 ? ambientTracks.length - 1 : currentIndex - 1;\n      const prevTrack = ambientTracks[prevIndex];\n      \n      if (isPlaying) {\n        ambientMusic.stop();\n        await playAmbientTrack(prevTrack);\n      }\n      setCurrentTrack(prevTrack);\n    } else if (currentApiTrack && apiTracks.length > 0) {\n      const currentIndex = apiTracks.findIndex((track: Track) => track.id === currentApiTrack.id);\n      const prevIndex = currentIndex === 0 ? apiTracks.length - 1 : currentIndex - 1;\n      const prevTrack = apiTracks[prevIndex];\n      \n      if (isPlaying && audioRef.current) {\n        audioRef.current.pause();\n      }\n      setCurrentApiTrack(prevTrack);\n      if (isPlaying) {\n        playApiTrack(prevTrack);\n      }\n    }\n  };\n\n  const toggleLike = (trackId: number) => {\n    setLikedTracks(prev => \n      prev.includes(trackId) \n        ? prev.filter(id => id !== trackId)\n        : [...prev, trackId]\n    );\n  };\n\n  // Audio event handlers\n  const handleApiTrackPlay = () => setIsPlaying(true);\n  const handleApiTrackPause = () => setIsPlaying(false);\n  const handleApiTrackEnded = () => {\n    setIsPlaying(false);\n    setCurrentTime(0);\n  };\n  const handleApiTrackTimeUpdate = (e: any) => setCurrentTime(e.target.currentTime);\n  const handleApiTrackLoadedMetadata = (e: any) => {\n    setDuration(e.target.duration);\n    setCurrentTime(0);\n  };\n\n  // Add audio ref event listeners\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    audio.addEventListener('play', handleApiTrackPlay);\n    audio.addEventListener('pause', handleApiTrackPause);\n    audio.addEventListener('ended', handleApiTrackEnded);\n    audio.addEventListener('timeupdate', handleApiTrackTimeUpdate);\n    audio.addEventListener('loadedmetadata', handleApiTrackLoadedMetadata);\n\n    return () => {\n      audio.removeEventListener('play', handleApiTrackPlay);\n      audio.removeEventListener('pause', handleApiTrackPause);\n      audio.removeEventListener('ended', handleApiTrackEnded);\n      audio.removeEventListener('timeupdate', handleApiTrackTimeUpdate);\n      audio.removeEventListener('loadedmetadata', handleApiTrackLoadedMetadata);\n    };\n  }, []);\n\n  // Update volume for API tracks\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.volume = volume[0] / 100;\n    }\n  }, [volume]);\n\n  // Cleanup ambient timer on component unmount\n  useEffect(() => {\n    return () => {\n      if (ambientTimer) {\n        clearInterval(ambientTimer);\n      }\n    };\n  }, [ambientTimer]);\n\n  // Handle local music file upload\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (!files || files.length === 0) return;\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n      \n      // Validate file type\n      const validTypes = ['audio/mpeg', 'audio/wav', 'audio/mp4', 'audio/aac', 'audio/ogg', 'audio/flac'];\n      if (!validTypes.includes(file.type)) {\n        alert(`\"${file.name}\" is not a valid audio file. Please select MP3, WAV, M4A, AAC, OGG, or FLAC files.`);\n        continue;\n      }\n\n      try {\n        // Create object URL for local playback\n        const audioUrl = URL.createObjectURL(file);\n        \n        // Create a local track entry\n        const localTrack: LocalTrack = {\n          id: `local-${Date.now()}-${i}`,\n          title: file.name.replace(/\\.[^/.]+$/, ''), // Remove file extension\n          artist: 'Local Music',\n          file_url: audioUrl,\n          duration: '0', // Will be set when loaded\n          file_name: file.name,\n          type: 'local'\n        };\n\n        // Test if audio can be loaded\n        const audio = new Audio(audioUrl);\n        await new Promise((resolve, reject) => {\n          audio.onloadedmetadata = () => {\n            localTrack.duration = audio.duration.toString();\n            resolve(undefined);\n          };\n          audio.onerror = reject;\n        });\n\n        // Store in localStorage for persistence\n        const existingTracks = JSON.parse(localStorage.getItem('localMusicTracks') || '[]');\n        existingTracks.push(localTrack);\n        localStorage.setItem('localMusicTracks', JSON.stringify(existingTracks));\n\n        // Set as current track if it's the first one uploaded\n        if (i === 0) {\n          setCurrentLocalTrack(localTrack);\n          setCurrentTrackType('local');\n          setSelectedCategory('Local Music');\n        }\n        \n      } catch (error) {\n        console.error('Error loading audio file:', error);\n        alert(`Error loading \"${file.name}\". Please try another file.`);\n      }\n    }\n\n    alert(`Successfully added ${files.length} song${files.length !== 1 ? 's' : ''} to your music library!`);\n\n    // Reset the input\n    event.target.value = '';\n  };\n\n  // Load local tracks from localStorage\n  const getLocalTracks = () => {\n    try {\n      return JSON.parse(localStorage.getItem('localMusicTracks') || '[]');\n    } catch {\n      return [];\n    }\n  };\n\n  const formatTime = (time: number) => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 max-w-6xl\">\n      <BackButton />\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Mind Fresh Music</h1>\n        <p className=\"text-muted-foreground\">Relaxing music and nature sounds for mental wellness</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Current Player */}\n        <div className=\"lg:col-span-2\">\n          <Card className=\"mb-6\">\n            <CardHeader>\n              <CardTitle>Now Playing</CardTitle>\n              <CardDescription>\n                {currentTrackType === 'api' ? currentApiTrack?.title : \n                 currentTrackType === 'local' ? currentLocalTrack?.title : currentTrack.title} - \n                {currentTrackType === 'api' ? currentApiTrack?.artist : \n                 currentTrackType === 'local' ? currentLocalTrack?.artist : currentTrack.artist}\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex items-center justify-center bg-gradient-to-br from-primary/20 to-secondary/20 rounded-lg p-8\">\n                <div className=\"text-center space-y-2\">\n                  <div className=\"w-32 h-32 mx-auto rounded-lg overflow-hidden\">\n                    {currentTrackType === 'api' && currentApiTrack?.cover_art ? (\n                      <img \n                        src={currentApiTrack.cover_art} \n                        alt=\"Album Cover\" \n                        className=\"w-full h-full object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white text-4xl font-bold\">\n                        {currentTrackType === 'local' ? '🎵' : '♪'}\n                      </div>\n                    )}\n                  </div>\n                  <div>\n                    <h3 className=\"text-xl font-semibold mb-2\">\n                      {currentTrackType === 'api' ? currentApiTrack?.title : \n                       currentTrackType === 'local' ? currentLocalTrack?.title : currentTrack.title}\n                    </h3>\n                    <p className=\"text-muted-foreground mb-4\">\n                      {currentTrackType === 'api' ? currentApiTrack?.artist : \n                       currentTrackType === 'local' ? currentLocalTrack?.artist : currentTrack.artist}\n                    </p>\n                    {currentTrackType === 'ambient' && (\n                      <p className=\"text-sm text-muted-foreground\">{currentTrack.description}</p>\n                    )}\n                    {currentTrackType === 'api' && currentApiTrack?.album && (\n                      <p className=\"text-sm text-muted-foreground\">{currentApiTrack.album}</p>\n                    )}\n                    {currentTrackType === 'local' && currentLocalTrack && (\n                      <p className=\"text-sm text-muted-foreground\">Local Music File</p>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Progress Bar */}\n              <div className=\"space-y-2\">\n                <Progress value={(currentTime / duration) * 100} className=\"w-full\" />\n                <div className=\"flex justify-between text-sm text-muted-foreground\">\n                  <span>{formatTime(currentTime)}</span>\n                  <span>\n                    {(currentTrackType === 'api' || currentTrackType === 'local') ? formatTime(duration) : formatTime(currentTime)}\n                  </span>\n                </div>\n              </div>\n\n              {/* Controls */}\n              <div className=\"flex items-center justify-center space-x-4\">\n                <Button \n                  variant=\"outline\" \n                  size=\"sm\" \n                  onClick={() => setIsShuffleMode(!isShuffleMode)}\n                  className={isShuffleMode ? 'bg-primary text-primary-foreground' : ''}\n                  data-testid=\"button-shuffle\"\n                >\n                  <Shuffle className=\"h-4 w-4\" />\n                </Button>\n                <Button variant=\"outline\" size=\"sm\" onClick={skipToPrevious}>\n                  <SkipBack className=\"h-4 w-4\" />\n                </Button>\n                <Button onClick={togglePlay} size=\"lg\" data-testid=\"button-play-pause\">\n                  {isPlaying ? <Pause className=\"h-6 w-6\" /> : <Play className=\"h-6 w-6\" />}\n                </Button>\n                <Button variant=\"outline\" size=\"sm\" onClick={skipToNext}>\n                  <SkipForward className=\"h-4 w-4\" />\n                </Button>\n                <Button \n                  variant=\"outline\" \n                  size=\"sm\"\n                  onClick={() => {\n                    const trackId = currentTrackType === 'api' ? parseInt(currentApiTrack?.id || '0') : currentTrack.id;\n                    toggleLike(trackId);\n                  }}\n                >\n                  <Heart className={`h-4 w-4 ${\n                    currentTrackType === 'api' \n                      ? (currentApiTrack && likedTracks.includes(parseInt(currentApiTrack.id))) \n                      : likedTracks.includes(currentTrack.id)\n                  } ? 'fill-current text-red-500' : ''`} />\n                </Button>\n              </div>\n\n              {/* Volume Control */}\n              <div className=\"flex items-center space-x-2\">\n                <Volume2 className=\"h-4 w-4\" />\n                <Slider\n                  value={volume}\n                  onValueChange={setVolume}\n                  max={100}\n                  step={1}\n                  className=\"flex-1\"\n                  data-testid=\"slider-volume\"\n                />\n                <span className=\"text-sm text-muted-foreground w-8\">{volume[0]}%</span>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Playlist Sidebar */}\n        <div>\n          <Card>\n            <CardHeader>\n              <CardTitle>Music Library</CardTitle>\n              <CardDescription>Choose your relaxation soundtrack</CardDescription>\n            </CardHeader>\n            <CardContent>\n              {/* Category Filter Dropdown */}\n              <div className=\"mb-4\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Filter className=\"h-4 w-4 text-muted-foreground\" />\n                  <span className=\"text-sm font-medium text-foreground\">Filter by Category</span>\n                </div>\n                <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n                  <SelectTrigger className=\"w-full\" data-testid=\"select-category-filter\">\n                    <SelectValue placeholder=\"Select a category\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {categories.map((category) => (\n                      <SelectItem \n                        key={category.value} \n                        value={category.value}\n                        data-testid={`filter-${category.value.toLowerCase()}`}\n                      >\n                        {category.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Search Input for Music */}\n              {selectedCategory === \"Music\" && (\n                <div className=\"mb-4\">\n                  <div className=\"relative\">\n                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\n                    <Input\n                      type=\"text\"\n                      placeholder=\"Search for music tracks...\"\n                      value={searchQuery}\n                      onChange={(e) => setSearchQuery(e.target.value)}\n                      className=\"pl-9\"\n                      data-testid=\"input-music-search\"\n                    />\n                  </div>\n                  {loadingSearch && (\n                    <div className=\"flex items-center justify-center mt-2\">\n                      <Loader2 className=\"h-4 w-4 animate-spin\" />\n                      <span className=\"ml-2 text-sm text-muted-foreground\">Searching...</span>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Local Music Upload */}\n              {selectedCategory === \"Local Music\" && (\n                <div className=\"mb-4\">\n                  <div className=\"border-2 border-dashed border-muted-foreground/25 rounded-lg p-4 text-center\">\n                    <Upload className=\"h-8 w-8 mx-auto mb-2 text-muted-foreground\" />\n                    <p className=\"text-sm text-muted-foreground mb-2\">\n                      Add music files to your local collection\n                    </p>\n                    <Input\n                      type=\"file\"\n                      accept=\"audio/*,.mp3,.wav,.m4a,.aac,.ogg,.flac\"\n                      onChange={handleFileUpload}\n                      className=\"hidden\"\n                      id=\"music-file-upload\"\n                    />\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => document.getElementById('music-file-upload')?.click()}\n                      data-testid=\"button-upload-music\"\n                    >\n                      <Plus className=\"h-4 w-4 mr-2\" />\n                      Add Music File\n                    </Button>\n                  </div>\n                  {loadingLocal && (\n                    <div className=\"flex items-center justify-center mt-2\">\n                      <Loader2 className=\"h-4 w-4 animate-spin\" />\n                      <span className=\"ml-2 text-sm text-muted-foreground\">Scanning local files...</span>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Track List */}\n              <div className=\"space-y-2\">\n                {selectedCategory === \"Music\" && loadingPopular && !searchQuery && (\n                  <div className=\"flex items-center justify-center p-4\">\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                    <span className=\"ml-2 text-sm text-muted-foreground\">Loading popular tracks...</span>\n                  </div>\n                )}\n                \n                {allTracks.map((track: any) => {\n                  const isApiTrack = selectedCategory === \"Music\";\n                  const isLocalTrack = selectedCategory === \"Local Music\";\n                  const trackId = (isApiTrack || isLocalTrack) ? parseInt(track.id) : track.id;\n                  \n                  const isCurrentTrack = isApiTrack \n                    ? currentApiTrack?.id === track.id\n                    : isLocalTrack\n                    ? currentLocalTrack?.id === track.id\n                    : currentTrack.id === track.id;\n                  \n                  return (\n                    <div\n                      key={track.id}\n                      className={`p-3 rounded-lg cursor-pointer transition-colors ${\n                        isCurrentTrack\n                          ? 'bg-accent text-accent-foreground'\n                          : 'hover:bg-muted'\n                      }`}\n                      onClick={() => selectTrack(track, isApiTrack ? 'api' : isLocalTrack ? 'local' : 'ambient')}\n                      data-testid={`track-${track.id}`}\n                    >\n                      <div className=\"flex items-center space-x-3\">\n                        <div className=\"w-12 h-12 rounded overflow-hidden\">\n                          {isApiTrack && track.cover_art ? (\n                            <img \n                              src={track.cover_art} \n                              alt=\"Album Cover\" \n                              className=\"w-full h-full object-cover\"\n                            />\n                          ) : (\n                            <div className=\"w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white text-lg\">\n                              {isLocalTrack ? '🎵' : '♪'}\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <h4 className=\"text-sm font-medium truncate\">{track.title}</h4>\n                          <p className=\"text-xs text-muted-foreground truncate\">\n                            {track.artist} • {track.duration}\n                            {isApiTrack && track.album && ` • ${track.album}`}\n                          </p>\n                          {!isApiTrack && (\n                            <div className=\"flex items-center gap-2 mt-1\">\n                              <span className=\"text-xs bg-primary/10 text-primary px-2 py-1 rounded\">\n                                {track.category}\n                              </span>\n                            </div>\n                          )}\n                        </div>\n                        <Button \n                          variant=\"ghost\" \n                          size=\"sm\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            toggleLike(trackId);\n                          }}\n                          data-testid={`button-like-${track.id}`}\n                        >\n                          <Heart className={`h-4 w-4 ${likedTracks.includes(trackId) ? 'fill-current text-red-500' : ''}`} />\n                        </Button>\n                      </div>\n                    </div>\n                  );\n                })}\n                \n                {selectedCategory === \"Music\" && allTracks.length === 0 && !loadingSearch && !loadingPopular && (\n                  <div className=\"text-center p-4 text-muted-foreground\">\n                    {searchQuery ? 'No tracks found. Try a different search.' : 'No popular tracks available.'}\n                  </div>\n                )}\n                \n                {selectedCategory === \"Local Music\" && allTracks.length === 0 && !loadingLocal && (\n                  <div className=\"text-center p-4 text-muted-foreground\">\n                    <Upload className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n                    <p>No local music files found.</p>\n                    <p className=\"text-xs mt-1\">Upload some music files to get started!</p>\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n      \n      {/* Hidden audio player for API tracks */}\n      <audio \n        ref={audioRef}\n        onPlay={handleApiTrackPlay}\n        onPause={handleApiTrackPause}\n        onEnded={handleApiTrackEnded}\n        onTimeUpdate={handleApiTrackTimeUpdate}\n        onLoadedMetadata={handleApiTrackLoadedMetadata}\n        style={{ display: 'none' }}\n      />\n    </div>\n  );\n}","size_bytes":34437},"client/src/pages/videos.tsx":{"content":"import { useState } from \"react\";\nimport { Play, Clock, Eye, Heart, Filter, Search, ChevronDown, MessageCircle, ThumbsUp, ThumbsDown, Send } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { BackButton } from \"@/components/ui/back-button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\n\ninterface Video {\n  id: string;\n  title: string;\n  description: string;\n  duration: string;\n  views: number;\n  category: 'Mindfulness' | 'Success' | 'Wellness' | 'Inspiration' | 'Comedy';\n  thumbnailUrl: string;\n  videoUrl: string;\n  speaker: string;\n  tags: string[];\n}\n\ninterface Comment {\n  id: string;\n  author: string;\n  content: string;\n  timestamp: string;\n  likes: number;\n  dislikes: number;\n  avatar?: string;\n}\n\n// Function to generate video data from YouTube URLs\nconst generateVideoData = () => {\n  const youtubeUrls = [\n    \"https://www.youtube.com/watch?v=27LIATkhqAU\",\n    \"https://www.youtube.com/watch?v=EP8VVr4fIj4\",\n    \"https://www.youtube.com/watch?v=9j0eUI4h1SE\",\n    \"https://www.youtube.com/watch?v=1QRriWmCAsc\",\n    \"https://www.youtube.com/watch?v=ZfPISsIIKQw\",\n    \"https://www.youtube.com/watch?v=wu0n7kWYIY4\",\n    \"https://www.youtube.com/watch?v=VJz_cM0Jg-Y\",\n    \"https://www.youtube.com/watch?v=C7SmkXyeHVI\",\n    \"https://www.youtube.com/watch?v=7RZne_dfg84\",\n    \"https://www.youtube.com/watch?v=dvc81UK4iq8\",\n    \"https://www.youtube.com/watch?v=CcY4GWjyl2U\",\n    \"https://www.youtube.com/watch?v=aOfLe3xJvNc\",\n    \"https://www.youtube.com/watch?v=5YoTP_fO4FI\",\n    \"https://www.youtube.com/watch?v=placeholder14\",\n    \"https://www.youtube.com/watch?v=placeholder15\",\n    \"https://www.youtube.com/watch?v=placeholder16\",\n    \"https://www.youtube.com/watch?v=placeholder17\",\n    \"https://www.youtube.com/watch?v=placeholder18\",\n    \"https://www.youtube.com/watch?v=placeholder19\",\n    \"https://www.youtube.com/watch?v=placeholder20\",\n    \"https://www.youtube.com/watch?v=placeholder21\",\n    \"https://www.youtube.com/watch?v=placeholder22\",\n    \"https://www.youtube.com/watch?v=placeholder23\",\n    \"https://www.youtube.com/watch?v=placeholder24\",\n    \"https://www.youtube.com/watch?v=placeholder25\",\n    \"https://www.youtube.com/watch?v=placeholder26\",\n    \"https://www.youtube.com/watch?v=placeholder27\",\n    \"https://www.youtube.com/watch?v=placeholder28\",\n    \"https://www.youtube.com/watch?v=placeholder29\",\n    \"https://www.youtube.com/watch?v=placeholder30\",\n    \"https://www.youtube.com/watch?v=placeholder31\",\n    \"https://www.youtube.com/watch?v=placeholder32\",\n    \"https://www.youtube.com/watch?v=placeholder33\",\n    \"https://www.youtube.com/watch?v=placeholder34\",\n    \"https://www.youtube.com/watch?v=placeholder35\",\n    \"https://www.youtube.com/watch?v=placeholder36\",\n    \"https://www.youtube.com/watch?v=placeholder37\",\n    \"https://www.youtube.com/watch?v=placeholder38\",\n    \"https://www.youtube.com/watch?v=placeholder39\",\n    \"https://www.youtube.com/watch?v=placeholder40\",\n    \"https://www.youtube.com/watch?v=placeholder41\",\n    \"https://www.youtube.com/watch?v=placeholder42\",\n    \"https://www.youtube.com/watch?v=placeholder43\",\n    \"https://www.youtube.com/watch?v=placeholder44\",\n    \"https://www.youtube.com/watch?v=placeholder45\",\n    \"https://www.youtube.com/watch?v=placeholder46\",\n    \"https://www.youtube.com/watch?v=placeholder47\",\n    \"https://www.youtube.com/watch?v=placeholder48\",\n    \"https://www.youtube.com/watch?v=placeholder49\",\n    \"https://www.youtube.com/watch?v=placeholder50\",\n    \"https://www.youtube.com/watch?v=placeholder51\",\n    \"https://www.youtube.com/watch?v=placeholder52\",\n    \"https://www.youtube.com/watch?v=placeholder53\",\n    \"https://www.youtube.com/watch?v=placeholder54\",\n    \"https://www.youtube.com/watch?v=placeholder55\",\n    \"https://www.youtube.com/watch?v=placeholder56\",\n    \"https://www.youtube.com/watch?v=placeholder57\",\n    \"https://www.youtube.com/watch?v=placeholder58\",\n    \"https://www.youtube.com/watch?v=placeholder59\",\n    \"https://www.youtube.com/watch?v=placeholder60\",\n    \"https://www.youtube.com/watch?v=placeholder61\",\n    \"https://www.youtube.com/watch?v=placeholder62\",\n    \"https://www.youtube.com/watch?v=placeholder63\",\n    \"https://www.youtube.com/watch?v=placeholder64\",\n    \"https://www.youtube.com/watch?v=placeholder65\",\n    \"https://www.youtube.com/watch?v=placeholder66\",\n    \"https://www.youtube.com/watch?v=placeholder67\",\n    \"https://www.youtube.com/watch?v=placeholder68\",\n    \"https://www.youtube.com/watch?v=placeholder69\",\n    \"https://www.youtube.com/watch?v=placeholder70\",\n    \"https://www.youtube.com/watch?v=placeholder71\",\n    \"https://www.youtube.com/watch?v=placeholder72\",\n    \"https://www.youtube.com/watch?v=placeholder73\",\n    \"https://www.youtube.com/watch?v=placeholder74\",\n    \"https://www.youtube.com/watch?v=placeholder75\",\n    \"https://www.youtube.com/watch?v=placeholder76\",\n    \"https://www.youtube.com/watch?v=placeholder77\",\n    \"https://www.youtube.com/watch?v=placeholder78\",\n    \"https://www.youtube.com/watch?v=placeholder79\",\n    \"https://www.youtube.com/watch?v=placeholder80\",\n    \"https://www.youtube.com/watch?v=placeholder81\",\n    \"https://www.youtube.com/watch?v=placeholder82\",\n    \"https://www.youtube.com/watch?v=placeholder83\",\n    \"https://www.youtube.com/watch?v=placeholder84\",\n    \"https://www.youtube.com/watch?v=placeholder85\",\n    \"https://www.youtube.com/watch?v=placeholder86\",\n    \"https://www.youtube.com/watch?v=placeholder87\",\n    \"https://www.youtube.com/watch?v=placeholder88\",\n    \"https://www.youtube.com/watch?v=placeholder89\",\n    \"https://www.youtube.com/watch?v=placeholder90\",\n    \"https://www.youtube.com/watch?v=placeholder91\",\n    \"https://www.youtube.com/watch?v=placeholder92\",\n    \"https://www.youtube.com/watch?v=placeholder93\",\n    \"https://www.youtube.com/watch?v=placeholder94\",\n    \"https://www.youtube.com/watch?v=placeholder95\",\n    \"https://www.youtube.com/watch?v=placeholder96\",\n    \"https://www.youtube.com/watch?v=placeholder97\",\n    \"https://www.youtube.com/watch?v=placeholder98\",\n    \"https://www.youtube.com/watch?v=placeholder99\",\n    \"https://www.youtube.com/watch?v=placeholder100\"\n  ];\n\n  const categories = [\"Mindfulness\", \"Wellness\", \"Comedy\", \"Success\", \"Inspiration\"];\n  const speakers = [\n    \"Dr. Sarah Johnson\", \"Motivational Speaker\", \"Life Coach\", \"Success Coach\", \"Fear Coach\",\n    \"Life Mentor\", \"Dream Coach\", \"Power Coach\", \"Life Purpose Coach\", \"Mindset Expert\",\n    \"Resilience Coach\", \"Success Mentor\", \"Growth Expert\", \"Dr. Emma Wilson\", \"Master Chen\",\n    \"Dr. Lisa Park\", \"Comedy Central\", \"Mike Johnson\", \"Animal Planet\", \"Dr. Humor Smith\",\n    \"Wellness Guru\", \"Motivation Master\", \"Inspiration Guide\", \"Mental Health Expert\", \"Therapy Coach\"\n  ];\n\n  const videoTitles = [\n    \"Mindful Breathing Techniques\", \"Success Through Mindfulness\", \"Daily Wellness Practices\",\n    \"Success Mindset Development\", \"Overcoming Life Challenges\", \"Building Inner Resilience\",\n    \"Wellness & Self-Care\", \"Inner Peace Meditation\", \"Life Balance Techniques\", \"Transform Your Wellness\",\n    \"Inner Strength and Resilience\", \"Achieving Success Naturally\", \"Personal Growth Journey\", \"Breathing Techniques for Anxiety\",\n    \"5-Minute Daily Meditation Guide\", \"Healthy Habits for Mental Wellness\", \"Laugh Your Way to Better Health\",\n    \"Stand-up Comedy: Life's Funny Moments\", \"Funny Animal Videos Compilation\", \"Comedy Therapy: Humor as Medicine\",\n    \"Building Confidence Daily\", \"Stress Management Techniques\", \"Finding Your Purpose\", \"Mindful Living Guide\",\n    \"Positive Habits Formation\", \"Emotional Intelligence Mastery\", \"Self-Care Essentials\", \"Mental Clarity Methods\",\n    \"Motivation Monday Special\", \"Wellness Wednesday Wisdom\", \"Fearless Friday Focus\", \"Sunday Self-Reflection\",\n    \"Daily Affirmations Power\", \"Gratitude Practice Guide\", \"Mindfulness Meditation\", \"Energy Boost Techniques\",\n    \"Productivity Hacks\", \"Goal Setting Mastery\", \"Time Management Tips\", \"Focus Enhancement\",\n    \"Creativity Unleashed\", \"Problem Solving Skills\", \"Decision Making Guide\", \"Leadership Development\",\n    \"Communication Skills\", \"Relationship Building\", \"Social Confidence\", \"Public Speaking Tips\",\n    \"Study Motivation\", \"Academic Success\", \"Learning Techniques\", \"Memory Improvement\",\n    \"Career Advancement\", \"Professional Growth\", \"Interview Preparation\", \"Networking Skills\",\n    \"Financial Mindset\", \"Investment Basics\", \"Budgeting Tips\", \"Money Management\",\n    \"Health & Fitness\", \"Exercise Motivation\", \"Nutrition Basics\", \"Sleep Optimization\",\n    \"Travel Inspiration\", \"Adventure Mindset\", \"Cultural Awareness\", \"Language Learning\",\n    \"Art & Creativity\", \"Music Therapy\", \"Dance Meditation\", \"Creative Writing\",\n    \"Technology Wellness\", \"Digital Detox\", \"Online Safety\", \"Social Media Balance\",\n    \"Environmental Awareness\", \"Sustainability Tips\", \"Green Living\", \"Nature Connection\",\n    \"Family Relationships\", \"Parenting Tips\", \"Child Development\", \"Elder Care\",\n    \"Pet Care & Love\", \"Animal Therapy\", \"Nature Therapy\", \"Garden Meditation\",\n    \"Cooking for Wellness\", \"Nutrition Science\", \"Meal Planning\", \"Healthy Recipes\",\n    \"Adventure Sports\", \"Extreme Motivation\", \"Risk Management\", \"Safety First\",\n    \"Space & Astronomy\", \"Science Wonder\", \"Discovery Channel\", \"Learning Never Stops\",\n    \"History Lessons\", \"Cultural Heritage\", \"Tradition Values\", \"Modern Evolution\",\n    \"Philosophy of Life\", \"Spiritual Growth\", \"Religious Harmony\", \"Peace & Unity\",\n    \"Technology Innovation\", \"Future Trends\", \"AI & Humanity\", \"Digital Revolution\",\n    \"Climate Change\", \"Earth Day Special\", \"Conservation Efforts\", \"Renewable Energy\",\n    \"Global Citizenship\", \"Community Service\", \"Volunteer Work\", \"Social Impact\",\n    \"Entrepreneurship\", \"Startup Journey\", \"Business Growth\", \"Innovation Mindset\",\n    \"Retirement Planning\", \"Life Transitions\", \"Age Gracefully\", \"Wisdom Sharing\",\n    \"Youth Empowerment\", \"Student Life\", \"Campus Stories\", \"College Memories\"\n  ];\n\n  const descriptions = [\n    \"Learn how to transform your mindset and overcome negative thoughts with practical techniques.\",\n    \"Powerful motivational speech about perseverance and never giving up on your dreams.\",\n    \"Inspiring speech about self-belief and achieving your goals against all odds.\",\n    \"Powerful motivational content to develop a winning mindset and achieve your goals.\",\n    \"Inspiring speech about facing your fears and stepping out of your comfort zone.\",\n    \"Motivational video about resilience and rising above life's challenges.\",\n    \"Inspirational content about setting big goals and pursuing your dreams.\",\n    \"Powerful motivational speech about becoming unstoppable in life.\",\n    \"Inspiring message about finding purpose and meaning in life's journey.\",\n    \"Learn how to shift your thinking patterns for better mental health and success.\"\n  ];\n\n  return youtubeUrls.map((url, index) => {\n    const videoId = url.split('v=')[1];\n    const isPlaceholder = videoId.startsWith('placeholder');\n    \n    return {\n      id: (index + 1).toString(),\n      title: videoTitles[index] || `Motivational Video ${index + 1}`,\n      description: descriptions[index % descriptions.length],\n      duration: `${Math.floor(Math.random() * 15) + 5}:${Math.floor(Math.random() * 60).toString().padStart(2, '0')}`,\n      views: Math.floor(Math.random() * 50000) + 10000,\n      category: categories[index % categories.length] as 'Mindfulness' | 'Success' | 'Wellness' | 'Inspiration' | 'Comedy',\n      thumbnailUrl: isPlaceholder \n        ? `https://via.placeholder.com/320x180/8b5cf6/ffffff?text=Video+${index + 1}`\n        : `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`,\n      videoUrl: `https://www.youtube.com/embed/${videoId}`,\n      speaker: speakers[index % speakers.length],\n      tags: [\n        categories[index % categories.length].toLowerCase(),\n        index % 3 === 0 ? \"mental health\" : index % 3 === 1 ? \"success\" : \"inspiration\",\n        index % 2 === 0 ? \"motivation\" : \"wellness\"\n      ]\n    };\n  });\n};\n\nconst motivationalVideos: Video[] = generateVideoData();\n\nconst categories = [\"All\", \"Mindfulness\", \"Success\", \"Wellness\", \"Inspiration\", \"Comedy\"];\n\nexport default function Videos() {\n  const [selectedVideo, setSelectedVideo] = useState<Video | null>(null);\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [likedVideos, setLikedVideos] = useState<string[]>([]);\n  const [comments, setComments] = useState<Record<string, Comment[]>>({});\n  const [newComment, setNewComment] = useState(\"\");\n  const [commentLikes, setCommentLikes] = useState<Record<string, {likes: Set<string>, dislikes: Set<string>}>>({});\n\n  const filteredVideos = motivationalVideos.filter(video => {\n    const matchesCategory = selectedCategory === \"All\" || video.category === selectedCategory;\n    const matchesSearch = video.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         video.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         video.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()));\n    return matchesCategory && matchesSearch;\n  });\n\n  const toggleLike = (videoId: string) => {\n    setLikedVideos(prev => \n      prev.includes(videoId)\n        ? prev.filter(id => id !== videoId)\n        : [...prev, videoId]\n    );\n  };\n\n  const addComment = () => {\n    if (!selectedVideo || !newComment.trim()) return;\n    \n    const comment: Comment = {\n      id: Date.now().toString(),\n      author: \"Anonymous User\",\n      content: newComment,\n      timestamp: new Date().toLocaleString(),\n      likes: 0,\n      dislikes: 0\n    };\n    \n    setComments(prev => ({\n      ...prev,\n      [selectedVideo.id]: [...(prev[selectedVideo.id] || []), comment]\n    }));\n    \n    setNewComment(\"\");\n  };\n\n  const toggleCommentLike = (commentId: string, type: 'like' | 'dislike') => {\n    const userId = \"current-user\"; // In a real app, this would be the actual user ID\n    \n    setCommentLikes(prev => {\n      const current = prev[commentId] || { likes: new Set(), dislikes: new Set() };\n      const newState = { ...current };\n      \n      if (type === 'like') {\n        if (newState.likes.has(userId)) {\n          newState.likes.delete(userId);\n        } else {\n          newState.likes.add(userId);\n          newState.dislikes.delete(userId);\n        }\n      } else {\n        if (newState.dislikes.has(userId)) {\n          newState.dislikes.delete(userId);\n        } else {\n          newState.dislikes.add(userId);\n          newState.likes.delete(userId);\n        }\n      }\n      \n      return {\n        ...prev,\n        [commentId]: newState\n      };\n    });\n  };\n\n  const formatViews = (views: number) => {\n    if (views >= 1000000) return `${(views / 1000000).toFixed(1)}M`;\n    if (views >= 1000) return `${(views / 1000).toFixed(1)}K`;\n    return views.toString();\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 max-w-7xl\">\n      <BackButton />\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Mind Fresh Videos</h1>\n        <p className=\"text-muted-foreground\">Inspiring and entertaining content to boost your mental wellness and mood</p>\n      </div>\n\n      {/* Search and Filter */}\n      <div className=\"flex flex-col md:flex-row gap-4 mb-6\">\n        <div className=\"relative flex-1\">\n          <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n          <Input\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            placeholder=\"Search videos...\"\n            className=\"pl-10\"\n            data-testid=\"input-search-videos\"\n          />\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n          <Filter className=\"h-4 w-4 text-muted-foreground\" />\n          <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n            <SelectTrigger className=\"w-48\" data-testid=\"select-video-filter\">\n              <SelectValue placeholder=\"Select category\" />\n            </SelectTrigger>\n            <SelectContent>\n              {categories.map((category) => (\n                <SelectItem key={category} value={category} data-testid={`filter-option-${category.toLowerCase()}`}>\n                  {category}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Video Grid */}\n      {filteredVideos.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <Play className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n          <h3 className=\"text-lg font-semibold mb-2\">No videos found</h3>\n          <p className=\"text-muted-foreground\">Try adjusting your search criteria or category filter</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {filteredVideos.map((video) => (\n            <Card key={video.id} className=\"hover:shadow-xl transition-all duration-300 cursor-pointer group hover:scale-[1.02] border-0 bg-card/50 backdrop-blur-sm\">\n              <div \n                className=\"relative overflow-hidden rounded-t-lg\"\n                onClick={() => setSelectedVideo(video)}\n              >\n                <div className=\"w-full h-48 relative overflow-hidden\">\n                  <img \n                    src={video.thumbnailUrl} \n                    alt={video.title}\n                    className=\"w-full h-full object-cover\"\n                    onError={(e) => {\n                      // Fallback to a gradient background if thumbnail fails to load\n                      const target = e.target as HTMLImageElement;\n                      target.style.display = 'none';\n                      const fallback = target.nextElementSibling as HTMLElement;\n                      if (fallback) fallback.style.display = 'flex';\n                    }}\n                  />\n                  <div className=\"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center absolute inset-0\" style={{display: 'none'}}>\n                    <div className=\"text-center text-white\">\n                      <Play className=\"h-12 w-12 mx-auto mb-2 opacity-80\" />\n                      <p className=\"text-sm font-medium\">{video.category}</p>\n                    </div>\n                  </div>\n                  <div className=\"absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-xs\">\n                    {video.speaker}\n                  </div>\n                  <div className=\"absolute inset-0 bg-black/30\"></div>\n                </div>\n                <div className=\"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                  <div className=\"w-12 h-12 bg-white/90 rounded-full flex items-center justify-center\">\n                    <Play className=\"h-6 w-6 text-black ml-1\" />\n                  </div>\n                </div>\n                <Badge \n                  className=\"absolute top-2 right-2 bg-black/70 text-white\"\n                  variant=\"secondary\"\n                >\n                  {video.duration}\n                </Badge>\n              </div>\n              \n              <CardHeader className=\"pb-3\">\n                <div className=\"flex justify-between items-start gap-2\">\n                  <CardTitle className=\"text-lg leading-tight line-clamp-2\">\n                    {video.title}\n                  </CardTitle>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => toggleLike(video.id)}\n                    className=\"shrink-0\"\n                    data-testid={`like-video-${video.id}`}\n                  >\n                    <Heart className={`h-4 w-4 ${likedVideos.includes(video.id) ? 'fill-current text-red-500' : ''}`} />\n                  </Button>\n                </div>\n                <CardDescription className=\"text-sm\">\n                  by {video.speaker}\n                </CardDescription>\n              </CardHeader>\n              \n              <CardContent className=\"pt-0\">\n                <p className=\"text-sm text-muted-foreground line-clamp-2 mb-3\">\n                  {video.description}\n                </p>\n                \n                <div className=\"flex items-center justify-between text-xs text-muted-foreground mb-3\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"flex items-center gap-1\">\n                      <Eye className=\"h-3 w-3\" />\n                      {formatViews(video.views)} views\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                      <MessageCircle className=\"h-3 w-3\" />\n                      {(comments[video.id] || []).length}\n                    </div>\n                  </div>\n                  <Badge variant=\"outline\" className=\"text-xs\">\n                    {video.category}\n                  </Badge>\n                </div>\n                \n                <div className=\"flex flex-wrap gap-1\">\n                  {video.tags.slice(0, 3).map((tag, index) => (\n                    <span\n                      key={index}\n                      className=\"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded\"\n                    >\n                      #{tag}\n                    </span>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {/* Video Player Modal */}\n      <Dialog open={!!selectedVideo} onOpenChange={() => setSelectedVideo(null)}>\n        <DialogContent className=\"max-w-6xl max-h-[90vh] p-0\">\n          {selectedVideo && (\n            <div className=\"flex flex-col h-full\">\n              <div className=\"relative aspect-video bg-black\">\n                <iframe\n                  src={`${selectedVideo.videoUrl}?autoplay=1&rel=0&modestbranding=1`}\n                  className=\"w-full h-full\"\n                  frameBorder=\"0\"\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                  allowFullScreen\n                  title={selectedVideo.title}\n                  referrerPolicy=\"strict-origin-when-cross-origin\"\n                ></iframe>\n                <div className=\"absolute top-4 right-4 flex items-center gap-2 bg-black/70 px-3 py-1 rounded-full\">\n                  <svg className=\"h-4 w-4 text-red-500\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"/>\n                  </svg>\n                  <span className=\"text-white text-xs font-medium\">YouTube</span>\n                </div>\n              </div>\n              \n              <div className=\"p-6 space-y-4 overflow-y-auto\">\n                <div>\n                  <h2 className=\"text-2xl font-bold mb-2\">{selectedVideo.title}</h2>\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"font-medium text-sm text-muted-foreground\">\n                        by {selectedVideo.speaker}\n                      </p>\n                      <div className=\"flex items-center gap-4 text-sm text-muted-foreground mt-1\">\n                        <div className=\"flex items-center gap-1\">\n                          <Eye className=\"h-3 w-3\" />\n                          {formatViews(selectedVideo.views)} views\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <Clock className=\"h-3 w-3\" />\n                          {selectedVideo.duration}\n                        </div>\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          {selectedVideo.category}\n                        </Badge>\n                      </div>\n                    </div>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => toggleLike(selectedVideo.id)}\n                      data-testid={`modal-like-video-${selectedVideo.id}`}\n                    >\n                      <Heart className={`h-4 w-4 mr-2 ${likedVideos.includes(selectedVideo.id) ? 'fill-current text-red-500' : ''}`} />\n                      {likedVideos.includes(selectedVideo.id) ? 'Liked' : 'Like'}\n                    </Button>\n                  </div>\n                </div>\n                \n                <div>\n                  <h4 className=\"font-medium mb-2\">About this video</h4>\n                  <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                    {selectedVideo.description}\n                  </p>\n                </div>\n                \n                <div>\n                  <h4 className=\"font-medium mb-2\">Tags</h4>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {selectedVideo.tags.map((tag, index) => (\n                      <Badge key={index} variant=\"secondary\" className=\"text-xs\">\n                        #{tag}\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n\n                <Separator />\n\n                {/* Comments Section */}\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <MessageCircle className=\"h-5 w-5\" />\n                    <h4 className=\"font-medium\">Comments ({(comments[selectedVideo.id] || []).length})</h4>\n                  </div>\n\n                  {/* Add Comment */}\n                  <div className=\"space-y-3\">\n                    <div className=\"flex gap-3\">\n                      <Avatar className=\"h-8 w-8\">\n                        <AvatarFallback>AU</AvatarFallback>\n                      </Avatar>\n                      <div className=\"flex-1 space-y-2\">\n                        <Textarea\n                          value={newComment}\n                          onChange={(e) => setNewComment(e.target.value)}\n                          placeholder=\"Add a comment...\"\n                          className=\"min-h-[80px] resize-none\"\n                          data-testid=\"comment-input\"\n                        />\n                        <div className=\"flex justify-end\">\n                          <Button \n                            onClick={addComment}\n                            size=\"sm\"\n                            disabled={!newComment.trim()}\n                            data-testid=\"submit-comment\"\n                          >\n                            <Send className=\"h-4 w-4 mr-2\" />\n                            Comment\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Comments List */}\n                  <ScrollArea className=\"h-[300px]\">\n                    <div className=\"space-y-4\">\n                      {(comments[selectedVideo.id] || []).map((comment) => {\n                        const commentLike = commentLikes[comment.id] || { likes: new Set(), dislikes: new Set() };\n                        const userId = \"current-user\";\n                        const hasLiked = commentLike.likes.has(userId);\n                        const hasDisliked = commentLike.dislikes.has(userId);\n                        \n                        return (\n                          <div key={comment.id} className=\"flex gap-3 p-3 bg-muted/30 rounded-lg\">\n                            <Avatar className=\"h-8 w-8\">\n                              <AvatarFallback>{comment.author.charAt(0)}</AvatarFallback>\n                            </Avatar>\n                            <div className=\"flex-1 space-y-2\">\n                              <div className=\"flex items-center gap-2\">\n                                <span className=\"font-medium text-sm\">{comment.author}</span>\n                                <span className=\"text-xs text-muted-foreground\">{comment.timestamp}</span>\n                              </div>\n                              <p className=\"text-sm leading-relaxed\">{comment.content}</p>\n                              <div className=\"flex items-center gap-4\">\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => toggleCommentLike(comment.id, 'like')}\n                                  className={`h-8 px-2 ${hasLiked ? 'text-blue-600' : 'text-muted-foreground'}`}\n                                  data-testid={`like-comment-${comment.id}`}\n                                >\n                                  <ThumbsUp className=\"h-3 w-3 mr-1\" />\n                                  {commentLike.likes.size}\n                                </Button>\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => toggleCommentLike(comment.id, 'dislike')}\n                                  className={`h-8 px-2 ${hasDisliked ? 'text-red-600' : 'text-muted-foreground'}`}\n                                  data-testid={`dislike-comment-${comment.id}`}\n                                >\n                                  <ThumbsDown className=\"h-3 w-3 mr-1\" />\n                                  {commentLike.dislikes.size}\n                                </Button>\n                              </div>\n                            </div>\n                          </div>\n                        );\n                      })}\n                      \n                      {(comments[selectedVideo.id] || []).length === 0 && (\n                        <div className=\"text-center py-8 text-muted-foreground\">\n                          <MessageCircle className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\n                          <p>No comments yet. Be the first to share your thoughts!</p>\n                        </div>\n                      )}\n                    </div>\n                  </ScrollArea>\n                </div>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}","size_bytes":31223},"client/src/pages/games.tsx":{"content":"import { useState, useEffect, useRef, useCallback } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { soundEffects } from \"@/lib/sound-effects\";\nimport { \n  RotateCcw, \n  Play, \n  Pause, \n  Shuffle, \n  Heart,\n  Star,\n  Droplets,\n  CircleDot,\n  Palette,\n  Wind,\n  Grid3x3,\n  Puzzle,\n  Brain,\n  Target,\n  Zap,\n  Trophy,\n  Users,\n  Crown,\n  Gamepad,\n  ExternalLink,\n  Mouse,\n  Sparkles\n} from \"lucide-react\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\n// Game 1: Bubble Pop\nfunction BubblePop() {\n  const [bubbles, setBubbles] = useState<Array<{id: number, x: number, y: number, size: number, color: string}>>([]);\n  const [score, setScore] = useState(0);\n  const canvasRef = useRef<HTMLDivElement>(null);\n\n  const colors = ['#FF6B9D', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD', '#98D8C8', '#F7DC6F'];\n\n  const createBubble = useCallback(() => {\n    const newBubble = {\n      id: Date.now() + Math.random(),\n      x: Math.random() * 80,\n      y: Math.random() * 60,\n      size: 20 + Math.random() * 40,\n      color: colors[Math.floor(Math.random() * colors.length)]\n    };\n    setBubbles(prev => [...prev, newBubble]);\n  }, []);\n\n  const popBubble = (id: number) => {\n    setBubbles(prev => prev.filter(b => b.id !== id));\n    setScore(prev => prev + 1);\n    soundEffects.playBubblePop();\n  };\n\n  useEffect(() => {\n    const interval = setInterval(createBubble, 2000);\n    return () => clearInterval(interval);\n  }, [createBubble]);\n\n  return (\n    <div className=\"relative h-64 bg-gradient-to-b from-blue-100 to-blue-200 dark:from-blue-900 dark:to-blue-800 rounded-lg overflow-hidden\" ref={canvasRef}>\n      <div className=\"absolute top-2 left-2 text-lg font-bold text-blue-800 dark:text-blue-200\">\n        Score: {score}\n      </div>\n      {bubbles.map(bubble => (\n        <div\n          key={bubble.id}\n          className=\"absolute rounded-full cursor-pointer transition-all duration-300 hover:scale-110 animate-pulse\"\n          style={{\n            left: `${bubble.x}%`,\n            top: `${bubble.y}%`,\n            width: `${bubble.size}px`,\n            height: `${bubble.size}px`,\n            backgroundColor: bubble.color,\n            boxShadow: '0 4px 8px rgba(0,0,0,0.2)',\n          }}\n          onClick={() => popBubble(bubble.id)}\n        />\n      ))}\n    </div>\n  );\n}\n\n// Game 2: Stress Ball\nfunction StressBall() {\n  const [isPressed, setIsPressed] = useState(false);\n  const [squeezes, setSqueezes] = useState(0);\n\n  return (\n    <div className=\"flex flex-col items-center justify-center h-64 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-lg\">\n      <div className=\"text-lg font-bold mb-4 text-purple-800 dark:text-purple-200\">\n        Squeezes: {squeezes}\n      </div>\n      <div\n        className={`w-32 h-32 rounded-full cursor-pointer transition-all duration-150 ${\n          isPressed ? 'scale-75' : 'scale-100'\n        }`}\n        style={{\n          background: 'radial-gradient(circle, #FF6B9D, #C44569)',\n          boxShadow: isPressed ? '0 2px 10px rgba(0,0,0,0.3)' : '0 8px 25px rgba(0,0,0,0.2)',\n        }}\n        onMouseDown={() => {\n          setIsPressed(true);\n          setSqueezes(prev => prev + 1);\n          soundEffects.playSquish();\n        }}\n        onMouseUp={() => setIsPressed(false)}\n        onMouseLeave={() => setIsPressed(false)}\n        onTouchStart={() => {\n          setIsPressed(true);\n          setSqueezes(prev => prev + 1);\n          soundEffects.playSquish();\n        }}\n        onTouchEnd={() => setIsPressed(false)}\n      />\n      <p className=\"mt-4 text-sm text-purple-600 dark:text-purple-300\">Click and hold to squeeze!</p>\n    </div>\n  );\n}\n\n// Game 3: Color Mixer\nfunction ColorMixer() {\n  const [color1, setColor1] = useState('#FF6B9D');\n  const [color2, setColor2] = useState('#4ECDC4');\n  const [mixedColor, setMixedColor] = useState('#FF6B9D');\n\n  const mixColors = () => {\n    // Simple color mixing algorithm\n    const r1 = parseInt(color1.substring(1, 3), 16);\n    const g1 = parseInt(color1.substring(3, 5), 16);\n    const b1 = parseInt(color1.substring(5, 7), 16);\n    \n    const r2 = parseInt(color2.substring(1, 3), 16);\n    const g2 = parseInt(color2.substring(3, 5), 16);\n    const b2 = parseInt(color2.substring(5, 7), 16);\n    \n    const r = Math.floor((r1 + r2) / 2);\n    const g = Math.floor((g1 + g2) / 2);\n    const b = Math.floor((b1 + b2) / 2);\n    \n    setMixedColor(`#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`);\n    soundEffects.playColorMix();\n  };\n\n  return (\n    <div className=\"h-64 p-4 bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900 dark:to-orange-900 rounded-lg\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 rounded-lg mb-2 border-2 border-white shadow-lg\" style={{ backgroundColor: color1 }}></div>\n          <input \n            type=\"color\" \n            value={color1} \n            onChange={(e) => setColor1(e.target.value)}\n            className=\"w-12 h-8 rounded border-none\"\n          />\n        </div>\n        <Button onClick={mixColors} className=\"mx-4\" data-testid=\"button-mix-colors\">\n          <Palette className=\"w-4 h-4 mr-2\" />\n          Mix\n        </Button>\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 rounded-lg mb-2 border-2 border-white shadow-lg\" style={{ backgroundColor: color2 }}></div>\n          <input \n            type=\"color\" \n            value={color2} \n            onChange={(e) => setColor2(e.target.value)}\n            className=\"w-12 h-8 rounded border-none\"\n          />\n        </div>\n      </div>\n      <div className=\"text-center\">\n        <div className=\"w-24 h-24 rounded-lg mx-auto mb-2 border-2 border-white shadow-lg\" style={{ backgroundColor: mixedColor }}></div>\n        <p className=\"text-sm text-gray-600 dark:text-gray-300\">Mixed Color</p>\n      </div>\n    </div>\n  );\n}\n\n// Game 4: Breathing Circles\nfunction BreathingCircles() {\n  const [isBreathing, setIsBreathing] = useState(false);\n  const [phase, setPhase] = useState<'inhale' | 'hold' | 'exhale'>('inhale');\n\n  useEffect(() => {\n    if (!isBreathing) return;\n\n    const cycle = () => {\n      setPhase('inhale');\n      soundEffects.playBreathingChime();\n      setTimeout(() => {\n        setPhase('hold');\n        soundEffects.playBreathingChime();\n      }, 4000);\n      setTimeout(() => {\n        setPhase('exhale');\n        soundEffects.playBreathingChime();\n      }, 7000);\n      setTimeout(() => setPhase('inhale'), 11000);\n    };\n\n    const interval = setInterval(cycle, 11000);\n    cycle();\n\n    return () => clearInterval(interval);\n  }, [isBreathing]);\n\n  return (\n    <div className=\"flex flex-col items-center justify-center h-64 bg-gradient-to-br from-green-100 to-blue-100 dark:from-green-900 dark:to-blue-900 rounded-lg\">\n      <div className=\"relative mb-6\">\n        <div \n          className={`w-32 h-32 rounded-full transition-all duration-4000 ease-in-out ${\n            isBreathing ? (phase === 'inhale' ? 'scale-125' : phase === 'exhale' ? 'scale-75' : 'scale-100') : 'scale-100'\n          }`}\n          style={{\n            background: 'radial-gradient(circle, #4ECDC4, #44A08D)',\n            boxShadow: '0 0 20px rgba(78, 205, 196, 0.5)',\n          }}\n        />\n        {isBreathing && (\n          <div className=\"absolute inset-0 flex items-center justify-center text-white font-bold\">\n            {phase.toUpperCase()}\n          </div>\n        )}\n      </div>\n      <Button \n        onClick={() => setIsBreathing(!isBreathing)}\n        className=\"mb-2\"\n        data-testid=\"button-breathing\"\n      >\n        <Wind className=\"w-4 h-4 mr-2\" />\n        {isBreathing ? 'Stop' : 'Start'} Breathing\n      </Button>\n      <p className=\"text-sm text-center text-gray-600 dark:text-gray-300\">\n        Follow the circle: Inhale (4s) → Hold (3s) → Exhale (4s)\n      </p>\n    </div>\n  );\n}\n\n// Game 5: Pattern Draw\nfunction PatternDraw() {\n  const [pattern, setPattern] = useState<Array<{x: number, y: number}>>([]);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const svgRef = useRef<SVGSVGElement>(null);\n\n  const startDrawing = (e: React.MouseEvent<SVGSVGElement>) => {\n    setIsDrawing(true);\n    const rect = svgRef.current?.getBoundingClientRect();\n    if (rect) {\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n      setPattern([{x, y}]);\n    }\n  };\n\n  const draw = (e: React.MouseEvent<SVGSVGElement>) => {\n    if (!isDrawing) return;\n    const rect = svgRef.current?.getBoundingClientRect();\n    if (rect) {\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n      setPattern(prev => [...prev, {x, y}]);\n      if (Math.random() < 0.1) soundEffects.playDraw(); // 10% chance to play sound\n    }\n  };\n\n  const stopDrawing = () => {\n    setIsDrawing(false);\n  };\n\n  const clearPattern = () => {\n    setPattern([]);\n  };\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-pink-100 to-purple-100 dark:from-pink-900 dark:to-purple-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-2\">\n        <h4 className=\"font-semibold text-purple-800 dark:text-purple-200\">Draw Patterns</h4>\n        <Button size=\"sm\" onClick={clearPattern} data-testid=\"button-clear-pattern\">\n          <RotateCcw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <svg\n        ref={svgRef}\n        className=\"w-full h-48 bg-white dark:bg-gray-800 rounded cursor-crosshair\"\n        onMouseDown={startDrawing}\n        onMouseMove={draw}\n        onMouseUp={stopDrawing}\n        onMouseLeave={stopDrawing}\n      >\n        {pattern.length > 1 && (\n          <path\n            d={`M ${pattern[0].x} ${pattern[0].y} ${pattern.slice(1).map(p => `L ${p.x} ${p.y}`).join(' ')}`}\n            stroke=\"url(#gradient)\"\n            strokeWidth=\"3\"\n            fill=\"none\"\n            strokeLinecap=\"round\"\n          />\n        )}\n        <defs>\n          <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n            <stop offset=\"0%\" stopColor=\"#FF6B9D\" />\n            <stop offset=\"50%\" stopColor=\"#4ECDC4\" />\n            <stop offset=\"100%\" stopColor=\"#96CEB4\" />\n          </linearGradient>\n        </defs>\n      </svg>\n    </div>\n  );\n}\n\n// Game 6: Zen Garden\nfunction ZenGarden() {\n  const [rakeLines, setRakeLines] = useState<Array<Array<{x: number, y: number}>>>([]);\n  const [currentLine, setCurrentLine] = useState<Array<{x: number, y: number}>>([]);\n  const [isRaking, setIsRaking] = useState(false);\n\n  const startRaking = (e: React.MouseEvent<HTMLDivElement>) => {\n    setIsRaking(true);\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setCurrentLine([{x, y}]);\n  };\n\n  const rake = (e: React.MouseEvent<HTMLDivElement>) => {\n    if (!isRaking) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setCurrentLine(prev => [...prev, {x, y}]);\n  };\n\n  const stopRaking = () => {\n    if (currentLine.length > 0) {\n      setRakeLines(prev => [...prev, currentLine]);\n      setCurrentLine([]);\n    }\n    setIsRaking(false);\n  };\n\n  const clearGarden = () => {\n    setRakeLines([]);\n    setCurrentLine([]);\n  };\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-amber-100 to-yellow-100 dark:from-amber-900 dark:to-yellow-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-2\">\n        <h4 className=\"font-semibold text-amber-800 dark:text-amber-200\">Zen Garden</h4>\n        <Button size=\"sm\" onClick={clearGarden} data-testid=\"button-clear-garden\">\n          <RotateCcw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <div\n        className=\"relative w-full h-48 bg-gradient-to-br from-yellow-200 to-orange-200 dark:from-yellow-800 dark:to-orange-800 rounded cursor-crosshair\"\n        onMouseDown={startRaking}\n        onMouseMove={rake}\n        onMouseUp={stopRaking}\n        onMouseLeave={stopRaking}\n      >\n        <svg className=\"absolute inset-0 w-full h-full\">\n          {rakeLines.map((line, lineIndex) => (\n            <path\n              key={lineIndex}\n              d={`M ${line[0]?.x} ${line[0]?.y} ${line.slice(1).map(p => `L ${p.x} ${p.y}`).join(' ')}`}\n              stroke=\"rgba(139, 69, 19, 0.4)\"\n              strokeWidth=\"2\"\n              fill=\"none\"\n            />\n          ))}\n          {currentLine.length > 1 && (\n            <path\n              d={`M ${currentLine[0].x} ${currentLine[0].y} ${currentLine.slice(1).map(p => `L ${p.x} ${p.y}`).join(' ')}`}\n              stroke=\"rgba(139, 69, 19, 0.6)\"\n              strokeWidth=\"2\"\n              fill=\"none\"\n            />\n          )}\n        </svg>\n      </div>\n    </div>\n  );\n}\n\n// Game 7: Color Sort\nfunction ColorSort() {\n  const [colors, setColors] = useState<string[]>([]);\n  const [sortedColors, setSortedColors] = useState<string[]>([]);\n  const [score, setScore] = useState(0);\n\n  const colorPalette = ['#FF6B9D', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD'];\n\n  const generateColors = () => {\n    const shuffled = [...colorPalette].sort(() => Math.random() - 0.5);\n    setColors(shuffled);\n    setSortedColors([]);\n  };\n\n  const sortColor = (color: string) => {\n    setColors(prev => prev.filter(c => c !== color));\n    setSortedColors(prev => [...prev, color]);\n    setScore(prev => prev + 1);\n  };\n\n  useEffect(() => {\n    generateColors();\n  }, []);\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h4 className=\"font-semibold text-indigo-800 dark:text-indigo-200\">Color Sort</h4>\n        <div className=\"flex gap-2\">\n          <Badge variant=\"secondary\">Score: {score}</Badge>\n          <Button size=\"sm\" onClick={generateColors} data-testid=\"button-new-colors\">\n            <Shuffle className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n      <div className=\"grid grid-cols-2 gap-4 h-40\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg p-2\">\n          <p className=\"text-sm font-medium mb-2 text-center\">Unsorted</p>\n          <div className=\"flex flex-wrap gap-2\">\n            {colors.map((color, index) => (\n              <div\n                key={index}\n                className=\"w-8 h-8 rounded cursor-pointer hover:scale-110 transition-transform\"\n                style={{ backgroundColor: color }}\n                onClick={() => sortColor(color)}\n              />\n            ))}\n          </div>\n        </div>\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg p-2\">\n          <p className=\"text-sm font-medium mb-2 text-center\">Sorted</p>\n          <div className=\"flex flex-wrap gap-2\">\n            {sortedColors.map((color, index) => (\n              <div\n                key={index}\n                className=\"w-8 h-8 rounded\"\n                style={{ backgroundColor: color }}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Game 8: Shape Match\nfunction ShapeMatch() {\n  const [shapes, setShapes] = useState<Array<{id: number, shape: string, color: string, matched: boolean}>>([]);\n  const [selectedShape, setSelectedShape] = useState<number | null>(null);\n  const [matches, setMatches] = useState(0);\n\n  const shapeTypes = ['circle', 'square', 'triangle'];\n  const shapeColors = ['#FF6B9D', '#4ECDC4', '#45B7D1'];\n\n  const generateShapes = () => {\n    const newShapes = [];\n    for (let i = 0; i < 12; i++) {\n      const shape = shapeTypes[Math.floor(i / 4)];\n      const color = shapeColors[Math.floor(i / 4)];\n      newShapes.push({ id: i, shape, color, matched: false });\n    }\n    setShapes(newShapes.sort(() => Math.random() - 0.5));\n    setMatches(0);\n    setSelectedShape(null);\n  };\n\n  const selectShape = (id: number) => {\n    if (shapes[id].matched) return;\n    \n    if (selectedShape === null) {\n      setSelectedShape(id);\n    } else if (selectedShape === id) {\n      setSelectedShape(null);\n    } else {\n      const shape1 = shapes[selectedShape];\n      const shape2 = shapes[id];\n      \n      if (shape1.shape === shape2.shape && shape1.color === shape2.color) {\n        setShapes(prev => prev.map(s => \n          s.id === selectedShape || s.id === id ? { ...s, matched: true } : s\n        ));\n        setMatches(prev => prev + 1);\n      }\n      setSelectedShape(null);\n    }\n  };\n\n  useEffect(() => {\n    generateShapes();\n  }, []);\n\n  const renderShape = (shape: string, color: string) => {\n    const baseClasses = \"w-8 h-8\";\n    switch (shape) {\n      case 'circle':\n        return <div className={`${baseClasses} rounded-full`} style={{ backgroundColor: color }} />;\n      case 'square':\n        return <div className={`${baseClasses} rounded`} style={{ backgroundColor: color }} />;\n      case 'triangle':\n        return (\n          <div \n            className={baseClasses}\n            style={{\n              width: 0,\n              height: 0,\n              borderLeft: '16px solid transparent',\n              borderRight: '16px solid transparent',\n              borderBottom: `32px solid ${color}`,\n            }}\n          />\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900 dark:to-cyan-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h4 className=\"font-semibold text-teal-800 dark:text-teal-200\">Shape Match</h4>\n        <div className=\"flex gap-2\">\n          <Badge variant=\"secondary\">Matches: {matches}</Badge>\n          <Button size=\"sm\" onClick={generateShapes} data-testid=\"button-new-shapes\">\n            <Shuffle className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n      <div className=\"grid grid-cols-6 gap-2 h-40\">\n        {shapes.map((shape) => (\n          <div\n            key={shape.id}\n            className={`flex items-center justify-center cursor-pointer rounded transition-all ${\n              shape.matched \n                ? 'bg-green-200 dark:bg-green-800' \n                : selectedShape === shape.id \n                  ? 'bg-yellow-200 dark:bg-yellow-800 scale-110' \n                  : 'bg-white dark:bg-gray-800 hover:scale-105'\n            }`}\n            onClick={() => selectShape(shape.id)}\n          >\n            {renderShape(shape.shape, shape.color)}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// Game 9: Rain Drops\nfunction RainDrops() {\n  const [drops, setDrops] = useState<Array<{id: number, x: number, y: number, speed: number}>>([]);\n  const [isRaining, setIsRaining] = useState(false);\n\n  useEffect(() => {\n    if (!isRaining) return;\n\n    const interval = setInterval(() => {\n      setDrops(prev => {\n        const newDrops = prev\n          .map(drop => ({ ...drop, y: drop.y + drop.speed }))\n          .filter(drop => drop.y < 250);\n        \n        // Add new drops\n        if (Math.random() < 0.3) {\n          newDrops.push({\n            id: Date.now() + Math.random(),\n            x: Math.random() * 90,\n            y: -10,\n            speed: 2 + Math.random() * 3\n          });\n        }\n        \n        return newDrops;\n      });\n    }, 50);\n\n    return () => clearInterval(interval);\n  }, [isRaining]);\n\n  return (\n    <div className=\"h-64 bg-gradient-to-b from-gray-200 to-gray-400 dark:from-gray-700 dark:to-gray-900 rounded-lg overflow-hidden relative\">\n      <div className=\"absolute top-2 left-2 z-10\">\n        <Button size=\"sm\" onClick={() => setIsRaining(!isRaining)} data-testid=\"button-rain\">\n          <Droplets className=\"w-4 h-4 mr-2\" />\n          {isRaining ? 'Stop' : 'Start'} Rain\n        </Button>\n      </div>\n      {drops.map(drop => (\n        <div\n          key={drop.id}\n          className=\"absolute w-1 h-4 bg-blue-400 rounded-full opacity-70\"\n          style={{\n            left: `${drop.x}%`,\n            top: `${drop.y}px`,\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n\n// Game 10: Kaleidoscope\nfunction Kaleidoscope() {\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [rotation, setRotation] = useState(0);\n\n  useEffect(() => {\n    if (!isAnimating) return;\n\n    const interval = setInterval(() => {\n      setRotation(prev => (prev + 2) % 360);\n    }, 50);\n\n    return () => clearInterval(interval);\n  }, [isAnimating]);\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-violet-100 to-fuchsia-100 dark:from-violet-900 dark:to-fuchsia-900 rounded-lg flex flex-col items-center justify-center\">\n      <div className=\"mb-4\">\n        <Button onClick={() => setIsAnimating(!isAnimating)} data-testid=\"button-kaleidoscope\">\n          {isAnimating ? <Pause className=\"w-4 h-4 mr-2\" /> : <Play className=\"w-4 h-4 mr-2\" />}\n          {isAnimating ? 'Pause' : 'Start'} Kaleidoscope\n        </Button>\n      </div>\n      <div className=\"relative w-32 h-32\">\n        <div \n          className=\"w-full h-full rounded-full overflow-hidden\"\n          style={{ transform: `rotate(${rotation}deg)` }}\n        >\n          <div className=\"w-full h-full relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-red-400 to-yellow-400 rounded-full opacity-70\" />\n            <div className=\"absolute inset-2 bg-gradient-to-l from-blue-400 to-green-400 rounded-full opacity-70\" />\n            <div className=\"absolute inset-4 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full opacity-70\" />\n            <div className=\"absolute inset-6 bg-gradient-to-l from-indigo-400 to-cyan-400 rounded-full opacity-70\" />\n            <div className=\"absolute inset-8 bg-gradient-to-r from-orange-400 to-red-400 rounded-full opacity-70\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Puzzle Game 1: Sliding Puzzle\nfunction SlidingPuzzle() {\n  const [tiles, setTiles] = useState<number[]>([]);\n  const [moves, setMoves] = useState(0);\n  const [isComplete, setIsComplete] = useState(false);\n\n  const initializePuzzle = () => {\n    let newTiles = Array.from({ length: 15 }, (_, i) => i + 1);\n    newTiles.push(0); // Empty space\n    \n    // Shuffle\n    for (let i = 0; i < 1000; i++) {\n      const emptyIndex = newTiles.indexOf(0);\n      const neighbors = [];\n      if (emptyIndex % 4 !== 0) neighbors.push(emptyIndex - 1);\n      if (emptyIndex % 4 !== 3) neighbors.push(emptyIndex + 1);\n      if (emptyIndex >= 4) neighbors.push(emptyIndex - 4);\n      if (emptyIndex < 12) neighbors.push(emptyIndex + 4);\n      \n      const randomNeighbor = neighbors[Math.floor(Math.random() * neighbors.length)];\n      [newTiles[emptyIndex], newTiles[randomNeighbor]] = [newTiles[randomNeighbor], newTiles[emptyIndex]];\n    }\n    \n    setTiles(newTiles);\n    setMoves(0);\n    setIsComplete(false);\n  };\n\n  const moveTile = (index: number) => {\n    const emptyIndex = tiles.indexOf(0);\n    const isAdjacent = \n      (Math.abs(index - emptyIndex) === 1 && Math.floor(index / 4) === Math.floor(emptyIndex / 4)) ||\n      Math.abs(index - emptyIndex) === 4;\n\n    if (isAdjacent) {\n      const newTiles = [...tiles];\n      [newTiles[index], newTiles[emptyIndex]] = [newTiles[emptyIndex], newTiles[index]];\n      setTiles(newTiles);\n      setMoves(prev => prev + 1);\n      \n      // Check if completed\n      const isWin = newTiles.slice(0, 15).every((tile, i) => tile === i + 1);\n      setIsComplete(isWin);\n    }\n  };\n\n  useEffect(() => {\n    initializePuzzle();\n  }, []);\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h4 className=\"font-semibold text-indigo-800 dark:text-indigo-200\">15-Puzzle</h4>\n        <div className=\"flex gap-2\">\n          <Badge variant=\"secondary\">Moves: {moves}</Badge>\n          {isComplete && <Badge className=\"bg-green-500\">Complete!</Badge>}\n          <Button size=\"sm\" onClick={initializePuzzle} data-testid=\"button-new-puzzle\">\n            <Shuffle className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n      <div className=\"grid grid-cols-4 gap-1 w-48 h-48 mx-auto\">\n        {tiles.map((tile, index) => (\n          <div\n            key={index}\n            className={`h-11 flex items-center justify-center text-sm font-bold rounded cursor-pointer transition-all ${\n              tile === 0 \n                ? 'bg-transparent' \n                : 'bg-white dark:bg-gray-700 hover:bg-blue-100 dark:hover:bg-gray-600 shadow-md'\n            }`}\n            onClick={() => moveTile(index)}\n          >\n            {tile !== 0 && tile}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// Puzzle Game 2: Mini Sudoku\nfunction MiniSudoku() {\n  const [grid, setGrid] = useState<number[][]>([]);\n  const [solution, setSolution] = useState<number[][]>([]);\n  const [selectedCell, setSelectedCell] = useState<{row: number, col: number} | null>(null);\n\n  const generateSudoku = () => {\n    // Simple 6x6 Sudoku for mobile-friendly play\n    const newGrid = Array(6).fill(null).map(() => Array(6).fill(0));\n    const solutionGrid = Array(6).fill(null).map(() => Array(6).fill(0));\n    \n    // Fill with a valid pattern (simplified)\n    const pattern = [\n      [1, 2, 3, 4, 5, 6],\n      [4, 5, 6, 1, 2, 3],\n      [2, 3, 1, 5, 6, 4],\n      [5, 6, 4, 2, 3, 1],\n      [3, 1, 2, 6, 4, 5],\n      [6, 4, 5, 3, 1, 2]\n    ];\n    \n    // Copy solution and remove some numbers for puzzle\n    for (let i = 0; i < 6; i++) {\n      for (let j = 0; j < 6; j++) {\n        solutionGrid[i][j] = pattern[i][j];\n        newGrid[i][j] = Math.random() < 0.4 ? pattern[i][j] : 0;\n      }\n    }\n    \n    setGrid(newGrid);\n    setSolution(solutionGrid);\n    setSelectedCell(null);\n  };\n\n  const setCellValue = (row: number, col: number, value: number) => {\n    const newGrid = grid.map(r => [...r]);\n    newGrid[row][col] = value;\n    setGrid(newGrid);\n  };\n\n  useEffect(() => {\n    generateSudoku();\n  }, []);\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-green-100 to-teal-100 dark:from-green-900 dark:to-teal-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h4 className=\"font-semibold text-green-800 dark:text-green-200\">Mini Sudoku</h4>\n        <Button size=\"sm\" onClick={generateSudoku} data-testid=\"button-new-sudoku\">\n          <Shuffle className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <div className=\"flex gap-4\">\n        <div className=\"grid grid-cols-6 gap-1 w-36 h-36\">\n          {grid.map((row, rowIndex) =>\n            row.map((cell, colIndex) => (\n              <div\n                key={`${rowIndex}-${colIndex}`}\n                className={`w-5 h-5 flex items-center justify-center text-xs font-bold rounded cursor-pointer border ${\n                  selectedCell?.row === rowIndex && selectedCell?.col === colIndex\n                    ? 'bg-blue-200 dark:bg-blue-800 border-blue-400'\n                    : 'bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600'\n                }`}\n                onClick={() => setSelectedCell({ row: rowIndex, col: colIndex })}\n              >\n                {cell !== 0 && cell}\n              </div>\n            ))\n          )}\n        </div>\n        <div className=\"flex flex-col gap-1\">\n          {[1, 2, 3, 4, 5, 6].map(num => (\n            <Button\n              key={num}\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"w-8 h-6 p-0 text-xs\"\n              onClick={() => {\n                if (selectedCell) {\n                  setCellValue(selectedCell.row, selectedCell.col, num);\n                }\n              }}\n              data-testid={`button-sudoku-${num}`}\n            >\n              {num}\n            </Button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Puzzle Game 3: Memory Grid\nfunction MemoryGrid() {\n  const [pattern, setPattern] = useState<boolean[]>([]);\n  const [userPattern, setUserPattern] = useState<boolean[]>([]);\n  const [showPattern, setShowPattern] = useState(false);\n  const [level, setLevel] = useState(1);\n  const [gameState, setGameState] = useState<'waiting' | 'showing' | 'input' | 'success' | 'fail'>('waiting');\n\n  const startLevel = () => {\n    const gridSize = 16;\n    const numToShow = Math.min(level + 2, 8);\n    const newPattern = Array(gridSize).fill(false);\n    \n    // Randomly select cells to show\n    const indices = Array.from({ length: gridSize }, (_, i) => i);\n    for (let i = 0; i < numToShow; i++) {\n      const randomIndex = Math.floor(Math.random() * indices.length);\n      newPattern[indices[randomIndex]] = true;\n      indices.splice(randomIndex, 1);\n    }\n    \n    setPattern(newPattern);\n    setUserPattern(Array(gridSize).fill(false));\n    setGameState('showing');\n    setShowPattern(true);\n    \n    setTimeout(() => {\n      setShowPattern(false);\n      setGameState('input');\n    }, 2000 + level * 500);\n  };\n\n  const toggleCell = (index: number) => {\n    if (gameState !== 'input') return;\n    \n    const newUserPattern = [...userPattern];\n    newUserPattern[index] = !newUserPattern[index];\n    setUserPattern(newUserPattern);\n  };\n\n  const checkPattern = () => {\n    const isCorrect = pattern.every((cell, index) => cell === userPattern[index]);\n    if (isCorrect) {\n      setGameState('success');\n      setLevel(prev => prev + 1);\n      setTimeout(() => setGameState('waiting'), 1500);\n    } else {\n      setGameState('fail');\n      setLevel(1);\n      setTimeout(() => setGameState('waiting'), 1500);\n    }\n  };\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h4 className=\"font-semibold text-purple-800 dark:text-purple-200\">Memory Grid</h4>\n        <div className=\"flex gap-2\">\n          <Badge variant=\"secondary\">Level: {level}</Badge>\n          {gameState === 'waiting' && (\n            <Button size=\"sm\" onClick={startLevel} data-testid=\"button-start-memory\">\n              <Play className=\"w-4 h-4\" />\n            </Button>\n          )}\n          {gameState === 'input' && (\n            <Button size=\"sm\" onClick={checkPattern} data-testid=\"button-check-memory\">\n              <Target className=\"w-4 h-4\" />\n            </Button>\n          )}\n        </div>\n      </div>\n      <div className=\"grid grid-cols-4 gap-2 w-32 h-32 mx-auto\">\n        {Array.from({ length: 16 }, (_, index) => (\n          <div\n            key={index}\n            className={`w-6 h-6 rounded cursor-pointer transition-all ${\n              showPattern && pattern[index]\n                ? 'bg-yellow-400'\n                : userPattern[index]\n                  ? 'bg-blue-400'\n                  : 'bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600'\n            }`}\n            onClick={() => toggleCell(index)}\n          />\n        ))}\n      </div>\n      <div className=\"text-center mt-2\">\n        {gameState === 'showing' && <p className=\"text-sm text-purple-600 dark:text-purple-300\">Memorize the pattern!</p>}\n        {gameState === 'input' && <p className=\"text-sm text-purple-600 dark:text-purple-300\">Click to recreate the pattern</p>}\n        {gameState === 'success' && <p className=\"text-sm text-green-600 dark:text-green-400\">Correct! Next level!</p>}\n        {gameState === 'fail' && <p className=\"text-sm text-red-600 dark:text-red-400\">Try again!</p>}\n      </div>\n    </div>\n  );\n}\n\n// Puzzle Game 4: Block Stacker\nfunction BlockStacker() {\n  const [blocks, setBlocks] = useState<number[][]>([]);\n  const [currentBlock, setCurrentBlock] = useState<{x: number, y: number, shape: number[][]}>();\n  const [score, setScore] = useState(0);\n  const [gameActive, setGameActive] = useState(false);\n\n  const shapes = [\n    [[1, 1], [1, 1]], // Square\n    [[1, 1, 1, 1]], // Line\n    [[1, 1, 1], [0, 1, 0]], // T-shape\n    [[1, 1, 0], [0, 1, 1]], // Z-shape\n  ];\n\n  const initializeGame = () => {\n    const newGrid = Array(10).fill(null).map(() => Array(8).fill(0));\n    setBlocks(newGrid);\n    setScore(0);\n    setGameActive(true);\n    spawnBlock();\n  };\n\n  const spawnBlock = () => {\n    const shape = shapes[Math.floor(Math.random() * shapes.length)];\n    setCurrentBlock({\n      x: 3,\n      y: 0,\n      shape\n    });\n  };\n\n  const moveBlock = (dx: number) => {\n    if (!currentBlock || !gameActive) return;\n    \n    const newX = currentBlock.x + dx;\n    if (newX >= 0 && newX + currentBlock.shape[0].length <= 8) {\n      setCurrentBlock(prev => prev ? { ...prev, x: newX } : undefined);\n    }\n  };\n\n  const dropBlock = () => {\n    if (!currentBlock || !gameActive) return;\n    \n    // Place block on grid\n    const newBlocks = blocks.map(row => [...row]);\n    currentBlock.shape.forEach((row, rowIndex) => {\n      row.forEach((cell, colIndex) => {\n        if (cell && currentBlock.y + rowIndex < 10) {\n          newBlocks[currentBlock.y + rowIndex][currentBlock.x + colIndex] = 1;\n        }\n      });\n    });\n    \n    setBlocks(newBlocks);\n    setScore(prev => prev + 10);\n    \n    // Check for full rows\n    const fullRows = newBlocks.map((row, index) => \n      row.every(cell => cell === 1) ? index : -1\n    ).filter(index => index !== -1);\n    \n    if (fullRows.length > 0) {\n      fullRows.forEach(rowIndex => {\n        newBlocks.splice(rowIndex, 1);\n        newBlocks.unshift(Array(8).fill(0));\n      });\n      setBlocks(newBlocks);\n      setScore(prev => prev + fullRows.length * 100);\n    }\n    \n    spawnBlock();\n  };\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-orange-100 to-red-100 dark:from-orange-900 dark:to-red-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h4 className=\"font-semibold text-orange-800 dark:text-orange-200\">Block Stacker</h4>\n        <div className=\"flex gap-2\">\n          <Badge variant=\"secondary\">Score: {score}</Badge>\n          <Button size=\"sm\" onClick={initializeGame} data-testid=\"button-start-blocks\">\n            <Play className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n      <div className=\"flex gap-4\">\n        <div className=\"grid grid-cols-8 gap-px bg-gray-400 dark:bg-gray-600 p-1 rounded\">\n          {blocks.map((row, rowIndex) =>\n            row.map((cell, colIndex) => (\n              <div\n                key={`${rowIndex}-${colIndex}`}\n                className={`w-3 h-3 ${\n                  cell ? 'bg-blue-500' : 'bg-white dark:bg-gray-800'\n                }`}\n              />\n            ))\n          )}\n        </div>\n        {gameActive && (\n          <div className=\"flex flex-col gap-1\">\n            <Button size=\"sm\" onClick={() => moveBlock(-1)} data-testid=\"button-move-left\">←</Button>\n            <Button size=\"sm\" onClick={() => moveBlock(1)} data-testid=\"button-move-right\">→</Button>\n            <Button size=\"sm\" onClick={dropBlock} data-testid=\"button-drop\">↓</Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Puzzle Game 5: Number Connect\nfunction NumberConnect() {\n  const [grid, setGrid] = useState<number[][]>([]);\n  const [connections, setConnections] = useState<Array<{from: {row: number, col: number}, to: {row: number, col: number}}>>([]);\n  const [selectedCell, setSelectedCell] = useState<{row: number, col: number} | null>(null);\n  const [completed, setCompleted] = useState(false);\n\n  const generatePuzzle = () => {\n    const newGrid = Array(6).fill(null).map(() => Array(6).fill(0));\n    const numbers = [1, 2, 3, 4];\n    \n    // Place pairs of numbers randomly\n    numbers.forEach(num => {\n      for (let i = 0; i < 2; i++) {\n        let row, col;\n        do {\n          row = Math.floor(Math.random() * 6);\n          col = Math.floor(Math.random() * 6);\n        } while (newGrid[row][col] !== 0);\n        newGrid[row][col] = num;\n      }\n    });\n    \n    setGrid(newGrid);\n    setConnections([]);\n    setSelectedCell(null);\n    setCompleted(false);\n  };\n\n  const selectCell = (row: number, col: number) => {\n    if (grid[row][col] === 0) return;\n    \n    if (!selectedCell) {\n      setSelectedCell({ row, col });\n    } else if (selectedCell.row === row && selectedCell.col === col) {\n      setSelectedCell(null);\n    } else if (grid[selectedCell.row][selectedCell.col] === grid[row][col]) {\n      // Same number - create connection\n      setConnections(prev => [...prev, { from: selectedCell, to: { row, col } }]);\n      setSelectedCell(null);\n      \n      // Check if all numbers are connected\n      const uniqueNumbers = Array.from(new Set(grid.flat().filter(n => n > 0)));\n      if (connections.length + 1 >= uniqueNumbers.length) {\n        setCompleted(true);\n      }\n    } else {\n      setSelectedCell({ row, col });\n    }\n  };\n\n  useEffect(() => {\n    generatePuzzle();\n  }, []);\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900 dark:to-blue-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h4 className=\"font-semibold text-cyan-800 dark:text-cyan-200\">Number Connect</h4>\n        <div className=\"flex gap-2\">\n          {completed && <Badge className=\"bg-green-500\">Complete!</Badge>}\n          <Button size=\"sm\" onClick={generatePuzzle} data-testid=\"button-new-connect\">\n            <Shuffle className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n      <div className=\"grid grid-cols-6 gap-1 w-36 h-36 mx-auto\">\n        {grid.map((row, rowIndex) =>\n          row.map((cell, colIndex) => (\n            <div\n              key={`${rowIndex}-${colIndex}`}\n              className={`w-5 h-5 flex items-center justify-center text-xs font-bold rounded cursor-pointer ${\n                selectedCell?.row === rowIndex && selectedCell?.col === colIndex\n                  ? 'bg-yellow-300 border-2 border-yellow-500'\n                  : cell > 0\n                    ? 'bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600'\n                    : 'bg-gray-100 dark:bg-gray-800'\n              }`}\n              onClick={() => selectCell(rowIndex, colIndex)}\n            >\n              {cell > 0 && cell}\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\n// Classic Game 1: Tic Tac Toe vs Computer\nfunction TicTacToe() {\n  const [board, setBoard] = useState<(string | null)[]>(Array(9).fill(null));\n  const [isPlayerTurn, setIsPlayerTurn] = useState(true);\n  const [gameStatus, setGameStatus] = useState<'playing' | 'win' | 'lose' | 'draw'>('playing');\n\n  const checkWinner = (squares: (string | null)[]) => {\n    const lines = [\n      [0, 1, 2], [3, 4, 5], [6, 7, 8], // rows\n      [0, 3, 6], [1, 4, 7], [2, 5, 8], // columns\n      [0, 4, 8], [2, 4, 6] // diagonals\n    ];\n    \n    for (let line of lines) {\n      const [a, b, c] = line;\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n        return squares[a];\n      }\n    }\n    return null;\n  };\n\n  const makeMove = (index: number, player: string) => {\n    if (board[index] || gameStatus !== 'playing') return false;\n    \n    const newBoard = [...board];\n    newBoard[index] = player;\n    setBoard(newBoard);\n    \n    const winner = checkWinner(newBoard);\n    if (winner) {\n      setGameStatus(winner === 'X' ? 'win' : 'lose');\n      return true;\n    }\n    \n    if (newBoard.every(cell => cell !== null)) {\n      setGameStatus('draw');\n      return true;\n    }\n    \n    return false;\n  };\n\n  const playerMove = (index: number) => {\n    if (!isPlayerTurn) return;\n    \n    const gameEnded = makeMove(index, 'X');\n    if (!gameEnded) {\n      setIsPlayerTurn(false);\n      // Computer move after delay\n      setTimeout(() => {\n        computerMove();\n      }, 500);\n    }\n  };\n\n  const computerMove = () => {\n    const availableSpots = board.map((spot, index) => spot === null ? index : null).filter(val => val !== null) as number[];\n    \n    if (availableSpots.length > 0) {\n      const randomSpot = availableSpots[Math.floor(Math.random() * availableSpots.length)];\n      const gameEnded = makeMove(randomSpot, 'O');\n      if (!gameEnded) {\n        setIsPlayerTurn(true);\n      }\n    }\n  };\n\n  const resetGame = () => {\n    setBoard(Array(9).fill(null));\n    setIsPlayerTurn(true);\n    setGameStatus('playing');\n  };\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900 dark:to-indigo-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h4 className=\"font-semibold text-blue-800 dark:text-blue-200\">Tic Tac Toe</h4>\n        <div className=\"flex gap-2\">\n          {gameStatus === 'win' && <Badge className=\"bg-green-500\">You Win!</Badge>}\n          {gameStatus === 'lose' && <Badge className=\"bg-red-500\">Computer Wins!</Badge>}\n          {gameStatus === 'draw' && <Badge variant=\"secondary\">Draw!</Badge>}\n          <Button size=\"sm\" onClick={resetGame} data-testid=\"button-reset-tictactoe\">\n            <RotateCcw className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n      <div className=\"grid grid-cols-3 gap-2 w-36 h-36 mx-auto\">\n        {board.map((cell, index) => (\n          <button\n            key={index}\n            className=\"w-10 h-10 bg-white dark:bg-gray-700 rounded border-2 border-gray-300 dark:border-gray-600 flex items-center justify-center text-xl font-bold hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors\"\n            onClick={() => playerMove(index)}\n            disabled={!isPlayerTurn || cell !== null || gameStatus !== 'playing'}\n            data-testid={`tictactoe-${index}`}\n          >\n            {cell}\n          </button>\n        ))}\n      </div>\n      <p className=\"text-center mt-3 text-sm text-blue-600 dark:text-blue-300\">\n        {gameStatus === 'playing' ? (isPlayerTurn ? \"Your turn (X)\" : \"Computer's turn (O)\") : \"Game Over\"}\n      </p>\n    </div>\n  );\n}\n\n// Single Player Game: Bubble Wrap\nfunction BubbleWrap() {\n  const [bubbles, setBubbles] = useState<boolean[]>(Array(48).fill(true));\n  const [poppedCount, setPoppedCount] = useState(0);\n\n  const popBubble = (index: number) => {\n    if (!bubbles[index]) return;\n    \n    const newBubbles = [...bubbles];\n    newBubbles[index] = false;\n    setBubbles(newBubbles);\n    setPoppedCount(prev => prev + 1);\n  };\n\n  const resetBubbles = () => {\n    setBubbles(Array(48).fill(true));\n    setPoppedCount(0);\n  };\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-pink-100 to-rose-100 dark:from-pink-900 dark:to-rose-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h4 className=\"font-semibold text-pink-800 dark:text-pink-200\">Bubble Wrap</h4>\n        <div className=\"flex gap-2\">\n          <Badge variant=\"secondary\">Popped: {poppedCount}/48</Badge>\n          <Button size=\"sm\" onClick={resetBubbles} data-testid=\"button-reset-bubbles\">\n            <RotateCcw className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n      <div className=\"grid grid-cols-8 gap-1 w-64 h-48 mx-auto overflow-hidden\">\n        {bubbles.map((isIntact, index) => (\n          <div\n            key={index}\n            className={`w-6 h-6 rounded-full cursor-pointer transition-all duration-200 ${\n              isIntact \n                ? 'bg-gradient-to-br from-blue-200 to-blue-300 dark:from-blue-600 dark:to-blue-700 hover:scale-110 shadow-md' \n                : 'bg-gray-200 dark:bg-gray-700 scale-75 opacity-50'\n            }`}\n            onClick={() => popBubble(index)}\n            style={{\n              boxShadow: isIntact ? 'inset 0 1px 2px rgba(255,255,255,0.3), 0 2px 4px rgba(0,0,0,0.1)' : 'none'\n            }}\n          />\n        ))}\n      </div>\n      {poppedCount === 48 && (\n        <p className=\"text-center mt-2 text-sm text-green-600 dark:text-green-400 font-semibold\">\n          All bubbles popped! 🎉\n        </p>\n      )}\n    </div>\n  );\n}\n\n// External Game Links Component\nfunction ExternalGameLinks() {\n  const externalGames = [\n    {\n      name: \"Chess.com\",\n      description: \"Play chess against AI or online players\",\n      url: \"https://www.chess.com/play/computer\",\n      color: \"from-amber-100 to-yellow-100 dark:from-amber-900 dark:to-yellow-900\"\n    },\n    {\n      name: \"Ludo King\",\n      description: \"Classic Ludo game with computer opponents\",\n      url: \"https://www.ludoking.com/\",\n      color: \"from-green-100 to-emerald-100 dark:from-green-900 dark:to-emerald-900\"\n    },\n    {\n      name: \"Poki Games\",\n      description: \"Thousands of free online games\",\n      url: \"https://poki.com/\",\n      color: \"from-purple-100 to-violet-100 dark:from-purple-900 dark:to-violet-900\"\n    },\n    {\n      name: \"2048 Game\",\n      description: \"Addictive number puzzle game\",\n      url: \"https://play2048.co/\",\n      color: \"from-orange-100 to-red-100 dark:from-orange-900 dark:to-red-900\"\n    }\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      {externalGames.map((game, index) => (\n        <Card key={index} className=\"overflow-hidden\">\n          <CardContent className=\"p-4\">\n            <div className={`h-32 bg-gradient-to-br ${game.color} rounded-lg p-4 flex flex-col justify-between`}>\n              <div>\n                <h4 className=\"font-semibold text-lg mb-2\">{game.name}</h4>\n                <p className=\"text-sm text-gray-600 dark:text-gray-300\">{game.description}</p>\n              </div>\n              <div className=\"flex justify-end\">\n                <Button \n                  size=\"sm\" \n                  onClick={() => window.open(game.url, '_blank')}\n                  data-testid={`button-external-${game.name.toLowerCase().replace(/\\s+/g, '-')}`}\n                >\n                  <ExternalLink className=\"w-4 h-4 mr-2\" />\n                  Play Now\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}\n\n// Simple Rock Paper Scissors vs Computer\nfunction RockPaperScissors() {\n  const [playerChoice, setPlayerChoice] = useState<string | null>(null);\n  const [computerChoice, setComputerChoice] = useState<string | null>(null);\n  const [result, setResult] = useState<string | null>(null);\n  const [scores, setScores] = useState({ player: 0, computer: 0 });\n\n  const choices = ['🪨', '📄', '✂️'];\n  const choiceNames = ['Rock', 'Paper', 'Scissors'];\n\n  const playGame = (playerPick: number) => {\n    const computerPick = Math.floor(Math.random() * 3);\n    \n    setPlayerChoice(choices[playerPick]);\n    setComputerChoice(choices[computerPick]);\n    \n    let gameResult = '';\n    if (playerPick === computerPick) {\n      gameResult = 'Draw!';\n    } else if (\n      (playerPick === 0 && computerPick === 2) ||\n      (playerPick === 1 && computerPick === 0) ||\n      (playerPick === 2 && computerPick === 1)\n    ) {\n      gameResult = 'You Win!';\n      setScores(prev => ({ ...prev, player: prev.player + 1 }));\n    } else {\n      gameResult = 'Computer Wins!';\n      setScores(prev => ({ ...prev, computer: prev.computer + 1 }));\n    }\n    \n    setResult(gameResult);\n  };\n\n  const resetGame = () => {\n    setPlayerChoice(null);\n    setComputerChoice(null);\n    setResult(null);\n    setScores({ player: 0, computer: 0 });\n  };\n\n  return (\n    <div className=\"h-64 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900 dark:to-blue-900 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h4 className=\"font-semibold text-cyan-800 dark:text-cyan-200\">Rock Paper Scissors</h4>\n        <div className=\"flex gap-2\">\n          <Badge variant=\"secondary\">You: {scores.player}</Badge>\n          <Badge variant=\"secondary\">Computer: {scores.computer}</Badge>\n          <Button size=\"sm\" onClick={resetGame} data-testid=\"button-reset-rps\">\n            <RotateCcw className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n      <div className=\"text-center\">\n        <div className=\"flex justify-center gap-8 mb-4\">\n          <div className=\"text-center\">\n            <p className=\"text-sm font-medium mb-2\">You</p>\n            <div className=\"w-16 h-16 bg-white dark:bg-gray-700 rounded-lg flex items-center justify-center text-2xl\">\n              {playerChoice || '?'}\n            </div>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-sm font-medium mb-2\">Computer</p>\n            <div className=\"w-16 h-16 bg-white dark:bg-gray-700 rounded-lg flex items-center justify-center text-2xl\">\n              {computerChoice || '?'}\n            </div>\n          </div>\n        </div>\n        {result && (\n          <p className=\"text-lg font-bold mb-3 text-cyan-700 dark:text-cyan-300\">{result}</p>\n        )}\n        <div className=\"flex justify-center gap-2\">\n          {choices.map((choice, index) => (\n            <Button\n              key={index}\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => playGame(index)}\n              data-testid={`button-rps-${choiceNames[index].toLowerCase()}`}\n            >\n              {choice}\n            </Button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function Games() {\n  const relaxationGames = [\n    { id: 1, title: \"Bubble Pop\", icon: CircleDot, component: BubblePop, description: \"Pop colorful bubbles for instant satisfaction!\" },\n    { id: 2, title: \"Stress Ball\", icon: Heart, component: StressBall, description: \"Squeeze away your stress with a virtual stress ball.\" },\n    { id: 3, title: \"Color Mixer\", icon: Palette, component: ColorMixer, description: \"Mix beautiful colors and create new shades.\" },\n    { id: 4, title: \"Breathing Circles\", icon: Wind, component: BreathingCircles, description: \"Follow the breathing pattern to relax.\" },\n    { id: 5, title: \"Pattern Draw\", icon: Star, component: PatternDraw, description: \"Draw beautiful, flowing patterns.\" },\n    { id: 6, title: \"Zen Garden\", icon: Wind, component: ZenGarden, description: \"Rake peaceful patterns in your zen garden.\" },\n    { id: 7, title: \"Color Sort\", icon: Palette, component: ColorSort, description: \"Organize colors by sorting them.\" },\n    { id: 8, title: \"Shape Match\", icon: Star, component: ShapeMatch, description: \"Match shapes and colors in this memory game.\" },\n    { id: 9, title: \"Rain Drops\", icon: Droplets, component: RainDrops, description: \"Watch peaceful rain drops fall.\" },\n    { id: 10, title: \"Kaleidoscope\", icon: CircleDot, component: Kaleidoscope, description: \"Enjoy mesmerizing kaleidoscope patterns.\" },\n  ];\n\n  const puzzleGames = [\n    { id: 11, title: \"15-Puzzle\", icon: Grid3x3, component: SlidingPuzzle, description: \"Classic sliding number puzzle - arrange tiles 1-15!\" },\n    { id: 12, title: \"Mini Sudoku\", icon: Brain, component: MiniSudoku, description: \"6x6 Sudoku puzzle perfect for quick brain training.\" },\n    { id: 13, title: \"Memory Grid\", icon: Target, component: MemoryGrid, description: \"Remember and recreate the pattern - levels get harder!\" },\n    { id: 14, title: \"Block Stacker\", icon: Puzzle, component: BlockStacker, description: \"Tetris-style block stacking game.\" },\n    { id: 15, title: \"Number Connect\", icon: Zap, component: NumberConnect, description: \"Connect matching numbers to complete the puzzle.\" },\n  ];\n\n  const classicGames = [\n    { id: 16, title: \"Tic Tac Toe\", icon: Grid3x3, component: TicTacToe, description: \"Classic game vs computer - get 3 in a row!\" },\n    { id: 17, title: \"Rock Paper Scissors\", icon: Users, component: RockPaperScissors, description: \"Beat the computer in this classic game.\" },\n  ];\n\n  const singlePlayerGames = [\n    { id: 18, title: \"Bubble Wrap\", icon: CircleDot, component: BubbleWrap, description: \"Pop all the bubbles for ultimate satisfaction!\" },\n  ];\n\n  return (\n    <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <BackButton />\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Games & Puzzles</h1>\n        <p className=\"text-muted-foreground\">\n          Relax, challenge your mind, and have fun with games designed for college students. Choose between relaxing games or challenging puzzles!\n        </p>\n      </div>\n\n      <Tabs defaultValue=\"relaxation\" className=\"space-y-6\">\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"relaxation\" data-testid=\"tab-relaxation\">\n            <Heart className=\"w-4 h-4 mr-2\" />\n            Relaxation\n          </TabsTrigger>\n          <TabsTrigger value=\"puzzles\" data-testid=\"tab-puzzles\">\n            <Brain className=\"w-4 h-4 mr-2\" />\n            Puzzles\n          </TabsTrigger>\n          <TabsTrigger value=\"classic\" data-testid=\"tab-classic\">\n            <Crown className=\"w-4 h-4 mr-2\" />\n            Classic\n          </TabsTrigger>\n          <TabsTrigger value=\"single\" data-testid=\"tab-single\">\n            <Mouse className=\"w-4 h-4 mr-2\" />\n            Single Player\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"relaxation\" className=\"space-y-6\">\n          <div className=\"mb-4\">\n            <h2 className=\"text-xl font-semibold mb-2\">Stress Relief & Satisfaction</h2>\n            <p className=\"text-muted-foreground text-sm\">\n              Perfect for quick mental breaks between study sessions. These games help reduce stress and provide instant satisfaction.\n            </p>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {relaxationGames.map((game) => {\n              const GameComponent = game.component;\n              const IconComponent = game.icon;\n              \n              return (\n                <Card key={game.id} className=\"overflow-hidden\">\n                  <CardHeader className=\"pb-3\">\n                    <CardTitle className=\"flex items-center gap-2 text-lg\">\n                      <IconComponent className=\"h-5 w-5 text-primary\" />\n                      {game.title}\n                    </CardTitle>\n                    <p className=\"text-sm text-muted-foreground\">{game.description}</p>\n                  </CardHeader>\n                  <CardContent>\n                    <GameComponent />\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"puzzles\" className=\"space-y-6\">\n          <div className=\"mb-4\">\n            <h2 className=\"text-xl font-semibold mb-2 flex items-center gap-2\">\n              <Trophy className=\"w-5 h-5 text-yellow-500\" />\n              Challenge Your Mind\n            </h2>\n            <p className=\"text-muted-foreground text-sm\">\n              Engaging puzzles designed for 18+ students. Perfect for improving cognitive skills, memory, and problem-solving abilities while having fun!\n            </p>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {puzzleGames.map((game) => {\n              const GameComponent = game.component;\n              const IconComponent = game.icon;\n              \n              return (\n                <Card key={game.id} className=\"overflow-hidden border-l-4 border-l-blue-500\">\n                  <CardHeader className=\"pb-3\">\n                    <CardTitle className=\"flex items-center gap-2 text-lg\">\n                      <IconComponent className=\"h-5 w-5 text-blue-600\" />\n                      {game.title}\n                      <Badge variant=\"secondary\" className=\"ml-auto\">Challenge</Badge>\n                    </CardTitle>\n                    <p className=\"text-sm text-muted-foreground\">{game.description}</p>\n                  </CardHeader>\n                  <CardContent>\n                    <GameComponent />\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"classic\" className=\"space-y-6\">\n          <div className=\"mb-4\">\n            <h2 className=\"text-xl font-semibold mb-2 flex items-center gap-2\">\n              <Crown className=\"w-5 h-5 text-yellow-500\" />\n              Classic Games vs Computer\n            </h2>\n            <p className=\"text-muted-foreground text-sm\">\n              Timeless games with AI opponents. Perfect for quick competitive fun between study sessions!\n            </p>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {classicGames.map((game) => {\n              const GameComponent = game.component;\n              const IconComponent = game.icon;\n              \n              return (\n                <Card key={game.id} className=\"overflow-hidden border-l-4 border-l-yellow-500\">\n                  <CardHeader className=\"pb-3\">\n                    <CardTitle className=\"flex items-center gap-2 text-lg\">\n                      <IconComponent className=\"h-5 w-5 text-yellow-600\" />\n                      {game.title}\n                      <Badge variant=\"secondary\" className=\"ml-auto\">vs Computer</Badge>\n                    </CardTitle>\n                    <p className=\"text-sm text-muted-foreground\">{game.description}</p>\n                  </CardHeader>\n                  <CardContent>\n                    <GameComponent />\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n\n          <div className=\"mt-8\">\n            <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n              <ExternalLink className=\"w-5 h-5 text-blue-500\" />\n              More Classic Games\n            </h3>\n            <p className=\"text-muted-foreground text-sm mb-4\">\n              Links to popular external games - Chess, Ludo, and more!\n            </p>\n            <ExternalGameLinks />\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"single\" className=\"space-y-6\">\n          <div className=\"mb-4\">\n            <h2 className=\"text-xl font-semibold mb-2 flex items-center gap-2\">\n              <Sparkles className=\"w-5 h-5 text-pink-500\" />\n              Single Player Satisfaction\n            </h2>\n            <p className=\"text-muted-foreground text-sm\">\n              Solo games for maximum satisfaction and stress relief. No competition, just pure enjoyment!\n            </p>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {singlePlayerGames.map((game) => {\n              const GameComponent = game.component;\n              const IconComponent = game.icon;\n              \n              return (\n                <Card key={game.id} className=\"overflow-hidden border-l-4 border-l-pink-500\">\n                  <CardHeader className=\"pb-3\">\n                    <CardTitle className=\"flex items-center gap-2 text-lg\">\n                      <IconComponent className=\"h-5 w-5 text-pink-600\" />\n                      {game.title}\n                      <Badge variant=\"secondary\" className=\"ml-auto\">Solo</Badge>\n                    </CardTitle>\n                    <p className=\"text-sm text-muted-foreground\">{game.description}</p>\n                  </CardHeader>\n                  <CardContent>\n                    <GameComponent />\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n\n          <div className=\"mt-8\">\n            <Card className=\"border-dashed border-2 border-gray-300 dark:border-gray-600\">\n              <CardContent className=\"p-6 text-center\">\n                <Mouse className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-semibold mb-2\">Want More Single Player Games?</h3>\n                <p className=\"text-muted-foreground text-sm mb-4\">\n                  Check out Poki.com for thousands of free single-player games including bubble games, satisfying puzzles, and more!\n                </p>\n                <Button \n                  onClick={() => window.open('https://poki.com/en/g/bubble-shooter', '_blank')}\n                  data-testid=\"button-more-single-games\"\n                >\n                  <ExternalLink className=\"w-4 h-4 mr-2\" />\n                  Explore More Games\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n      </Tabs>\n    </main>\n  );\n}","size_bytes":60681},"client/src/lib/ambient-music.ts":{"content":"// Ambient music generator using Web Audio API\nexport class AmbientMusicGenerator {\n  private audioContext: AudioContext | null = null;\n  private isPlaying = false;\n  private currentNodes: AudioNode[] = [];\n  private currentTrack: string | null = null;\n  \n  constructor() {\n    this.initAudioContext();\n  }\n\n  private initAudioContext() {\n    try {\n      this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n    } catch (error) {\n      console.warn('Web Audio API not supported:', error);\n    }\n  }\n\n  private async ensureAudioContext() {\n    if (!this.audioContext) {\n      this.initAudioContext();\n    }\n    \n    if (this.audioContext && this.audioContext.state === 'suspended') {\n      await this.audioContext.resume();\n    }\n  }\n\n  private createOscillator(frequency: number, type: OscillatorType = 'sine', volume: number = 0.1) {\n    if (!this.audioContext) return null;\n    \n    const oscillator = this.audioContext.createOscillator();\n    const gainNode = this.audioContext.createGain();\n    \n    oscillator.frequency.value = frequency;\n    oscillator.type = type;\n    gainNode.gain.value = volume;\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    this.currentNodes.push(oscillator, gainNode);\n    return { oscillator, gainNode };\n  }\n\n  private createNoiseSource(volume: number = 0.05) {\n    if (!this.audioContext) return null;\n    \n    const bufferSize = this.audioContext.sampleRate * 2;\n    const noiseBuffer = this.audioContext.createBuffer(1, bufferSize, this.audioContext.sampleRate);\n    const output = noiseBuffer.getChannelData(0);\n    \n    for (let i = 0; i < bufferSize; i++) {\n      output[i] = Math.random() * 2 - 1;\n    }\n    \n    const noiseSource = this.audioContext.createBufferSource();\n    const gainNode = this.audioContext.createGain();\n    const filterNode = this.audioContext.createBiquadFilter();\n    \n    noiseSource.buffer = noiseBuffer;\n    noiseSource.loop = true;\n    gainNode.gain.value = volume;\n    filterNode.type = 'lowpass';\n    filterNode.frequency.value = 800;\n    \n    noiseSource.connect(filterNode);\n    filterNode.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    this.currentNodes.push(noiseSource, gainNode, filterNode);\n    return { noiseSource, gainNode, filterNode };\n  }\n\n  async playOceanWaves() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    this.stop();\n    this.currentTrack = 'ocean';\n    this.isPlaying = true;\n\n    // Ocean wave sounds using filtered noise\n    const wave1 = this.createNoiseSource(0.03);\n    const wave2 = this.createNoiseSource(0.02);\n    \n    if (wave1) {\n      wave1.filterNode.frequency.value = 400;\n      wave1.noiseSource.start();\n      \n      // Modulate volume for wave effect\n      const lfo = this.audioContext.createOscillator();\n      const lfoGain = this.audioContext.createGain();\n      lfo.frequency.value = 0.1;\n      lfoGain.gain.value = 0.02;\n      lfo.connect(lfoGain);\n      lfoGain.connect(wave1.gainNode.gain);\n      lfo.start();\n      this.currentNodes.push(lfo, lfoGain);\n    }\n    \n    if (wave2) {\n      wave2.filterNode.frequency.value = 200;\n      wave2.noiseSource.start();\n    }\n  }\n\n  async playRainfall() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    this.stop();\n    this.currentTrack = 'rain';\n    this.isPlaying = true;\n\n    // Rain sounds using multiple noise sources\n    for (let i = 0; i < 3; i++) {\n      const rain = this.createNoiseSource(0.02 + i * 0.01);\n      if (rain) {\n        rain.filterNode.frequency.value = 1000 + i * 500;\n        rain.noiseSource.start();\n      }\n    }\n  }\n\n  async playForest() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    this.stop();\n    this.currentTrack = 'forest';\n    this.isPlaying = true;\n\n    // Forest ambient with bird sounds\n    const wind = this.createNoiseSource(0.01);\n    if (wind) {\n      wind.filterNode.frequency.value = 600;\n      wind.noiseSource.start();\n    }\n\n    // Occasional bird chirps\n    const chirpInterval = setInterval(() => {\n      if (!this.isPlaying) {\n        clearInterval(chirpInterval);\n        return;\n      }\n      \n      if (Math.random() < 0.3) {\n        const chirp = this.createOscillator(800 + Math.random() * 1200, 'sine', 0.05);\n        if (chirp) {\n          chirp.oscillator.start();\n          chirp.gainNode.gain.exponentialRampToValueAtTime(0.001, this.audioContext!.currentTime + 0.5);\n          chirp.oscillator.stop(this.audioContext!.currentTime + 0.5);\n        }\n      }\n    }, 3000);\n  }\n\n  async playMeditation() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    this.stop();\n    this.currentTrack = 'meditation';\n    this.isPlaying = true;\n\n    // Meditation drone with harmonics\n    const fundamental = this.createOscillator(110, 'sine', 0.08);\n    const third = this.createOscillator(138.6, 'sine', 0.06);\n    const fifth = this.createOscillator(164.8, 'sine', 0.04);\n    \n    if (fundamental) fundamental.oscillator.start();\n    if (third) third.oscillator.start();\n    if (fifth) fifth.oscillator.start();\n  }\n\n  async playFocus() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    this.stop();\n    this.currentTrack = 'focus';\n    this.isPlaying = true;\n\n    // Brown noise for focus\n    const focus = this.createNoiseSource(0.03);\n    if (focus) {\n      focus.filterNode.type = 'lowpass';\n      focus.filterNode.frequency.value = 300;\n      focus.noiseSource.start();\n    }\n\n    // Subtle binaural beats\n    const left = this.createOscillator(200, 'sine', 0.02);\n    const right = this.createOscillator(240, 'sine', 0.02);\n    \n    if (left && right) {\n      left.oscillator.start();\n      right.oscillator.start();\n    }\n  }\n\n  stop() {\n    this.isPlaying = false;\n    this.currentTrack = null;\n    \n    this.currentNodes.forEach(node => {\n      try {\n        if ('stop' in node) {\n          (node as AudioScheduledSourceNode).stop();\n        } else if ('disconnect' in node) {\n          node.disconnect();\n        }\n      } catch (e) {\n        // Node might already be stopped/disconnected\n      }\n    });\n    \n    this.currentNodes = [];\n  }\n\n  getIsPlaying() {\n    return this.isPlaying;\n  }\n\n  getCurrentTrack() {\n    return this.currentTrack;\n  }\n\n  setVolume(volume: number) {\n    // Volume is controlled per track creation\n    // This would require more complex implementation to adjust existing tracks\n  }\n}\n\nexport const ambientMusic = new AmbientMusicGenerator();","size_bytes":6569},"client/src/lib/music-api.ts":{"content":"// Free Music API integration using Deezer API (no authentication required)\n\nexport interface Track {\n  id: string;\n  title: string;\n  artist: string;\n  album?: string;\n  duration: string;\n  preview_url?: string;\n  cover_art?: string;\n  type: 'api' | 'ambient';\n}\n\nclass MusicAPI {\n  private baseUrl = 'https://api.deezer.com';\n\n  async searchTracks(query: string): Promise<Track[]> {\n    try {\n      const response = await fetch(`${this.baseUrl}/search?q=${encodeURIComponent(query)}&limit=20`);\n      const data = await response.json();\n      \n      if (data.error) {\n        console.error('Deezer API Error:', data.error);\n        return [];\n      }\n\n      return data.data?.map((track: any) => ({\n        id: track.id.toString(),\n        title: track.title,\n        artist: track.artist.name,\n        album: track.album.title,\n        duration: this.formatDuration(track.duration),\n        preview_url: track.preview,\n        cover_art: track.album.cover_medium,\n        type: 'api' as const\n      })) || [];\n    } catch (error) {\n      console.error('Error fetching tracks:', error);\n      return [];\n    }\n  }\n\n  async getPopularTracks(genre?: string): Promise<Track[]> {\n    try {\n      // Get chart tracks (popular music)\n      const response = await fetch(`${this.baseUrl}/chart/0/tracks?limit=20`);\n      const data = await response.json();\n\n      return data.data?.map((track: any) => ({\n        id: track.id.toString(),\n        title: track.title,\n        artist: track.artist.name,\n        album: track.album.title,\n        duration: this.formatDuration(track.duration),\n        preview_url: track.preview,\n        cover_art: track.album.cover_medium,\n        type: 'api' as const\n      })) || [];\n    } catch (error) {\n      console.error('Error fetching popular tracks:', error);\n      return [];\n    }\n  }\n\n  async getTracksByMood(mood: 'relaxing' | 'energetic' | 'focused' | 'happy'): Promise<Track[]> {\n    const moodQueries = {\n      relaxing: 'relaxing meditation calm peaceful',\n      energetic: 'upbeat energetic motivational',\n      focused: 'instrumental focus concentration study',\n      happy: 'happy positive uplifting cheerful'\n    };\n\n    return this.searchTracks(moodQueries[mood]);\n  }\n\n  private formatDuration(seconds: number): string {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  }\n\n  // CORS workaround using JSONP (if needed)\n  async searchTracksWithCORS(query: string): Promise<Track[]> {\n    return new Promise((resolve) => {\n      const script = document.createElement('script');\n      const callbackName = `deezer_callback_${Date.now()}`;\n      \n      (window as any)[callbackName] = (data: any) => {\n        const tracks = data.data?.map((track: any) => ({\n          id: track.id.toString(),\n          title: track.title,\n          artist: track.artist.name,\n          album: track.album.title,\n          duration: this.formatDuration(track.duration),\n          preview_url: track.preview,\n          cover_art: track.album.cover_medium,\n          type: 'api' as const\n        })) || [];\n        \n        resolve(tracks);\n        document.head.removeChild(script);\n        delete (window as any)[callbackName];\n      };\n\n      script.src = `https://api.deezer.com/search?q=${encodeURIComponent(query)}&output=jsonp&callback=${callbackName}`;\n      document.head.appendChild(script);\n    });\n  }\n}\n\nexport const musicAPI = new MusicAPI();","size_bytes":3467},"client/src/lib/sound-effects.ts":{"content":"// Sound effects utility using Web Audio API\nexport class SoundEffects {\n  private audioContext: AudioContext | null = null;\n\n  constructor() {\n    // Initialize AudioContext when first needed\n    this.initAudioContext();\n  }\n\n  private initAudioContext() {\n    try {\n      this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n    } catch (error) {\n      console.warn('Web Audio API not supported:', error);\n    }\n  }\n\n  private async ensureAudioContext() {\n    if (!this.audioContext) {\n      this.initAudioContext();\n    }\n    \n    if (this.audioContext && this.audioContext.state === 'suspended') {\n      await this.audioContext.resume();\n    }\n  }\n\n  // Bubble pop sound\n  async playBubblePop() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    const oscillator = this.audioContext.createOscillator();\n    const gainNode = this.audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    oscillator.frequency.setValueAtTime(800, this.audioContext.currentTime);\n    oscillator.frequency.exponentialRampToValueAtTime(200, this.audioContext.currentTime + 0.1);\n    \n    gainNode.gain.setValueAtTime(0.3, this.audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.1);\n    \n    oscillator.start(this.audioContext.currentTime);\n    oscillator.stop(this.audioContext.currentTime + 0.1);\n  }\n\n  // Stress ball squeeze sound\n  async playSquish() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    const oscillator = this.audioContext.createOscillator();\n    const gainNode = this.audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    oscillator.frequency.setValueAtTime(150, this.audioContext.currentTime);\n    oscillator.frequency.linearRampToValueAtTime(100, this.audioContext.currentTime + 0.2);\n    \n    gainNode.gain.setValueAtTime(0.2, this.audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.2);\n    \n    oscillator.type = 'sawtooth';\n    oscillator.start(this.audioContext.currentTime);\n    oscillator.stop(this.audioContext.currentTime + 0.2);\n  }\n\n  // Color mix success sound\n  async playColorMix() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    const oscillator = this.audioContext.createOscillator();\n    const gainNode = this.audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    oscillator.frequency.setValueAtTime(400, this.audioContext.currentTime);\n    oscillator.frequency.linearRampToValueAtTime(600, this.audioContext.currentTime + 0.3);\n    \n    gainNode.gain.setValueAtTime(0.2, this.audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.3);\n    \n    oscillator.type = 'sine';\n    oscillator.start(this.audioContext.currentTime);\n    oscillator.stop(this.audioContext.currentTime + 0.3);\n  }\n\n  // Breathing phase change sound\n  async playBreathingChime() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    const oscillator = this.audioContext.createOscillator();\n    const gainNode = this.audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    oscillator.frequency.setValueAtTime(523.25, this.audioContext.currentTime); // C5\n    \n    gainNode.gain.setValueAtTime(0.1, this.audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 1);\n    \n    oscillator.type = 'sine';\n    oscillator.start(this.audioContext.currentTime);\n    oscillator.stop(this.audioContext.currentTime + 1);\n  }\n\n  // Drawing/pattern sound\n  async playDraw() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    const oscillator = this.audioContext.createOscillator();\n    const gainNode = this.audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    oscillator.frequency.setValueAtTime(300 + Math.random() * 200, this.audioContext.currentTime);\n    \n    gainNode.gain.setValueAtTime(0.1, this.audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.1);\n    \n    oscillator.type = 'triangle';\n    oscillator.start(this.audioContext.currentTime);\n    oscillator.stop(this.audioContext.currentTime + 0.1);\n  }\n\n  // Zen garden rake sound\n  async playRake() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    const noiseBuffer = this.audioContext.createBuffer(1, this.audioContext.sampleRate * 0.1, this.audioContext.sampleRate);\n    const output = noiseBuffer.getChannelData(0);\n    \n    for (let i = 0; i < output.length; i++) {\n      output[i] = (Math.random() * 2 - 1) * 0.1;\n    }\n    \n    const noiseSource = this.audioContext.createBufferSource();\n    const filter = this.audioContext.createBiquadFilter();\n    const gainNode = this.audioContext.createGain();\n    \n    noiseSource.buffer = noiseBuffer;\n    filter.type = 'lowpass';\n    filter.frequency.setValueAtTime(800, this.audioContext.currentTime);\n    \n    gainNode.gain.setValueAtTime(0.05, this.audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.1);\n    \n    noiseSource.connect(filter);\n    filter.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    noiseSource.start(this.audioContext.currentTime);\n  }\n\n  // Success/positive feedback sound\n  async playSuccess() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    // Play a pleasant chord\n    const frequencies = [523.25, 659.25, 783.99]; // C5, E5, G5\n    \n    frequencies.forEach((freq, index) => {\n      const oscillator = this.audioContext!.createOscillator();\n      const gainNode = this.audioContext!.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(this.audioContext!.destination);\n      \n      oscillator.frequency.setValueAtTime(freq, this.audioContext!.currentTime);\n      gainNode.gain.setValueAtTime(0.1, this.audioContext!.currentTime + index * 0.1);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext!.currentTime + 0.5 + index * 0.1);\n      \n      oscillator.type = 'sine';\n      oscillator.start(this.audioContext!.currentTime + index * 0.1);\n      oscillator.stop(this.audioContext!.currentTime + 0.5 + index * 0.1);\n    });\n  }\n\n  // Rain drop sound\n  async playRainDrop() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    const oscillator = this.audioContext.createOscillator();\n    const gainNode = this.audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    oscillator.frequency.setValueAtTime(1000, this.audioContext.currentTime);\n    oscillator.frequency.exponentialRampToValueAtTime(100, this.audioContext.currentTime + 0.1);\n    \n    gainNode.gain.setValueAtTime(0.1, this.audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.1);\n    \n    oscillator.type = 'sine';\n    oscillator.start(this.audioContext.currentTime);\n    oscillator.stop(this.audioContext.currentTime + 0.1);\n  }\n\n  // Click/select sound\n  async playClick() {\n    await this.ensureAudioContext();\n    if (!this.audioContext) return;\n\n    const oscillator = this.audioContext.createOscillator();\n    const gainNode = this.audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    oscillator.frequency.setValueAtTime(800, this.audioContext.currentTime);\n    \n    gainNode.gain.setValueAtTime(0.1, this.audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.05);\n    \n    oscillator.type = 'square';\n    oscillator.start(this.audioContext.currentTime);\n    oscillator.stop(this.audioContext.currentTime + 0.05);\n  }\n}\n\n// Create a singleton instance\nexport const soundEffects = new SoundEffects();","size_bytes":8325},"client/src/lib/local-music.ts":{"content":"// Local Music File System Integration\n\nexport interface LocalTrack {\n  id: string;\n  title: string;\n  artist: string;\n  duration: string;\n  file_url: string;\n  file_name: string;\n  type: 'local';\n}\n\nclass LocalMusicManager {\n  private musicFolder = '/attached_assets/local_music/';\n  private cache = new Map<string, LocalTrack[]>();\n\n  // Scan for music files in the local folder\n  async scanMusicFiles(): Promise<LocalTrack[]> {\n    try {\n      // Check if we have cached results\n      const cacheKey = 'local_music_files';\n      if (this.cache.has(cacheKey)) {\n        return this.cache.get(cacheKey) || [];\n      }\n\n      // In a real implementation, this would scan the actual filesystem\n      // For now, we'll simulate with a check for common music file patterns\n      const musicFiles = await this.detectMusicFiles();\n      \n      const localTracks: LocalTrack[] = musicFiles.map((file, index) => ({\n        id: `local_${index + 1}`,\n        title: this.extractTitle(file.name),\n        artist: this.extractArtist(file.name) || 'Unknown Artist',\n        duration: file.duration || '0:00',\n        file_url: `${this.musicFolder}${file.name}`,\n        file_name: file.name,\n        type: 'local'\n      }));\n\n      // Cache the results\n      this.cache.set(cacheKey, localTracks);\n      return localTracks;\n    } catch (error) {\n      console.error('Error scanning music files:', error);\n      return [];\n    }\n  }\n\n  // Detect music files (simulation - in real app would use filesystem APIs)\n  private async detectMusicFiles(): Promise<Array<{name: string; duration?: string}>> {\n    try {\n      // This would typically use Node.js fs module or similar to read the directory\n      // For demo purposes, we'll return empty array but structure is ready\n      const response = await fetch('/api/local-music/scan');\n      if (response.ok) {\n        return await response.json();\n      }\n    } catch (error) {\n      console.log('Local music folder empty or not accessible');\n    }\n    \n    return [];\n  }\n\n  // Extract title from filename\n  private extractTitle(filename: string): string {\n    // Remove file extension\n    const nameWithoutExt = filename.replace(/\\.(mp3|wav|m4a|aac|ogg|flac)$/i, '');\n    \n    // Handle common patterns like \"Artist - Title\" or \"01 - Title\"\n    if (nameWithoutExt.includes(' - ')) {\n      const parts = nameWithoutExt.split(' - ');\n      return parts[parts.length - 1].trim();\n    }\n    \n    // Handle patterns like \"01. Title\" or \"Track01_Title\"\n    const cleaned = nameWithoutExt\n      .replace(/^\\d+\\.?\\s*/, '') // Remove leading numbers\n      .replace(/_/g, ' ') // Replace underscores with spaces\n      .replace(/([A-Z])/g, ' $1') // Add spaces before capitals\n      .trim();\n    \n    return cleaned || nameWithoutExt;\n  }\n\n  // Extract artist from filename\n  private extractArtist(filename: string): string | null {\n    const nameWithoutExt = filename.replace(/\\.(mp3|wav|m4a|aac|ogg|flac)$/i, '');\n    \n    if (nameWithoutExt.includes(' - ')) {\n      const parts = nameWithoutExt.split(' - ');\n      if (parts.length >= 2) {\n        // Skip track numbers\n        const artistPart = parts[0].replace(/^\\d+\\.?\\s*/, '').trim();\n        return artistPart || null;\n      }\n    }\n    \n    return null;\n  }\n\n  // Add a new music file programmatically\n  async addMusicFile(file: File): Promise<LocalTrack | null> {\n    try {\n      // This would upload the file to the local music folder\n      // For now, we'll simulate the process\n      const formData = new FormData();\n      formData.append('musicFile', file);\n      \n      const response = await fetch('/api/local-music/upload', {\n        method: 'POST',\n        body: formData\n      });\n      \n      if (response.ok) {\n        const result = await response.json();\n        \n        // Clear cache to force rescan\n        this.cache.clear();\n        \n        return {\n          id: `local_${Date.now()}`,\n          title: this.extractTitle(file.name),\n          artist: this.extractArtist(file.name) || 'Unknown Artist',\n          duration: '0:00', // Would be detected from file metadata\n          file_url: result.file_url,\n          file_name: file.name,\n          type: 'local'\n        };\n      }\n    } catch (error) {\n      console.error('Error adding music file:', error);\n    }\n    \n    return null;\n  }\n\n  // Watch for changes in the music folder (would use filesystem watchers)\n  startWatching(callback: (tracks: LocalTrack[]) => void) {\n    // This would use filesystem watchers to detect new files\n    // For now, we'll poll every 30 seconds\n    const pollInterval = setInterval(async () => {\n      const tracks = await this.scanMusicFiles();\n      callback(tracks);\n    }, 30000);\n\n    return () => clearInterval(pollInterval);\n  }\n}\n\nexport const localMusicManager = new LocalMusicManager();","size_bytes":4791},"client/src/components/layout/motivational-quote.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Quote, RefreshCw } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\n\nconst motivationalQuotes = [\n  \"You are stronger than you think and more capable than you imagine.\",\n  \"Every small step forward is progress. Keep going.\",\n  \"Your mental health matters. You matter.\",\n  \"It's okay to not be okay. Seeking help is a sign of strength.\",\n  \"You've survived 100% of your difficult days so far. You're doing great.\",\n  \"Self-care isn't selfish. It's necessary.\",\n  \"You are worthy of love, kindness, and compassion - especially from yourself.\",\n  \"Healing isn't linear. Be patient with yourself.\",\n  \"You don't have to be perfect. You just have to be you.\",\n  \"Tomorrow is a fresh start with new possibilities.\",\n  \"Your feelings are valid, and you have the right to feel them.\",\n  \"Progress, not perfection, is what matters.\",\n  \"You are not alone in this journey.\",\n  \"Every breath you take is a victory. Keep breathing.\",\n  \"Your story isn't over yet. Keep writing.\",\n  \"Be gentle with yourself. You're doing the best you can.\",\n  \"Storms don't last forever. Neither do the tough times.\",\n  \"You have the power to create positive changes in your life.\",\n  \"Rest is not a luxury; it's a necessity for your well-being.\",\n  \"You are enough, exactly as you are right now.\"\n];\n\nexport default function MotivationalQuote() {\n  const [currentQuote, setCurrentQuote] = useState(\"\");\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const getRandomQuote = () => {\n    const randomIndex = Math.floor(Math.random() * motivationalQuotes.length);\n    return motivationalQuotes[randomIndex];\n  };\n\n  const refreshQuote = () => {\n    setIsRefreshing(true);\n    setTimeout(() => {\n      setCurrentQuote(getRandomQuote());\n      setIsRefreshing(false);\n    }, 300);\n  };\n\n  useEffect(() => {\n    // Set initial quote on component mount\n    setCurrentQuote(getRandomQuote());\n    \n    // Auto-refresh quote every 30 minutes\n    const interval = setInterval(() => {\n      setCurrentQuote(getRandomQuote());\n    }, 30 * 60 * 1000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <Card className=\"mx-4 mb-4 bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20\">\n      <CardContent className=\"p-4\">\n        <div className=\"flex items-start gap-3\">\n          <Quote className=\"h-5 w-5 text-primary mt-1 flex-shrink-0\" />\n          <div className=\"flex-1\">\n            <p className=\"text-sm text-foreground leading-relaxed italic\">\n              \"{currentQuote}\"\n            </p>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={refreshQuote}\n            disabled={isRefreshing}\n            className=\"h-8 w-8 p-0 text-primary hover:text-primary-foreground hover:bg-primary\"\n            data-testid=\"button-refresh-quote\"\n          >\n            <RefreshCw className={`h-4 w-4 ${isRefreshing ? 'animate-spin' : ''}`} />\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":3107},"client/src/components/layout/page-quote-overlay.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Quote, Sparkles } from \"lucide-react\";\n\nconst inspirationalQuotes = [\n  \"Every moment is a fresh beginning.\",\n  \"You are braver than you believe.\",\n  \"Progress, not perfection.\",\n  \"Your potential is endless.\",\n  \"Today is full of possibilities.\",\n  \"You are stronger than you know.\",\n  \"Believe in your journey.\",\n  \"Small steps lead to big changes.\",\n  \"You are enough, just as you are.\",\n  \"Keep going, you're doing great.\",\n  \"Your story matters.\",\n  \"Embrace the journey ahead.\",\n  \"You have the power to overcome.\",\n  \"Every challenge makes you stronger.\",\n  \"Focus on what you can control.\",\n  \"You are worthy of good things.\",\n  \"Trust the process.\",\n  \"Your resilience is inspiring.\",\n  \"Tomorrow brings new hope.\",\n  \"You are capable of amazing things.\"\n];\n\ninterface PageQuoteOverlayProps {\n  isVisible: boolean;\n  onComplete: () => void;\n}\n\nexport default function PageQuoteOverlay({ isVisible, onComplete }: PageQuoteOverlayProps) {\n  const [currentQuote, setCurrentQuote] = useState(\"\");\n\n  useEffect(() => {\n    if (isVisible) {\n      // Select a random quote when overlay becomes visible\n      const randomQuote = inspirationalQuotes[Math.floor(Math.random() * inspirationalQuotes.length)];\n      setCurrentQuote(randomQuote);\n\n      // Auto-hide after 1.5 seconds\n      const timer = setTimeout(() => {\n        onComplete();\n      }, 1500);\n\n      return () => clearTimeout(timer);\n    }\n  }, [isVisible, onComplete]);\n\n  if (!isVisible) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm\">\n      <div className=\"max-w-md mx-4 p-8 bg-card border border-border rounded-2xl shadow-lg\">\n        <div className=\"text-center space-y-4\">\n          <div className=\"flex justify-center\">\n            <div className=\"relative\">\n              <Sparkles className=\"h-8 w-8 text-primary animate-pulse\" />\n              <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full animate-ping\" />\n            </div>\n          </div>\n          \n          <div className=\"space-y-3\">\n            <Quote className=\"h-5 w-5 text-primary mx-auto\" />\n            <p className=\"text-lg font-medium text-foreground leading-relaxed\">\n              \"{currentQuote}\"\n            </p>\n          </div>\n          \n          <div className=\"h-1 bg-gradient-to-r from-primary/20 via-primary to-primary/20 rounded-full animate-pulse\" />\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":2517},"client/src/components/wellness/routine-generator.tsx":{"content":"import { useState } from \"react\";\nimport { Calendar, Clock, Moon, Sun, Heart, Brain, ChevronRight, RefreshCw } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { Separator } from \"@/components/ui/separator\";\n\ninterface RoutineQuestion {\n  id: string;\n  question: string;\n  options: { value: string; label: string }[];\n}\n\ninterface GeneratedRoutine {\n  morning: string[];\n  afternoon: string[];\n  evening: string[];\n  nighttime: string[];\n}\n\nconst routineQuestions: RoutineQuestion[] = [\n  {\n    id: \"wake-time\",\n    question: \"What time do you usually wake up?\",\n    options: [\n      { value: \"early\", label: \"6:00 AM - 8:00 AM (Early Bird)\" },\n      { value: \"normal\", label: \"8:00 AM - 10:00 AM (Regular)\" },\n      { value: \"late\", label: \"10:00 AM - 12:00 PM (Night Owl)\" }\n    ]\n  },\n  {\n    id: \"energy-level\",\n    question: \"When do you feel most energetic?\",\n    options: [\n      { value: \"morning\", label: \"Morning - I'm a morning person\" },\n      { value: \"afternoon\", label: \"Afternoon - I peak around midday\" },\n      { value: \"evening\", label: \"Evening - I'm more active at night\" }\n    ]\n  },\n  {\n    id: \"stress-level\",\n    question: \"How would you rate your current stress level?\",\n    options: [\n      { value: \"low\", label: \"Low - I feel pretty relaxed\" },\n      { value: \"moderate\", label: \"Moderate - Some stress but manageable\" },\n      { value: \"high\", label: \"High - I feel overwhelmed often\" }\n    ]\n  },\n  {\n    id: \"goals\",\n    question: \"What's your main wellness goal?\",\n    options: [\n      { value: \"stress\", label: \"Reduce stress and anxiety\" },\n      { value: \"productivity\", label: \"Improve focus and productivity\" },\n      { value: \"sleep\", label: \"Better sleep quality\" },\n      { value: \"mood\", label: \"Boost mood and emotional well-being\" }\n    ]\n  },\n  {\n    id: \"time-availability\",\n    question: \"How much time can you dedicate daily to wellness activities?\",\n    options: [\n      { value: \"minimal\", label: \"15-30 minutes (I'm very busy)\" },\n      { value: \"moderate\", label: \"30-60 minutes (I can make some time)\" },\n      { value: \"generous\", label: \"60+ minutes (I can prioritize wellness)\" }\n    ]\n  }\n];\n\nexport default function RoutineGenerator() {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [answers, setAnswers] = useState<Record<string, string>>({});\n  const [generatedRoutine, setGeneratedRoutine] = useState<GeneratedRoutine | null>(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleAnswer = (questionId: string, answer: string) => {\n    setAnswers(prev => ({ ...prev, [questionId]: answer }));\n  };\n\n  const nextStep = () => {\n    if (currentStep < routineQuestions.length - 1) {\n      setCurrentStep(prev => prev + 1);\n    } else {\n      generateRoutine();\n    }\n  };\n\n  const prevStep = () => {\n    if (currentStep > 0) {\n      setCurrentStep(prev => prev - 1);\n    }\n  };\n\n  const generateRoutine = () => {\n    const { \"wake-time\": wakeTime, \"energy-level\": energy, \"stress-level\": stress, goals, \"time-availability\": timeAvail } = answers;\n    \n    const routines: Record<string, GeneratedRoutine> = {\n      // Early bird routines\n      \"early-morning-low-stress\": {\n        morning: [\"5-minute breathing exercise\", \"Light stretching\", \"Gratitude journaling\", \"Healthy breakfast\"],\n        afternoon: [\"10-minute mindful walk\", \"Deep breathing break\", \"Healthy lunch\"],\n        evening: [\"Gentle yoga\", \"Reflection time\", \"Prepare for tomorrow\"],\n        nighttime: [\"Reading\", \"Herbal tea\", \"Sleep meditation\"]\n      },\n      \"early-afternoon-moderate-stress\": {\n        morning: [\"Morning meditation (10 min)\", \"Exercise routine\", \"Positive affirmations\", \"Nutritious breakfast\"],\n        afternoon: [\"Stress-relief breathing\", \"Mindful lunch break\", \"Progressive muscle relaxation\"],\n        evening: [\"Evening walk\", \"Journal writing\", \"Gentle stretching\"],\n        nighttime: [\"Relaxing bath\", \"Calming music\", \"Sleep preparation ritual\"]\n      },\n      // Default comprehensive routine\n      default: {\n        morning: [\"Wake up mindfully\", \"5-minute meditation\", \"Light exercise or stretching\", \"Healthy breakfast\", \"Set daily intentions\"],\n        afternoon: [\"Mindful lunch break\", \"10-minute walk\", \"Breathing exercise\", \"Hydration check\"],\n        evening: [\"Reflect on the day\", \"Gentle yoga or stretching\", \"Digital detox time\", \"Prepare for tomorrow\"],\n        nighttime: [\"Reading or calm activity\", \"Sleep hygiene routine\", \"Gratitude practice\", \"Deep breathing for sleep\"]\n      }\n    };\n\n    // Customize routine based on answers\n    let selectedRoutine = routines.default;\n    \n    if (goals === \"stress\" && stress === \"high\") {\n      selectedRoutine = {\n        morning: [\"10-minute breathing meditation\", \"Gentle stretching\", \"Stress-relief affirmations\", \"Calming breakfast ritual\"],\n        afternoon: [\"Mindfulness break\", \"Progressive muscle relaxation\", \"Stress-busting walk\", \"Healthy snack\"],\n        evening: [\"Stress journal writing\", \"Calming tea ceremony\", \"Gentle yoga\", \"Evening reflection\"],\n        nighttime: [\"Guided relaxation\", \"Sleep meditation\", \"Aromatherapy\", \"Deep breathing exercises\"]\n      };\n    } else if (goals === \"productivity\") {\n      selectedRoutine = {\n        morning: [\"Morning meditation\", \"Energy-boosting exercise\", \"Goal setting\", \"Brain-healthy breakfast\"],\n        afternoon: [\"Focused breathing\", \"Power walk\", \"Mindful eating\", \"Mental clarity break\"],\n        evening: [\"Review accomplishments\", \"Light exercise\", \"Tomorrow's planning\", \"Relaxation time\"],\n        nighttime: [\"Reading\", \"Mental wind-down\", \"Sleep preparation\", \"Gratitude practice\"]\n      };\n    } else if (goals === \"sleep\") {\n      selectedRoutine = {\n        morning: [\"Gentle wake-up routine\", \"Light exposure\", \"Mindful breakfast\", \"Energy-setting intentions\"],\n        afternoon: [\"Avoid late caffeine\", \"Afternoon walk\", \"Light meal\", \"Relaxation practice\"],\n        evening: [\"Digital sunset (no screens)\", \"Calming activities\", \"Bedroom preparation\", \"Dim lighting\"],\n        nighttime: [\"Sleep hygiene routine\", \"Relaxation techniques\", \"Cool room setup\", \"Deep sleep meditation\"]\n      };\n    }\n\n    // Adjust for time availability\n    if (timeAvail === \"minimal\") {\n      selectedRoutine = {\n        morning: selectedRoutine.morning.slice(0, 2),\n        afternoon: selectedRoutine.afternoon.slice(0, 2),\n        evening: selectedRoutine.evening.slice(0, 2),\n        nighttime: selectedRoutine.nighttime.slice(0, 2)\n      };\n    }\n\n    setGeneratedRoutine(selectedRoutine);\n  };\n\n  const resetForm = () => {\n    setCurrentStep(0);\n    setAnswers({});\n    setGeneratedRoutine(null);\n  };\n\n  const currentQuestion = routineQuestions[currentStep];\n  const isLastStep = currentStep === routineQuestions.length - 1;\n  const canProceed = answers[currentQuestion?.id];\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogTrigger asChild>\n        <Button \n          variant=\"ghost\" \n          className=\"w-full justify-start text-left\"\n          data-testid=\"button-routine-generator\"\n        >\n          <Calendar className=\"h-5 w-5 mr-3\" />\n          Routine Generator\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Calendar className=\"h-5 w-5\" />\n            Personal Wellness Routine Generator\n          </DialogTitle>\n        </DialogHeader>\n\n        {!generatedRoutine ? (\n          <div className=\"space-y-6\">\n            {/* Progress indicator */}\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-muted-foreground\">\n                Step {currentStep + 1} of {routineQuestions.length}\n              </span>\n              <div className=\"flex-1 bg-muted rounded-full h-2\">\n                <div \n                  className=\"bg-primary h-2 rounded-full transition-all\"\n                  style={{ width: `${((currentStep + 1) / routineQuestions.length) * 100}%` }}\n                />\n              </div>\n            </div>\n\n            {/* Current question */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">{currentQuestion.question}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <RadioGroup\n                  value={answers[currentQuestion.id] || \"\"}\n                  onValueChange={(value) => handleAnswer(currentQuestion.id, value)}\n                >\n                  {currentQuestion.options.map((option) => (\n                    <div key={option.value} className=\"flex items-center space-x-2\">\n                      <RadioGroupItem value={option.value} id={option.value} />\n                      <Label htmlFor={option.value} className=\"flex-1 cursor-pointer\">\n                        {option.label}\n                      </Label>\n                    </div>\n                  ))}\n                </RadioGroup>\n              </CardContent>\n            </Card>\n\n            {/* Navigation buttons */}\n            <div className=\"flex justify-between\">\n              <Button\n                variant=\"outline\"\n                onClick={prevStep}\n                disabled={currentStep === 0}\n              >\n                Previous\n              </Button>\n              <Button\n                onClick={nextStep}\n                disabled={!canProceed}\n                className=\"flex items-center gap-2\"\n              >\n                {isLastStep ? \"Generate Routine\" : \"Next\"}\n                <ChevronRight className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            <div className=\"text-center\">\n              <h3 className=\"text-lg font-semibold mb-2\">Your Personalized Wellness Routine</h3>\n              <p className=\"text-sm text-muted-foreground\">\n                Here's a routine tailored to your preferences and goals\n              </p>\n            </div>\n\n            <div className=\"grid gap-4\">\n              {[\n                { key: \"morning\", title: \"Morning\", icon: Sun, color: \"text-orange-500\" },\n                { key: \"afternoon\", title: \"Afternoon\", icon: Sun, color: \"text-yellow-500\" },\n                { key: \"evening\", title: \"Evening\", icon: Moon, color: \"text-blue-500\" },\n                { key: \"nighttime\", title: \"Night\", icon: Moon, color: \"text-purple-500\" }\n              ].map(({ key, title, icon: Icon, color }) => (\n                <Card key={key}>\n                  <CardHeader className=\"pb-3\">\n                    <CardTitle className={`text-base flex items-center gap-2 ${color}`}>\n                      <Icon className=\"h-4 w-4\" />\n                      {title}\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"pt-0\">\n                    <ul className=\"space-y-2\">\n                      {generatedRoutine[key as keyof GeneratedRoutine].map((activity, index) => (\n                        <li key={index} className=\"flex items-center gap-2 text-sm\">\n                          <Heart className=\"h-3 w-3 text-primary\" />\n                          {activity}\n                        </li>\n                      ))}\n                    </ul>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n\n            <div className=\"flex gap-2 pt-4\">\n              <Button variant=\"outline\" onClick={resetForm} className=\"flex-1\">\n                <RefreshCw className=\"h-4 w-4 mr-2\" />\n                Create New Routine\n              </Button>\n              <Button onClick={() => setIsOpen(false)} className=\"flex-1\">\n                Save & Close\n              </Button>\n            </div>\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":12174},"client/src/components/wellness/sleep-cycle-tool.tsx":{"content":"import { useState } from \"react\";\nimport { Moon, Sun, Clock, Lightbulb, ChevronRight, Bed } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface SleepQuestion {\n  id: string;\n  question: string;\n  options: { value: string; label: string }[];\n}\n\ninterface SleepRecommendation {\n  bedtime: string;\n  wakeTime: string;\n  sleepDuration: string;\n  recommendations: string[];\n  tips: string[];\n  schedule: Array<{ time: string; activity: string; icon: string }>;\n}\n\nconst sleepQuestions: SleepQuestion[] = [\n  {\n    id: \"current-bedtime\",\n    question: \"What time do you usually go to bed?\",\n    options: [\n      { value: \"early\", label: \"9:00 PM - 10:30 PM\" },\n      { value: \"normal\", label: \"10:30 PM - 12:00 AM\" },\n      { value: \"late\", label: \"12:00 AM - 2:00 AM\" },\n      { value: \"very-late\", label: \"After 2:00 AM\" }\n    ]\n  },\n  {\n    id: \"wake-time\",\n    question: \"What time do you need to wake up?\",\n    options: [\n      { value: \"very-early\", label: \"5:00 AM - 6:30 AM\" },\n      { value: \"early\", label: \"6:30 AM - 8:00 AM\" },\n      { value: \"normal\", label: \"8:00 AM - 9:30 AM\" },\n      { value: \"late\", label: \"After 9:30 AM\" }\n    ]\n  },\n  {\n    id: \"sleep-quality\",\n    question: \"How would you rate your current sleep quality?\",\n    options: [\n      { value: \"poor\", label: \"Poor - I often feel tired after sleeping\" },\n      { value: \"fair\", label: \"Fair - Sometimes I feel rested\" },\n      { value: \"good\", label: \"Good - I usually feel rested\" },\n      { value: \"excellent\", label: \"Excellent - I always wake up refreshed\" }\n    ]\n  },\n  {\n    id: \"sleep-issues\",\n    question: \"What's your biggest sleep challenge?\",\n    options: [\n      { value: \"falling-asleep\", label: \"Difficulty falling asleep\" },\n      { value: \"staying-asleep\", label: \"Waking up during the night\" },\n      { value: \"waking-early\", label: \"Waking up too early\" },\n      { value: \"feeling-tired\", label: \"Feeling tired despite adequate sleep\" }\n    ]\n  },\n  {\n    id: \"age-group\",\n    question: \"What's your age group?\",\n    options: [\n      { value: \"teen\", label: \"14-17 years (Need 8-10 hours)\" },\n      { value: \"young-adult\", label: \"18-25 years (Need 7-9 hours)\" },\n      { value: \"adult\", label: \"26-64 years (Need 7-9 hours)\" },\n      { value: \"older\", label: \"65+ years (Need 7-8 hours)\" }\n    ]\n  }\n];\n\nexport default function SleepCycleTool() {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [answers, setAnswers] = useState<Record<string, string>>({});\n  const [recommendation, setRecommendation] = useState<SleepRecommendation | null>(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleAnswer = (questionId: string, answer: string) => {\n    setAnswers(prev => ({ ...prev, [questionId]: answer }));\n  };\n\n  const nextStep = () => {\n    if (currentStep < sleepQuestions.length - 1) {\n      setCurrentStep(prev => prev + 1);\n    } else {\n      generateRecommendation();\n    }\n  };\n\n  const prevStep = () => {\n    if (currentStep > 0) {\n      setCurrentStep(prev => prev - 1);\n    }\n  };\n\n  const calculateOptimalSleep = (wakeTime: string, ageGroup: string) => {\n    const sleepHours = ageGroup === \"teen\" ? 9 : ageGroup === \"older\" ? 7.5 : 8;\n    \n    const wakeHours: Record<string, number> = {\n      \"very-early\": 5.75, // 5:45 AM\n      \"early\": 7.25,      // 7:15 AM  \n      \"normal\": 8.75,     // 8:45 AM\n      \"late\": 10          // 10:00 AM\n    };\n\n    const wakeHour = wakeHours[wakeTime] || 8;\n    const bedtimeHour = wakeHour - sleepHours;\n    \n    const formatTime = (hour: number) => {\n      const adjustedHour = hour < 0 ? hour + 24 : hour;\n      const hours = Math.floor(adjustedHour);\n      const minutes = Math.round((adjustedHour - hours) * 60);\n      const period = hours >= 12 ? \"PM\" : \"AM\";\n      const displayHour = hours === 0 ? 12 : hours > 12 ? hours - 12 : hours;\n      return `${displayHour}:${minutes.toString().padStart(2, '0')} ${period}`;\n    };\n\n    return {\n      bedtime: formatTime(bedtimeHour),\n      wakeTime: formatTime(wakeHour),\n      duration: `${sleepHours} hours`\n    };\n  };\n\n  const generateRecommendation = () => {\n    const { \"wake-time\": wakeTime, \"age-group\": ageGroup, \"sleep-quality\": quality, \"sleep-issues\": issues } = answers;\n    \n    const optimal = calculateOptimalSleep(wakeTime, ageGroup);\n    \n    const baseRecommendations = [\n      \"Maintain a consistent sleep schedule, even on weekends\",\n      \"Create a relaxing bedtime routine 30-60 minutes before sleep\",\n      \"Keep your bedroom cool, dark, and quiet\",\n      \"Avoid caffeine 6 hours before bedtime\",\n      \"Limit screen time 1 hour before bed\"\n    ];\n\n    const issueSpecificTips: Record<string, string[]> = {\n      \"falling-asleep\": [\n        \"Try progressive muscle relaxation\",\n        \"Practice deep breathing exercises\",\n        \"Use white noise or earplugs\",\n        \"Try reading a book in dim light\"\n      ],\n      \"staying-asleep\": [\n        \"Avoid large meals 3 hours before bed\",\n        \"Keep a sleep diary to identify triggers\",\n        \"Consider blackout curtains\",\n        \"Practice meditation before sleep\"\n      ],\n      \"waking-early\": [\n        \"Avoid bright lights in the evening\",\n        \"Try a later bedtime gradually\",\n        \"Use an eye mask\",\n        \"Limit afternoon naps\"\n      ],\n      \"feeling-tired\": [\n        \"Evaluate your sleep environment\",\n        \"Consider talking to a healthcare provider\",\n        \"Track your sleep patterns\",\n        \"Ensure you're getting enough physical activity\"\n      ]\n    };\n\n    const schedule = [\n      { time: \"2 hours before bed\", activity: \"Stop eating large meals\", icon: \"🍽️\" },\n      { time: \"1 hour before bed\", activity: \"Start wind-down routine\", icon: \"📱\" },\n      { time: \"30 minutes before\", activity: \"Dim lights, relaxing activities\", icon: \"💡\" },\n      { time: optimal.bedtime, activity: \"Lights out, time to sleep\", icon: \"🌙\" },\n      { time: optimal.wakeTime, activity: \"Wake up consistently\", icon: \"☀️\" },\n      { time: \"Within 30 minutes\", activity: \"Get natural light exposure\", icon: \"🌅\" }\n    ];\n\n    setRecommendation({\n      bedtime: optimal.bedtime,\n      wakeTime: optimal.wakeTime,\n      sleepDuration: optimal.duration,\n      recommendations: baseRecommendations,\n      tips: issueSpecificTips[issues] || issueSpecificTips[\"falling-asleep\"],\n      schedule\n    });\n  };\n\n  const resetForm = () => {\n    setCurrentStep(0);\n    setAnswers({});\n    setRecommendation(null);\n  };\n\n  const currentQuestion = sleepQuestions[currentStep];\n  const isLastStep = currentStep === sleepQuestions.length - 1;\n  const canProceed = answers[currentQuestion?.id];\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogTrigger asChild>\n        <Button \n          variant=\"ghost\" \n          className=\"w-full justify-start text-left\"\n          data-testid=\"button-sleep-cycle-tool\"\n        >\n          <Moon className=\"h-5 w-5 mr-3\" />\n          Sleep Cycle Guide\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Moon className=\"h-5 w-5\" />\n            Personalized Sleep Cycle Recommendations\n          </DialogTitle>\n        </DialogHeader>\n\n        {!recommendation ? (\n          <div className=\"space-y-6\">\n            {/* Progress indicator */}\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-muted-foreground\">\n                Step {currentStep + 1} of {sleepQuestions.length}\n              </span>\n              <div className=\"flex-1 bg-muted rounded-full h-2\">\n                <div \n                  className=\"bg-primary h-2 rounded-full transition-all\"\n                  style={{ width: `${((currentStep + 1) / sleepQuestions.length) * 100}%` }}\n                />\n              </div>\n            </div>\n\n            {/* Current question */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">{currentQuestion.question}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <RadioGroup\n                  value={answers[currentQuestion.id] || \"\"}\n                  onValueChange={(value) => handleAnswer(currentQuestion.id, value)}\n                >\n                  {currentQuestion.options.map((option) => (\n                    <div key={option.value} className=\"flex items-center space-x-2\">\n                      <RadioGroupItem value={option.value} id={option.value} />\n                      <Label htmlFor={option.value} className=\"flex-1 cursor-pointer\">\n                        {option.label}\n                      </Label>\n                    </div>\n                  ))}\n                </RadioGroup>\n              </CardContent>\n            </Card>\n\n            {/* Navigation buttons */}\n            <div className=\"flex justify-between\">\n              <Button\n                variant=\"outline\"\n                onClick={prevStep}\n                disabled={currentStep === 0}\n              >\n                Previous\n              </Button>\n              <Button\n                onClick={nextStep}\n                disabled={!canProceed}\n                className=\"flex items-center gap-2\"\n              >\n                {isLastStep ? \"Get My Sleep Plan\" : \"Next\"}\n                <ChevronRight className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {/* Sleep schedule summary */}\n            <Card className=\"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950 dark:to-purple-950\">\n              <CardHeader>\n                <CardTitle className=\"text-center flex items-center justify-center gap-2\">\n                  <Bed className=\"h-5 w-5\" />\n                  Your Optimal Sleep Schedule\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-3 gap-4 text-center\">\n                  <div>\n                    <div className=\"text-2xl font-bold text-primary\">{recommendation.bedtime}</div>\n                    <div className=\"text-sm text-muted-foreground\">Bedtime</div>\n                  </div>\n                  <div>\n                    <div className=\"text-2xl font-bold text-primary\">{recommendation.sleepDuration}</div>\n                    <div className=\"text-sm text-muted-foreground\">Sleep Duration</div>\n                  </div>\n                  <div>\n                    <div className=\"text-2xl font-bold text-primary\">{recommendation.wakeTime}</div>\n                    <div className=\"text-sm text-muted-foreground\">Wake Time</div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Daily schedule */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Clock className=\"h-4 w-4\" />\n                  Daily Sleep Schedule\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  {recommendation.schedule.map((item, index) => (\n                    <div key={index} className=\"flex items-center gap-3 p-2 rounded-lg bg-muted/50\">\n                      <span className=\"text-xl\">{item.icon}</span>\n                      <div className=\"flex-1\">\n                        <div className=\"font-medium\">{item.time}</div>\n                        <div className=\"text-sm text-muted-foreground\">{item.activity}</div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* General recommendations */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Lightbulb className=\"h-4 w-4\" />\n                  Sleep Hygiene Tips\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-2\">\n                  {recommendation.recommendations.map((tip, index) => (\n                    <li key={index} className=\"flex items-start gap-2\">\n                      <Badge variant=\"secondary\" className=\"mt-0.5\">\n                        {index + 1}\n                      </Badge>\n                      <span className=\"text-sm\">{tip}</span>\n                    </li>\n                  ))}\n                </ul>\n              </CardContent>\n            </Card>\n\n            {/* Personalized tips */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Sun className=\"h-4 w-4\" />\n                  Personalized Tips for You\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-2\">\n                  {recommendation.tips.map((tip, index) => (\n                    <li key={index} className=\"flex items-start gap-2 text-sm\">\n                      <span className=\"text-primary\">•</span>\n                      {tip}\n                    </li>\n                  ))}\n                </ul>\n              </CardContent>\n            </Card>\n\n            <div className=\"flex gap-2 pt-4\">\n              <Button variant=\"outline\" onClick={resetForm} className=\"flex-1\">\n                Create New Plan\n              </Button>\n              <Button onClick={() => setIsOpen(false)} className=\"flex-1\">\n                Save & Close\n              </Button>\n            </div>\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":14094},"client/src/lib/usage-analytics.ts":{"content":"export interface UserAction {\n  id: string;\n  userId: string;\n  action: string;\n  page: string;\n  timestamp: Date;\n  duration?: number;\n  data?: any;\n}\n\nexport interface UsagePattern {\n  userId: string;\n  mostUsedFeatures: string[];\n  averageSessionDuration: number;\n  preferredTime: string;\n  stressIndicators: number;\n  engagementLevel: 'low' | 'medium' | 'high';\n  recommendedContent: string[];\n  lastAnalyzed: Date;\n}\n\nclass UsageAnalytics {\n  private actions: UserAction[] = [];\n  private patterns: Map<string, UsagePattern> = new Map();\n\n  // Track user actions\n  trackAction(userId: string, action: string, page: string, data?: any): void {\n    const actionRecord: UserAction = {\n      id: crypto.randomUUID(),\n      userId,\n      action,\n      page,\n      timestamp: new Date(),\n      data\n    };\n\n    this.actions.push(actionRecord);\n    this.analyzeUserPattern(userId);\n  }\n\n  // Track page duration\n  trackPageDuration(userId: string, page: string, duration: number): void {\n    this.trackAction(userId, 'page_duration', page, { duration });\n  }\n\n  // Analyze user patterns using AI-like logic\n  private analyzeUserPattern(userId: string): void {\n    const userActions = this.actions.filter(a => a.userId === userId);\n    if (userActions.length < 5) return; // Need minimum data\n\n    const last30Days = userActions.filter(\n      a => new Date().getTime() - a.timestamp.getTime() < 30 * 24 * 60 * 60 * 1000\n    );\n\n    // Calculate most used features\n    const featureCount = new Map<string, number>();\n    last30Days.forEach(action => {\n      const count = featureCount.get(action.page) || 0;\n      featureCount.set(action.page, count + 1);\n    });\n\n    const mostUsedFeatures = Array.from(featureCount.entries())\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 3)\n      .map(([feature]) => feature);\n\n    // Calculate average session duration\n    const durations = last30Days\n      .filter(a => a.action === 'page_duration' && a.data?.duration)\n      .map(a => a.data.duration);\n    const averageSessionDuration = durations.length > 0\n      ? durations.reduce((sum, d) => sum + d, 0) / durations.length\n      : 0;\n\n    // Determine preferred time\n    const hours = last30Days.map(a => a.timestamp.getHours());\n    const timeSlots = {\n      morning: hours.filter(h => h >= 6 && h < 12).length,\n      afternoon: hours.filter(h => h >= 12 && h < 18).length,\n      evening: hours.filter(h => h >= 18 && h < 24).length,\n      night: hours.filter(h => h >= 0 && h < 6).length\n    };\n    const preferredTime = Object.entries(timeSlots)\n      .sort((a, b) => b[1] - a[1])[0][0];\n\n    // Calculate stress indicators\n    const stressActions = last30Days.filter(a => \n      a.page === '/chat' || \n      a.page === '/screening' || \n      a.action === 'crisis_help'\n    ).length;\n    const stressIndicators = Math.min(stressActions / 10, 1); // Normalize to 0-1\n\n    // Determine engagement level\n    let engagementLevel: 'low' | 'medium' | 'high' = 'low';\n    if (averageSessionDuration > 300 && last30Days.length > 20) {\n      engagementLevel = 'high';\n    } else if (averageSessionDuration > 120 && last30Days.length > 10) {\n      engagementLevel = 'medium';\n    }\n\n    // Generate recommendations\n    const recommendedContent = this.generateRecommendations(\n      mostUsedFeatures,\n      stressIndicators,\n      engagementLevel\n    );\n\n    const pattern: UsagePattern = {\n      userId,\n      mostUsedFeatures,\n      averageSessionDuration,\n      preferredTime,\n      stressIndicators,\n      engagementLevel,\n      recommendedContent,\n      lastAnalyzed: new Date()\n    };\n\n    this.patterns.set(userId, pattern);\n  }\n\n  private generateRecommendations(\n    mostUsed: string[],\n    stress: number,\n    engagement: string\n  ): string[] {\n    const recommendations: string[] = [];\n\n    // High stress recommendations\n    if (stress > 0.5) {\n      recommendations.push('breathing_exercises', 'meditation_videos', 'crisis_support');\n    }\n\n    // Based on most used features\n    if (mostUsed.includes('/music')) {\n      recommendations.push('new_ambient_tracks', 'music_therapy');\n    }\n    if (mostUsed.includes('/chat')) {\n      recommendations.push('advanced_ai_features', 'peer_support');\n    }\n    if (mostUsed.includes('/screening')) {\n      recommendations.push('progress_tracking', 'personalized_insights');\n    }\n\n    // Engagement-based recommendations\n    if (engagement === 'low') {\n      recommendations.push('quick_activities', 'motivation_boost');\n    } else if (engagement === 'high') {\n      recommendations.push('advanced_tools', 'community_features');\n    }\n\n    return recommendations.slice(0, 5); // Limit to 5 recommendations\n  }\n\n  // Get user insights\n  getUserInsights(userId: string): UsagePattern | null {\n    return this.patterns.get(userId) || null;\n  }\n\n  // Get AI-generated suggestions for user\n  getAISuggestions(userId: string): string[] {\n    const pattern = this.getUserInsights(userId);\n    if (!pattern) return ['Start by exploring our AI chat feature'];\n\n    const suggestions: string[] = [];\n    const currentHour = new Date().getHours();\n\n    // Time-based suggestions\n    if (currentHour >= 6 && currentHour < 12 && pattern.preferredTime === 'morning') {\n      suggestions.push('Perfect time for your morning routine! Try our routine generator.');\n    } else if (currentHour >= 22 || currentHour < 6) {\n      suggestions.push('Having trouble sleeping? Check out our sleep cycle guide.');\n    }\n\n    // Pattern-based suggestions\n    if (pattern.stressIndicators > 0.6) {\n      suggestions.push('I notice you might be feeling stressed. Would you like to try a breathing exercise?');\n    }\n\n    if (pattern.engagementLevel === 'high') {\n      suggestions.push('You\\'re doing great with regular usage! Ready to explore advanced features?');\n    }\n\n    // Feature suggestions\n    if (!pattern.mostUsedFeatures.includes('/music')) {\n      suggestions.push('Try our Mind Fresh Music library for relaxation and focus.');\n    }\n\n    return suggestions.slice(0, 3);\n  }\n\n  // Export analytics data\n  exportAnalytics(): { actions: UserAction[], patterns: UsagePattern[] } {\n    return {\n      actions: this.actions,\n      patterns: Array.from(this.patterns.values())\n    };\n  }\n}\n\nexport const usageAnalytics = new UsageAnalytics();\n\n// Helper function to get current user ID from localStorage/session\nconst getUserId = (): string | null => {\n  if (typeof window === 'undefined') return null;\n  \n  try {\n    // Try to get current user from localStorage (matches AppContext implementation)\n    const currentUser = localStorage.getItem('currentUser');\n    if (currentUser) {\n      const user = JSON.parse(currentUser);\n      return user.id || null;\n    }\n  } catch (error) {\n    console.warn('Failed to get user ID from localStorage:', error);\n  }\n  \n  return null;\n};\n\n// Hook for easy usage in React components\nexport const useUsageAnalytics = () => {\n  const trackAction = (action: string, page: string, data?: any) => {\n    // Get userId from localStorage or session if available\n    const userId = getUserId();\n    if (userId) {\n      usageAnalytics.trackAction(userId, action, page, data);\n    }\n  };\n\n  const trackPageDuration = (page: string, duration: number) => {\n    const userId = getUserId();\n    if (userId) {\n      usageAnalytics.trackPageDuration(userId, page, duration);\n    }\n  };\n\n  const getUserInsights = () => {\n    const userId = getUserId();\n    return userId ? usageAnalytics.getUserInsights(userId) : null;\n  };\n\n  const getAISuggestions = () => {\n    const userId = getUserId();\n    return userId ? usageAnalytics.getAISuggestions(userId) : [];\n  };\n\n  return {\n    trackAction,\n    trackPageDuration,\n    getUserInsights,\n    getAISuggestions\n  };\n};","size_bytes":7708},"client/src/components/ai-suggestions.tsx":{"content":"import { useState, useEffect, useCallback } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Brain, TrendingUp, Clock, Target, X, Sparkles } from \"lucide-react\";\nimport { useUsageAnalytics } from \"@/lib/usage-analytics\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { useLocation } from \"wouter\";\n\ninterface Suggestion {\n  id: string;\n  title: string;\n  description: string;\n  action: string;\n  priority: \"high\" | \"medium\" | \"low\";\n  category: \"wellness\" | \"productivity\" | \"social\" | \"learning\";\n  icon: React.ComponentType<{ className?: string }>;\n}\n\nexport default function AISuggestions() {\n  const [suggestions, setSuggestions] = useState<Suggestion[]>([]);\n  const [isVisible, setIsVisible] = useState(true);\n  const { currentUser } = useAppContext();\n  const [location, setLocation] = useLocation();\n\n  const generateSuggestions = useCallback(() => {\n    if (!currentUser) return;\n\n    // Mock insights to avoid infinite loop - in real app this would come from analytics\n    const insights = {\n      stressIndicators: 0.3,\n      mostUsedFeatures: [\"/dashboard\", \"/chat\"],\n      engagementLevel: \"medium\" as const\n    };\n    \n    // Generate personalized suggestions based on insights\n    const personalizedSuggestions: Suggestion[] = [];\n\n    // Time-based suggestions\n    const currentHour = new Date().getHours();\n    if (currentHour >= 22 || currentHour < 6) {\n      personalizedSuggestions.push({\n        id: \"sleep-suggestion\",\n        title: \"Time for Better Sleep\",\n        description: \"It's late! Try our sleep cycle guide for better rest\",\n        action: \"/wellness/sleep\",\n        priority: \"high\",\n        category: \"wellness\",\n        icon: Clock\n      });\n    } else if (currentHour >= 6 && currentHour < 10) {\n      personalizedSuggestions.push({\n        id: \"morning-routine\",\n        title: \"Start Your Day Right\",\n        description: \"Create a morning routine to boost your productivity\",\n        action: \"/wellness/routine\",\n        priority: \"medium\",\n        category: \"productivity\",\n        icon: Target\n      });\n    }\n\n    // Usage pattern-based suggestions\n    if (insights) {\n      if (insights.stressIndicators > 0.6) {\n        personalizedSuggestions.push({\n          id: \"stress-relief\",\n          title: \"Take a Breathing Break\",\n          description: \"I notice you might be stressed. Try some relaxation techniques\",\n          action: \"/music?category=Meditation\",\n          priority: \"high\",\n          category: \"wellness\",\n          icon: Brain\n        });\n      }\n\n      if (!insights.mostUsedFeatures.includes(\"/music\")) {\n        personalizedSuggestions.push({\n          id: \"try-music\",\n          title: \"Discover Mind Fresh Music\",\n          description: \"Try our curated music library for focus and relaxation\",\n          action: \"/music\",\n          priority: \"medium\",\n          category: \"wellness\",\n          icon: Sparkles\n        });\n      }\n\n      if (insights.engagementLevel === \"high\") {\n        personalizedSuggestions.push({\n          id: \"advanced-features\",\n          title: \"Explore Advanced Features\",\n          description: \"You're doing great! Ready to try peer support?\",\n          action: \"/peer-calling\",\n          priority: \"low\",\n          category: \"social\",\n          icon: TrendingUp\n        });\n      }\n    }\n\n    // Add general suggestions if no specific ones\n    if (personalizedSuggestions.length === 0) {\n      personalizedSuggestions.push({\n        id: \"explore-chat\",\n        title: \"Talk to AI Support\",\n        description: \"Share your thoughts with our AI counselor anytime\",\n        action: \"/chat\",\n        priority: \"medium\",\n        category: \"wellness\",\n        icon: Brain\n      });\n    }\n\n    setSuggestions(personalizedSuggestions.slice(0, 3)); // Limit to 3 suggestions\n  }, [currentUser]);\n\n  useEffect(() => {\n    generateSuggestions();\n  }, [generateSuggestions]);\n\n  const handleSuggestionClick = (suggestion: Suggestion) => {\n    setLocation(suggestion.action);\n    // Track this action\n    const { trackAction } = useUsageAnalytics();\n    trackAction('suggestion_followed', suggestion.action, { suggestionId: suggestion.id });\n  };\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case \"high\": return \"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200\";\n      case \"medium\": return \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200\";\n      case \"low\": return \"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200\";\n      default: return \"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200\";\n    }\n  };\n\n  const getCategoryColor = (category: string) => {\n    switch (category) {\n      case \"wellness\": return \"hsl(var(--wellness))\";\n      case \"productivity\": return \"hsl(var(--focus))\";\n      case \"social\": return \"hsl(var(--primary))\";\n      case \"learning\": return \"hsl(var(--calm))\";\n      default: return \"hsl(var(--muted-foreground))\";\n    }\n  };\n\n  if (!isVisible || suggestions.length === 0) return null;\n\n  return (\n    <Card className=\"mb-6 border-l-4 border-l-primary bg-gradient-to-r from-primary/5 to-transparent\" data-testid=\"ai-suggestions-card\">\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Brain className=\"h-5 w-5 text-primary\" />\n            <CardTitle className=\"text-lg\">AI Suggestions</CardTitle>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setIsVisible(false)}\n            data-testid=\"button-close-suggestions\"\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n        <CardDescription>\n          Personalized recommendations based on your usage patterns\n        </CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-3\">\n        {suggestions.map((suggestion) => {\n          const Icon = suggestion.icon;\n          return (\n            <div\n              key={suggestion.id}\n              className=\"flex items-start gap-3 p-3 rounded-lg bg-card hover:bg-accent/50 transition-colors cursor-pointer border\"\n              onClick={() => handleSuggestionClick(suggestion)}\n              data-testid={`suggestion-${suggestion.id}`}\n            >\n              <div className=\"p-2 rounded-md bg-primary/10\">\n                <Icon className=\"h-4 w-4 text-current\" />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-start justify-between gap-2 mb-1\">\n                  <h4 className=\"font-medium text-sm leading-tight\">{suggestion.title}</h4>\n                  <Badge variant=\"outline\" className={`text-xs ${getPriorityColor(suggestion.priority)}`}>\n                    {suggestion.priority}\n                  </Badge>\n                </div>\n                <p className=\"text-xs text-muted-foreground leading-relaxed\">\n                  {suggestion.description}\n                </p>\n              </div>\n            </div>\n          );\n        })}\n        <div className=\"pt-2 border-t\">\n          <p className=\"text-xs text-muted-foreground text-center\">\n            💡 These suggestions update based on your activity patterns\n          </p>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":7491},"client/src/pages/doctor.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { Stethoscope, Calendar, Clock, MapPin, Star, Phone, Video, UserPlus, Mail, Building, Award, X, GraduationCap, CheckCircle, Map } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { BackButton } from \"@/components/ui/back-button\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport ConsultationPayment from \"@/components/payment/consultation-payment\";\n\nconst staticDoctors = [\n  {\n    id: 1,\n    name: \"Dr. Priya Sharma\",\n    specialization: \"Psychiatrist\",\n    experience: \"8 years\",\n    rating: 4.8,\n    languages: [\"English\", \"Hindi\", \"Bengali\"],\n    location: \"Mumbai, Maharashtra\",\n    fees: \"₹1,200\",\n    image: \"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"10:00 AM\", \"2:00 PM\", \"4:30 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\", \"inperson\"],\n    about: \"Specializes in anxiety, depression, and stress management for college students.\",\n    education: \"MBBS, MD Psychiatry - AIIMS Delhi\",\n    certifications: [\"Certified CBT Therapist\", \"Mindfulness-Based Therapy\"],\n    achievements: \"Published 15+ research papers on student mental health\"\n  },\n  {\n    id: 2,\n    name: \"Dr. Rajesh Kumar\",\n    specialization: \"Clinical Psychologist\",\n    experience: \"12 years\",\n    rating: 4.9,\n    languages: [\"English\", \"Hindi\", \"Tamil\"],\n    location: \"Chennai, Tamil Nadu\",\n    fees: \"₹1,000\",\n    image: \"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"9:00 AM\", \"11:30 AM\", \"3:00 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\"],\n    about: \"Expert in cognitive behavioral therapy and trauma counseling.\",\n    education: \"PhD in Clinical Psychology - University of Madras\",\n    certifications: [\"Trauma-Informed Care Specialist\", \"EMDR Certified\"],\n    achievements: \"Former Head of Psychology - Apollo Hospitals Chennai\"\n  },\n  {\n    id: 3,\n    name: \"Dr. Anita Desai\",\n    specialization: \"Psychiatrist\",\n    experience: \"15 years\",\n    rating: 4.7,\n    languages: [\"English\", \"Hindi\", \"Gujarati\"],\n    location: \"Ahmedabad, Gujarat\",\n    fees: \"₹1,500\",\n    image: \"https://images.unsplash.com/photo-1594824919297-b166c1de2e63?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"1:00 PM\", \"3:30 PM\", \"5:00 PM\"],\n    availableConsultationTypes: [\"phone\", \"inperson\"],\n    about: \"Focuses on mood disorders and academic stress management.\",\n    education: \"MBBS, MD Psychiatry - Medical College Gujarat\",\n    certifications: [\"Adolescent Psychiatry Specialist\", \"Family Therapy Certified\"],\n    achievements: \"Winner of Gujarat State Medical Excellence Award 2023\"\n  },\n  {\n    id: 4,\n    name: \"Dr. Meera Patel\",\n    specialization: \"Counseling Psychologist\",\n    experience: \"6 years\",\n    rating: 4.6,\n    languages: [\"English\", \"Hindi\", \"Marathi\"],\n    location: \"Pune, Maharashtra\",\n    fees: \"₹800\",\n    image: \"https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"11:00 AM\", \"2:30 PM\", \"6:00 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\", \"inperson\"],\n    about: \"Specializes in academic stress, relationship counseling, and career guidance for young adults.\",\n    education: \"MA in Counseling Psychology - Fergusson College\",\n    certifications: [\"Solution-Focused Brief Therapy\", \"Career Counseling Specialist\"],\n    achievements: \"Trained over 500+ students in stress management techniques\"\n  },\n  {\n    id: 5,\n    name: \"Dr. Vikram Singh\",\n    specialization: \"Psychiatrist\",\n    experience: \"20 years\",\n    rating: 4.9,\n    languages: [\"English\", \"Hindi\", \"Punjabi\"],\n    location: \"New Delhi, Delhi\",\n    fees: \"₹2,000\",\n    image: \"https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"9:30 AM\", \"1:00 PM\", \"4:00 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\"],\n    about: \"Senior psychiatrist with expertise in severe mental health conditions and crisis intervention.\",\n    education: \"MBBS, MD Psychiatry - AIIMS Delhi, Fellowship in Addiction Medicine\",\n    certifications: [\"Crisis Intervention Specialist\", \"Addiction Medicine Certified\"],\n    achievements: \"Former Director of Mental Health - Max Healthcare\"\n  },\n  {\n    id: 6,\n    name: \"Dr. Sneha Reddy\",\n    specialization: \"Clinical Psychologist\",\n    experience: \"9 years\",\n    rating: 4.8,\n    languages: [\"English\", \"Hindi\", \"Telugu\"],\n    location: \"Hyderabad, Telangana\",\n    fees: \"₹1,100\",\n    image: \"https://images.unsplash.com/photo-1594824919297-b166c1de2e63?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"10:30 AM\", \"3:00 PM\", \"5:30 PM\"],\n    availableConsultationTypes: [\"video\", \"inperson\"],\n    about: \"Focuses on anxiety disorders, social phobia, and confidence building for college students.\",\n    education: \"PhD in Clinical Psychology - University of Hyderabad\",\n    certifications: [\"Anxiety Disorders Specialist\", \"Group Therapy Certified\"],\n    achievements: \"Research published in International Journal of Mental Health\"\n  },\n  {\n    id: 7,\n    name: \"Dr. Arjun Nair\",\n    specialization: \"Psychiatrist\",\n    experience: \"11 years\",\n    rating: 4.7,\n    languages: [\"English\", \"Hindi\", \"Malayalam\"],\n    location: \"Kochi, Kerala\",\n    fees: \"₹1,300\",\n    image: \"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"8:00 AM\", \"12:00 PM\", \"6:00 PM\"],\n    availableConsultationTypes: [\"phone\", \"inperson\"],\n    about: \"Specializes in sleep disorders, depression, and holistic mental wellness approaches.\",\n    education: \"MBBS, MD Psychiatry - Medical College Kerala\",\n    certifications: [\"Sleep Medicine Specialist\", \"Integrative Medicine Certified\"],\n    achievements: \"Founder of Kerala Youth Mental Health Initiative\"\n  },\n  {\n    id: 8,\n    name: \"Dr. Kavya Iyer\",\n    specialization: \"Counseling Psychologist\",\n    experience: \"7 years\",\n    rating: 4.5,\n    languages: [\"English\", \"Hindi\", \"Kannada\"],\n    location: \"Bangalore, Karnataka\",\n    fees: \"₹900\",\n    image: \"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"9:00 AM\", \"1:30 PM\", \"7:00 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\"],\n    about: \"Expert in tech industry stress, work-life balance, and digital wellness for young professionals.\",\n    education: \"MA in Applied Psychology - Christ University\",\n    certifications: [\"Digital Wellness Coach\", \"Workplace Mental Health Specialist\"],\n    achievements: \"Mental health consultant for 20+ tech companies in Bangalore\"\n  },\n  {\n    id: 9,\n    name: \"Dr. Rohan Khanna\",\n    specialization: \"Psychiatrist\",\n    experience: \"14 years\",\n    rating: 4.8,\n    languages: [\"English\", \"Hindi\", \"Urdu\"],\n    location: \"Lucknow, Uttar Pradesh\",\n    fees: \"₹1,400\",\n    image: \"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"8:30 AM\", \"2:00 PM\", \"5:30 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\", \"inperson\"],\n    about: \"Specializes in bipolar disorders, schizophrenia, and comprehensive mental health care for young adults.\",\n    education: \"MBBS, MD Psychiatry - King George's Medical University\",\n    certifications: [\"Adult Psychiatry Board Certified\", \"Psychopharmacology Specialist\"],\n    achievements: \"Head of Psychiatry Department - Ram Manohar Lohia Hospital\"\n  },\n  {\n    id: 10,\n    name: \"Dr. Pooja Bansal\",\n    specialization: \"Clinical Psychologist\",\n    experience: \"10 years\",\n    rating: 4.6,\n    languages: [\"English\", \"Hindi\", \"Punjabi\"],\n    location: \"Chandigarh, Punjab\",\n    fees: \"₹1,000\",\n    image: \"https://images.unsplash.com/photo-1594824919297-b166c1de2e63?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"10:00 AM\", \"3:30 PM\", \"6:30 PM\"],\n    availableConsultationTypes: [\"video\", \"inperson\"],\n    about: \"Expert in eating disorders, body image issues, and self-esteem counseling for college students.\",\n    education: \"PhD in Clinical Psychology - Panjab University\",\n    certifications: [\"Eating Disorders Specialist\", \"Body Dysmorphic Disorder Treatment Certified\"],\n    achievements: \"Published research on eating disorders in Indian Journal of Psychology\"\n  },\n  {\n    id: 11,\n    name: \"Dr. Aditya Gupta\",\n    specialization: \"Counseling Psychologist\",\n    experience: \"5 years\",\n    rating: 4.4,\n    languages: [\"English\", \"Hindi\", \"Rajasthani\"],\n    location: \"Jaipur, Rajasthan\",\n    fees: \"₹750\",\n    image: \"https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"9:30 AM\", \"1:00 PM\", \"4:00 PM\"],\n    availableConsultationTypes: [\"phone\", \"inperson\"],\n    about: \"Young and enthusiastic psychologist focusing on academic pressure, peer relationships, and social anxiety.\",\n    education: \"MA in Counseling Psychology - Rajasthan University\",\n    certifications: [\"Youth Counseling Specialist\", \"Peer Relationship Therapy\"],\n    achievements: \"Counseled 300+ students at various colleges in Rajasthan\"\n  },\n  {\n    id: 12,\n    name: \"Dr. Sunita Verma\",\n    specialization: \"Psychiatrist\",\n    experience: \"16 years\",\n    rating: 4.9,\n    languages: [\"English\", \"Hindi\", \"Haryanvi\"],\n    location: \"Gurgaon, Haryana\",\n    fees: \"₹1,600\",\n    image: \"https://images.unsplash.com/photo-1594824919297-b166c1de2e63?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"8:00 AM\", \"12:30 PM\", \"5:00 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\", \"inperson\"],\n    about: \"Senior psychiatrist specializing in mood disorders, personality disorders, and student mental health challenges.\",\n    education: \"MBBS, MD Psychiatry - PGIMS Rohtak\",\n    certifications: [\"Mood Disorders Specialist\", \"Personality Assessment Certified\"],\n    achievements: \"Former Head of Psychiatry - Fortis Healthcare Gurgaon\"\n  },\n  {\n    id: 13,\n    name: \"Dr. Amit Shah\",\n    specialization: \"Clinical Psychologist\",\n    experience: \"13 years\",\n    rating: 4.7,\n    languages: [\"English\", \"Hindi\", \"Gujarati\", \"Marathi\"],\n    location: \"Surat, Gujarat\",\n    fees: \"₹1,150\",\n    image: \"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"9:00 AM\", \"2:00 PM\", \"6:00 PM\"],\n    availableConsultationTypes: [\"phone\", \"inperson\"],\n    about: \"Expert in behavioral therapy, addiction counseling, and stress management for students and young professionals.\",\n    education: \"PhD in Clinical Psychology - MSU Baroda\",\n    certifications: [\"Addiction Counseling Specialist\", \"Behavioral Therapy Certified\"],\n    achievements: \"Established Gujarat's first student mental health clinic\"\n  },\n  {\n    id: 14,\n    name: \"Dr. Ravi Kumar\",\n    specialization: \"Counseling Psychologist\",\n    experience: \"8 years\",\n    rating: 4.6,\n    languages: [\"English\", \"Hindi\", \"Telugu\", \"Kannada\"],\n    location: \"Visakhapatnam, Andhra Pradesh\",\n    fees: \"₹950\",\n    image: \"https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"10:00 AM\", \"3:00 PM\", \"7:00 PM\"],\n    availableConsultationTypes: [\"video\", \"inperson\"],\n    about: \"Specializes in academic performance anxiety, social skills development, and confidence building for college students.\",\n    education: \"MA in Counseling Psychology - Andhra University\",\n    certifications: [\"Academic Performance Counselor\", \"Social Skills Training Certified\"],\n    achievements: \"Counseled 400+ engineering and medical students across Andhra Pradesh\"\n  },\n  {\n    id: 15,\n    name: \"Dr. Lakshmi Menon\",\n    specialization: \"Psychiatrist\",\n    experience: \"18 years\",\n    rating: 4.9,\n    languages: [\"English\", \"Malayalam\", \"Tamil\", \"Hindi\"],\n    location: \"Thiruvananthapuram, Kerala\",\n    fees: \"₹1,800\",\n    image: \"https://images.unsplash.com/photo-1594824919297-b166c1de2e63?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"8:30 AM\", \"1:30 PM\", \"6:30 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\", \"inperson\"],\n    about: \"Senior psychiatrist specializing in depression, anxiety disorders, and student mental health with holistic treatment approaches.\",\n    education: \"MBBS, MD Psychiatry - Medical College Thiruvananthapuram\",\n    certifications: [\"Geriatric Psychiatry\", \"Holistic Mental Health Specialist\"],\n    achievements: \"Former Head of Psychiatry - Sree Chitra Tirunal Institute\"\n  },\n  {\n    id: 16,\n    name: \"Dr. Nikhil Sharma\",\n    specialization: \"Clinical Psychologist\",\n    experience: \"6 years\",\n    rating: 4.5,\n    languages: [\"English\", \"Hindi\", \"Punjabi\"],\n    location: \"Amritsar, Punjab\",\n    fees: \"₹850\",\n    image: \"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"11:00 AM\", \"4:00 PM\", \"8:00 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\"],\n    about: \"Specializes in stress management, exam anxiety, and helping students develop effective coping strategies.\",\n    education: \"MA in Clinical Psychology - Guru Nanak Dev University\",\n    certifications: [\"Stress Management Specialist\", \"CBT for Students\"],\n    achievements: \"Established student counseling centers in 5 Punjab universities\"\n  },\n  {\n    id: 17,\n    name: \"Dr. Deepika Joshi\",\n    specialization: \"Counseling Psychologist\",\n    experience: \"11 years\",\n    rating: 4.7,\n    languages: [\"English\", \"Hindi\", \"Marathi\"],\n    location: \"Nashik, Maharashtra\",\n    fees: \"₹1,050\",\n    image: \"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"9:30 AM\", \"2:30 PM\", \"7:30 PM\"],\n    availableConsultationTypes: [\"phone\", \"inperson\"],\n    about: \"Expert in relationship counseling, family therapy, and helping students navigate personal and academic challenges.\",\n    education: \"PhD in Counseling Psychology - Savitribai Phule Pune University\",\n    certifications: [\"Family Systems Therapy\", \"Relationship Counseling Specialist\"],\n    achievements: \"Trained over 200 counselors across Maharashtra\"\n  },\n  {\n    id: 18,\n    name: \"Dr. Arjun Patel\",\n    specialization: \"Psychiatrist\",\n    experience: \"22 years\",\n    rating: 4.8,\n    languages: [\"English\", \"Gujarati\", \"Hindi\"],\n    location: \"Vadodara, Gujarat\",\n    fees: \"₹2,200\",\n    image: \"https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"7:00 AM\", \"12:00 PM\", \"5:30 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\", \"inperson\"],\n    about: \"Renowned psychiatrist with expertise in severe mental health conditions, crisis intervention, and comprehensive psychiatric care.\",\n    education: \"MBBS, MD Psychiatry - BJ Medical College Ahmedabad, Fellowship in Child Psychiatry\",\n    certifications: [\"Child & Adolescent Psychiatry\", \"Crisis Intervention Specialist\"],\n    achievements: \"Director of Mental Health - Sterling Hospitals Group\"\n  },\n  {\n    id: 19,\n    name: \"Dr. Kavitha Reddy\",\n    specialization: \"Clinical Psychologist\",\n    experience: \"9 years\",\n    rating: 4.6,\n    languages: [\"English\", \"Telugu\", \"Hindi\", \"Kannada\"],\n    location: \"Warangal, Telangana\",\n    fees: \"₹900\",\n    image: \"https://images.unsplash.com/photo-1594824919297-b166c1de2e63?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"10:30 AM\", \"3:30 PM\", \"6:00 PM\"],\n    availableConsultationTypes: [\"video\", \"inperson\"],\n    about: \"Focuses on behavioral therapy, learning disabilities, and helping students overcome academic and social challenges.\",\n    education: \"PhD in Clinical Psychology - Kakatiya University\",\n    certifications: [\"Learning Disability Specialist\", \"Behavioral Intervention Certified\"],\n    achievements: \"Pioneered learning disability programs in rural Telangana\"\n  },\n  {\n    id: 20,\n    name: \"Dr. Manish Kumar\",\n    specialization: \"Counseling Psychologist\",\n    experience: \"7 years\",\n    rating: 4.4,\n    languages: [\"English\", \"Hindi\", \"Bhojpuri\"],\n    location: \"Patna, Bihar\",\n    fees: \"₹700\",\n    image: \"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"9:00 AM\", \"1:00 PM\", \"5:00 PM\"],\n    availableConsultationTypes: [\"phone\", \"inperson\"],\n    about: \"Young psychologist dedicated to helping students from rural backgrounds adapt to academic pressures and career decisions.\",\n    education: \"MA in Counseling Psychology - Patna University\",\n    certifications: [\"Rural Mental Health Specialist\", \"Career Guidance Counselor\"],\n    achievements: \"Established mobile counseling services in rural Bihar districts\"\n  },\n  {\n    id: 21,\n    name: \"Dr. Priya Nair\",\n    specialization: \"Psychiatrist\",\n    experience: \"13 years\",\n    rating: 4.7,\n    languages: [\"English\", \"Malayalam\", \"Tamil\"],\n    location: \"Kozhikode, Kerala\",\n    fees: \"₹1,450\",\n    image: \"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"8:00 AM\", \"2:00 PM\", \"7:00 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\"],\n    about: \"Specializes in mood disorders, anxiety management, and providing comprehensive psychiatric care for young adults.\",\n    education: \"MBBS, MD Psychiatry - Calicut Medical College\",\n    certifications: [\"Mood Disorders Specialist\", \"Anxiety Management Certified\"],\n    achievements: \"Research published in International Journal of Psychiatry\"\n  },\n  {\n    id: 22,\n    name: \"Dr. Rohit Agarwal\",\n    specialization: \"Clinical Psychologist\",\n    experience: \"10 years\",\n    rating: 4.8,\n    languages: [\"English\", \"Hindi\", \"Rajasthani\"],\n    location: \"Jodhpur, Rajasthan\",\n    fees: \"₹1,100\",\n    image: \"https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=300&h=300&fit=crop&face=center\",\n    availableSlots: [\"11:30 AM\", \"4:30 PM\", \"8:30 PM\"],\n    availableConsultationTypes: [\"video\", \"phone\", \"inperson\"],\n    about: \"Expert in trauma therapy, PTSD treatment, and helping students overcome difficult life experiences and academic stress.\",\n    education: \"PhD in Clinical Psychology - University of Rajasthan\",\n    certifications: [\"Trauma-Informed Care\", \"PTSD Treatment Specialist\"],\n    achievements: \"Established trauma recovery center for students in Rajasthan\"\n  }\n];\n\nconst consultationTypes = [\n  {\n    type: \"video\",\n    title: \"Video Consultation\",\n    duration: \"30 mins\",\n    icon: Video,\n    description: \"Face-to-face consultation from comfort of your home\"\n  },\n  {\n    type: \"phone\",\n    title: \"Phone Consultation\", \n    duration: \"20 mins\",\n    icon: Phone,\n    description: \"Quick consultation over phone call\"\n  },\n  {\n    type: \"inperson\",\n    title: \"In-Person Visit\",\n    duration: \"45 mins\", \n    icon: MapPin,\n    description: \"Visit doctor's clinic for detailed consultation\"\n  }\n];\n\nexport default function Doctor() {\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [selectedSpecialization, setSelectedSpecialization] = useState(\"all\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedConsultationType, setSelectedConsultationType] = useState(\"video\");\n  const [selectedDoctor, setSelectedDoctor] = useState(null);\n  \n  // Booking state\n  const [isBookingModalOpen, setIsBookingModalOpen] = useState(false);\n  const [bookingStep, setBookingStep] = useState<\"details\" | \"payment\" | \"success\">(\"details\");\n  const [bookingData, setBookingData] = useState({\n    doctorId: \"\",\n    consultationType: \"video\",\n    preferredDate: \"\",\n    preferredTime: \"\",\n    notes: \"\"\n  });\n  const [paymentIntentId, setPaymentIntentId] = useState(\"\");\n  \n  // Doctor registration form state\n  const [registrationForm, setRegistrationForm] = useState({\n    fullName: \"\",\n    email: \"\",\n    phone: \"\",\n    specialization: \"\",\n    experience: \"\",\n    qualifications: \"\",\n    licenseNumber: \"\",\n    clinicName: \"\",\n    clinicAddress: \"\",\n    consultationFees: \"\",\n    languages: [],\n    about: \"\",\n    availableSlots: []\n  });\n\n  // Fetch counselors from API\n  const { data: apiCounselors, isLoading: counselorsLoading } = useQuery({\n    queryKey: [\"/api/counselors\"],\n  });\n\n  // Combine API counselors with static doctors for better coverage\n  const apiDoctors = (apiCounselors as any[])?.length > 0 ? (apiCounselors as any[]).map((counselor: any, index: number) => ({\n    ...counselor,\n    fees: \"₹1,200\", // Default fee, could be added to counselor schema later\n    image: \"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=300&fit=crop&face=center\", // Default image\n    location: index % 3 === 0 || index % 3 === 2 ? `${counselor.name?.split(' ')[0] || 'Medical'} Clinic, Mumbai` : \"Available Online\", // Use physical location for in-person doctors\n    about: `Experienced ${counselor.specialization?.toLowerCase() || 'counselor'} with ${counselor.experience || '5'} years of experience.`,\n    education: \"Medical Professional\", // Default education\n    certifications: [\"Licensed Professional\"], // Default certifications\n    achievements: \"Trusted healthcare provider\", // Default achievements\n    availableConsultationTypes: index % 3 === 0 ? [\"video\", \"phone\", \"inperson\"] : index % 3 === 1 ? [\"video\", \"phone\"] : [\"phone\", \"inperson\"], // Rotate consultation types\n    availableSlots: [\"10:00 AM\", \"2:00 PM\", \"4:30 PM\"], // Default slots\n    languages: [\"English\", \"Hindi\"], // Default languages\n    rating: 4.5 // Default rating\n  })) : [];\n\n  // Always combine API doctors with static doctors for comprehensive coverage\n  const doctors = [...apiDoctors, ...staticDoctors];\n\n  // Booking mutation\n  const bookingMutation = useMutation({\n    mutationFn: async (data: any) => {\n      // Convert time from \"9:00 AM\" format to \"09:00\"\n      const timeString = data.preferredTime;\n      const [time, period] = timeString.split(' '); // Split \"9:00\" and \"AM\"\n      const [hours, minutes] = time.split(':'); // Split \"9\" and \"00\"\n      \n      let hour24 = parseInt(hours);\n      if (period === 'PM' && hour24 !== 12) hour24 += 12;\n      if (period === 'AM' && hour24 === 12) hour24 = 0;\n      \n      const formattedTime = `${hour24.toString().padStart(2, '0')}:${minutes}`;\n      const scheduledFor = new Date(`${data.preferredDate}T${formattedTime}:00`);\n      \n      return await apiRequest(\"POST\", \"/api/appointments\", {\n        userId: currentUser?.id,\n        counselorId: data.doctorId, // Using counselorId as the doctor ID for compatibility with existing schema\n        sessionType: \"individual\", // Default session type for doctor appointments\n        consultationType: data.consultationType, // Include the consultation type\n        scheduledFor: scheduledFor.toISOString(),\n        notes: data.notes,\n        paymentAmount: data.paymentAmount || null,\n        paymentIntentId: data.paymentIntentId || null,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/appointments/user\", currentUser?.id] });\n      setBookingStep(\"success\");\n    },\n    onError: (error) => {\n      toast({\n        title: \"Booking failed\",\n        description: \"Unable to book appointment. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Booking handlers\n  const handleOpenBookingModal = (doctorId: number) => {\n    if (!currentUser?.id) {\n      toast({\n        title: \"Authentication required\",\n        description: \"Please log in to book an appointment.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setBookingData({\n      doctorId: doctorId.toString(),\n      consultationType: selectedConsultationType,\n      preferredDate: \"\",\n      preferredTime: \"\",\n      notes: \"\"\n    });\n    setIsBookingModalOpen(true);\n  };\n\n  const handleCloseBookingModal = () => {\n    setBookingData({\n      doctorId: \"\",\n      consultationType: \"video\",\n      preferredDate: \"\",\n      preferredTime: \"\",\n      notes: \"\"\n    });\n    setBookingStep(\"details\");\n    setPaymentIntentId(\"\");\n    setIsBookingModalOpen(false);\n  };\n\n  const handleBookingSubmit = () => {\n    if (!bookingData.doctorId || !bookingData.preferredDate || !bookingData.preferredTime) {\n      toast({\n        title: \"Missing information\",\n        description: \"Please fill in all required fields.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Proceed to payment step\n    setBookingStep(\"payment\");\n  };\n\n  const handlePaymentSuccess = (paymentIntentId: string) => {\n    setPaymentIntentId(paymentIntentId);\n    \n    // Include payment information in booking data\n    const selectedDoctor = doctors.find(d => d.id.toString() === bookingData.doctorId);\n    const paymentAmount = selectedDoctor ? parseInt(selectedDoctor.fees.replace(/[^0-9]/g, '')) : 1000;\n    \n    const bookingWithPayment = {\n      ...bookingData,\n      paymentStatus: \"completed\",\n      paymentAmount: paymentAmount * 100, // Convert to paise\n      paymentIntentId: paymentIntentId\n    };\n    \n    bookingMutation.mutate(bookingWithPayment);\n  };\n\n  const handlePaymentCancel = () => {\n    setBookingStep(\"details\");\n  };\n\n  const filteredDoctors = doctors.filter(doctor => {\n    const matchesSpecialization = selectedSpecialization === \"all\" || \n      doctor.specialization.toLowerCase().includes(selectedSpecialization.toLowerCase());\n    const matchesSearch = doctor.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      doctor.specialization.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesConsultationType = doctor.availableConsultationTypes?.includes(selectedConsultationType) || false;\n    return matchesSpecialization && matchesSearch && matchesConsultationType;\n  });\n\n  const handleRegistrationSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    toast({\n      title: \"Registration Submitted\",\n      description: \"Your doctor registration has been submitted for review. You will be contacted within 2-3 business days.\",\n    });\n    // Reset form\n    setRegistrationForm({\n      fullName: \"\",\n      email: \"\",\n      phone: \"\",\n      specialization: \"\",\n      experience: \"\",\n      qualifications: \"\",\n      licenseNumber: \"\",\n      clinicName: \"\",\n      clinicAddress: \"\",\n      consultationFees: \"\",\n      languages: [],\n      about: \"\",\n      availableSlots: []\n    });\n  };\n\n  const updateRegistrationForm = (field: string, value: any) => {\n    setRegistrationForm(prev => ({ ...prev, [field]: value }));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8\">\n        <BackButton />\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center\">\n              <Stethoscope className=\"h-6 w-6 text-primary\" />\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold text-foreground\">Medical Services</h1>\n              <p className=\"text-muted-foreground\">Find doctors or register as a healthcare professional</p>\n            </div>\n          </div>\n        </div>\n\n        <Tabs defaultValue=\"find-doctors\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2\">\n            <TabsTrigger value=\"find-doctors\" data-testid=\"tab-find-doctors\">\n              <Stethoscope className=\"h-4 w-4 mr-2\" />\n              Find Doctors\n            </TabsTrigger>\n            <TabsTrigger value=\"register\" data-testid=\"tab-register-doctor\">\n              <UserPlus className=\"h-4 w-4 mr-2\" />\n              Doctor Registration\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"find-doctors\" className=\"mt-6\">\n            {/* Search and Filters */}\n            <div className=\"mb-6 space-y-4\">\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <Input\n                placeholder=\"Search doctors by name or specialization...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full\"\n                data-testid=\"input-doctor-search\"\n              />\n            </div>\n            <div className=\"w-full sm:w-auto\">\n              <select\n                value={selectedSpecialization}\n                onChange={(e) => setSelectedSpecialization(e.target.value)}\n                className=\"w-full px-3 py-2 bg-background border border-input rounded-md\"\n                data-testid=\"select-specialization\"\n              >\n                <option value=\"all\">All Specializations</option>\n                <option value=\"psychiatrist\">Psychiatrist</option>\n                <option value=\"clinical psychologist\">Clinical Psychologist</option>\n                <option value=\"counseling psychologist\">Counseling Psychologist</option>\n                <option value=\"counselor\">Counselor</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Consultation Types */}\n        <div className=\"mb-8\">\n          <h3 className=\"text-lg font-semibold mb-4\">Choose Consultation Type</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            {consultationTypes.map((consultation) => {\n              const IconComponent = consultation.icon;\n              return (\n                <Card \n                  key={consultation.type}\n                  className={`cursor-pointer transition-all hover:shadow-md ${\n                    selectedConsultationType === consultation.type \n                      ? 'ring-2 ring-primary bg-primary/5' \n                      : ''\n                  }`}\n                  onClick={() => setSelectedConsultationType(consultation.type)}\n                  data-testid={`card-consultation-${consultation.type}`}\n                >\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <IconComponent className=\"h-5 w-5 text-primary\" />\n                      <h4 className=\"font-medium\">{consultation.title}</h4>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground mb-1\">{consultation.description}</p>\n                    <Badge variant=\"secondary\" className=\"text-xs\">{consultation.duration}</Badge>\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Doctors List */}\n        <div className=\"space-y-6\">\n          <h3 className=\"text-lg font-semibold\">Available Doctors ({filteredDoctors.length})</h3>\n          \n          {filteredDoctors.length === 0 ? (\n            <Card>\n              <CardContent className=\"p-8 text-center\">\n                <Stethoscope className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium mb-2\">No doctors found</h3>\n                <p className=\"text-muted-foreground\">Try adjusting your search criteria</p>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"grid gap-6\">\n              {filteredDoctors.map((doctor) => (\n                <Card key={doctor.id} className=\"overflow-hidden hover:shadow-md transition-shadow\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex flex-col lg:flex-row gap-6\">\n                      {/* Doctor Info */}\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-start gap-4 mb-4\">\n                          <div className=\"w-16 h-16 rounded-full overflow-hidden\">\n                            <img \n                              src={doctor.image} \n                              alt={doctor.name}\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n                          <div className=\"flex-1\">\n                            <h3 className=\"text-xl font-semibold mb-1\" data-testid={`text-doctor-name-${doctor.id}`}>\n                              {doctor.name}\n                            </h3>\n                            <p className=\"text-primary font-medium mb-2\">{doctor.specialization}</p>\n                            <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                              <div className=\"flex items-center gap-1\">\n                                <Star className=\"h-4 w-4 text-yellow-500 fill-current\" />\n                                {doctor.rating}\n                              </div>\n                              <span>{doctor.experience} experience</span>\n                              <span className=\"flex items-center gap-1\">\n                                <MapPin className=\"h-4 w-4\" />\n                                {doctor.location}\n                                {selectedConsultationType === \"inperson\" && (\n                                  <button\n                                    onClick={(e) => {\n                                      e.stopPropagation();\n                                      const encodedLocation = encodeURIComponent(doctor.location);\n                                      const mapWindow = window.open(`https://maps.google.com/maps?q=${encodedLocation}`, '_blank');\n                                      if (mapWindow) mapWindow.opener = null;\n                                    }}\n                                    className=\"ml-2 p-1 hover:bg-primary/10 rounded-full transition-colors\"\n                                    title=\"Open in Google Maps\"\n                                    data-testid={`button-maps-${doctor.id}`}\n                                  >\n                                    <Map className=\"h-4 w-4 text-primary hover:text-primary/80\" />\n                                  </button>\n                                )}\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n\n                        <p className=\"text-muted-foreground mb-4\">{doctor.about}</p>\n\n                        <div className=\"flex flex-wrap gap-2 mb-4\">\n                          {doctor.languages.map((language) => (\n                            <Badge key={language} variant=\"outline\" className=\"text-xs\">\n                              {language}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n\n                      {/* Booking Section */}\n                      <div className=\"lg:w-80\">\n                        <Card className=\"bg-muted/30\">\n                          <CardContent className=\"p-4\">\n                            <div className=\"text-center mb-4\">\n                              <p className=\"text-2xl font-bold text-primary\">{doctor.fees}</p>\n                              <p className=\"text-sm text-muted-foreground\">Consultation Fee</p>\n                            </div>\n\n                            <div className=\"mb-4\">\n                              <p className=\"text-sm font-medium mb-2\">Available Today:</p>\n                              <div className=\"flex flex-wrap gap-2\">\n                                {doctor.availableSlots.map((slot) => (\n                                  <Badge key={slot} variant=\"secondary\" className=\"text-xs\">\n                                    <Clock className=\"h-3 w-3 mr-1\" />\n                                    {slot}\n                                  </Badge>\n                                ))}\n                              </div>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                              <Button \n                                className=\"w-full\" \n                                onClick={() => handleOpenBookingModal(doctor.id)}\n                                data-testid={`button-book-appointment-${doctor.id}`}\n                              >\n                                <Calendar className=\"h-4 w-4 mr-2\" />\n                                Book Appointment\n                              </Button>\n                              <Dialog>\n                                <DialogTrigger asChild>\n                                  <Button \n                                    variant=\"outline\" \n                                    className=\"w-full\"\n                                    data-testid={`button-view-profile-${doctor.id}`}\n                                  >\n                                    View Profile\n                                  </Button>\n                                </DialogTrigger>\n                                <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\n                                  <DialogHeader>\n                                    <DialogTitle className=\"text-xl font-bold\">{doctor.name} - Profile</DialogTitle>\n                                  </DialogHeader>\n                                  \n                                  <div className=\"space-y-6\">\n                                    {/* Doctor Header */}\n                                    <div className=\"flex items-start gap-4\">\n                                      <div className=\"w-20 h-20 rounded-full overflow-hidden\">\n                                        <img \n                                          src={doctor.image} \n                                          alt={doctor.name}\n                                          className=\"w-full h-full object-cover\"\n                                        />\n                                      </div>\n                                      <div className=\"flex-1\">\n                                        <h2 className=\"text-xl font-semibold mb-1\">{doctor.name}</h2>\n                                        <p className=\"text-primary font-medium mb-2\">{doctor.specialization}</p>\n                                        <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                                          <div className=\"flex items-center gap-1\">\n                                            <Star className=\"h-4 w-4 text-yellow-500 fill-current\" />\n                                            {doctor.rating} Rating\n                                          </div>\n                                          <span>{doctor.experience} experience</span>\n                                        </div>\n                                      </div>\n                                      <div className=\"text-right\">\n                                        <p className=\"text-2xl font-bold text-primary\">{doctor.fees}</p>\n                                        <p className=\"text-sm text-muted-foreground\">Consultation Fee</p>\n                                      </div>\n                                    </div>\n                                    \n                                    {/* About Section */}\n                                    <div>\n                                      <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\n                                        <Stethoscope className=\"h-5 w-5\" />\n                                        About\n                                      </h3>\n                                      <p className=\"text-muted-foreground leading-relaxed\">{doctor.about}</p>\n                                    </div>\n                                    \n                                    {/* Education */}\n                                    <div>\n                                      <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\n                                        <GraduationCap className=\"h-5 w-5\" />\n                                        Education\n                                      </h3>\n                                      <p className=\"text-muted-foreground\">{doctor.education}</p>\n                                    </div>\n                                    \n                                    {/* Certifications */}\n                                    <div>\n                                      <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\n                                        <Award className=\"h-5 w-5\" />\n                                        Certifications\n                                      </h3>\n                                      <div className=\"flex flex-wrap gap-2\">\n                                        {doctor.certifications.map((cert) => (\n                                          <Badge key={cert} variant=\"secondary\">\n                                            {cert}\n                                          </Badge>\n                                        ))}\n                                      </div>\n                                    </div>\n                                    \n                                    {/* Achievements */}\n                                    <div>\n                                      <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\n                                        <Star className=\"h-5 w-5\" />\n                                        Achievements\n                                      </h3>\n                                      <p className=\"text-muted-foreground\">{doctor.achievements}</p>\n                                    </div>\n                                    \n                                    {/* Languages */}\n                                    <div>\n                                      <h3 className=\"text-lg font-semibold mb-3\">Languages</h3>\n                                      <div className=\"flex flex-wrap gap-2\">\n                                        {doctor.languages.map((language) => (\n                                          <Badge key={language} variant=\"outline\">\n                                            {language}\n                                          </Badge>\n                                        ))}\n                                      </div>\n                                    </div>\n                                    \n                                    {/* Location */}\n                                    <div>\n                                      <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\n                                        <MapPin className=\"h-5 w-5\" />\n                                        Location\n                                        {selectedConsultationType === \"inperson\" && (\n                                          <button\n                                            onClick={(e) => {\n                                              e.stopPropagation();\n                                              const encodedLocation = encodeURIComponent(doctor.location);\n                                              const mapWindow = window.open(`https://maps.google.com/maps?q=${encodedLocation}`, '_blank');\n                                              if (mapWindow) mapWindow.opener = null;\n                                            }}\n                                            className=\"ml-2 p-1 hover:bg-primary/10 rounded-full transition-colors\"\n                                            title=\"Open in Google Maps\"\n                                            data-testid={`button-maps-profile-${doctor.id}`}\n                                          >\n                                            <Map className=\"h-5 w-5 text-primary hover:text-primary/80\" />\n                                          </button>\n                                        )}\n                                      </h3>\n                                      <p className=\"text-muted-foreground flex items-center gap-2\">\n                                        {doctor.location}\n                                        {selectedConsultationType === \"inperson\" && (\n                                          <span className=\"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-1 rounded-full\">\n                                            Available for In-Person Visit\n                                          </span>\n                                        )}\n                                      </p>\n                                    </div>\n                                    \n                                    {/* Available Slots */}\n                                    <div>\n                                      <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\n                                        <Clock className=\"h-5 w-5\" />\n                                        Available Today\n                                      </h3>\n                                      <div className=\"flex flex-wrap gap-2\">\n                                        {doctor.availableSlots.map((slot) => (\n                                          <Badge key={slot} variant=\"secondary\">\n                                            {slot}\n                                          </Badge>\n                                        ))}\n                                      </div>\n                                    </div>\n                                    \n                                    {/* Actions */}\n                                    <div className=\"flex gap-3 pt-4 border-t\">\n                                      <Button \n                                        className=\"flex-1\"\n                                        onClick={() => handleOpenBookingModal(doctor.id)}\n                                      >\n                                        <Calendar className=\"h-4 w-4 mr-2\" />\n                                        Book Appointment\n                                      </Button>\n                                      <Button variant=\"outline\" className=\"flex-1\">\n                                        <Phone className=\"h-4 w-4 mr-2\" />\n                                        Contact\n                                      </Button>\n                                    </div>\n                                  </div>\n                                </DialogContent>\n                              </Dialog>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          )}\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"register\" className=\"mt-6\">\n            <Card className=\"max-w-4xl mx-auto\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center\">\n                  <UserPlus className=\"h-5 w-5 mr-2\" />\n                  Doctor Registration\n                </CardTitle>\n                <p className=\"text-muted-foreground\">\n                  Join our platform to provide mental health support to students\n                </p>\n              </CardHeader>\n              <CardContent>\n                <form onSubmit={handleRegistrationSubmit} className=\"space-y-6\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"fullName\">Full Name *</Label>\n                      <Input\n                        id=\"fullName\"\n                        value={registrationForm.fullName}\n                        onChange={(e) => updateRegistrationForm(\"fullName\", e.target.value)}\n                        required\n                        data-testid=\"input-registration-name\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"email\">Email Address *</Label>\n                      <Input\n                        id=\"email\"\n                        type=\"email\"\n                        value={registrationForm.email}\n                        onChange={(e) => updateRegistrationForm(\"email\", e.target.value)}\n                        required\n                        data-testid=\"input-registration-email\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"phone\">Phone Number *</Label>\n                      <Input\n                        id=\"phone\"\n                        value={registrationForm.phone}\n                        onChange={(e) => updateRegistrationForm(\"phone\", e.target.value)}\n                        required\n                        data-testid=\"input-registration-phone\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"specialization\">Specialization *</Label>\n                      <Select \n                        value={registrationForm.specialization} \n                        onValueChange={(value) => updateRegistrationForm(\"specialization\", value)}\n                      >\n                        <SelectTrigger data-testid=\"select-registration-specialization\">\n                          <SelectValue placeholder=\"Select specialization\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"psychiatrist\">Psychiatrist</SelectItem>\n                          <SelectItem value=\"psychologist\">Clinical Psychologist</SelectItem>\n                          <SelectItem value=\"counselor\">Counselor</SelectItem>\n                          <SelectItem value=\"therapist\">Therapist</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"experience\">Years of Experience *</Label>\n                      <Input\n                        id=\"experience\"\n                        value={registrationForm.experience}\n                        onChange={(e) => updateRegistrationForm(\"experience\", e.target.value)}\n                        required\n                        data-testid=\"input-registration-experience\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"licenseNumber\">Medical License Number *</Label>\n                      <Input\n                        id=\"licenseNumber\"\n                        value={registrationForm.licenseNumber}\n                        onChange={(e) => updateRegistrationForm(\"licenseNumber\", e.target.value)}\n                        required\n                        data-testid=\"input-registration-license\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"qualifications\">Qualifications *</Label>\n                    <Textarea\n                      id=\"qualifications\"\n                      placeholder=\"List your degrees, certifications, and qualifications...\"\n                      value={registrationForm.qualifications}\n                      onChange={(e) => updateRegistrationForm(\"qualifications\", e.target.value)}\n                      required\n                      data-testid=\"textarea-registration-qualifications\"\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"clinicName\">Clinic/Hospital Name</Label>\n                      <Input\n                        id=\"clinicName\"\n                        value={registrationForm.clinicName}\n                        onChange={(e) => updateRegistrationForm(\"clinicName\", e.target.value)}\n                        data-testid=\"input-registration-clinic\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"consultationFees\">Consultation Fees (₹)</Label>\n                      <Input\n                        id=\"consultationFees\"\n                        type=\"number\"\n                        value={registrationForm.consultationFees}\n                        onChange={(e) => updateRegistrationForm(\"consultationFees\", e.target.value)}\n                        data-testid=\"input-registration-fees\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"clinicAddress\">Clinic Address</Label>\n                    <Textarea\n                      id=\"clinicAddress\"\n                      placeholder=\"Full address of your clinic or practice...\"\n                      value={registrationForm.clinicAddress}\n                      onChange={(e) => updateRegistrationForm(\"clinicAddress\", e.target.value)}\n                      data-testid=\"textarea-registration-address\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"about\">About Yourself</Label>\n                    <Textarea\n                      id=\"about\"\n                      placeholder=\"Describe your approach, areas of expertise, and experience working with students...\"\n                      value={registrationForm.about}\n                      onChange={(e) => updateRegistrationForm(\"about\", e.target.value)}\n                      data-testid=\"textarea-registration-about\"\n                    />\n                  </div>\n\n                  <div className=\"flex justify-end\">\n                    <Button type=\"submit\" size=\"lg\" data-testid=\"button-submit-registration\">\n                      <Mail className=\"h-4 w-4 mr-2\" />\n                      Submit Registration\n                    </Button>\n                  </div>\n                </form>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n\n        {/* Booking Modal */}\n        <Dialog open={isBookingModalOpen} onOpenChange={handleCloseBookingModal}>\n          <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n              <div className=\"flex items-center justify-between\">\n                <DialogTitle className=\"text-xl font-semibold\">Book Doctor Consultation</DialogTitle>\n                <Button variant=\"ghost\" size=\"sm\" onClick={handleCloseBookingModal} data-testid=\"button-close-booking-modal\">\n                  <X className=\"h-4 w-4\" />\n                </Button>\n              </div>\n              <p className=\"text-sm text-muted-foreground\">\n                Schedule your consultation with our qualified doctors\n              </p>\n            </DialogHeader>\n\n            <div className=\"space-y-6 py-4\">\n              {bookingStep === \"details\" && (\n                <>\n                  {/* Selected Doctor Display */}\n                  {bookingData.doctorId && (\n                    <div className=\"p-4 bg-muted/30 rounded-lg\">\n                      {(() => {\n                        const selectedDoctor = doctors.find(d => d.id.toString() === bookingData.doctorId);\n                        return selectedDoctor ? (\n                          <div className=\"flex items-center gap-3\">\n                            <img \n                              src={selectedDoctor.image} \n                              alt={selectedDoctor.name}\n                              className=\"w-12 h-12 rounded-full object-cover\"\n                            />\n                            <div>\n                              <h3 className=\"font-medium\">{selectedDoctor.name}</h3>\n                              <p className=\"text-sm text-muted-foreground\">{selectedDoctor.specialization}</p>\n                              <p className=\"text-sm font-medium text-primary\">{selectedDoctor.fees}</p>\n                            </div>\n                          </div>\n                        ) : null;\n                      })()}\n                    </div>\n                  )}\n\n              {/* Consultation Type Selection */}\n              <div>\n                <Label className=\"block text-sm font-medium text-card-foreground mb-3\">\n                  Consultation Type\n                </Label>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n                  {consultationTypes.map((type) => {\n                    const IconComponent = type.icon;\n                    return (\n                      <label\n                        key={type.type}\n                        className={`flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer transition-colors ${\n                          bookingData.consultationType === type.type \n                            ? \"bg-primary/10 border-primary text-primary\" \n                            : \"bg-muted/50 border-transparent hover:bg-muted\"\n                        }`}\n                      >\n                        <input\n                          type=\"radio\"\n                          name=\"consultationType\"\n                          value={type.type}\n                          checked={bookingData.consultationType === type.type}\n                          onChange={(e) => setBookingData(prev => ({ ...prev, consultationType: e.target.value }))}\n                          className=\"sr-only\"\n                          data-testid={`radio-consultation-${type.type}`}\n                        />\n                        <IconComponent className=\"h-5 w-5\" />\n                        <div className=\"flex-1\">\n                          <div className=\"font-medium\">{type.title}</div>\n                          <div className=\"text-sm text-muted-foreground\">{type.description}</div>\n                          <Badge variant=\"secondary\" className=\"text-xs mt-1\">{type.duration}</Badge>\n                        </div>\n                      </label>\n                    );\n                  })}\n                </div>\n              </div>\n\n              {/* Date Selection */}\n              <div>\n                <Label htmlFor=\"preferredDate\" className=\"block text-sm font-medium text-card-foreground mb-2\">\n                  Preferred Date\n                </Label>\n                <Input\n                  id=\"preferredDate\"\n                  type=\"date\"\n                  min={new Date().toISOString().split('T')[0]}\n                  value={bookingData.preferredDate}\n                  onChange={(e) => setBookingData(prev => ({ ...prev, preferredDate: e.target.value }))}\n                  data-testid=\"input-booking-date\"\n                />\n              </div>\n\n              {/* Time Selection */}\n              <div>\n                <Label htmlFor=\"preferredTime\" className=\"block text-sm font-medium text-card-foreground mb-2\">\n                  Preferred Time\n                </Label>\n                <Select \n                  value={bookingData.preferredTime} \n                  onValueChange={(value) => setBookingData(prev => ({ ...prev, preferredTime: value }))}\n                >\n                  <SelectTrigger data-testid=\"select-booking-time\">\n                    <SelectValue placeholder=\"Select time slot\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {bookingData.doctorId && (() => {\n                      const selectedDoctor = doctors.find(d => d.id.toString() === bookingData.doctorId);\n                      return selectedDoctor?.availableSlots.map((slot) => (\n                        <SelectItem key={slot} value={slot}>{slot}</SelectItem>\n                      )) || [];\n                    })()}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Notes */}\n              <div>\n                <Label htmlFor=\"notes\" className=\"block text-sm font-medium text-card-foreground mb-2\">\n                  Additional Notes (Optional)\n                </Label>\n                <Textarea\n                  id=\"notes\"\n                  placeholder=\"Any specific concerns or requirements...\"\n                  value={bookingData.notes}\n                  onChange={(e) => setBookingData(prev => ({ ...prev, notes: e.target.value }))}\n                  data-testid=\"textarea-booking-notes\"\n                />\n              </div>\n\n                  {/* Action Buttons */}\n                  <div className=\"flex gap-3 pt-4 border-t\">\n                    <Button \n                      variant=\"outline\" \n                      onClick={handleCloseBookingModal}\n                      className=\"flex-1\"\n                      data-testid=\"button-cancel-booking\"\n                    >\n                      Cancel\n                    </Button>\n                    <Button \n                      onClick={handleBookingSubmit}\n                      disabled={bookingMutation.isPending}\n                      className=\"flex-1\"\n                      data-testid=\"button-confirm-booking\"\n                    >\n                      {bookingMutation.isPending ? \"Booking...\" : \"Proceed to Payment\"}\n                    </Button>\n                  </div>\n                </>\n              )}\n\n              {/* Payment Step */}\n              {bookingStep === \"payment\" && bookingData.doctorId && (\n                (() => {\n                  const selectedDoctor = doctors.find(d => d.id.toString() === bookingData.doctorId);\n                  const consultationType = consultationTypes.find(type => type.type === bookingData.consultationType);\n                  \n                  if (!selectedDoctor) return null;\n                  \n                  const paymentDetails = {\n                    doctorName: selectedDoctor.name,\n                    consultationType: consultationType?.title || bookingData.consultationType,\n                    date: bookingData.preferredDate,\n                    time: bookingData.preferredTime,\n                    amount: parseInt(selectedDoctor.fees.replace(/[^0-9]/g, '')),\n                    currency: \"inr\"\n                  };\n\n                  return (\n                    <ConsultationPayment\n                      paymentDetails={paymentDetails}\n                      onPaymentSuccess={handlePaymentSuccess}\n                      onPaymentCancel={handlePaymentCancel}\n                    />\n                  );\n                })()\n              )}\n\n              {/* Success Step */}\n              {bookingStep === \"success\" && bookingData.doctorId && (\n                (() => {\n                  const selectedDoctor = doctors.find(d => d.id.toString() === bookingData.doctorId);\n                  const consultationType = consultationTypes.find(type => type.type === bookingData.consultationType);\n                  \n                  if (!selectedDoctor) return null;\n\n                  return (\n                    <div className=\"text-center py-8\">\n                      <CheckCircle className=\"h-16 w-16 text-green-500 mx-auto mb-6\" />\n                      <h3 className=\"text-2xl font-bold mb-4 text-green-700\">Booking Confirmed!</h3>\n                      <p className=\"text-lg text-muted-foreground mb-6\">\n                        Your consultation has been successfully booked and payment processed.\n                      </p>\n                      \n                      {/* Booking Summary */}\n                      <Card className=\"max-w-md mx-auto mb-6\">\n                        <CardContent className=\"p-6\">\n                          <div className=\"space-y-4\">\n                            <div className=\"flex items-center gap-3 justify-center\">\n                              <img \n                                src={selectedDoctor.image} \n                                alt={selectedDoctor.name}\n                                className=\"w-12 h-12 rounded-full object-cover\"\n                              />\n                              <div className=\"text-left\">\n                                <h4 className=\"font-semibold\">{selectedDoctor.name}</h4>\n                                <p className=\"text-sm text-muted-foreground\">{selectedDoctor.specialization}</p>\n                              </div>\n                            </div>\n                            \n                            <div className=\"space-y-2 text-sm\">\n                              <div className=\"flex justify-between\">\n                                <span>Type:</span>\n                                <Badge variant=\"secondary\">{consultationType?.title}</Badge>\n                              </div>\n                              <div className=\"flex justify-between\">\n                                <span>Date:</span>\n                                <span className=\"font-medium\">{bookingData.preferredDate}</span>\n                              </div>\n                              <div className=\"flex justify-between\">\n                                <span>Time:</span>\n                                <span className=\"font-medium\">{bookingData.preferredTime}</span>\n                              </div>\n                              <div className=\"flex justify-between\">\n                                <span>Amount Paid:</span>\n                                <span className=\"font-semibold text-green-600\">{selectedDoctor.fees}</span>\n                              </div>\n                              {paymentIntentId && (\n                                <div className=\"flex justify-between text-xs\">\n                                  <span>Payment ID:</span>\n                                  <span className=\"font-mono\">{paymentIntentId.slice(-8)}</span>\n                                </div>\n                              )}\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n\n                      <div className=\"space-y-3\">\n                        <p className=\"text-sm text-muted-foreground\">\n                          You will receive a confirmation email with appointment details and joining instructions.\n                        </p>\n                        \n                        <Button \n                          onClick={() => {\n                            toast({\n                              title: \"Appointment booked\",\n                              description: `Your ${bookingData.consultationType} consultation has been scheduled successfully.`,\n                            });\n                            handleCloseBookingModal();\n                          }}\n                          className=\"w-full\"\n                          data-testid=\"button-close-success\"\n                        >\n                          Close\n                        </Button>\n                      </div>\n                    </div>\n                  );\n                })()\n              )}\n            </div>\n          </DialogContent>\n        </Dialog>\n      </div>\n    </div>\n  );\n}","size_bytes":67727},"client/src/pages/entertainment.tsx":{"content":"import { useState } from \"react\";\nimport { Play, Music, Film, Gamepad2, BookOpen, Mic, Calendar, Users, Star, Clock } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Input } from \"@/components/ui/input\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\nconst entertainmentContent = {\n  music: [\n    {\n      id: 1,\n      title: \"Relaxation Playlist\",\n      artist: \"Nature Sounds\",\n      duration: \"45 mins\",\n      category: \"Meditation\",\n      description: \"Peaceful nature sounds and ambient music for stress relief\",\n      plays: \"2.3k\",\n      rating: 4.8\n    },\n    {\n      id: 2,\n      title: \"Study Focus Mix\",\n      artist: \"Lo-Fi Collective\",\n      duration: \"2 hours\",\n      category: \"Focus\",\n      description: \"Lo-fi beats to help you concentrate and study effectively\",\n      plays: \"5.1k\",\n      rating: 4.9\n    },\n    {\n      id: 3,\n      title: \"Morning Motivation\",\n      artist: \"Upbeat Studios\",\n      duration: \"30 mins\",\n      category: \"Motivation\",\n      description: \"Energizing music to start your day with positive vibes\",\n      plays: \"1.8k\",\n      rating: 4.7\n    }\n  ],\n  videos: [\n    {\n      id: 1,\n      title: \"10-Minute Morning Meditation\",\n      channel: \"Mindful Living\",\n      duration: \"10 mins\",\n      category: \"Meditation\",\n      description: \"Quick guided meditation to center yourself before the day\",\n      views: \"45k\",\n      rating: 4.9\n    },\n    {\n      id: 2,\n      title: \"Study Break Yoga\",\n      channel: \"Wellness Corner\",\n      duration: \"15 mins\",\n      category: \"Wellness\",\n      description: \"Simple yoga stretches perfect for study breaks\",\n      views: \"23k\",\n      rating: 4.6\n    },\n    {\n      id: 3,\n      title: \"Breathing Exercises for Anxiety\",\n      channel: \"Calm Mind\",\n      duration: \"8 mins\",\n      category: \"Mental Health\",\n      description: \"Proven breathing techniques to manage anxiety and stress\",\n      views: \"67k\",\n      rating: 4.8\n    }\n  ],\n  games: [\n    {\n      id: 1,\n      title: \"Mindful Matching\",\n      developer: \"Brain Games Studio\",\n      category: \"Puzzle\",\n      description: \"Memory matching game designed to improve focus and concentration\",\n      players: \"12k\",\n      rating: 4.5\n    },\n    {\n      id: 2,\n      title: \"Stress Buster\",\n      developer: \"Relax Games\",\n      category: \"Casual\",\n      description: \"Simple tap-and-pop game for quick stress relief\",\n      players: \"8.5k\",\n      rating: 4.3\n    },\n    {\n      id: 3,\n      title: \"Breathing Garden\",\n      developer: \"Wellness Interactive\",\n      category: \"Meditation\",\n      description: \"Grow a virtual garden while practicing breathing exercises\",\n      players: \"15k\",\n      rating: 4.7\n    }\n  ],\n  books: [\n    {\n      id: 1,\n      title: \"The Student's Guide to Mental Wellness\",\n      author: \"Dr. Sarah Mitchell\",\n      category: \"Self-Help\",\n      description: \"Practical strategies for managing stress during college years\",\n      readers: \"3.2k\",\n      rating: 4.6\n    },\n    {\n      id: 2,\n      title: \"Mindfulness for Beginners\",\n      author: \"Jon Kabat-Zinn\",\n      category: \"Mindfulness\",\n      description: \"Simple meditation practices for everyday life\",\n      readers: \"5.8k\",\n      rating: 4.8\n    },\n    {\n      id: 3,\n      title: \"Academic Success & Mental Health\",\n      author: \"Dr. Priya Sharma\",\n      category: \"Education\",\n      description: \"Balancing academic goals with emotional well-being\",\n      readers: \"2.1k\",\n      rating: 4.4\n    }\n  ]\n};\n\nconst liveEvents = [\n  {\n    id: 1,\n    title: \"Group Meditation Session\",\n    host: \"Mindfulness Coach Maya\",\n    time: \"7:00 PM Today\",\n    participants: 45,\n    category: \"Meditation\",\n    description: \"Join our community for a guided meditation session\"\n  },\n  {\n    id: 2,\n    title: \"Study With Me - Live\",\n    host: \"StudyBuddy Team\",\n    time: \"9:00 AM Tomorrow\",\n    participants: 128,\n    category: \"Study\",\n    description: \"Virtual study session with focus music and breaks\"\n  },\n  {\n    id: 3,\n    title: \"Mental Health Q&A\",\n    host: \"Dr. Rajesh Kumar\",\n    time: \"3:00 PM Tomorrow\",\n    participants: 67,\n    category: \"Education\",\n    description: \"Live session with mental health expert\"\n  }\n];\n\nexport default function Entertainment() {\n  const [activeTab, setActiveTab] = useState(\"music\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const renderContentCard = (item: any, type: string) => {\n    const getIcon = () => {\n      switch (type) {\n        case 'music': return <Music className=\"h-5 w-5\" />;\n        case 'videos': return <Film className=\"h-5 w-5\" />;\n        case 'games': return <Gamepad2 className=\"h-5 w-5\" />;\n        case 'books': return <BookOpen className=\"h-5 w-5\" />;\n        default: return <Play className=\"h-5 w-5\" />;\n      }\n    };\n\n    const getMetric = () => {\n      switch (type) {\n        case 'music': return `${item.plays} plays`;\n        case 'videos': return `${item.views} views`;\n        case 'games': return `${item.players} players`;\n        case 'books': return `${item.readers} readers`;\n        default: return '';\n      }\n    };\n\n    return (\n      <Card key={item.id} className=\"hover:shadow-md transition-shadow\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex items-start justify-between mb-3\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center\">\n                {getIcon()}\n              </div>\n              <div className=\"flex-1\">\n                <h3 className=\"font-semibold text-sm\" data-testid={`text-${type}-title-${item.id}`}>\n                  {item.title}\n                </h3>\n                <p className=\"text-xs text-muted-foreground\">\n                  {item.artist || item.channel || item.developer || item.author}\n                </p>\n              </div>\n            </div>\n            <Badge variant=\"outline\" className=\"text-xs\">\n              {item.category}\n            </Badge>\n          </div>\n          \n          <p className=\"text-xs text-muted-foreground mb-3 line-clamp-2\">\n            {item.description}\n          </p>\n          \n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4 text-xs text-muted-foreground\">\n              {(item.duration || item.time) && (\n                <span className=\"flex items-center gap-1\">\n                  <Clock className=\"h-3 w-3\" />\n                  {item.duration || item.time}\n                </span>\n              )}\n              <span className=\"flex items-center gap-1\">\n                <Star className=\"h-3 w-3 text-yellow-500 fill-current\" />\n                {item.rating}\n              </span>\n              <span>{getMetric()}</span>\n            </div>\n            <Button size=\"sm\" variant=\"outline\" data-testid={`button-play-${type}-${item.id}`}>\n              <Play className=\"h-3 w-3 mr-1\" />\n              {type === 'books' ? 'Read' : 'Play'}\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8\">\n        <BackButton />\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center\">\n              <Play className=\"h-6 w-6 text-primary\" />\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold text-foreground\">Entertainment Hub</h1>\n              <p className=\"text-muted-foreground\">Discover content to relax, learn, and have fun</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Search */}\n        <div className=\"mb-6\">\n          <Input\n            placeholder=\"Search for music, videos, games, or books...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"max-w-md\"\n            data-testid=\"input-entertainment-search\"\n          />\n        </div>\n\n        {/* Content Tabs */}\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"mb-8\">\n          <TabsList className=\"grid w-full max-w-md grid-cols-4\">\n            <TabsTrigger value=\"music\" className=\"text-xs\" data-testid=\"tab-music\">\n              <Music className=\"h-4 w-4 mr-1\" />\n              Music\n            </TabsTrigger>\n            <TabsTrigger value=\"videos\" className=\"text-xs\" data-testid=\"tab-videos\">\n              <Film className=\"h-4 w-4 mr-1\" />\n              Videos\n            </TabsTrigger>\n            <TabsTrigger value=\"games\" className=\"text-xs\" data-testid=\"tab-games\">\n              <Gamepad2 className=\"h-4 w-4 mr-1\" />\n              Games\n            </TabsTrigger>\n            <TabsTrigger value=\"books\" className=\"text-xs\" data-testid=\"tab-books\">\n              <BookOpen className=\"h-4 w-4 mr-1\" />\n              Books\n            </TabsTrigger>\n          </TabsList>\n\n          {Object.entries(entertainmentContent).map(([key, items]) => (\n            <TabsContent key={key} value={key} className=\"mt-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {items\n                  .filter(item => \n                    item.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                    item.description.toLowerCase().includes(searchTerm.toLowerCase())\n                  )\n                  .map(item => renderContentCard(item, key))\n                }\n              </div>\n            </TabsContent>\n          ))}\n        </Tabs>\n\n        {/* Live Events Section */}\n        <div className=\"mt-12\">\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"w-8 h-8 bg-red-500/10 rounded-lg flex items-center justify-center\">\n              <Mic className=\"h-4 w-4 text-red-500\" />\n            </div>\n            <h2 className=\"text-2xl font-bold\">Live Events</h2>\n            <Badge variant=\"destructive\" className=\"animate-pulse\">LIVE</Badge>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {liveEvents.map((event) => (\n              <Card key={event.id} className=\"hover:shadow-md transition-shadow border-l-4 border-l-red-500\">\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <Badge variant=\"outline\">{event.category}</Badge>\n                    <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                      <Users className=\"h-3 w-3\" />\n                      {event.participants}\n                    </div>\n                  </div>\n                  \n                  <h3 className=\"font-semibold mb-2\" data-testid={`text-live-event-title-${event.id}`}>\n                    {event.title}\n                  </h3>\n                  <p className=\"text-sm text-muted-foreground mb-3\">\n                    {event.description}\n                  </p>\n                  \n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-xs font-medium\">{event.host}</p>\n                      <p className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                        <Calendar className=\"h-3 w-3\" />\n                        {event.time}\n                      </p>\n                    </div>\n                    <Button size=\"sm\" data-testid={`button-join-live-${event.id}`}>\n                      Join Live\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":12026},"client/src/pages/live.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Radio, Users, Calendar, Clock, Mic, Video, MessageSquare, Heart, Share2, Volume2, Plus } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { BackButton } from \"@/components/ui/back-button\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nconst liveStreams = [\n  {\n    id: 1,\n    title: \"Morning Mindfulness Session\",\n    host: \"Dr. Priya Sharma\",\n    viewers: 234,\n    status: \"live\",\n    category: \"Meditation\",\n    description: \"Start your day with guided meditation and breathing exercises\",\n    startTime: \"08:00 AM\",\n    thumbnail: \"/api/placeholder/300/200\",\n    isAudio: false\n  },\n  {\n    id: 2,\n    title: \"Study Together - Focus Hour\",\n    host: \"StudyBuddy Community\",\n    viewers: 567,\n    status: \"live\",\n    category: \"Study\",\n    description: \"Virtual study room with ambient sounds and pomodoro breaks\",\n    startTime: \"10:00 AM\",\n    thumbnail: \"/api/placeholder/300/200\",\n    isAudio: true\n  },\n  {\n    id: 3,\n    title: \"Mental Health Check-in\",\n    host: \"Wellness Team\",\n    viewers: 89,\n    status: \"live\",\n    category: \"Support\",\n    description: \"Weekly community support session for mental wellness\",\n    startTime: \"03:00 PM\",\n    thumbnail: \"/api/placeholder/300/200\",\n    isAudio: false\n  }\n];\n\nconst sessionCategories = [\n  \"Meditation\",\n  \"Study\", \n  \"Support\",\n  \"Wellness\",\n  \"Education\"\n];\n\nconst upcomingStreams = [\n  {\n    id: 4,\n    title: \"Evening Yoga Flow\",\n    host: \"Yoga Instructor Maya\",\n    scheduledTime: \"06:00 PM\",\n    category: \"Wellness\",\n    description: \"Gentle yoga session to unwind after a busy day\"\n  },\n  {\n    id: 5,\n    title: \"Career Guidance Session\",\n    host: \"Dr. Rajesh Kumar\",\n    scheduledTime: \"07:30 PM\",\n    category: \"Education\",\n    description: \"Tips for managing career stress and academic pressure\"\n  }\n];\n\nexport default function Live() {\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  const [selectedStream, setSelectedStream] = useState(liveStreams[0]);\n  const [chatMessage, setChatMessage] = useState(\"\");\n  const [volume, setVolume] = useState([75]);\n  const [isConnected, setIsConnected] = useState(false);\n  const [isCreateSessionOpen, setIsCreateSessionOpen] = useState(false);\n  const [chatMessages, setChatMessages] = useState([\n    { id: 1, user: \"Alex M.\", message: \"This is really helpful, thanks!\", time: \"2 mins ago\" },\n    { id: 2, user: \"Priya S.\", message: \"Can you share the breathing technique again?\", time: \"3 mins ago\" },\n    { id: 3, user: \"Raj K.\", message: \"Joining from Mumbai 👋\", time: \"5 mins ago\" },\n  ]);\n  \n  const [newSession, setNewSession] = useState({\n    title: \"\",\n    description: \"\",\n    category: \"\",\n    isAudio: false,\n    scheduledStart: \"\",\n    maxParticipants: 100,\n    tags: [] as string[],\n  });\n\n  // Fetch live sessions from API\n  const { data: liveSessions, isLoading: isLoadingSessions, error: sessionsError } = useQuery({\n    queryKey: [\"/api/live-sessions\"],\n  });\n  \n  // Debug log to check data\n  console.log(\"Live sessions data:\", liveSessions, \"Loading:\", isLoadingSessions, \"Error:\", sessionsError);\n\n  const createSessionMutation = useMutation({\n    mutationFn: async (sessionData: any) => {\n      return await apiRequest(\"POST\", \"/api/live-sessions\", {\n        ...sessionData,\n        userId: currentUser?.id,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/live-sessions\"] });\n      setIsCreateSessionOpen(false);\n      setNewSession({\n        title: \"\",\n        description: \"\",\n        category: \"\",\n        isAudio: false,\n        scheduledStart: \"\",\n        maxParticipants: 100,\n        tags: [],\n      });\n      toast({\n        title: \"Live session created\",\n        description: \"Your live session has been created successfully.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create live session. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const startSessionMutation = useMutation({\n    mutationFn: async (sessionId: string) => {\n      return await apiRequest(\"POST\", `/api/live-sessions/${sessionId}/start`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/live-sessions\"] });\n      toast({\n        title: \"Session started\",\n        description: \"Your live session is now live!\",\n      });\n    },\n  });\n\n  useEffect(() => {\n    // Simulate connection status\n    const timer = setTimeout(() => setIsConnected(true), 1000);\n    return () => clearTimeout(timer);\n  }, [selectedStream]);\n\n  const handleSendMessage = () => {\n    if (chatMessage.trim() && currentUser) {\n      const newMessage = {\n        id: chatMessages.length + 1,\n        user: `${currentUser.firstName} ${currentUser.lastName}`,\n        message: chatMessage,\n        time: \"now\"\n      };\n      setChatMessages([newMessage, ...chatMessages]);\n      setChatMessage(\"\");\n    }\n  };\n\n  const handleJoinStream = (stream: any) => {\n    setSelectedStream(stream);\n    setIsConnected(false);\n  };\n\n  const handleCreateSession = () => {\n    if (!newSession.title.trim() || !newSession.description.trim() || !newSession.category) {\n      toast({\n        title: \"Missing information\",\n        description: \"Please fill in all required fields.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    \n    const sessionData = {\n      ...newSession,\n      status: \"scheduled\",\n      scheduledStart: newSession.scheduledStart ? new Date(newSession.scheduledStart) : null,\n    };\n    \n    createSessionMutation.mutate(sessionData);\n  };\n\n  const handleStartSession = (sessionId: string) => {\n    startSessionMutation.mutate(sessionId);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8\">\n        <BackButton />\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"w-12 h-12 bg-red-500/10 rounded-lg flex items-center justify-center\">\n              <Radio className=\"h-6 w-6 text-red-500\" />\n            </div>\n            <div className=\"flex-1\">\n              <h1 className=\"text-3xl font-bold text-foreground\">Live Sessions</h1>\n              <p className=\"text-muted-foreground\">Join live mental health and wellness sessions</p>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <Dialog open={isCreateSessionOpen} onOpenChange={setIsCreateSessionOpen}>\n                <DialogTrigger asChild>\n                  <Button className=\"bg-red-600 hover:bg-red-700 text-white font-medium\" data-testid=\"button-start-live-session\">\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Start Live Session\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"max-w-2xl\">\n                  <DialogHeader>\n                    <DialogTitle className=\"text-xl font-semibold text-gray-900 dark:text-white\">Start Live Session</DialogTitle>\n                  </DialogHeader>\n                  \n                  <div className=\"space-y-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Session Title *\n                      </label>\n                      <Input\n                        placeholder=\"e.g., Morning Mindfulness Session\"\n                        value={newSession.title}\n                        onChange={(e) => setNewSession({ ...newSession, title: e.target.value })}\n                        data-testid=\"input-session-title\"\n                      />\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Category *\n                      </label>\n                      <Select \n                        value={newSession.category} \n                        onValueChange={(value) => setNewSession({ ...newSession, category: value })}\n                      >\n                        <SelectTrigger data-testid=\"select-session-category\">\n                          <SelectValue placeholder=\"Select category\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          {sessionCategories.map((category) => (\n                            <SelectItem key={category} value={category}>\n                              {category}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Description *\n                      </label>\n                      <Textarea\n                        placeholder=\"Describe what your session will cover...\"\n                        rows={3}\n                        value={newSession.description}\n                        onChange={(e) => setNewSession({ ...newSession, description: e.target.value })}\n                        data-testid=\"textarea-session-description\"\n                      />\n                    </div>\n                    \n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                          Session Type\n                        </label>\n                        <div className=\"flex items-center space-x-4\">\n                          <label className=\"flex items-center\">\n                            <input\n                              type=\"radio\"\n                              checked={!newSession.isAudio}\n                              onChange={() => setNewSession({ ...newSession, isAudio: false })}\n                              className=\"mr-2\"\n                              data-testid=\"radio-video-session\"\n                            />\n                            Video Session\n                          </label>\n                          <label className=\"flex items-center\">\n                            <input\n                              type=\"radio\"\n                              checked={newSession.isAudio}\n                              onChange={() => setNewSession({ ...newSession, isAudio: true })}\n                              className=\"mr-2\"\n                              data-testid=\"radio-audio-session\"\n                            />\n                            Audio Only\n                          </label>\n                        </div>\n                      </div>\n                      \n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                          Max Participants\n                        </label>\n                        <Input\n                          type=\"number\"\n                          min=\"1\"\n                          max=\"500\"\n                          value={newSession.maxParticipants}\n                          onChange={(e) => setNewSession({ ...newSession, maxParticipants: parseInt(e.target.value) || 100 })}\n                          data-testid=\"input-max-participants\"\n                        />\n                      </div>\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Scheduled Start (Optional)\n                      </label>\n                      <Input\n                        type=\"datetime-local\"\n                        value={newSession.scheduledStart}\n                        onChange={(e) => setNewSession({ ...newSession, scheduledStart: e.target.value })}\n                        data-testid=\"input-scheduled-start\"\n                      />\n                      <p className=\"text-xs text-gray-500 mt-1\">Leave empty to start immediately</p>\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Tags (Optional)\n                      </label>\n                      <Input\n                        placeholder=\"mindfulness, wellness, study (comma separated)\"\n                        onChange={(e) => {\n                          const tags = e.target.value.split(',').map(tag => tag.trim()).filter(Boolean);\n                          setNewSession({ ...newSession, tags });\n                        }}\n                        data-testid=\"input-session-tags\"\n                      />\n                    </div>\n                    \n                    <div className=\"bg-blue-50 dark:bg-blue-950/30 rounded-lg p-4 border border-blue-100 dark:border-blue-800\">\n                      <p className=\"text-sm text-blue-700 dark:text-blue-300\">\n                        <Radio className=\"inline h-4 w-4 mr-2\" />\n                        Your session will be visible to all users. Make sure to follow community guidelines.\n                      </p>\n                    </div>\n                    \n                    <div className=\"flex justify-end space-x-2\">\n                      <Button \n                        variant=\"outline\" \n                        onClick={() => setIsCreateSessionOpen(false)}\n                      >\n                        Cancel\n                      </Button>\n                      <Button \n                        onClick={handleCreateSession}\n                        disabled={createSessionMutation.isPending}\n                        className=\"bg-red-600 hover:bg-red-700 text-white font-medium\"\n                        data-testid=\"button-create-session\"\n                      >\n                        {createSessionMutation.isPending ? \"Creating...\" : \"Create Session\"}\n                      </Button>\n                    </div>\n                  </div>\n                </DialogContent>\n              </Dialog>\n              <Badge variant=\"destructive\" className=\"animate-pulse\">\n                <Radio className=\"h-3 w-3 mr-1\" />\n                LIVE\n              </Badge>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 xl:grid-cols-4 gap-6\">\n          {/* Main Video/Audio Player */}\n          <div className=\"xl:col-span-3\">\n            <Card className=\"mb-6\">\n              <CardContent className=\"p-0\">\n                {/* Video/Audio Player */}\n                <div className=\"relative bg-black rounded-t-lg\">\n                  {selectedStream.isAudio ? (\n                    <div className=\"aspect-video flex items-center justify-center bg-gradient-to-br from-primary/20 to-primary/5\">\n                      <div className=\"text-center\">\n                        <div className=\"w-24 h-24 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4\">\n                          <Volume2 className=\"h-12 w-12 text-primary\" />\n                        </div>\n                        <h3 className=\"text-lg font-semibold text-foreground mb-2\">Audio Stream</h3>\n                        <p className=\"text-muted-foreground\">Listen to the live session</p>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"aspect-video bg-gray-900 flex items-center justify-center\">\n                      <div className=\"text-center text-white\">\n                        <Video className=\"h-16 w-16 mx-auto mb-4 opacity-50\" />\n                        <p>Video Stream</p>\n                        {!isConnected && (\n                          <div className=\"mt-4\">\n                            <div className=\"animate-spin h-6 w-6 border-2 border-white border-t-transparent rounded-full mx-auto\"></div>\n                            <p className=\"mt-2 text-sm\">Connecting...</p>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                  \n                  {/* Live indicator */}\n                  <div className=\"absolute top-4 left-4\">\n                    <Badge variant=\"destructive\" className=\"animate-pulse\">\n                      <Radio className=\"h-3 w-3 mr-1\" />\n                      LIVE\n                    </Badge>\n                  </div>\n                  \n                  {/* Viewer count */}\n                  <div className=\"absolute top-4 right-4 bg-black/50 px-3 py-1 rounded-full text-white text-sm\">\n                    <Users className=\"h-4 w-4 inline mr-1\" />\n                    {selectedStream.viewers} watching\n                  </div>\n                </div>\n\n                {/* Player Controls */}\n                <div className=\"p-4\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div>\n                      <h2 className=\"text-xl font-semibold\" data-testid=\"text-stream-title\">\n                        {selectedStream.title}\n                      </h2>\n                      <p className=\"text-muted-foreground\">Hosted by {selectedStream.host}</p>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Button variant=\"outline\" size=\"sm\" data-testid=\"button-share-stream\">\n                        <Share2 className=\"h-4 w-4 mr-1\" />\n                        Share\n                      </Button>\n                      <Button variant=\"outline\" size=\"sm\" data-testid=\"button-like-stream\">\n                        <Heart className=\"h-4 w-4 mr-1\" />\n                        Like\n                      </Button>\n                    </div>\n                  </div>\n                  \n                  <p className=\"text-muted-foreground mb-4\">{selectedStream.description}</p>\n                  \n                  {/* Volume Control */}\n                  <div className=\"flex items-center gap-4\">\n                    <Volume2 className=\"h-4 w-4\" />\n                    <Slider\n                      value={volume}\n                      onValueChange={setVolume}\n                      max={100}\n                      step={1}\n                      className=\"flex-1 max-w-32\"\n                    />\n                    <span className=\"text-sm text-muted-foreground w-10\">{volume[0]}%</span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Other Live Streams */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Other Live Streams</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {liveStreams\n                    .filter(stream => stream.id !== selectedStream.id)\n                    .map((stream) => (\n                    <Card \n                      key={stream.id} \n                      className=\"cursor-pointer hover:shadow-md transition-shadow border-l-4 border-l-red-500\"\n                      onClick={() => handleJoinStream(stream)}\n                      data-testid={`card-stream-${stream.id}`}\n                    >\n                      <CardContent className=\"p-4\">\n                        <div className=\"flex items-start justify-between mb-2\">\n                          <Badge variant=\"outline\">{stream.category}</Badge>\n                          <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                            <Users className=\"h-3 w-3\" />\n                            {stream.viewers}\n                          </div>\n                        </div>\n                        <h3 className=\"font-semibold mb-1\">{stream.title}</h3>\n                        <p className=\"text-sm text-muted-foreground mb-2\">{stream.description}</p>\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-xs text-muted-foreground\">{stream.host}</span>\n                          <Badge variant=\"destructive\" className=\"text-xs\">LIVE</Badge>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Chat Sidebar */}\n          <div className=\"xl:col-span-1\">\n            <Card className=\"h-[600px] flex flex-col\">\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"flex items-center gap-2\">\n                  <MessageSquare className=\"h-5 w-5\" />\n                  Live Chat\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"flex-1 flex flex-col p-0\">\n                {/* Chat Messages */}\n                <ScrollArea className=\"flex-1 px-4\">\n                  <div className=\"space-y-3 pb-4\">\n                    {chatMessages.map((msg) => (\n                      <div key={msg.id} className=\"text-sm\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <span className=\"font-medium text-xs\">{msg.user}</span>\n                          <span className=\"text-xs text-muted-foreground\">{msg.time}</span>\n                        </div>\n                        <p className=\"text-foreground\">{msg.message}</p>\n                      </div>\n                    ))}\n                  </div>\n                </ScrollArea>\n                \n                {/* Chat Input */}\n                <div className=\"p-4 border-t\">\n                  <div className=\"flex gap-2\">\n                    <Input\n                      placeholder=\"Type a message...\"\n                      value={chatMessage}\n                      onChange={(e) => setChatMessage(e.target.value)}\n                      onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                      data-testid=\"input-chat-message\"\n                    />\n                    <Button onClick={handleSendMessage} size=\"sm\" data-testid=\"button-send-message\">\n                      Send\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Available Live Sessions */}\n            <Card className=\"mt-6\">\n              <CardHeader>\n                <CardTitle className=\"text-lg flex items-center gap-2\">\n                  <Radio className=\"h-4 w-4 text-red-500\" />\n                  Live Sessions\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                {isLoadingSessions ? (\n                  <div className=\"space-y-3\">\n                    <div className=\"h-16 bg-gray-100 dark:bg-gray-800 rounded animate-pulse\"></div>\n                    <div className=\"h-16 bg-gray-100 dark:bg-gray-800 rounded animate-pulse\"></div>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {(Array.isArray(liveSessions) && liveSessions.length > 0) ? (\n                      liveSessions.filter((session: any) => session.status === 'live').map((session: any) => (\n                        <div key={session.id} className=\"p-3 border rounded-lg bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800\">\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <Badge variant=\"destructive\" className=\"animate-pulse\">\n                              <Radio className=\"h-3 w-3 mr-1\" />\n                              LIVE\n                            </Badge>\n                            <Badge variant=\"outline\">{session.category}</Badge>\n                          </div>\n                          <h4 className=\"font-medium text-sm mb-1\">{session.title}</h4>\n                          <p className=\"text-xs text-muted-foreground mb-2\">{session.description}</p>\n                          <div className=\"flex items-center justify-between\">\n                            <p className=\"text-xs font-medium\">{session.hostName || currentUser?.firstName + ' ' + currentUser?.lastName}</p>\n                            <Button \n                              size=\"sm\" \n                              onClick={() => handleJoinStream(session)}\n                              className=\"bg-red-600 hover:bg-red-700 text-white\"\n                              data-testid={`button-join-session-${session.id}`}\n                            >\n                              Join Live\n                            </Button>\n                          </div>\n                          <div className=\"mt-2 text-xs text-muted-foreground\">\n                            <Users className=\"h-3 w-3 inline mr-1\" />\n                            {session.currentViewers || 0} watching\n                          </div>\n                        </div>\n                      ))\n                    ) : (\n                      <div className=\"text-center py-6 text-muted-foreground\">\n                        <Radio className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n                        <p>No live sessions right now</p>\n                        <p className=\"text-sm\">Start your own session to connect with the community!</p>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Upcoming Streams */}\n            <Card className=\"mt-6\">\n              <CardHeader>\n                <CardTitle className=\"text-lg\">Upcoming</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {upcomingStreams.map((stream) => (\n                    <div key={stream.id} className=\"p-3 border rounded-lg\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <Badge variant=\"outline\">{stream.category}</Badge>\n                        <span className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                          <Clock className=\"h-3 w-3\" />\n                          {stream.scheduledTime}\n                        </span>\n                      </div>\n                      <h4 className=\"font-medium text-sm mb-1\">{stream.title}</h4>\n                      <p className=\"text-xs text-muted-foreground mb-2\">{stream.description}</p>\n                      <p className=\"text-xs font-medium\">{stream.host}</p>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":27621},"client/src/components/ui/back-button.tsx":{"content":"import { ArrowLeft } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useLocation } from \"wouter\";\n\ninterface BackButtonProps {\n  to?: string;\n  fallbackTo?: string;\n  className?: string;\n  children?: React.ReactNode;\n}\n\nexport function BackButton({ to, fallbackTo = \"/\", className = \"\", children = \"Back\" }: BackButtonProps) {\n  const [, setLocation] = useLocation();\n\n  const handleClick = () => {\n    // If a specific destination is provided, navigate there\n    if (to) {\n      setLocation(to);\n      return;\n    }\n\n    // Try to go back in browser history if there's a history entry and referrer is from same origin\n    const sameOriginReferrer = document.referrer && \n      new URL(document.referrer).origin === window.location.origin;\n    \n    if (window.history.length > 1 && sameOriginReferrer) {\n      window.history.back();\n    } else {\n      // Fallback to specified route if no valid history\n      setLocation(fallbackTo);\n    }\n  };\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"sm\"\n      onClick={handleClick}\n      className={`mb-6 ${className}`}\n      data-testid=\"button-back\"\n    >\n      <ArrowLeft className=\"h-4 w-4 mr-2\" />\n      {children}\n    </Button>\n  );\n}","size_bytes":1224},"client/src/components/chat/custom-personality-dialog.tsx":{"content":"import { useState, useRef } from \"react\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Upload, FileText, MessageCircle, Bot, Sparkles, Camera, User } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\ninterface CustomPersonalityDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  userId: string;\n  onPersonalityCreated: (personality: any) => void;\n}\n\nexport default function CustomPersonalityDialog({ \n  open, \n  onOpenChange, \n  userId,\n  onPersonalityCreated \n}: CustomPersonalityDialogProps) {\n  const [loading, setLoading] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [chatData, setChatData] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [selectedPhoto, setSelectedPhoto] = useState<File | null>(null);\n  const [photoPreview, setPhotoPreview] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState(\"file\");\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const photoInputRef = useRef<HTMLInputElement>(null);\n  const { toast } = useToast();\n\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      if (file.size > 10 * 1024 * 1024) { // 10MB limit\n        toast({\n          title: \"File too large\",\n          description: \"Please select a file smaller than 10MB.\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      \n      const allowedTypes = ['text/plain', 'application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\n      if (!allowedTypes.includes(file.type)) {\n        toast({\n          title: \"Invalid file type\",\n          description: \"Please select a TXT, PDF, or Word document.\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      \n      setSelectedFile(file);\n      setName(name || `AI from ${file.name}`);\n    }\n  };\n\n  const handlePhotoSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) { // 5MB limit for images\n        toast({\n          title: \"Image too large\",\n          description: \"Please select an image smaller than 5MB.\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      \n      const allowedImageTypes = ['image/jpeg', 'image/png', 'image/webp', 'image/gif'];\n      if (!allowedImageTypes.includes(file.type)) {\n        toast({\n          title: \"Invalid image type\",\n          description: \"Please select a JPG, PNG, WEBP, or GIF image.\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      \n      setSelectedPhoto(file);\n      \n      // Create preview URL\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setPhotoPreview(e.target?.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const processFileData = async (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const content = e.target?.result as string;\n        resolve(content);\n      };\n      reader.onerror = () => reject(new Error('Failed to read file'));\n      reader.readAsText(file);\n    });\n  };\n\n  const trainLocalAI = (trainingData: string) => {\n    // Simple local AI training - extract patterns from chat data\n    const lines = trainingData.split('\\n').filter(line => line.trim());\n    const messages = [];\n    \n    // Try to parse WhatsApp format: \"DD/MM/YY, HH:MM - Name: Message\"\n    const whatsappRegex = /^\\d{1,2}\\/\\d{1,2}\\/\\d{2,4},\\s\\d{1,2}:\\d{2}\\s(?:am|pm)?\\s?-\\s([^:]+):\\s(.+)$/i;\n    \n    for (const line of lines) {\n      const match = line.match(whatsappRegex);\n      if (match) {\n        const [, sender, message] = match;\n        messages.push({ sender: sender.trim(), message: message.trim() });\n      } else if (line.includes(':') && !line.startsWith('[')) {\n        // Simple format: \"Name: Message\"\n        const colonIndex = line.indexOf(':');\n        if (colonIndex > 0) {\n          const sender = line.substring(0, colonIndex).trim();\n          const message = line.substring(colonIndex + 1).trim();\n          if (message) {\n            messages.push({ sender, message });\n          }\n        }\n      }\n    }\n    \n    // Extract personality traits\n    const senders = Array.from(new Set(messages.map(m => m.sender)));\n    const mainSender = senders.find(s => s.toLowerCase() !== 'system') || senders[0];\n    const senderMessages = messages.filter(m => m.sender === mainSender);\n    \n    // Extract common phrases and patterns\n    const commonPhrases = [];\n    const responses = senderMessages.map(m => m.message);\n    \n    // Find frequently used words/phrases\n    const wordCount: Record<string, number> = {};\n    responses.forEach(response => {\n      const words = response.toLowerCase().split(/\\s+/);\n      words.forEach(word => {\n        if (word.length > 3 && !['this', 'that', 'with', 'have', 'will', 'been', 'from'].includes(word)) {\n          wordCount[word] = (wordCount[word] || 0) + 1;\n        }\n      });\n    });\n    \n    // Get top phrases\n    const sortedWords = Object.entries(wordCount)\n      .sort(([, a], [, b]) => b - a)\n      .slice(0, 10)\n      .map(([word]) => word);\n    \n    return {\n      name: mainSender || 'Trained AI',\n      commonPhrases: sortedWords,\n      sampleResponses: responses.slice(0, 20),\n      messageCount: senderMessages.length,\n      conversationStyle: responses.join(' ').toLowerCase().includes('lol') || responses.join(' ').toLowerCase().includes('haha') ? 'casual' : 'formal'\n    };\n  };\n\n  const handleSubmit = async () => {\n    if (!name.trim()) {\n      toast({\n        title: \"Name required\",\n        description: \"Please enter a name for your custom AI.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    if (activeTab === \"file\" && !selectedFile) {\n      toast({\n        title: \"File required\",\n        description: \"Please select a chat file to train your AI.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    if (activeTab === \"text\" && !chatData.trim()) {\n      toast({\n        title: \"Chat data required\",\n        description: \"Please paste some chat conversation data.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      let trainingData = '';\n      let sourceType = 'text';\n      let originalFileName = '';\n      \n      if (activeTab === \"file\" && selectedFile) {\n        trainingData = await processFileData(selectedFile);\n        sourceType = 'file';\n        originalFileName = selectedFile.name;\n      } else {\n        trainingData = chatData;\n        sourceType = 'text';\n      }\n      \n      // Train local AI\n      const aiPersonality = trainLocalAI(trainingData);\n      \n      const customPersonality = {\n        name: name.trim(),\n        description: description.trim() || `AI trained from ${sourceType === 'file' ? 'uploaded file' : 'chat data'}`,\n        sourceType,\n        originalFileName,\n        trainingData: trainingData.substring(0, 5000), // Store first 5000 chars for reference\n        aiPersonality,\n        photo: photoPreview, // Store the photo preview URL\n        customPrompt: `You are ${name}, a custom AI trained on conversation data. \n        Your speaking style includes phrases like: ${aiPersonality.commonPhrases.join(', ')}.\n        You have a ${aiPersonality.conversationStyle} conversation style.\n        Respond naturally and authentically based on the conversation patterns you learned.\n        Always be helpful and supportive while maintaining your unique personality.`\n      };\n      \n      toast({\n        title: \"Custom AI Created! 🎉\",\n        description: \"Your personalized chatbot is ready to use - completely free, no API keys needed!\",\n      });\n\n      onPersonalityCreated(customPersonality);\n      handleClose();\n      \n    } catch (error: any) {\n      console.error('Error creating personality:', error);\n      \n      toast({\n        title: \"Unable to Create Custom AI\",\n        description: \"There was an issue processing your training data. Please check your file or text and try again.\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleClose = () => {\n    setName(\"\");\n    setDescription(\"\");\n    setChatData(\"\");\n    setSelectedFile(null);\n    setSelectedPhoto(null);\n    setPhotoPreview(null);\n    setActiveTab(\"file\");\n    onOpenChange(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Sparkles className=\"h-5 w-5 text-primary\" />\n            Create Your Custom AI Bot\n          </DialogTitle>\n          <DialogDescription>\n            Train your own AI companion using your chat conversations. Completely free - no external API keys required!\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* AI Info */}\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"name\">AI Name</Label>\n              <Input\n                id=\"name\"\n                placeholder=\"e.g., My Chat Buddy, Dev AI, Friend Bot\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                data-testid=\"input-ai-name\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"description\">Description (Optional)</Label>\n              <Input\n                id=\"description\"\n                placeholder=\"Describe what makes this AI special\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                data-testid=\"input-ai-description\"\n              />\n            </div>\n            \n            {/* Photo Upload */}\n            <div>\n              <Label>AI Profile Photo (Optional)</Label>\n              <div className=\"flex items-center space-x-4 mt-2\">\n                <div className=\"w-16 h-16 rounded-full border-2 border-dashed border-muted-foreground/30 flex items-center justify-center overflow-hidden bg-muted/10\">\n                  {photoPreview ? (\n                    <img \n                      src={photoPreview} \n                      alt=\"AI profile preview\" \n                      className=\"w-full h-full object-cover\"\n                    />\n                  ) : (\n                    <User className=\"h-8 w-8 text-muted-foreground/50\" />\n                  )}\n                </div>\n                <div className=\"flex-1 space-y-2\">\n                  <Button \n                    type=\"button\"\n                    variant=\"outline\" \n                    size=\"sm\"\n                    onClick={() => photoInputRef.current?.click()}\n                    data-testid=\"button-upload-photo\"\n                  >\n                    <Camera className=\"h-4 w-4 mr-2\" />\n                    {photoPreview ? \"Change Photo\" : \"Upload Photo\"}\n                  </Button>\n                  {photoPreview && (\n                    <Button \n                      type=\"button\"\n                      variant=\"ghost\" \n                      size=\"sm\"\n                      onClick={() => {\n                        setSelectedPhoto(null);\n                        setPhotoPreview(null);\n                      }}\n                      data-testid=\"button-remove-photo\"\n                    >\n                      Remove Photo\n                    </Button>\n                  )}\n                  <p className=\"text-xs text-muted-foreground\">\n                    JPG, PNG, WEBP, GIF (Max 5MB)\n                  </p>\n                </div>\n                <input\n                  ref={photoInputRef}\n                  type=\"file\"\n                  accept=\"image/jpeg,image/png,image/webp,image/gif\"\n                  onChange={handlePhotoSelect}\n                  className=\"hidden\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Training Data */}\n          <Tabs value={activeTab} onValueChange={setActiveTab}>\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"file\" className=\"flex items-center gap-2\">\n                <Upload className=\"h-4 w-4\" />\n                Upload Chat File\n              </TabsTrigger>\n              <TabsTrigger value=\"text\" className=\"flex items-center gap-2\">\n                <MessageCircle className=\"h-4 w-4\" />\n                Paste Chat Data\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"file\" className=\"space-y-4\">\n              <div className=\"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center\">\n                {selectedFile ? (\n                  <div className=\"space-y-2\">\n                    <FileText className=\"h-12 w-12 text-green-500 mx-auto\" />\n                    <p className=\"font-medium\">{selectedFile.name}</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {(selectedFile.size / 1024 / 1024).toFixed(2)} MB\n                    </p>\n                    <Button \n                      variant=\"outline\" \n                      size=\"sm\" \n                      onClick={() => setSelectedFile(null)}\n                      data-testid=\"button-remove-file\"\n                    >\n                      Remove File\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    <Upload className=\"h-12 w-12 text-muted-foreground/50 mx-auto\" />\n                    <div>\n                      <p className=\"font-medium\">Upload WhatsApp Chat or Text File</p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Supported: TXT, PDF, Word documents (Max 10MB)\n                      </p>\n                    </div>\n                    <Button \n                      variant=\"outline\"\n                      onClick={() => fileInputRef.current?.click()}\n                      data-testid=\"button-select-file\"\n                    >\n                      <Upload className=\"h-4 w-4 mr-2\" />\n                      Select File\n                    </Button>\n                  </div>\n                )}\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\".txt,.pdf,.doc,.docx\"\n                  onChange={handleFileSelect}\n                  className=\"hidden\"\n                />\n              </div>\n              \n              <div className=\"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg\">\n                <h4 className=\"font-medium text-blue-900 dark:text-blue-100 mb-2\">\n                  💡 How to export WhatsApp chats:\n                </h4>\n                <ol className=\"text-sm text-blue-800 dark:text-blue-200 space-y-1 list-decimal list-inside\">\n                  <li>Open WhatsApp chat</li>\n                  <li>Tap the contact/group name at top</li>\n                  <li>Scroll down and tap \"Export Chat\"</li>\n                  <li>Choose \"Without Media\" for faster processing</li>\n                  <li>Upload the exported .txt file here</li>\n                </ol>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"text\" className=\"space-y-4\">\n              <div>\n                <Label htmlFor=\"chatData\">Paste Chat Conversation</Label>\n                <Textarea\n                  id=\"chatData\"\n                  placeholder=\"Paste your chat conversation here... For example:\n12/01/24, 2:30 PM - John: Hey, how are you doing?\n12/01/24, 2:31 PM - Sarah: I'm good! Just working on some coding projects.\n12/01/24, 2:32 PM - John: That sounds cool! What are you building?\"\n                  value={chatData}\n                  onChange={(e) => setChatData(e.target.value)}\n                  className=\"min-h-[200px] font-mono text-sm\"\n                  data-testid=\"textarea-chat-data\"\n                />\n              </div>\n              \n              <div className=\"bg-green-50 dark:bg-green-950/20 p-4 rounded-lg\">\n                <h4 className=\"font-medium text-green-900 dark:text-green-100 mb-2\">\n                  ✨ Your AI will learn:\n                </h4>\n                <ul className=\"text-sm text-green-800 dark:text-green-200 space-y-1 list-disc list-inside\">\n                  <li>Speaking style and tone</li>\n                  <li>Common phrases and expressions</li>\n                  <li>Response patterns and personality quirks</li>\n                  <li>Topics of interest and expertise</li>\n                  <li>Emotional expressions and reactions</li>\n                </ul>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={handleClose} disabled={loading}>\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} disabled={loading} data-testid=\"button-create-ai\">\n            {loading ? (\n              <>\n                <Bot className=\"h-4 w-4 mr-2 animate-spin\" />\n                Creating AI...\n              </>\n            ) : (\n              <>\n                <Sparkles className=\"h-4 w-4 mr-2\" />\n                Create Custom AI\n              </>\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":18008},"server/services/chat-parser.ts":{"content":"export interface ChatMessage {\n  timestamp: Date;\n  sender: string;\n  content: string;\n  isMedia: boolean;\n}\n\nexport interface ConversationPattern {\n  keywords: string[];\n  responses: string[];\n  context: string[];\n  sentiment: 'positive' | 'negative' | 'neutral' | 'supportive' | 'humorous';\n  frequency: number;\n}\n\nexport interface PersonalityTraits {\n  name: string;\n  commonPhrases: string[];\n  responsePatterns: ConversationPattern[];\n  communicationStyle: {\n    emojis: string[];\n    punctuation: string[];\n    exclamations: string[];\n    questions: string[];\n  };\n  topics: Map<string, string[]>;\n}\n\nexport class WhatsAppChatParser {\n  \n  parseWhatsAppChat(content: string): ChatMessage[] {\n    const messages: ChatMessage[] = [];\n    const lines = content.split('\\n');\n    \n    // WhatsApp message format: DD/MM/YY, HH:MM - Sender: Message\n    const messageRegex = /^(\\d{2}\\/\\d{2}\\/\\d{2}),\\s(\\d{1,2}:\\d{2}\\s(?:am|pm))\\s-\\s([^:]+):\\s(.*)$/i;\n    \n    for (const line of lines) {\n      const trimmedLine = line.trim();\n      \n      // Skip empty lines and system messages\n      if (!trimmedLine || trimmedLine.includes('end-to-end encrypted') || \n          trimmedLine.includes('Messages and calls are')) {\n        continue;\n      }\n      \n      const match = trimmedLine.match(messageRegex);\n      if (match) {\n        const [, datePart, timePart, sender, content] = match;\n        \n        // Parse date and time\n        const [day, month, year] = datePart.split('/').map(Number);\n        const [time, period] = timePart.split(' ');\n        let [hours, minutes] = time.split(':').map(Number);\n        \n        // Convert to 24-hour format\n        if (period && period.toLowerCase() === 'pm' && hours !== 12) {\n          hours += 12;\n        } else if (period && period.toLowerCase() === 'am' && hours === 12) {\n          hours = 0;\n        }\n        \n        const fullYear = year < 50 ? 2000 + year : 1900 + year;\n        const timestamp = new Date(fullYear, month - 1, day, hours, minutes);\n        \n        const isMedia = content.includes('<Media omitted>') || \n                       content.includes('http') || \n                       content.includes('https://');\n        \n        messages.push({\n          timestamp,\n          sender: sender.trim(),\n          content: content.trim(),\n          isMedia\n        });\n      }\n    }\n    \n    return messages;\n  }\n\n  analyzePersonality(messages: ChatMessage[]): PersonalityTraits {\n    const senderGroups = this.groupMessagesBySender(messages);\n    const allTraits: PersonalityTraits[] = [];\n    \n    // Analyze each sender's personality\n    senderGroups.forEach((senderMessages, senderName) => {\n      const traits = this.extractPersonalityTraits(senderName, senderMessages);\n      allTraits.push(traits);\n    });\n    \n    // Combine traits to create a composite personality\n    return this.mergePersonalityTraits(allTraits);\n  }\n\n  private groupMessagesBySender(messages: ChatMessage[]): Map<string, ChatMessage[]> {\n    const grouped = new Map<string, ChatMessage[]>();\n    \n    for (const message of messages) {\n      if (!grouped.has(message.sender)) {\n        grouped.set(message.sender, []);\n      }\n      grouped.get(message.sender)!.push(message);\n    }\n    \n    return grouped;\n  }\n\n  private extractPersonalityTraits(name: string, messages: ChatMessage[]): PersonalityTraits {\n    const commonPhrases: string[] = [];\n    const emojis: string[] = [];\n    const punctuation: string[] = [];\n    const exclamations: string[] = [];\n    const questions: string[] = [];\n    const responsePatterns: ConversationPattern[] = [];\n    const topics = new Map<string, string[]>();\n    \n    // Extract common phrases, emojis, and patterns\n    const wordFreq = new Map<string, number>();\n    const phraseFreq = new Map<string, number>();\n    \n    for (const message of messages) {\n      if (message.isMedia) continue;\n      \n      const content = message.content.toLowerCase();\n      \n      // Extract common emoji characters (simplified approach)\n      const emojiMatches = content.match(/[\\u{1F600}-\\u{1F64F}]|[\\u{1F300}-\\u{1F5FF}]|[\\u{1F680}-\\u{1F6FF}]|[\\u{2600}-\\u{26FF}]|[\\u{2700}-\\u{27BF}]/gu);\n      if (emojiMatches) {\n        emojis.push(...emojiMatches);\n      }\n      \n      // Extract punctuation patterns\n      if (content.includes('...') || content.includes('....')) {\n        punctuation.push('...');\n      }\n      if (content.includes('!!')) {\n        punctuation.push('!!');\n      }\n      if (content.includes('??')) {\n        punctuation.push('??');\n      }\n      \n      // Extract exclamations and questions\n      if (content.includes('!')) {\n        const exclamationWords = content.match(/\\w+!/g);\n        if (exclamationWords) exclamations.push(...exclamationWords);\n      }\n      \n      if (content.includes('?')) {\n        questions.push(content);\n      }\n      \n      // Extract common words and phrases\n      const words = content.split(' ').filter(w => w.length > 2);\n      words.forEach(word => {\n        const clean = word.replace(/[^\\w\\s]/g, '');\n        if (clean) {\n          wordFreq.set(clean, (wordFreq.get(clean) || 0) + 1);\n        }\n      });\n      \n      // Extract 2-3 word phrases\n      for (let i = 0; i < words.length - 1; i++) {\n        const phrase = words.slice(i, i + 2).join(' ');\n        phraseFreq.set(phrase, (phraseFreq.get(phrase) || 0) + 1);\n      }\n      \n      // Topic detection (simple keyword-based)\n      this.detectTopics(content, topics);\n    }\n    \n    // Get most common phrases\n    const sortedPhrases = Array.from(phraseFreq.entries())\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 20)\n      .filter(([phrase, freq]) => freq > 1)\n      .map(([phrase]) => phrase);\n    \n    commonPhrases.push(...sortedPhrases);\n    \n    // Create response patterns\n    responsePatterns.push(...this.createResponsePatterns(messages));\n    \n    return {\n      name,\n      commonPhrases: commonPhrases.slice(0, 15),\n      responsePatterns,\n      communicationStyle: {\n        emojis: Array.from(new Set(emojis)).slice(0, 10),\n        punctuation: Array.from(new Set(punctuation)),\n        exclamations: Array.from(new Set(exclamations)).slice(0, 10),\n        questions: questions.slice(0, 5)\n      },\n      topics\n    };\n  }\n\n  private detectTopics(content: string, topics: Map<string, string[]>): void {\n    const topicKeywords = {\n      'study': ['study', 'exam', 'test', 'assignment', 'homework', 'class', 'teacher', 'sir', 'college', 'clg'],\n      'tech': ['coding', 'development', 'programming', 'website', 'app', 'frontend', 'backend', 'react', 'javascript', 'dsa'],\n      'health': ['jor', 'fever', 'sick', 'doctor', 'medicine', 'health', 'hospital'],\n      'social': ['friend', 'family', 'party', 'meeting', 'call', 'chat', 'talk'],\n      'work': ['job', 'work', 'project', 'team', 'hackathon', 'startup', 'career'],\n      'personal': ['feeling', 'happy', 'sad', 'worried', 'excited', 'tired', 'stressed']\n    };\n    \n    for (const [topic, keywords] of Object.entries(topicKeywords)) {\n      for (const keyword of keywords) {\n        if (content.includes(keyword)) {\n          if (!topics.has(topic)) {\n            topics.set(topic, []);\n          }\n          topics.get(topic)!.push(content);\n          break;\n        }\n      }\n    }\n  }\n\n  private createResponsePatterns(messages: ChatMessage[]): ConversationPattern[] {\n    const patterns: ConversationPattern[] = [];\n    \n    // Analyze message pairs to find response patterns\n    for (let i = 0; i < messages.length - 1; i++) {\n      const currentMsg = messages[i];\n      const nextMsg = messages[i + 1];\n      \n      if (currentMsg.isMedia || nextMsg.isMedia) continue;\n      \n      // Simple pattern matching for common conversation flows\n      const keywords = this.extractKeywords(currentMsg.content);\n      const response = nextMsg.content;\n      \n      if (keywords.length > 0) {\n        const existingPattern = patterns.find(p => \n          p.keywords.some(k => keywords.includes(k))\n        );\n        \n        if (existingPattern) {\n          existingPattern.responses.push(response);\n          existingPattern.frequency++;\n        } else {\n          patterns.push({\n            keywords,\n            responses: [response],\n            context: [currentMsg.content],\n            sentiment: this.analyzeSentiment(response),\n            frequency: 1\n          });\n        }\n      }\n    }\n    \n    return patterns.filter(p => p.frequency > 1);\n  }\n\n  private extractKeywords(content: string): string[] {\n    const stopWords = ['the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by'];\n    return content\n      .toLowerCase()\n      .split(' ')\n      .filter(word => \n        word.length > 2 && \n        !stopWords.includes(word) && \n        /^[a-zA-Z]+$/.test(word)\n      )\n      .slice(0, 5);\n  }\n\n  private analyzeSentiment(content: string): 'positive' | 'negative' | 'neutral' | 'supportive' | 'humorous' {\n    const positiveWords = ['good', 'great', 'awesome', 'nice', 'excellent', 'thank', 'thanks', 'wow', 'amazing'];\n    const negativeWords = ['bad', 'terrible', 'awful', 'hate', 'angry', 'sad', 'worry', 'problem'];\n    const supportiveWords = ['help', 'support', 'care', 'understand', 'sorry', 'there'];\n    const humorousWords = ['lol', 'haha', 'funny', 'joke', 'laugh'];\n    \n    const lowerContent = content.toLowerCase();\n    \n    if (humorousWords.some(word => lowerContent.includes(word)) || lowerContent.includes('😂')) {\n      return 'humorous';\n    }\n    if (supportiveWords.some(word => lowerContent.includes(word))) {\n      return 'supportive';\n    }\n    if (positiveWords.some(word => lowerContent.includes(word))) {\n      return 'positive';\n    }\n    if (negativeWords.some(word => lowerContent.includes(word))) {\n      return 'negative';\n    }\n    \n    return 'neutral';\n  }\n\n  private mergePersonalityTraits(traits: PersonalityTraits[]): PersonalityTraits {\n    if (traits.length === 0) {\n      return {\n        name: 'Custom AI',\n        commonPhrases: [],\n        responsePatterns: [],\n        communicationStyle: {\n          emojis: [],\n          punctuation: [],\n          exclamations: [],\n          questions: []\n        },\n        topics: new Map()\n      };\n    }\n    \n    if (traits.length === 1) {\n      return traits[0];\n    }\n    \n    // Merge multiple personalities (taking the most active sender as primary)\n    const primary = traits.reduce((prev, current) => \n      current.responsePatterns.length > prev.responsePatterns.length ? current : prev\n    );\n    \n    // Combine common elements from other personalities\n    const allPhrases = traits.flatMap(t => t.commonPhrases);\n    const allEmojis = traits.flatMap(t => t.communicationStyle.emojis);\n    const allPatterns = traits.flatMap(t => t.responsePatterns);\n    \n    return {\n      ...primary,\n      name: 'Custom AI (Multi-personality)',\n      commonPhrases: Array.from(new Set(allPhrases)).slice(0, 20),\n      responsePatterns: allPatterns,\n      communicationStyle: {\n        ...primary.communicationStyle,\n        emojis: Array.from(new Set(allEmojis)).slice(0, 15)\n      }\n    };\n  }\n}","size_bytes":11093},"server/services/local-ai.ts":{"content":"import { WhatsAppChatParser, PersonalityTraits, ConversationPattern } from './chat-parser';\n\n// Import types from ai-provider to avoid duplication\nimport type { ChatMessage, PsychologicalResponse } from './ai-provider';\n\nexport type LocalAIResponse = PsychologicalResponse;\n\nexport class LocalAIService {\n  private personality?: PersonalityTraits;\n  private parser = new WhatsAppChatParser();\n\n  constructor(chatData?: string) {\n    if (chatData) {\n      this.learnFromChat(chatData);\n    }\n  }\n\n  learnFromChat(chatContent: string): void {\n    try {\n      const messages = this.parser.parseWhatsAppChat(chatContent);\n      this.personality = this.parser.analyzePersonality(messages);\n      console.log(`Learned personality: ${this.personality.name} with ${this.personality.responsePatterns.length} response patterns`);\n    } catch (error) {\n      console.error('Failed to learn from chat:', error);\n      this.personality = undefined;\n    }\n  }\n\n  generateResponse(messages: ChatMessage[]): LocalAIResponse {\n    if (!this.personality) {\n      return this.getDefaultResponse();\n    }\n\n    const userMessage = messages[messages.length - 1]?.content || '';\n    const conversationHistory = messages.slice(-5); // Last 5 messages for context\n    \n    // Find matching response pattern\n    const matchingPattern = this.findBestMatchingPattern(userMessage);\n    \n    // Generate response based on personality\n    let responseMessage = '';\n    \n    if (matchingPattern) {\n      responseMessage = this.generatePatternBasedResponse(matchingPattern, userMessage);\n    } else {\n      responseMessage = this.generatePersonalityBasedResponse(userMessage, conversationHistory);\n    }\n\n    // Add personality touches (emojis, expressions)\n    responseMessage = this.addPersonalityTouches(responseMessage);\n\n    const supportiveActions = this.generateSupportiveActions(userMessage);\n    const riskLevel = this.assessRiskLevel(userMessage);\n\n    return {\n      message: responseMessage,\n      supportiveActions,\n      riskLevel,\n      escalationRequired: riskLevel === 'high'\n    };\n  }\n\n  private findBestMatchingPattern(userMessage: string): ConversationPattern | null {\n    if (!this.personality?.responsePatterns) return null;\n\n    const messageLower = userMessage.toLowerCase();\n    const messageWords = messageLower.split(' ');\n    \n    let bestMatch: ConversationPattern | null = null;\n    let bestScore = 0;\n\n    for (const pattern of this.personality.responsePatterns) {\n      let score = 0;\n      \n      // Check keyword matches\n      for (const keyword of pattern.keywords) {\n        if (messageLower.includes(keyword.toLowerCase())) {\n          score += 2; // Exact keyword match gets higher score\n        }\n        \n        // Check for word boundaries to avoid partial matches\n        for (const word of messageWords) {\n          if (word === keyword.toLowerCase()) {\n            score += 3;\n          }\n        }\n      }\n      \n      // Consider frequency of pattern\n      score += pattern.frequency * 0.5;\n      \n      if (score > bestScore && score > 2) {\n        bestScore = score;\n        bestMatch = pattern;\n      }\n    }\n\n    return bestMatch;\n  }\n\n  private generatePatternBasedResponse(pattern: ConversationPattern, userMessage: string): string {\n    // Select a random response from the pattern\n    const responses = pattern.responses.filter(r => r.trim().length > 0);\n    if (responses.length === 0) {\n      return this.generatePersonalityBasedResponse(userMessage, []);\n    }\n\n    let selectedResponse = responses[Math.floor(Math.random() * responses.length)];\n    \n    // Apply personality modifications based on sentiment\n    selectedResponse = this.modifyResponseBySentiment(selectedResponse, pattern.sentiment);\n    \n    return selectedResponse;\n  }\n\n  private generatePersonalityBasedResponse(userMessage: string, conversationHistory: ChatMessage[]): string {\n    if (!this.personality) {\n      return \"I'm here to chat with you! What's on your mind?\";\n    }\n\n    const messageLower = userMessage.toLowerCase();\n    \n    // Check for topics the personality is familiar with\n    let topicResponse = '';\n    for (const [topic, examples] of Array.from(this.personality.topics.entries())) {\n      const topicKeywords = this.getTopicKeywords(topic);\n      if (topicKeywords.some(keyword => messageLower.includes(keyword))) {\n        const randomExample = examples[Math.floor(Math.random() * examples.length)];\n        topicResponse = this.createTopicResponse(topic, randomExample, userMessage);\n        break;\n      }\n    }\n\n    if (topicResponse) {\n      return topicResponse;\n    }\n\n    // Generate response using common phrases\n    return this.generateCommonPhraseResponse(userMessage);\n  }\n\n  private getTopicKeywords(topic: string): string[] {\n    const topicKeywords: Record<string, string[]> = {\n      'study': ['study', 'exam', 'test', 'assignment', 'homework', 'class', 'teacher', 'sir', 'college', 'clg'],\n      'tech': ['coding', 'development', 'programming', 'website', 'app', 'frontend', 'backend', 'react', 'javascript', 'dsa'],\n      'health': ['jor', 'fever', 'sick', 'doctor', 'medicine', 'health', 'hospital', 'feeling', 'tired'],\n      'social': ['friend', 'family', 'party', 'meeting', 'call', 'chat', 'talk', 'relationship'],\n      'work': ['job', 'work', 'project', 'team', 'hackathon', 'startup', 'career', 'interview'],\n      'personal': ['feeling', 'happy', 'sad', 'worried', 'excited', 'tired', 'stressed', 'mood']\n    };\n    \n    return topicKeywords[topic] || [];\n  }\n\n  private createTopicResponse(topic: string, example: string, userMessage: string): string {\n    const responses: Record<string, string[]> = {\n      'study': [\n        \"Oh, studies! I totally get that stress. How are your classes going?\",\n        \"Studies can be really overwhelming sometimes. What subject is giving you trouble?\",\n        \"College life is tough! I remember feeling the same way about exams.\",\n        \"Don't worry too much about it, you'll do fine! What's your biggest concern?\"\n      ],\n      'tech': [\n        \"Nice! I love talking about tech stuff. What are you working on?\",\n        \"Programming can be really exciting! Which technology are you learning?\",\n        \"That sounds interesting! I've been into web development too.\",\n        \"Cool project! How's the coding going?\"\n      ],\n      'health': [\n        \"Take care of yourself! Health is most important. How are you feeling now?\",\n        \"Oh no, that doesn't sound good. Have you seen a doctor?\",\n        \"Rest is really important. Make sure you're taking care of yourself.\",\n        \"Feel better soon! Let me know if you need anything.\"\n      ],\n      'social': [\n        \"That sounds fun! I love hearing about social stuff.\",\n        \"Friends and family are so important. How did it go?\",\n        \"Social time is the best! Tell me more about it.\",\n        \"That sounds really nice. I hope you had a good time!\"\n      ],\n      'work': [\n        \"Work stuff can be stressful. How's everything going?\",\n        \"Career things are always on my mind too. What's your plan?\",\n        \"That sounds like a great opportunity! Are you excited?\",\n        \"Job hunting is tough. You've got this though!\"\n      ],\n      'personal': [\n        \"I'm here to listen. How are you really doing?\",\n        \"Feelings can be complicated. Want to talk about it?\",\n        \"That's totally understandable. I get those feelings too.\",\n        \"Thanks for sharing that with me. How can I help?\"\n      ]\n    };\n\n    const topicResponses = responses[topic] || [\"That's interesting! Tell me more.\"];\n    return topicResponses[Math.floor(Math.random() * topicResponses.length)];\n  }\n\n  private generateCommonPhraseResponse(userMessage: string): string {\n    if (!this.personality?.commonPhrases || this.personality.commonPhrases.length === 0) {\n      return \"I'm here to chat! What's going on?\";\n    }\n\n    const greetings = [\"Hey!\", \"Hi there!\", \"Hello!\", \"What's up?\"];\n    const transitions = [\"So\", \"Well\", \"Actually\", \"By the way\", \"Oh\"];\n    const supportive = [\"I understand\", \"That makes sense\", \"I get it\", \"Totally\"];\n    \n    const greeting = greetings[Math.floor(Math.random() * greetings.length)];\n    const transition = transitions[Math.floor(Math.random() * transitions.length)];\n    const support = supportive[Math.floor(Math.random() * supportive.length)];\n    \n    // Mix personality phrases with supportive language\n    const phrase = this.personality.commonPhrases[Math.floor(Math.random() * this.personality.commonPhrases.length)];\n    \n    return `${greeting} ${support}. ${transition}, ${phrase} What's on your mind?`;\n  }\n\n  private modifyResponseBySentiment(response: string, sentiment: string): string {\n    switch (sentiment) {\n      case 'humorous':\n        return response + ' 😄';\n      case 'supportive':\n        return response + ' I\\'m here for you!';\n      case 'positive':\n        return response + ' ✨';\n      case 'negative':\n        if (!response.includes('sorry') && !response.includes('understand')) {\n          return 'I understand that might be tough. ' + response;\n        }\n        return response;\n      default:\n        return response;\n    }\n  }\n\n  private addPersonalityTouches(message: string): string {\n    if (!this.personality?.communicationStyle) return message;\n\n    let touchedMessage = message;\n    \n    // Add emojis occasionally\n    if (Math.random() < 0.3 && this.personality.communicationStyle.emojis.length > 0) {\n      const randomEmoji = this.personality.communicationStyle.emojis[\n        Math.floor(Math.random() * this.personality.communicationStyle.emojis.length)\n      ];\n      touchedMessage += ' ' + randomEmoji;\n    }\n    \n    // Add punctuation style\n    if (Math.random() < 0.2 && this.personality.communicationStyle.punctuation.length > 0) {\n      const punctuation = this.personality.communicationStyle.punctuation[\n        Math.floor(Math.random() * this.personality.communicationStyle.punctuation.length)\n      ];\n      if (punctuation === '...' && !touchedMessage.endsWith('.')) {\n        touchedMessage = touchedMessage.replace(/[.!?]$/, punctuation);\n      }\n    }\n\n    return touchedMessage;\n  }\n\n  private generateSupportiveActions(userMessage: string): string[] {\n    const messageLower = userMessage.toLowerCase();\n    \n    if (messageLower.includes('stress') || messageLower.includes('worried') || messageLower.includes('anxious')) {\n      return [\n        \"Take 5 deep breaths slowly\",\n        \"Try a short 10-minute walk\",\n        \"Talk to someone you trust about how you're feeling\"\n      ];\n    }\n    \n    if (messageLower.includes('study') || messageLower.includes('exam') || messageLower.includes('test')) {\n      return [\n        \"Create a study schedule to break down your work\",\n        \"Take regular breaks every 45 minutes\",\n        \"Find a quiet study space without distractions\"\n      ];\n    }\n    \n    if (messageLower.includes('tired') || messageLower.includes('sick') || messageLower.includes('jor')) {\n      return [\n        \"Get plenty of rest and sleep\",\n        \"Stay hydrated with water\",\n        \"Consider consulting a doctor if symptoms persist\"\n      ];\n    }\n    \n    if (messageLower.includes('friend') || messageLower.includes('social') || messageLower.includes('lonely')) {\n      return [\n        \"Reach out to a close friend for a chat\",\n        \"Join a group activity or club that interests you\",\n        \"Practice small social interactions to build confidence\"\n      ];\n    }\n\n    // Default supportive actions\n    return [\n      \"Take a moment to appreciate something positive in your day\",\n      \"Do something small that makes you happy\",\n      \"Remember that it's okay to ask for help when you need it\"\n    ];\n  }\n\n  private assessRiskLevel(userMessage: string): \"low\" | \"moderate\" | \"high\" {\n    const messageLower = userMessage.toLowerCase();\n    \n    // High risk indicators\n    const highRiskWords = ['suicide', 'kill myself', 'end it all', 'cant go on', 'no point', 'worthless', 'hopeless'];\n    const moderateRiskWords = ['depressed', 'very sad', 'cant handle', 'overwhelmed', 'breaking down', 'giving up'];\n    const stressWords = ['stressed', 'worried', 'anxious', 'nervous', 'scared', 'tired'];\n    \n    if (highRiskWords.some(word => messageLower.includes(word))) {\n      return 'high';\n    }\n    \n    if (moderateRiskWords.some(word => messageLower.includes(word))) {\n      return 'moderate';\n    }\n    \n    if (stressWords.some(word => messageLower.includes(word))) {\n      return 'moderate';\n    }\n    \n    return 'low';\n  }\n\n  private getDefaultResponse(): LocalAIResponse {\n    const supportiveResponses = [\n      \"Hi! I'm your personalized AI companion. I'm here to listen and support you. What's on your mind today?\",\n      \"Hello! I'm learning to be your perfect conversation partner. How are you feeling right now?\",\n      \"Hey there! I'm your custom AI assistant, ready to chat about whatever you'd like to share.\",\n      \"Hi! I'm here to provide a safe space for conversation. What would you like to talk about?\",\n      \"Hello! As your personalized AI, I'm here to listen and help however I can. How's your day going?\"\n    ];\n    \n    return {\n      message: supportiveResponses[Math.floor(Math.random() * supportiveResponses.length)],\n      supportiveActions: [\n        \"Share what's been on your mind lately\",\n        \"Take a few deep breaths to center yourself\", \n        \"Think of one positive thing from your day\",\n        \"Try a quick mindfulness exercise\",\n        \"Consider talking to someone you trust\"\n      ],\n      riskLevel: \"low\",\n      escalationRequired: false\n    };\n  }\n\n  getPersonalityInfo(): PersonalityTraits | undefined {\n    return this.personality;\n  }\n\n  hasLearned(): boolean {\n    return !!this.personality;\n  }\n\n  /**\n   * Set a custom personality configuration for temporary use\n   * This allows external personality configs to be applied without learning from chat\n   */\n  setCustomPersonality(config: { customPrompt?: string; name?: string; traits?: Record<string, any> }): void {\n    if (!config.customPrompt && !config.name) {\n      return; // No meaningful config provided\n    }\n\n    const customPersonality: PersonalityTraits = {\n      name: config.name || 'Custom',\n      commonPhrases: [],\n      responsePatterns: [],\n      communicationStyle: {\n        emojis: [],\n        punctuation: [],\n        exclamations: [],\n        questions: []\n      },\n      topics: new Map()\n    };\n\n    // If custom prompt provided, create basic response patterns\n    if (config.customPrompt) {\n      customPersonality.responsePatterns.push({\n        keywords: ['help', 'support', 'advice'],\n        responses: [config.customPrompt],\n        context: 'general',\n        sentiment: 'neutral',\n        frequency: 1\n      });\n    }\n\n    // Apply any traits if provided\n    if (config.traits) {\n      if (config.traits.commonPhrases && Array.isArray(config.traits.commonPhrases)) {\n        customPersonality.commonPhrases = config.traits.commonPhrases;\n      }\n      if (config.traits.emojis && Array.isArray(config.traits.emojis)) {\n        customPersonality.communicationStyle.emojis = config.traits.emojis;\n      }\n    }\n\n    this.personality = customPersonality;\n  }\n}","size_bytes":15191},"client/src/pages/yoga.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Play, Pause, RotateCcw, Timer, Heart, Zap, Moon, Sun, Video, Users, Calendar, Clock } from \"lucide-react\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\ninterface YogaPose {\n  id: string;\n  name: string;\n  duration: number;\n  description: string;\n  benefits: string[];\n  difficulty: 'Beginner' | 'Intermediate' | 'Advanced';\n  instructions: string[];\n  image: string;\n}\n\ninterface LiveSession {\n  id: string;\n  title: string;\n  instructor: string;\n  time: string;\n  duration: number;\n  participants: number;\n  level: string;\n  type: string;\n  image: string;\n}\n\ninterface YogaSession {\n  id: string;\n  name: string;\n  description: string;\n  duration: number;\n  poses: YogaPose[];\n  type: 'morning' | 'evening' | 'stress-relief' | 'energy-boost';\n}\n\nconst yogaPoses: YogaPose[] = [\n  {\n    id: \"mountain-pose\",\n    name: \"Mountain Pose (Tadasana)\",\n    duration: 60,\n    description: \"A foundational standing pose that improves posture and balance\",\n    benefits: [\"Improves posture\", \"Increases awareness\", \"Strengthens thighs\", \"Reduces anxiety\"],\n    difficulty: \"Beginner\",\n    image: \"https://images.unsplash.com/photo-1506629905607-d13b2b1b45e8?w=400&h=300&fit=crop&face=center\",\n    instructions: [\n      \"Stand with feet hip-width apart\",\n      \"Ground down through all four corners of your feet\",\n      \"Engage your leg muscles and lengthen your spine\",\n      \"Relax your shoulders away from your ears\",\n      \"Breathe deeply and hold\"\n    ]\n  },\n  {\n    id: \"child-pose\",\n    name: \"Child's Pose (Balasana)\",\n    duration: 90,\n    description: \"A resting pose that calms the mind and relieves stress\",\n    benefits: [\"Relieves stress\", \"Calms the mind\", \"Stretches hips\", \"Reduces anxiety\"],\n    difficulty: \"Beginner\",\n    image: \"https://images.unsplash.com/photo-1588286840104-8957b019727f?w=400&h=300&fit=crop&face=center\",\n    instructions: [\n      \"Kneel on the floor with big toes touching\",\n      \"Separate your knees about hip-width apart\",\n      \"Fold forward, extending your arms in front\",\n      \"Rest your forehead on the ground\",\n      \"Breathe deeply and relax\"\n    ]\n  },\n  {\n    id: \"cat-cow\",\n    name: \"Cat-Cow Pose\",\n    duration: 120,\n    description: \"A gentle flow that warms up the spine and relieves tension\",\n    benefits: [\"Improves spine flexibility\", \"Relieves back tension\", \"Massages organs\", \"Improves coordination\"],\n    difficulty: \"Beginner\",\n    image: \"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=400&h=300&fit=crop&face=center\",\n    instructions: [\n      \"Start on hands and knees in tabletop position\",\n      \"Inhale, arch your back and look up (Cow)\",\n      \"Exhale, round your spine and tuck chin (Cat)\",\n      \"Continue flowing between these positions\",\n      \"Move with your breath\"\n    ]\n  },\n  {\n    id: \"warrior-one\",\n    name: \"Warrior I (Virabhadrasana I)\",\n    duration: 60,\n    description: \"A powerful standing pose that builds strength and confidence\",\n    benefits: [\"Strengthens legs\", \"Improves balance\", \"Opens hips\", \"Builds confidence\"],\n    difficulty: \"Intermediate\",\n    image: \"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&face=center\",\n    instructions: [\n      \"Step your left foot back about 3-4 feet\",\n      \"Turn your left foot out 45 degrees\",\n      \"Bend your right knee over your ankle\",\n      \"Raise your arms overhead\",\n      \"Hold and repeat on other side\"\n    ]\n  },\n  {\n    id: \"tree-pose\",\n    name: \"Tree Pose (Vrikshasana)\",\n    duration: 60,\n    description: \"A balancing pose that improves focus and stability\",\n    benefits: [\"Improves balance\", \"Strengthens legs\", \"Enhances focus\", \"Calms the mind\"],\n    difficulty: \"Intermediate\",\n    image: \"https://images.unsplash.com/photo-1545389336-cf090694435e?w=400&h=300&fit=crop&face=center\",\n    instructions: [\n      \"Stand in Mountain Pose\",\n      \"Shift weight to your left foot\",\n      \"Place right foot on inner left thigh or calf\",\n      \"Avoid placing foot directly on the knee\",\n      \"Bring palms together at heart center\"\n    ]\n  },\n  {\n    id: \"downward-dog\",\n    name: \"Downward-Facing Dog (Adho Mukha Svanasana)\",\n    duration: 90,\n    description: \"An energizing pose that stretches the entire body\",\n    benefits: [\"Strengthens arms\", \"Stretches hamstrings\", \"Energizes body\", \"Improves circulation\"],\n    difficulty: \"Intermediate\",\n    image: \"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&face=center\",\n    instructions: [\n      \"Start in tabletop position\",\n      \"Tuck your toes under\",\n      \"Lift your hips up and back\",\n      \"Straighten your legs as much as possible\",\n      \"Press hands firmly into the ground\"\n    ]\n  }\n];\n\nconst liveSessions: LiveSession[] = [\n  {\n    id: \"1\",\n    title: \"Morning Mindfulness Flow\",\n    instructor: \"Sarah Johnson\",\n    time: \"8:00 AM\",\n    duration: 30,\n    participants: 24,\n    level: \"Beginner\",\n    type: \"Vinyasa Flow\",\n    image: \"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=400&h=300&fit=crop&face=center\"\n  },\n  {\n    id: \"2\", \n    title: \"Stress Relief & Relaxation\",\n    instructor: \"Michael Chen\",\n    time: \"12:30 PM\",\n    duration: 45,\n    participants: 18,\n    level: \"All Levels\",\n    type: \"Restorative\",\n    image: \"https://images.unsplash.com/photo-1588286840104-8957b019727f?w=400&h=300&fit=crop&face=center\"\n  },\n  {\n    id: \"3\",\n    title: \"Power Yoga for Students\",\n    instructor: \"Emma Davis\",\n    time: \"6:00 PM\", \n    duration: 60,\n    participants: 31,\n    level: \"Intermediate\",\n    type: \"Power Yoga\",\n    image: \"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&face=center\"\n  },\n  {\n    id: \"4\",\n    title: \"Evening Gentle Stretch\",\n    instructor: \"Alex Thompson\",\n    time: \"8:30 PM\",\n    duration: 25,\n    participants: 15,\n    level: \"Beginner\",\n    type: \"Gentle Hatha\",\n    image: \"https://images.unsplash.com/photo-1545389336-cf090694435e?w=400&h=300&fit=crop&face=center\"\n  }\n];\n\nconst yogaSessions: YogaSession[] = [\n  {\n    id: \"morning-energy\",\n    name: \"Morning Energy Flow\",\n    description: \"A gentle sequence to energize your body and mind for the day ahead\",\n    duration: 15,\n    type: \"morning\",\n    poses: [\n      yogaPoses.find(p => p.id === \"mountain-pose\")!,\n      yogaPoses.find(p => p.id === \"cat-cow\")!,\n      yogaPoses.find(p => p.id === \"downward-dog\")!,\n      yogaPoses.find(p => p.id === \"warrior-one\")!,\n      yogaPoses.find(p => p.id === \"tree-pose\")!\n    ]\n  },\n  {\n    id: \"evening-relaxation\",\n    name: \"Evening Relaxation\",\n    description: \"A calming sequence to help you unwind and prepare for restful sleep\",\n    duration: 12,\n    type: \"evening\",\n    poses: [\n      yogaPoses.find(p => p.id === \"mountain-pose\")!,\n      yogaPoses.find(p => p.id === \"cat-cow\")!,\n      yogaPoses.find(p => p.id === \"child-pose\")!\n    ]\n  },\n  {\n    id: \"stress-relief\",\n    name: \"Stress Relief\",\n    description: \"A therapeutic sequence designed to release tension and calm anxiety\",\n    duration: 10,\n    type: \"stress-relief\",\n    poses: [\n      yogaPoses.find(p => p.id === \"child-pose\")!,\n      yogaPoses.find(p => p.id === \"cat-cow\")!,\n      yogaPoses.find(p => p.id === \"mountain-pose\")!\n    ]\n  },\n  {\n    id: \"quick-boost\",\n    name: \"Quick Energy Boost\",\n    description: \"A short energizing sequence for when you need a mental pick-me-up\",\n    duration: 8,\n    type: \"energy-boost\",\n    poses: [\n      yogaPoses.find(p => p.id === \"mountain-pose\")!,\n      yogaPoses.find(p => p.id === \"warrior-one\")!,\n      yogaPoses.find(p => p.id === \"tree-pose\")!\n    ]\n  }\n];\n\nexport default function YogaPage() {\n  const { currentUser } = useAppContext();\n  const [activeSession, setActiveSession] = useState<YogaSession | null>(null);\n  const [currentPoseIndex, setCurrentPoseIndex] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [timeRemaining, setTimeRemaining] = useState(0);\n\n  const startSession = (session: YogaSession) => {\n    setActiveSession(session);\n    setCurrentPoseIndex(0);\n    setTimeRemaining(session.poses[0].duration);\n    setIsPlaying(false);\n  };\n\n  const togglePlay = () => {\n    setIsPlaying(!isPlaying);\n  };\n\n  const resetSession = () => {\n    setActiveSession(null);\n    setCurrentPoseIndex(0);\n    setIsPlaying(false);\n    setTimeRemaining(0);\n  };\n\n  const nextPose = () => {\n    if (activeSession && currentPoseIndex < activeSession.poses.length - 1) {\n      const newIndex = currentPoseIndex + 1;\n      setCurrentPoseIndex(newIndex);\n      setTimeRemaining(activeSession.poses[newIndex].duration);\n      setIsPlaying(false);\n    }\n  };\n\n  const getSessionIcon = (type: string) => {\n    switch (type) {\n      case 'morning': return <Sun className=\"h-4 w-4\" />;\n      case 'evening': return <Moon className=\"h-4 w-4\" />;\n      case 'stress-relief': return <Heart className=\"h-4 w-4\" />;\n      case 'energy-boost': return <Zap className=\"h-4 w-4\" />;\n      default: return <Timer className=\"h-4 w-4\" />;\n    }\n  };\n\n  const getDifficultyColor = (difficulty: string) => {\n    switch (difficulty) {\n      case 'Beginner': return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';\n      case 'Intermediate': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';\n      case 'Advanced': return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200';\n    }\n  };\n\n  if (activeSession) {\n    const currentPose = activeSession.poses[currentPoseIndex];\n    return (\n      <div className=\"container mx-auto p-6 max-w-4xl\">\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h1 className=\"text-3xl font-bold text-primary\">{activeSession.name}</h1>\n            <Button variant=\"outline\" onClick={resetSession} data-testid=\"button-reset-session\">\n              <RotateCcw className=\"h-4 w-4 mr-2\" />\n              End Session\n            </Button>\n          </div>\n          <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n            <span>Pose {currentPoseIndex + 1} of {activeSession.poses.length}</span>\n            <span>•</span>\n            <span>{Math.floor(timeRemaining / 60)}:{(timeRemaining % 60).toString().padStart(2, '0')} remaining</span>\n          </div>\n        </div>\n\n        <Card className=\"mb-6\">\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <CardTitle className=\"text-2xl\">{currentPose.name}</CardTitle>\n                <CardDescription>{currentPose.description}</CardDescription>\n              </div>\n              <Badge className={getDifficultyColor(currentPose.difficulty)}>\n                {currentPose.difficulty}\n              </Badge>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              <div>\n                <h3 className=\"font-semibold mb-3\">Instructions</h3>\n                <ol className=\"space-y-2\">\n                  {currentPose.instructions.map((instruction, index) => (\n                    <li key={index} className=\"flex items-start\">\n                      <span className=\"bg-primary text-primary-foreground rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5 flex-shrink-0\">\n                        {index + 1}\n                      </span>\n                      <span className=\"text-sm\">{instruction}</span>\n                    </li>\n                  ))}\n                </ol>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-3\">Benefits</h3>\n                <ul className=\"space-y-2\">\n                  {currentPose.benefits.map((benefit, index) => (\n                    <li key={index} className=\"flex items-center\">\n                      <div className=\"w-2 h-2 bg-primary rounded-full mr-3\"></div>\n                      <span className=\"text-sm\">{benefit}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-center gap-4 mt-6 pt-6 border-t\">\n              <Button onClick={togglePlay} size=\"lg\" data-testid=\"button-toggle-play\">\n                {isPlaying ? <Pause className=\"h-5 w-5 mr-2\" /> : <Play className=\"h-5 w-5 mr-2\" />}\n                {isPlaying ? 'Pause' : 'Start'}\n              </Button>\n              {currentPoseIndex < activeSession.poses.length - 1 && (\n                <Button variant=\"outline\" onClick={nextPose} data-testid=\"button-next-pose\">\n                  Next Pose\n                </Button>\n              )}\n              {currentPoseIndex === activeSession.poses.length - 1 && (\n                <Button variant=\"outline\" onClick={resetSession} data-testid=\"button-complete-session\">\n                  Complete Session\n                </Button>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8\">\n        <BackButton />\n        \n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center\">\n              <Heart className=\"h-6 w-6 text-primary\" />\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold text-foreground\">Yoga & Wellness</h1>\n              <p className=\"text-muted-foreground\">Practice mindfulness and improve your mental wellbeing</p>\n            </div>\n          </div>\n        </div>\n\n        <Tabs defaultValue=\"practice\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2\">\n            <TabsTrigger value=\"practice\" data-testid=\"tab-practice-sessions\">\n              <Timer className=\"h-4 w-4 mr-2\" />\n              Practice Sessions\n            </TabsTrigger>\n            <TabsTrigger value=\"live\" data-testid=\"tab-live-sessions\">\n              <Video className=\"h-4 w-4 mr-2\" />\n              Live Classes\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"practice\" className=\"mt-6\">\n\n            <Tabs defaultValue=\"sessions\" className=\"space-y-6\">\n              <TabsList className=\"grid w-full grid-cols-2\">\n                <TabsTrigger value=\"sessions\" data-testid=\"tab-sessions\">Guided Sessions</TabsTrigger>\n                <TabsTrigger value=\"poses\" data-testid=\"tab-poses\">Individual Poses</TabsTrigger>\n              </TabsList>\n\n              <TabsContent value=\"sessions\" className=\"space-y-6\">\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-2 gap-6\">\n            {yogaSessions.map((session) => (\n              <Card key={session.id} className=\"hover:shadow-lg transition-shadow cursor-pointer\">\n                <CardHeader>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                      {getSessionIcon(session.type)}\n                      <CardTitle className=\"text-xl\">{session.name}</CardTitle>\n                    </div>\n                    <Badge variant=\"secondary\">\n                      {session.duration} min\n                    </Badge>\n                  </div>\n                  <CardDescription>{session.description}</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <h4 className=\"font-medium text-sm mb-2\">Includes {session.poses.length} poses:</h4>\n                      <div className=\"flex flex-wrap gap-1\">\n                        {session.poses.map((pose, index) => (\n                          <Badge key={pose.id} variant=\"outline\" className=\"text-xs\">\n                            {pose.name.split('(')[0].trim()}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                    <Button \n                      className=\"w-full\" \n                      onClick={() => startSession(session)}\n                      data-testid={`button-start-${session.id}`}\n                    >\n                      <Play className=\"h-4 w-4 mr-2\" />\n                      Start Session\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"poses\" className=\"space-y-6\">\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {yogaPoses.map((pose) => (\n              <Card key={pose.id} className=\"hover:shadow-lg transition-shadow\">\n                <CardHeader>\n                  <div className=\"flex items-center justify-between\">\n                    <CardTitle className=\"text-lg\">{pose.name}</CardTitle>\n                    <Badge className={getDifficultyColor(pose.difficulty)}>\n                      {pose.difficulty}\n                    </Badge>\n                  </div>\n                  <CardDescription>{pose.description}</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <h4 className=\"font-medium text-sm mb-2\">Benefits:</h4>\n                      <ul className=\"space-y-1\">\n                        {pose.benefits.slice(0, 3).map((benefit, index) => (\n                          <li key={index} className=\"flex items-center text-sm\">\n                            <div className=\"w-1.5 h-1.5 bg-primary rounded-full mr-2\"></div>\n                            {benefit}\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                    <div className=\"flex items-center justify-between text-sm text-muted-foreground\">\n                      <span className=\"flex items-center\">\n                        <Timer className=\"h-4 w-4 mr-1\" />\n                        {pose.duration}s hold\n                      </span>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n              </TabsContent>\n            </Tabs>\n          </TabsContent>\n\n          <TabsContent value=\"live\" className=\"mt-6\">\n            <div className=\"grid md:grid-cols-2 lg:grid-cols-2 gap-6\">\n              {liveSessions.map((session) => (\n                <Card key={session.id} className=\"hover:shadow-lg transition-shadow\">\n                  <CardHeader>\n                    <div className=\"flex items-center justify-between\">\n                      <CardTitle className=\"text-xl\">{session.title}</CardTitle>\n                      <Badge variant=\"secondary\" className=\"bg-green-100 text-green-800\">\n                        LIVE\n                      </Badge>\n                    </div>\n                    <CardDescription>with {session.instructor}</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"aspect-video rounded-lg overflow-hidden mb-4\">\n                      <img \n                        src={session.image} \n                        alt={session.title}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    </div>\n                    \n                    <div className=\"space-y-4\">\n                      <div className=\"flex items-center justify-between text-sm\">\n                        <div className=\"flex items-center gap-1\">\n                          <Clock className=\"h-4 w-4 text-muted-foreground\" />\n                          <span>{session.time}</span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <Timer className=\"h-4 w-4 text-muted-foreground\" />\n                          <span>{session.duration} min</span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center justify-between text-sm\">\n                        <div className=\"flex items-center gap-1\">\n                          <Users className=\"h-4 w-4 text-muted-foreground\" />\n                          <span>{session.participants} joining</span>\n                        </div>\n                        <Badge variant=\"outline\">{session.level}</Badge>\n                      </div>\n                      \n                      <div className=\"text-sm text-muted-foreground\">\n                        <span className=\"font-medium\">Style:</span> {session.type}\n                      </div>\n                      \n                      <Button className=\"w-full\" data-testid={`button-join-live-${session.id}`}>\n                        <Video className=\"h-4 w-4 mr-2\" />\n                        Join Live Session\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}","size_bytes":21592},"client/src/pages/medicine.tsx":{"content":"import { useState, useRef } from \"react\";\nimport { Pill, ShoppingCart, Search, Star, Clock, MapPin, Plus, Minus, Upload, FileText, CheckCircle, AlertTriangle, Shield, X, Stethoscope, ChevronDown } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { BackButton } from \"@/components/ui/back-button\";\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\n\n// Import psychiatric medicine images\nimport valop500Image from \"@assets/IMG-20250918-WA0009_1758138692176.jpg\";\nimport gabasign300Image from \"@assets/IMG-20250918-WA0010_1758138692177.jpg\";\nimport mirzawell75Image from \"@assets/IMG-20250918-WA0011_1758138692178.jpg\";\nimport elipam10Image from \"@assets/IMG-20250918-WA0012_1758138692179.jpg\";\nimport lamotrigine100Image from \"@assets/IMG-20250918-WA0013_1758138692180.jpg\";\nimport vilzocar20Image from \"@assets/IMG-20250918-WA0014_1758138692181.jpg\";\nimport tryptiline25Image from \"@assets/IMG-20250918-WA0015_1758138692182.jpg\";\nimport buspin10Image from \"@assets/IMG-20250918-WA0016_1758138692182.jpg\";\nimport wellbutrinXL150Image from \"@assets/IMG-20250918-WA0017_1758138692183.jpg\";\nimport perizon6ERImage from \"@assets/IMG-20250918-WA0018_1758138692184.jpg\";\nimport erilop5MDImage from \"@assets/IMG-20250918-WA0019_1758138692184.jpg\";\nimport eriquitc50Image from \"@assets/IMG-20250918-WA0020_1758138692185.jpg\";\nimport cabrizepineCR200Image from \"@assets/IMG-20250918-WA0021_1758138692186.jpg\";\nimport asprito15Image from \"@assets/IMG-20250918-WA0022_1758138692187.jpg\";\nimport olanzapine10Image from \"@assets/IMG-20250918-WA0023_1758138692188.jpg\";\nimport toppr25Image from \"@assets/IMG-20250918-WA0024_1758138692189.jpg\";\nimport oza50Image from \"@assets/IMG-20250918-WA0025_1758138692190.jpg\";\nimport edronax4mgImage from \"@assets/IMG-20250918-WA0026_1758138692190.jpg\";\nimport pronon300Image from \"@assets/IMG-20250918-WA0027_1758138692191.jpg\";\n\n// Create image mapping for psychiatric medicines\nconst psychiatricMedicineImages: {[key: number]: string} = {\n  7: valop500Image,\n  8: gabasign300Image,\n  9: mirzawell75Image,\n  10: elipam10Image,\n  11: lamotrigine100Image,\n  12: vilzocar20Image,\n  13: tryptiline25Image,\n  14: buspin10Image,\n  15: wellbutrinXL150Image,\n  16: perizon6ERImage,\n  17: erilop5MDImage,\n  18: eriquitc50Image,\n  19: cabrizepineCR200Image,\n  20: asprito15Image,\n  21: olanzapine10Image,\n  22: toppr25Image,\n  23: oza50Image,\n  24: edronax4mgImage,\n  25: pronon300Image,\n};\n\ninterface Medicine {\n  id: number;\n  name: string;\n  genericName: string;\n  category: string;\n  price: number;\n  discountPrice?: number;\n  manufacturer: string;\n  rating: number;\n  reviewCount: number;\n  description: string;\n  uses: string[];\n  dosage: string;\n  sideEffects: string[];\n  inStock: boolean;\n  prescription: boolean;\n  image: string;\n}\n\nconst medicines: Medicine[] = [\n  {\n    id: 1,\n    name: \"Paracetamol 500mg\",\n    genericName: \"Acetaminophen\",\n    category: \"Pain Relief\",\n    price: 45,\n    discountPrice: 38,\n    manufacturer: \"Cipla Ltd.\",\n    rating: 4.5,\n    reviewCount: 245,\n    description: \"Effective pain relief and fever reducer for mild to moderate pain\",\n    uses: [\"Headache\", \"Fever\", \"Body aches\", \"Toothache\"],\n    dosage: \"1-2 tablets every 4-6 hours as needed\",\n    sideEffects: [\"Rare: skin rash\", \"Overdose: liver damage\"],\n    inStock: true,\n    prescription: false,\n    image: \"https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=300&h=200&fit=crop\"\n  },\n  {\n    id: 2,\n    name: \"Vitamin D3 1000 IU\",\n    genericName: \"Cholecalciferol\",\n    category: \"Vitamins\",\n    price: 280,\n    discountPrice: 225,\n    manufacturer: \"Sun Pharma\",\n    rating: 4.7,\n    reviewCount: 189,\n    description: \"Essential vitamin for bone health and immune system support\",\n    uses: [\"Bone health\", \"Immune support\", \"Vitamin D deficiency\"],\n    dosage: \"1 tablet daily with meal\",\n    sideEffects: [\"Rare: nausea\", \"High doses: kidney stones\"],\n    inStock: true,\n    prescription: false,\n    image: \"https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=300&h=200&fit=crop\"\n  },\n  {\n    id: 3,\n    name: \"Omeprazole 20mg\",\n    genericName: \"Omeprazole\",\n    category: \"Digestive\",\n    price: 120,\n    discountPrice: 95,\n    manufacturer: \"Dr. Reddy's\",\n    rating: 4.3,\n    reviewCount: 156,\n    description: \"Proton pump inhibitor for acid reflux and stomach ulcer treatment\",\n    uses: [\"Acid reflux\", \"GERD\", \"Stomach ulcers\", \"Heartburn\"],\n    dosage: \"1 capsule daily before breakfast\",\n    sideEffects: [\"Headache\", \"Nausea\", \"Stomach pain\"],\n    inStock: true,\n    prescription: true,\n    image: \"https://images.unsplash.com/photo-1471864700033-781b42eb91b5?w=300&h=200&fit=crop\"\n  },\n  {\n    id: 4,\n    name: \"Cetirizine 10mg\",\n    genericName: \"Cetirizine HCl\",\n    category: \"Allergy\",\n    price: 65,\n    discountPrice: 52,\n    manufacturer: \"Lupin Ltd.\",\n    rating: 4.4,\n    reviewCount: 203,\n    description: \"Antihistamine for allergic reactions and seasonal allergies\",\n    uses: [\"Allergic rhinitis\", \"Hives\", \"Itching\", \"Sneezing\"],\n    dosage: \"1 tablet once daily\",\n    sideEffects: [\"Drowsiness\", \"Dry mouth\", \"Fatigue\"],\n    inStock: true,\n    prescription: false,\n    image: \"https://images.unsplash.com/photo-1471864700033-781b42eb91b5?w=300&h=200&fit=crop\"\n  },\n  {\n    id: 5,\n    name: \"Melatonin 3mg\",\n    genericName: \"Melatonin\",\n    category: \"Sleep Aid\",\n    price: 450,\n    discountPrice: 385,\n    manufacturer: \"HealthKart\",\n    rating: 4.6,\n    reviewCount: 312,\n    description: \"Natural sleep hormone supplement for better sleep quality\",\n    uses: [\"Insomnia\", \"Jet lag\", \"Sleep disorders\", \"Shift work\"],\n    dosage: \"1 tablet 30 minutes before bedtime\",\n    sideEffects: [\"Morning drowsiness\", \"Vivid dreams\", \"Headache\"],\n    inStock: true,\n    prescription: false,\n    image: \"https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=300&h=200&fit=crop\"\n  },\n  {\n    id: 6,\n    name: \"Ashwagandha 300mg\",\n    genericName: \"Withania somnifera\",\n    category: \"Stress Relief\",\n    price: 380,\n    discountPrice: 320,\n    manufacturer: \"Himalaya\",\n    rating: 4.5,\n    reviewCount: 267,\n    description: \"Ayurvedic herb for stress management and anxiety relief\",\n    uses: [\"Stress relief\", \"Anxiety\", \"Mental fatigue\", \"Energy boost\"],\n    dosage: \"1-2 capsules twice daily with meals\",\n    sideEffects: [\"Mild stomach upset\", \"Drowsiness\"],\n    inStock: true,\n    prescription: false,\n    image: \"https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=300&h=200&fit=crop\"\n  },\n  // Psychiatric Medications Section\n  {\n    id: 7,\n    name: \"Valop-500 CR\",\n    genericName: \"Sodium Valproate and Valproic Acid\",\n    category: \"Psychiatric\",\n    price: 485,\n    discountPrice: 425,\n    manufacturer: \"Torrent Pharmaceuticals\",\n    rating: 4.3,\n    reviewCount: 89,\n    description: \"Extended-release tablets for epilepsy and bipolar disorder management\",\n    uses: [\"Epilepsy\", \"Bipolar disorder\", \"Mood stabilization\", \"Seizure control\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Dizziness\", \"Nausea\", \"Weight gain\", \"Hair loss\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[7]\n  },\n  {\n    id: 8,\n    name: \"Gabasign-300\",\n    genericName: \"Gabapentin\",\n    category: \"Psychiatric\",\n    price: 315,\n    discountPrice: 285,\n    manufacturer: \"Lupin Ltd.\",\n    rating: 4.2,\n    reviewCount: 156,\n    description: \"Anticonvulsant medication for neuropathic pain and seizures\",\n    uses: [\"Neuropathic pain\", \"Epilepsy\", \"Anxiety disorders\", \"Restless leg syndrome\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Drowsiness\", \"Dizziness\", \"Fatigue\", \"Peripheral edema\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[8]\n  },\n  {\n    id: 9,\n    name: \"Mirzawell 7.5\",\n    genericName: \"Mirtazapine\",\n    category: \"Psychiatric\",\n    price: 285,\n    discountPrice: 255,\n    manufacturer: \"Wellness Life Sciences\",\n    rating: 4.4,\n    reviewCount: 92,\n    description: \"Antidepressant medication for major depressive disorder\",\n    uses: [\"Depression\", \"Anxiety\", \"Sleep disorders\", \"Appetite stimulation\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Sedation\", \"Weight gain\", \"Dry mouth\", \"Constipation\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[9]\n  },\n  {\n    id: 10,\n    name: \"Elipam-10\",\n    genericName: \"Diazepam\",\n    category: \"Psychiatric\",\n    price: 125,\n    discountPrice: 95,\n    manufacturer: \"Cadila Healthcare\",\n    rating: 4.1,\n    reviewCount: 203,\n    description: \"Benzodiazepine for anxiety, muscle spasms, and seizures\",\n    uses: [\"Anxiety disorders\", \"Muscle spasms\", \"Seizures\", \"Alcohol withdrawal\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Drowsiness\", \"Confusion\", \"Muscle weakness\", \"Dependency risk\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[10]\n  },\n  {\n    id: 11,\n    name: \"Lamotrigine 100mg\",\n    genericName: \"Lamotrigine\",\n    category: \"Psychiatric\",\n    price: 395,\n    discountPrice: 345,\n    manufacturer: \"Cipla Ltd.\",\n    rating: 4.3,\n    reviewCount: 124,\n    description: \"Mood stabilizer and anticonvulsant for bipolar disorder and epilepsy\",\n    uses: [\"Bipolar disorder\", \"Epilepsy\", \"Mood stabilization\", \"Depression\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Skin rash\", \"Headache\", \"Nausea\", \"Blurred vision\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[11]\n  },\n  {\n    id: 12,\n    name: \"Vilzocar-20\",\n    genericName: \"Vilazodone Hydrochloride\",\n    category: \"Psychiatric\",\n    price: 685,\n    discountPrice: 595,\n    manufacturer: \"Torrent Pharmaceuticals\",\n    rating: 4.2,\n    reviewCount: 67,\n    description: \"Antidepressant with partial serotonin agonist activity\",\n    uses: [\"Major depressive disorder\", \"Anxiety\", \"Depression with anxiety\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Nausea\", \"Diarrhea\", \"Vomiting\", \"Insomnia\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[12]\n  },\n  {\n    id: 13,\n    name: \"Tryptiline-25\",\n    genericName: \"Amitriptyline Hydrochloride\",\n    category: \"Psychiatric\",\n    price: 165,\n    discountPrice: 135,\n    manufacturer: \"Torrent Pharmaceuticals\",\n    rating: 4.0,\n    reviewCount: 187,\n    description: \"Tricyclic antidepressant for depression and chronic pain\",\n    uses: [\"Depression\", \"Chronic pain\", \"Migraine prevention\", \"Neuropathic pain\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Dry mouth\", \"Constipation\", \"Drowsiness\", \"Weight gain\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[13]\n  },\n  {\n    id: 14,\n    name: \"Buspin-10\",\n    genericName: \"Buspirone Hydrochloride\",\n    category: \"Psychiatric\",\n    price: 185,\n    discountPrice: 155,\n    manufacturer: \"Intas Pharmaceuticals\",\n    rating: 4.1,\n    reviewCount: 143,\n    description: \"Anti-anxiety medication for generalized anxiety disorder\",\n    uses: [\"Anxiety disorders\", \"Generalized anxiety\", \"Social anxiety\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Dizziness\", \"Nausea\", \"Headache\", \"Nervousness\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[14]\n  },\n  {\n    id: 15,\n    name: \"Wellbutrin XL 150mg\",\n    genericName: \"Bupropion Hydrochloride\",\n    category: \"Psychiatric\",\n    price: 1285,\n    discountPrice: 1125,\n    manufacturer: \"GlaxoSmithKline\",\n    rating: 4.5,\n    reviewCount: 234,\n    description: \"Extended-release antidepressant and smoking cessation aid\",\n    uses: [\"Depression\", \"Smoking cessation\", \"Seasonal affective disorder\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Dry mouth\", \"Insomnia\", \"Headache\", \"Nausea\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[15]\n  },\n  {\n    id: 16,\n    name: \"Perizon-6 ER\",\n    genericName: \"Paliperidone Extended Release\",\n    category: \"Psychiatric\",\n    price: 485,\n    discountPrice: 425,\n    manufacturer: \"Intas Pharmaceuticals\",\n    rating: 4.2,\n    reviewCount: 76,\n    description: \"Extended-release antipsychotic for schizophrenia and bipolar disorder\",\n    uses: [\"Schizophrenia\", \"Bipolar disorder\", \"Schizoaffective disorder\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Weight gain\", \"Sedation\", \"Extrapyramidal symptoms\", \"Prolactin elevation\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[16]\n  },\n  {\n    id: 17,\n    name: \"Erilop 5 MD\",\n    genericName: \"Haloperidol Mouth Dissolving\",\n    category: \"Psychiatric\",\n    price: 95,\n    discountPrice: 78,\n    manufacturer: \"Sun Pharma\",\n    rating: 4.0,\n    reviewCount: 112,\n    description: \"Mouth dissolving antipsychotic tablet for acute agitation\",\n    uses: [\"Schizophrenia\", \"Acute psychosis\", \"Mania\", \"Tourette's syndrome\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Extrapyramidal symptoms\", \"Sedation\", \"Tardive dyskinesia\", \"Neuroleptic malignant syndrome\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[17]\n  },\n  {\n    id: 18,\n    name: \"Eriquitc 50\",\n    genericName: \"Quetiapine Fumarate\",\n    category: \"Psychiatric\",\n    price: 285,\n    discountPrice: 245,\n    manufacturer: \"Sun Pharma\",\n    rating: 4.3,\n    reviewCount: 189,\n    description: \"Atypical antipsychotic for schizophrenia and bipolar disorder\",\n    uses: [\"Schizophrenia\", \"Bipolar disorder\", \"Major depressive disorder\", \"Insomnia\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Sedation\", \"Weight gain\", \"Dry mouth\", \"Constipation\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[18]\n  },\n  {\n    id: 19,\n    name: \"Cabrizepine CR 200\",\n    genericName: \"Carbamazepine Sustained Release\",\n    category: \"Psychiatric\",\n    price: 185,\n    discountPrice: 155,\n    manufacturer: \"Sun Pharma\",\n    rating: 4.1,\n    reviewCount: 98,\n    description: \"Sustained-release mood stabilizer and anticonvulsant\",\n    uses: [\"Bipolar disorder\", \"Epilepsy\", \"Trigeminal neuralgia\", \"Mood stabilization\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Dizziness\", \"Nausea\", \"Skin rash\", \"Blood disorders\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[19]\n  },\n  {\n    id: 20,\n    name: \"Asprito-15\",\n    genericName: \"Aripiprazole\",\n    category: \"Psychiatric\",\n    price: 385,\n    discountPrice: 335,\n    manufacturer: \"Torrent Pharmaceuticals\",\n    rating: 4.4,\n    reviewCount: 156,\n    description: \"Atypical antipsychotic with partial dopamine agonist activity\",\n    uses: [\"Schizophrenia\", \"Bipolar disorder\", \"Depression augmentation\", \"Autism irritability\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Akathisia\", \"Nausea\", \"Vomiting\", \"Constipation\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[20]\n  },\n  {\n    id: 21,\n    name: \"Olanzapine-10\",\n    genericName: \"Olanzapine\",\n    category: \"Psychiatric\",\n    price: 285,\n    discountPrice: 245,\n    manufacturer: \"Cipla Ltd.\",\n    rating: 4.2,\n    reviewCount: 143,\n    description: \"Atypical antipsychotic for schizophrenia and bipolar disorder\",\n    uses: [\"Schizophrenia\", \"Bipolar disorder\", \"Treatment-resistant depression\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Weight gain\", \"Sedation\", \"Metabolic syndrome\", \"Extrapyramidal symptoms\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[21]\n  },\n  {\n    id: 22,\n    name: \"Toppr-25\",\n    genericName: \"Topiramate\",\n    category: \"Psychiatric\",\n    price: 245,\n    discountPrice: 195,\n    manufacturer: \"Torrent Pharmaceuticals\",\n    rating: 4.0,\n    reviewCount: 87,\n    description: \"Anticonvulsant with mood stabilizing properties\",\n    uses: [\"Epilepsy\", \"Migraine prevention\", \"Bipolar disorder\", \"Weight loss\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Cognitive impairment\", \"Weight loss\", \"Kidney stones\", \"Paresthesia\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[22]\n  },\n  {\n    id: 23,\n    name: \"Oza-50\",\n    genericName: \"Clozapine\",\n    category: \"Psychiatric\",\n    price: 185,\n    discountPrice: 155,\n    manufacturer: \"Sun Pharma\",\n    rating: 4.1,\n    reviewCount: 65,\n    description: \"Atypical antipsychotic for treatment-resistant schizophrenia\",\n    uses: [\"Treatment-resistant schizophrenia\", \"Suicidal behavior in schizophrenia\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Agranulocytosis\", \"Sedation\", \"Weight gain\", \"Hypersalivation\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[23]\n  },\n  {\n    id: 24,\n    name: \"Edronax 4mg\",\n    genericName: \"Reboxetine\",\n    category: \"Psychiatric\",\n    price: 485,\n    discountPrice: 425,\n    manufacturer: \"Pfizer\",\n    rating: 4.2,\n    reviewCount: 78,\n    description: \"Selective noradrenaline reuptake inhibitor antidepressant\",\n    uses: [\"Major depressive disorder\", \"Panic disorder\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Dry mouth\", \"Constipation\", \"Insomnia\", \"Urinary retention\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[24]\n  },\n  {\n    id: 25,\n    name: \"Pronon 300\",\n    genericName: \"Maprotiline Hydrochloride\",\n    category: \"Psychiatric\",\n    price: 285,\n    discountPrice: 245,\n    manufacturer: \"Intas Pharmaceuticals\",\n    rating: 4.0,\n    reviewCount: 92,\n    description: \"Tetracyclic antidepressant for depression and anxiety\",\n    uses: [\"Depression\", \"Anxiety disorders\", \"Chronic pain\"],\n    dosage: \"As prescribed by doctor\",\n    sideEffects: [\"Drowsiness\", \"Dry mouth\", \"Constipation\", \"Seizure risk\"],\n    inStock: true,\n    prescription: true,\n    image: psychiatricMedicineImages[25]\n  }\n];\n\nconst categories = [\"All\", \"Pain Relief\", \"Vitamins\", \"Digestive\", \"Allergy\", \"Sleep Aid\", \"Stress Relief\", \"Psychiatric\"];\n\ninterface CheckoutFormProps {\n  medicines: Medicine[];\n  cart: {[key: number]: number};\n  total: number;\n}\n\nfunction CheckoutForm({ medicines, cart, total }: CheckoutFormProps) {\n  const [orderData, setOrderData] = useState({\n    fullName: \"\",\n    email: \"\",\n    phone: \"\",\n    address: \"\",\n    city: \"\",\n    state: \"\",\n    pincode: \"\",\n    deliveryNotes: \"\"\n  });\n  const { toast } = useToast();\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    // Here you would typically send the order to your backend\n    toast({\n      title: \"Order Placed Successfully!\",\n      description: `Your order of ₹${total} has been placed. You will receive a confirmation email shortly.`,\n    });\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {/* Order Summary */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-lg font-semibold\">Order Summary</h3>\n        <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n          {Object.entries(cart).map(([medicineId, quantity]) => {\n            const medicine = medicines.find(m => m.id === parseInt(medicineId));\n            if (!medicine) return null;\n            const price = medicine.discountPrice || medicine.price;\n\n            return (\n              <div key={medicineId} className=\"flex justify-between items-center p-3 bg-muted rounded-lg\">\n                <div>\n                  <p className=\"font-medium\">{medicine.name}</p>\n                  <p className=\"text-sm text-muted-foreground\">Qty: {quantity}</p>\n                </div>\n                <p className=\"font-medium\">₹{price * quantity}</p>\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"border-t pt-2\">\n          <div className=\"flex justify-between items-center text-lg font-bold\">\n            <span>Total Amount:</span>\n            <span>₹{total}</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Personal Information */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-lg font-semibold\">Personal Information</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <Label htmlFor=\"fullName\">Full Name *</Label>\n            <Input\n              id=\"fullName\"\n              value={orderData.fullName}\n              onChange={(e) => setOrderData(prev => ({ ...prev, fullName: e.target.value }))}\n              required\n              data-testid=\"input-full-name\"\n            />\n          </div>\n          <div>\n            <Label htmlFor=\"email\">Email Address *</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              value={orderData.email}\n              onChange={(e) => setOrderData(prev => ({ ...prev, email: e.target.value }))}\n              required\n              data-testid=\"input-email\"\n            />\n          </div>\n          <div>\n            <Label htmlFor=\"phone\">Phone Number *</Label>\n            <Input\n              id=\"phone\"\n              type=\"tel\"\n              value={orderData.phone}\n              onChange={(e) => setOrderData(prev => ({ ...prev, phone: e.target.value }))}\n              required\n              data-testid=\"input-phone\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Delivery Address */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-lg font-semibold\">Delivery Address</h3>\n        <div className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"address\">Street Address *</Label>\n            <Textarea\n              id=\"address\"\n              value={orderData.address}\n              onChange={(e) => setOrderData(prev => ({ ...prev, address: e.target.value }))}\n              required\n              placeholder=\"House/Flat no., Street name, Area\"\n              data-testid=\"input-address\"\n            />\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <Label htmlFor=\"city\">City *</Label>\n              <Input\n                id=\"city\"\n                value={orderData.city}\n                onChange={(e) => setOrderData(prev => ({ ...prev, city: e.target.value }))}\n                required\n                data-testid=\"input-city\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"state\">State *</Label>\n              <Input\n                id=\"state\"\n                value={orderData.state}\n                onChange={(e) => setOrderData(prev => ({ ...prev, state: e.target.value }))}\n                required\n                data-testid=\"input-state\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"pincode\">PIN Code *</Label>\n              <Input\n                id=\"pincode\"\n                value={orderData.pincode}\n                onChange={(e) => setOrderData(prev => ({ ...prev, pincode: e.target.value }))}\n                required\n                data-testid=\"input-pincode\"\n              />\n            </div>\n          </div>\n          <div>\n            <Label htmlFor=\"deliveryNotes\">Delivery Notes (Optional)</Label>\n            <Textarea\n              id=\"deliveryNotes\"\n              value={orderData.deliveryNotes}\n              onChange={(e) => setOrderData(prev => ({ ...prev, deliveryNotes: e.target.value }))}\n              placeholder=\"Any special instructions for delivery\"\n              data-testid=\"input-delivery-notes\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Payment & Place Order */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-lg font-semibold\">Payment Method</h3>\n        <div className=\"p-4 border rounded-lg\">\n          <p className=\"text-sm text-muted-foreground\">Cash on Delivery (COD)</p>\n          <p className=\"text-xs text-muted-foreground mt-1\">\n            Pay when your order is delivered to your doorstep\n          </p>\n        </div>\n        <Button type=\"submit\" size=\"lg\" className=\"w-full\" data-testid=\"btn-place-order\">\n          Place Order - ₹{total}\n        </Button>\n      </div>\n    </form>\n  );\n}\n\n// Prescription Upload Modal Component\nfunction PrescriptionUploadModal({ medicine, onUploadSuccess, isOpen, onClose }: {\n  medicine: Medicine;\n  onUploadSuccess: (medicineId: number, prescriptionData: any) => void;\n  isOpen: boolean;\n  onClose: () => void;\n}) {\n  const [uploadedFile, setUploadedFile] = useState<File | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const { toast } = useToast();\n\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      // Validate file type (PDF, JPG, PNG)\n      const validTypes = ['application/pdf', 'image/jpeg', 'image/png', 'image/jpg'];\n      if (!validTypes.includes(file.type)) {\n        toast({\n          title: \"Invalid file type\",\n          description: \"Please upload a PDF, JPG, or PNG file.\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n      \n      // Validate file size (max 5MB)\n      if (file.size > 5 * 1024 * 1024) {\n        toast({\n          title: \"File too large\",\n          description: \"Please upload a file smaller than 5MB.\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n      \n      setUploadedFile(file);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!uploadedFile) {\n      toast({\n        title: \"No file selected\",\n        description: \"Please select a prescription file to upload.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsUploading(true);\n    \n    // Simulate upload process\n    setTimeout(() => {\n      const prescriptionData = {\n        fileName: uploadedFile.name,\n        fileSize: uploadedFile.size,\n        uploadDate: new Date().toISOString(),\n        medicineId: medicine.id,\n        medicineName: medicine.name,\n        verified: true, // In real app, this would be set after verification\n      };\n      \n      onUploadSuccess(medicine.id, prescriptionData);\n      setIsUploading(false);\n      setUploadedFile(null);\n      onClose();\n      \n      toast({\n        title: \"Prescription uploaded successfully!\",\n        description: `Prescription for ${medicine.name} has been verified. You can now add it to cart.`,\n      });\n    }, 2000);\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Shield className=\"h-5 w-5 text-blue-600\" />\n            Upload Prescription\n          </DialogTitle>\n        </DialogHeader>\n        \n        <Alert className=\"mb-4\">\n          <AlertTriangle className=\"h-4 w-4\" />\n          <AlertTitle>Prescription Required</AlertTitle>\n          <AlertDescription>\n            <strong>{medicine.name}</strong> requires a valid prescription from a licensed healthcare provider.\n          </AlertDescription>\n        </Alert>\n        \n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"prescription-file\">Upload Prescription</Label>\n            <Input\n              id=\"prescription-file\"\n              type=\"file\"\n              accept=\".pdf,.jpg,.jpeg,.png\"\n              onChange={handleFileUpload}\n              className=\"cursor-pointer\"\n              data-testid=\"input-prescription-file\"\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              Accepted formats: PDF, JPG, PNG (Max size: 5MB)\n            </p>\n          </div>\n          \n          {uploadedFile && (\n            <div className=\"p-3 bg-muted rounded-lg\">\n              <div className=\"flex items-center gap-2\">\n                <FileText className=\"h-4 w-4\" />\n                <span className=\"text-sm font-medium\">{uploadedFile.name}</span>\n              </div>\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Size: {(uploadedFile.size / 1024 / 1024).toFixed(2)} MB\n              </p>\n            </div>\n          )}\n          \n          <div className=\"flex gap-2 pt-4\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={onClose}\n              className=\"flex-1\"\n              data-testid=\"btn-cancel-prescription\"\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              disabled={!uploadedFile || isUploading}\n              className=\"flex-1\"\n              data-testid=\"btn-upload-prescription\"\n            >\n              {isUploading ? \"Uploading...\" : \"Upload & Verify\"}\n            </Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport default function Medicine() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\n  const [cart, setCart] = useState<{[key: number]: number}>({});\n  const [prescriptions, setPrescriptions] = useState<{[key: number]: any}>({});\n  const [showPrescriptionModal, setShowPrescriptionModal] = useState(false);\n  const [selectedMedicine, setSelectedMedicine] = useState<Medicine | null>(null);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const { toast } = useToast();\n\n  const filteredMedicines = medicines.filter(medicine => {\n    const matchesSearch = medicine.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         medicine.genericName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         medicine.uses.some(use => use.toLowerCase().includes(searchTerm.toLowerCase()));\n    const matchesCategory = selectedCategory === \"All\" || medicine.category === selectedCategory;\n    return matchesSearch && matchesCategory;\n  });\n\n  const addToCart = (medicineId: number) => {\n    setCart(prev => ({\n      ...prev,\n      [medicineId]: (prev[medicineId] || 0) + 1\n    }));\n    toast({\n      title: \"Added to cart\",\n      description: \"Item has been added to your cart successfully.\",\n    });\n  };\n\n  const removeFromCart = (medicineId: number) => {\n    setCart(prev => {\n      const newCart = { ...prev };\n      if (newCart[medicineId] && newCart[medicineId] > 1) {\n        newCart[medicineId] -= 1;\n      } else {\n        delete newCart[medicineId];\n      }\n      return newCart;\n    });\n  };\n\n  const getCartTotal = () => {\n    return Object.entries(cart).reduce((total, [medicineId, quantity]) => {\n      const medicine = medicines.find(m => m.id === parseInt(medicineId));\n      if (medicine) {\n        const price = medicine.discountPrice || medicine.price;\n        return total + (price * quantity);\n      }\n      return total;\n    }, 0);\n  };\n\n  const getCartItemCount = () => {\n    return Object.values(cart).reduce((total, quantity) => total + quantity, 0);\n  };\n\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      // Validate file type\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf'];\n      if (!allowedTypes.includes(file.type)) {\n        toast({\n          title: \"Invalid file type\",\n          description: \"Please upload JPG, PNG, or PDF files only.\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      // Validate file size (10MB = 10 * 1024 * 1024 bytes)\n      const maxSize = 10 * 1024 * 1024;\n      if (file.size > maxSize) {\n        toast({\n          title: \"File too large\",\n          description: \"File size must be less than 10MB.\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      setSelectedFile(file);\n      toast({\n        title: \"File selected\",\n        description: `${file.name} is ready for upload.`,\n      });\n    }\n  };\n\n  const handleUploadClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleRemoveFile = () => {\n    setSelectedFile(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const handleFileUpload = async () => {\n    if (!selectedFile) return;\n\n    setIsUploading(true);\n    try {\n      // Simulate upload process - replace with actual upload logic\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      toast({\n        title: \"Upload successful\",\n        description: \"Your prescription has been uploaded and will be reviewed by our pharmacists.\",\n      });\n      \n      // Reset file after successful upload\n      setSelectedFile(null);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    } catch (error) {\n      toast({\n        title: \"Upload failed\",\n        description: \"There was an error uploading your file. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 max-w-7xl\">\n      <div className=\"mb-6\">\n        <BackButton />\n      </div>\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-primary mb-2\">Buy Medicine</h1>\n        <p className=\"text-lg text-muted-foreground\">\n          Order medicines online with fast delivery and genuine products\n        </p>\n      </div>\n\n\n      {/* Search and Cart Summary */}\n      <div className=\"mb-6 space-y-4\">\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\n            <Input\n              placeholder=\"Search medicines, symptoms, or conditions...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10\"\n              data-testid=\"input-medicine-search\"\n            />\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <Badge variant=\"secondary\" className=\"px-3 py-2\">\n              <ShoppingCart className=\"h-4 w-4 mr-2\" />\n              {getCartItemCount()} items • ₹{getCartTotal()}\n            </Badge>\n          </div>\n        </div>\n      </div>\n\n      <Tabs defaultValue=\"normal-medicine\" className=\"space-y-6\">\n        <TabsList className=\"w-full h-auto flex flex-col sm:flex-row sm:grid sm:grid-cols-2 lg:grid-cols-4 gap-1 p-1\">\n          <TabsTrigger value=\"normal-medicine\" data-testid=\"tab-normal-medicine\" className=\"flex-1 text-center py-2 px-3 text-sm sm:text-base\">Normal Medicine</TabsTrigger>\n          <TabsTrigger value=\"doctor-prescribed\" data-testid=\"tab-doctor-prescribed\" className=\"flex-1 text-center py-2 px-3 text-sm sm:text-base\">Doctor Prescribed</TabsTrigger>\n          <TabsTrigger value=\"prescription-upload\" data-testid=\"tab-prescription-upload\" className=\"flex-1 text-center py-2 px-3 text-sm sm:text-base\">Prescription Upload</TabsTrigger>\n          <TabsTrigger value=\"cart\" data-testid=\"tab-cart\" className=\"flex-1 text-center py-2 px-3 text-sm sm:text-base\">\n            Cart ({getCartItemCount()})\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"normal-medicine\" className=\"space-y-6\">\n          {/* Category Filter Dropdown */}\n          <div className=\"w-full space-y-4\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n              <h3 className=\"text-lg font-semibold text-foreground\">Filter by Category</h3>\n              \n              <div className=\"w-full sm:w-64\">\n                <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n                  <SelectTrigger \n                    className=\"w-full h-11 bg-background border-2 border-border hover:border-primary/50 focus:border-primary transition-colors\"\n                    data-testid=\"category-filter-dropdown\"\n                  >\n                    <div className=\"flex items-center gap-2\">\n                      <Pill className=\"h-4 w-4 text-primary\" />\n                      <SelectValue placeholder=\"Select category\" />\n                    </div>\n                    <ChevronDown className=\"h-4 w-4 opacity-50\" />\n                  </SelectTrigger>\n                  <SelectContent \n                    className=\"max-h-60 bg-background border-2 border-border shadow-lg\"\n                    position=\"popper\"\n                  >\n                    {categories.map(category => (\n                      <SelectItem \n                        key={category} \n                        value={category}\n                        className=\"cursor-pointer hover:bg-primary/5 focus:bg-primary/10 py-3 px-4\"\n                        data-testid={`filter-option-${category.toLowerCase().replace(' ', '-')}`}\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          {category === \"All\" && <div className=\"w-2 h-2 rounded-full bg-gray-500\" />}\n                          {category === \"Pain Relief\" && <div className=\"w-2 h-2 rounded-full bg-red-500\" />}\n                          {category === \"Vitamins\" && <div className=\"w-2 h-2 rounded-full bg-orange-500\" />}\n                          {category === \"Digestive\" && <div className=\"w-2 h-2 rounded-full bg-green-500\" />}\n                          {category === \"Allergy\" && <div className=\"w-2 h-2 rounded-full bg-yellow-500\" />}\n                          {category === \"Sleep Aid\" && <div className=\"w-2 h-2 rounded-full bg-purple-500\" />}\n                          {category === \"Stress Relief\" && <div className=\"w-2 h-2 rounded-full bg-blue-500\" />}\n                          {category === \"Psychiatric\" && <div className=\"w-2 h-2 rounded-full bg-pink-500\" />}\n                          <span className=\"font-medium\">{category}</span>\n                        </div>\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n            \n            {/* Selected category indicator */}\n            {selectedCategory !== \"All\" && (\n              <div className=\"p-4 bg-primary/10 border border-primary/20 rounded-lg\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-2 h-2 rounded-full bg-primary\" />\n                    <span className=\"text-sm text-primary font-medium\">\n                      Showing: {selectedCategory} medicines ({filteredMedicines.length} found)\n                    </span>\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => setSelectedCategory(\"All\")}\n                    className=\"h-8 px-3 text-xs text-primary hover:bg-primary/20 hover:text-primary font-medium\"\n                    data-testid=\"clear-category-filter\"\n                  >\n                    <X className=\"h-3 w-3 mr-1\" />\n                    Clear filter\n                  </Button>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Medicine Grid */}\n          <div className=\"grid md:grid-cols-1 lg:grid-cols-2 gap-8\">\n            {filteredMedicines.map((medicine) => (\n              <Card key={medicine.id} className=\"hover:shadow-lg transition-shadow h-full\">\n                <CardHeader className=\"pb-4\">\n                  <div className=\"aspect-[4/3] mb-4 overflow-hidden rounded-lg bg-gray-50 dark:bg-gray-800\">\n                    <img\n                      src={medicine.image}\n                      alt={medicine.name}\n                      className=\"w-full h-full object-cover hover:scale-105 transition-transform duration-300\"\n                    />\n                  </div>\n                  <div className=\"flex justify-between items-start\">\n                    <div className=\"flex-1\">\n                      <CardTitle className=\"text-xl leading-tight mb-2\">{medicine.name}</CardTitle>\n                      <p className=\"text-base text-muted-foreground mb-1\">{medicine.genericName}</p>\n                      <p className=\"text-sm text-muted-foreground\">{medicine.manufacturer}</p>\n                    </div>\n                    <div className=\"flex flex-col items-end\">\n                      <Badge variant=\"secondary\" className=\"mb-2 text-sm px-3 py-1\">{medicine.category}</Badge>\n                      {medicine.prescription && (\n                        <Badge variant=\"destructive\" className=\"text-sm px-3 py-1\">Rx Required</Badge>\n                      )}\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent className=\"space-y-5\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"flex items-center\">\n                      <Star className=\"h-5 w-5 fill-yellow-400 text-yellow-400\" />\n                      <span className=\"text-base font-medium ml-1\">{medicine.rating}</span>\n                    </div>\n                    <span className=\"text-sm text-muted-foreground\">({medicine.reviewCount} reviews)</span>\n                  </div>\n\n                  <p className=\"text-base text-muted-foreground line-clamp-3\">{medicine.description}</p>\n\n                  {/* Enhanced Dosage Information */}\n                  <div className=\"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border-l-4 border-blue-500\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Pill className=\"h-5 w-5 text-blue-600\" />\n                      <span className=\"font-semibold text-blue-800 dark:text-blue-300\">Dosage Information</span>\n                    </div>\n                    <p className=\"text-base text-blue-700 dark:text-blue-200 font-medium\">{medicine.dosage}</p>\n                    <p className=\"text-sm text-blue-600 dark:text-blue-300 mt-1\">\n                      Always follow your doctor's prescription and dosage instructions\n                    </p>\n                  </div>\n\n                  {/* Uses Section */}\n                  <div className=\"space-y-2\">\n                    <div className=\"text-base\">\n                      <span className=\"font-semibold text-green-700 dark:text-green-400\">Medical Uses:</span>\n                      <p className=\"text-muted-foreground mt-1\">{medicine.uses.join(\", \")}</p>\n                    </div>\n                  </div>\n\n                  {/* Additional Medicine Information */}\n                  <div className=\"grid grid-cols-2 gap-4 bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg\">\n                    <div className=\"text-center\">\n                      <p className=\"text-sm text-muted-foreground\">Pack Size</p>\n                      <p className=\"font-medium\">10 tablets</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-sm text-muted-foreground\">Form</p>\n                      <p className=\"font-medium\">Tablet</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-sm text-muted-foreground\">Storage</p>\n                      <p className=\"font-medium text-xs\">Store in cool, dry place</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-sm text-muted-foreground\">Expiry</p>\n                      <p className=\"font-medium text-xs\">2+ years from mfg</p>\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center justify-between pt-2\">\n                    <div className=\"flex items-center gap-2\">\n                      {medicine.discountPrice ? (\n                        <>\n                          <span className=\"text-2xl font-bold text-primary\">₹{medicine.discountPrice}</span>\n                          <span className=\"text-lg text-muted-foreground line-through\">₹{medicine.price}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-2xl font-bold text-primary\">₹{medicine.price}</span>\n                      )}\n                    </div>\n                    {medicine.inStock ? (\n                      <div className=\"flex items-center gap-2\">\n                        {cart[medicine.id] ? (\n                          <div className=\"flex items-center gap-2\">\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => removeFromCart(medicine.id)}\n                              data-testid={`btn-decrease-${medicine.id}`}\n                            >\n                              <Minus className=\"h-4 w-4\" />\n                            </Button>\n                            <span className=\"min-w-[30px] text-center font-medium\">{cart[medicine.id]}</span>\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => addToCart(medicine.id)}\n                              data-testid={`btn-increase-${medicine.id}`}\n                            >\n                              <Plus className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        ) : (\n                          <Button\n                            size=\"lg\"\n                            onClick={() => addToCart(medicine.id)}\n                            data-testid={`btn-add-${medicine.id}`}\n                            className=\"px-6\"\n                          >\n                            <ShoppingCart className=\"h-5 w-5 mr-2\" />\n                            Add to Cart\n                          </Button>\n                        )}\n                      </div>\n                    ) : (\n                      <Badge variant=\"secondary\" className=\"text-base px-4 py-2\">Out of Stock</Badge>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </TabsContent>\n\n        <TabsContent value=\"doctor-prescribed\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <Stethoscope className=\"h-5 w-5 mr-2\" />\n                Doctor Prescribed Medicines\n              </CardTitle>\n              <p className=\"text-muted-foreground\">\n                Access medicines recommended by your healthcare providers and track your prescription history\n              </p>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {/* Doctor Consultation Section */}\n              <div className=\"grid md:grid-cols-2 gap-6\">\n                <Card className=\"border-2 border-dashed border-primary/30 hover:border-primary/50 transition-colors\">\n                  <CardContent className=\"p-6 text-center\">\n                    <Stethoscope className=\"h-12 w-12 text-primary mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-semibold mb-2\">Consult a Doctor</h3>\n                    <p className=\"text-muted-foreground mb-4 text-sm\">\n                      Get professional medical consultation and personalized medicine recommendations\n                    </p>\n                    <Button className=\"w-full\" data-testid=\"btn-consult-doctor\">\n                      <Stethoscope className=\"h-4 w-4 mr-2\" />\n                      Book Consultation\n                    </Button>\n                  </CardContent>\n                </Card>\n\n                <Card className=\"border-2 border-dashed border-green-300 hover:border-green-400 transition-colors\">\n                  <CardContent className=\"p-6 text-center\">\n                    <FileText className=\"h-12 w-12 text-green-600 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-semibold mb-2\">My Prescriptions</h3>\n                    <p className=\"text-muted-foreground mb-4 text-sm\">\n                      View and manage all your doctor-prescribed medications\n                    </p>\n                    <Button variant=\"outline\" className=\"w-full\" data-testid=\"btn-view-prescriptions\">\n                      <FileText className=\"h-4 w-4 mr-2\" />\n                      View History\n                    </Button>\n                  </CardContent>\n                </Card>\n              </div>\n\n              {/* Recent Prescriptions */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg\">Recent Doctor Prescriptions</CardTitle>\n                  <p className=\"text-sm text-muted-foreground\">Your latest prescribed medications</p>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {/* Sample prescribed medicines */}\n                    <div className=\"border rounded-lg p-4 bg-blue-50 dark:bg-blue-950/20\">\n                      <div className=\"flex justify-between items-start mb-3\">\n                        <div>\n                          <h4 className=\"font-semibold text-blue-900 dark:text-blue-100\">Dr. Sarah Johnson</h4>\n                          <p className=\"text-sm text-blue-600 dark:text-blue-300\">General Physician</p>\n                          <p className=\"text-xs text-blue-500 dark:text-blue-400\">Prescribed on: March 15, 2024</p>\n                        </div>\n                        <Badge className=\"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100\">Active</Badge>\n                      </div>\n                      \n                      <div className=\"space-y-3\">\n                        <div className=\"bg-white dark:bg-gray-800 rounded p-3 border-l-4 border-blue-500\">\n                          <div className=\"flex justify-between items-center\">\n                            <div>\n                              <h5 className=\"font-medium\">Paracetamol 500mg</h5>\n                              <p className=\"text-sm text-muted-foreground\">For fever and pain relief</p>\n                              <p className=\"text-xs text-blue-600 font-medium\">Take 1 tablet every 6 hours after meals</p>\n                            </div>\n                            <Button size=\"sm\" data-testid=\"btn-order-prescribed-1\">\n                              <Plus className=\"h-3 w-3 mr-1\" />\n                              Order\n                            </Button>\n                          </div>\n                        </div>\n\n                        <div className=\"bg-white dark:bg-gray-800 rounded p-3 border-l-4 border-green-500\">\n                          <div className=\"flex justify-between items-center\">\n                            <div>\n                              <h5 className=\"font-medium\">Amoxicillin 250mg</h5>\n                              <p className=\"text-sm text-muted-foreground\">Antibiotic for infection</p>\n                              <p className=\"text-xs text-green-600 font-medium\">Take 1 capsule twice daily for 7 days</p>\n                            </div>\n                            <Button size=\"sm\" data-testid=\"btn-order-prescribed-2\">\n                              <Plus className=\"h-3 w-3 mr-1\" />\n                              Order\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Another prescription */}\n                    <div className=\"border rounded-lg p-4 bg-green-50 dark:bg-green-950/20\">\n                      <div className=\"flex justify-between items-start mb-3\">\n                        <div>\n                          <h4 className=\"font-semibold text-green-900 dark:text-green-100\">Dr. Michael Chen</h4>\n                          <p className=\"text-sm text-green-600 dark:text-green-300\">Cardiologist</p>\n                          <p className=\"text-xs text-green-500 dark:text-green-400\">Prescribed on: March 10, 2024</p>\n                        </div>\n                        <Badge className=\"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100\">Completed</Badge>\n                      </div>\n                      \n                      <div className=\"space-y-3\">\n                        <div className=\"bg-white dark:bg-gray-800 rounded p-3 border-l-4 border-purple-500\">\n                          <div className=\"flex justify-between items-center\">\n                            <div>\n                              <h5 className=\"font-medium\">Lisinopril 10mg</h5>\n                              <p className=\"text-sm text-muted-foreground\">For blood pressure control</p>\n                              <p className=\"text-xs text-purple-600 font-medium\">Take 1 tablet once daily in the morning</p>\n                            </div>\n                            <Button size=\"sm\" variant=\"outline\" data-testid=\"btn-reorder-prescribed\">\n                              <ShoppingCart className=\"h-3 w-3 mr-1\" />\n                              Reorder\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"mt-6 text-center\">\n                    <Button variant=\"outline\" data-testid=\"btn-view-all-prescriptions\">\n                      View All Prescriptions\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Medical Information */}\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <Card>\n                  <CardContent className=\"p-4 text-center\">\n                    <Shield className=\"h-8 w-8 text-blue-500 mx-auto mb-2\" />\n                    <h4 className=\"font-medium mb-1\">Verified Doctors</h4>\n                    <p className=\"text-sm text-muted-foreground\">All prescriptions from licensed medical professionals</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"p-4 text-center\">\n                    <CheckCircle className=\"h-8 w-8 text-green-500 mx-auto mb-2\" />\n                    <h4 className=\"font-medium mb-1\">Safe & Secure</h4>\n                    <p className=\"text-sm text-muted-foreground\">Your medical records are encrypted and protected</p>\n                  </CardContent>\n                </Card>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"prescription-upload\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <Upload className=\"h-5 w-5 mr-2\" />\n                Upload Prescription\n              </CardTitle>\n              <p className=\"text-muted-foreground\">\n                Upload your prescription and we'll help you order the exact medicines your doctor prescribed.\n              </p>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              {/* Upload Section */}\n              <div className=\"border-2 border-dashed border-border rounded-lg p-8 text-center\">\n                <Upload className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n                <h3 className=\"text-lg font-semibold mb-2\">Upload your prescription</h3>\n                <p className=\"text-muted-foreground mb-4\">\n                  Supported formats: JPG, PNG, PDF (Max size: 10MB)\n                </p>\n                \n                {/* Hidden file input */}\n                <input\n                  type=\"file\"\n                  ref={fileInputRef}\n                  onChange={handleFileSelect}\n                  accept=\".jpg,.jpeg,.png,.pdf,image/jpeg,image/jpg,image/png,application/pdf\"\n                  className=\"hidden\"\n                  data-testid=\"file-input-prescription\"\n                />\n                \n                {!selectedFile ? (\n                  <Button \n                    onClick={handleUploadClick} \n                    className=\"mb-2\" \n                    data-testid=\"btn-upload-prescription\"\n                    disabled={isUploading}\n                  >\n                    <Upload className=\"h-4 w-4 mr-2\" />\n                    Choose File\n                  </Button>\n                ) : (\n                  <div className=\"space-y-3\">\n                    <div className=\"bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg p-3\">\n                      <div className=\"flex items-center justify-center gap-2 mb-2\">\n                        <FileText className=\"h-4 w-4 text-green-600\" />\n                        <span className=\"text-sm font-medium text-green-800 dark:text-green-300\">\n                          {selectedFile.name}\n                        </span>\n                        <Button\n                          size=\"sm\"\n                          variant=\"ghost\"\n                          onClick={handleRemoveFile}\n                          className=\"h-6 w-6 p-0 text-red-500 hover:text-red-700 hover:bg-red-50\"\n                          data-testid=\"btn-remove-file\"\n                        >\n                          <X className=\"h-3 w-3\" />\n                        </Button>\n                      </div>\n                      <p className=\"text-xs text-green-600 dark:text-green-400\">\n                        File size: {(selectedFile.size / (1024 * 1024)).toFixed(2)} MB\n                      </p>\n                    </div>\n                    \n                    <div className=\"flex gap-2 justify-center\">\n                      <Button\n                        onClick={handleFileUpload}\n                        disabled={isUploading}\n                        className=\"px-6\"\n                        data-testid=\"btn-confirm-upload\"\n                      >\n                        {isUploading ? (\n                          <>\n                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                            Uploading...\n                          </>\n                        ) : (\n                          <>\n                            <Upload className=\"h-4 w-4 mr-2\" />\n                            Upload File\n                          </>\n                        )}\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        onClick={handleUploadClick}\n                        disabled={isUploading}\n                        data-testid=\"btn-choose-different-file\"\n                      >\n                        Choose Different File\n                      </Button>\n                    </div>\n                  </div>\n                )}\n                \n                <p className=\"text-xs text-muted-foreground mt-3\">\n                  Your prescription will be verified by our licensed pharmacists\n                </p>\n              </div>\n\n              {/* Information Cards */}\n              <div className=\"grid md:grid-cols-3 gap-4\">\n                <Card>\n                  <CardContent className=\"p-4 text-center\">\n                    <CheckCircle className=\"h-8 w-8 text-green-500 mx-auto mb-2\" />\n                    <h4 className=\"font-medium mb-1\">Step 1</h4>\n                    <p className=\"text-sm text-muted-foreground\">Upload clear photo of prescription</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"p-4 text-center\">\n                    <FileText className=\"h-8 w-8 text-blue-500 mx-auto mb-2\" />\n                    <h4 className=\"font-medium mb-1\">Step 2</h4>\n                    <p className=\"text-sm text-muted-foreground\">Our pharmacist will verify</p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardContent className=\"p-4 text-center\">\n                    <ShoppingCart className=\"h-8 w-8 text-primary mx-auto mb-2\" />\n                    <h4 className=\"font-medium mb-1\">Step 3</h4>\n                    <p className=\"text-sm text-muted-foreground\">Add to cart and checkout</p>\n                  </CardContent>\n                </Card>\n              </div>\n\n              {/* Instructions */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg\">Important Instructions</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <ul className=\"space-y-2 text-sm text-muted-foreground\">\n                    <li className=\"flex items-start gap-2\">\n                      <div className=\"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0\"></div>\n                      Ensure the prescription is clearly visible and not blurred\n                    </li>\n                    <li className=\"flex items-start gap-2\">\n                      <div className=\"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0\"></div>\n                      Doctor's signature and clinic stamp must be visible\n                    </li>\n                    <li className=\"flex items-start gap-2\">\n                      <div className=\"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0\"></div>\n                      Prescription should not be older than 30 days\n                    </li>\n                    <li className=\"flex items-start gap-2\">\n                      <div className=\"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0\"></div>\n                      For controlled medications, original prescription may be required\n                    </li>\n                  </ul>\n                </CardContent>\n              </Card>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"cart\" className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <ShoppingCart className=\"h-5 w-5 mr-2\" />\n                Shopping Cart ({getCartItemCount()} items)\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              {Object.keys(cart).length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <ShoppingCart className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n                  <p className=\"text-muted-foreground\">Your cart is empty</p>\n                  <Button \n                    className=\"mt-4\" \n                    onClick={() => {\n                      const browseTab = document.querySelector('[data-testid=\"tab-normal-medicine\"]') as HTMLElement;\n                      browseTab?.click();\n                    }}\n                  >\n                    Start Shopping\n                  </Button>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {Object.entries(cart).map(([medicineId, quantity]) => {\n                    const medicine = medicines.find(m => m.id === parseInt(medicineId));\n                    if (!medicine) return null;\n                    const price = medicine.discountPrice || medicine.price;\n\n                    return (\n                      <div key={medicineId} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                        <div className=\"flex items-center gap-4\">\n                          <img\n                            src={medicine.image}\n                            alt={medicine.name}\n                            className=\"w-16 h-16 object-cover rounded\"\n                          />\n                          <div>\n                            <h4 className=\"font-medium\">{medicine.name}</h4>\n                            <p className=\"text-sm text-muted-foreground\">{medicine.genericName}</p>\n                            <p className=\"text-sm text-primary font-medium\">₹{price} each</p>\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-4\">\n                          <div className=\"flex items-center gap-2\">\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => removeFromCart(medicine.id)}\n                            >\n                              <Minus className=\"h-3 w-3\" />\n                            </Button>\n                            <span className=\"min-w-[30px] text-center\">{quantity}</span>\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => addToCart(medicine.id)}\n                            >\n                              <Plus className=\"h-3 w-3\" />\n                            </Button>\n                          </div>\n                          <div className=\"text-right\">\n                            <p className=\"font-medium\">₹{price * quantity}</p>\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  })}\n\n                  <div className=\"border-t pt-4\">\n                    <div className=\"flex justify-between items-center text-lg font-bold\">\n                      <span>Total: ₹{getCartTotal()}</span>\n                      <Dialog>\n                        <DialogTrigger asChild>\n                          <Button size=\"lg\" data-testid=\"btn-checkout\">\n                            Proceed to Checkout\n                          </Button>\n                        </DialogTrigger>\n                        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n                          <DialogHeader>\n                            <DialogTitle>Order Details & Address</DialogTitle>\n                          </DialogHeader>\n                          <CheckoutForm medicines={medicines} cart={cart} total={getCartTotal()} />\n                        </DialogContent>\n                      </Dialog>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* Info Cards */}\n      <div className=\"grid md:grid-cols-3 gap-6 mt-8\">\n        <Card>\n          <CardContent className=\"p-6 text-center\">\n            <Clock className=\"h-8 w-8 text-primary mx-auto mb-3\" />\n            <h3 className=\"font-semibold mb-2\">Fast Delivery</h3>\n            <p className=\"text-sm text-muted-foreground\">Get medicines delivered within 2-4 hours in major cities</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"p-6 text-center\">\n            <Pill className=\"h-8 w-8 text-primary mx-auto mb-3\" />\n            <h3 className=\"font-semibold mb-2\">Genuine Products</h3>\n            <p className=\"text-sm text-muted-foreground\">All medicines are sourced from verified manufacturers</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"p-6 text-center\">\n            <MapPin className=\"h-8 w-8 text-primary mx-auto mb-3\" />\n            <h3 className=\"font-semibold mb-2\">Pan India Delivery</h3>\n            <p className=\"text-sm text-muted-foreground\">Available across 1000+ cities nationwide</p>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","size_bytes":68092},"client/src/pages/routine.tsx":{"content":"import { BackButton } from \"@/components/ui/back-button\";\nimport RoutineGenerator from \"@/components/wellness/routine-generator\";\n\nexport default function RoutinePage() {\n  return (\n    <div className=\"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto\">\n      <div className=\"mb-6\">\n        <BackButton />\n      </div>\n      \n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Routine Generator</h1>\n        <p className=\"text-muted-foreground\">\n          Create personalized daily routines to support your mental wellness and productivity\n        </p>\n      </div>\n      \n      <RoutineGenerator />\n    </div>\n  );\n}","size_bytes":645},"client/src/pages/saved.tsx":{"content":"import { useState } from \"react\";\nimport { BookOpen, Heart, Video, Music, Stethoscope, Flower, Clock, Star, Bookmark, Share2, Download, X, Search } from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { BackButton } from \"@/components/ui/back-button\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface SavedItem {\n  id: string;\n  title: string;\n  content: string;\n  type: 'article' | 'video' | 'audio' | 'tip' | 'quote';\n  category: string;\n  tags: string[];\n  savedDate: string;\n  source?: string;\n  duration?: string;\n  thumbnail?: string;\n  isFavorite: boolean;\n}\n\nconst savedContent: SavedItem[] = [\n  {\n    id: \"1\",\n    title: \"5 Breathing Techniques for Instant Calm\",\n    content: \"Learn powerful breathing exercises that can help reduce anxiety and stress within minutes. These techniques are scientifically proven to activate your body's relaxation response.\",\n    type: \"article\",\n    category: \"Stress Management\",\n    tags: [\"breathing\", \"anxiety\", \"relaxation\", \"mindfulness\"],\n    savedDate: \"2024-01-15\",\n    source: \"Mental Wellness Hub\",\n    isFavorite: true\n  },\n  {\n    id: \"2\",\n    title: \"Morning Meditation for Students\",\n    content: \"A guided 10-minute meditation designed specifically for college students to start their day with clarity and focus.\",\n    type: \"audio\",\n    category: \"Meditation\",\n    tags: [\"meditation\", \"morning routine\", \"focus\", \"students\"],\n    savedDate: \"2024-01-14\",\n    duration: \"10 min\",\n    thumbnail: \"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=250&fit=crop\",\n    isFavorite: false\n  },\n  {\n    id: \"3\",\n    title: \"Study Smart, Not Hard: Proven Techniques\",\n    content: \"Discover evidence-based study methods that can improve your learning efficiency by up to 40%. Perfect for exam preparation and long-term retention.\",\n    type: \"video\",\n    category: \"Academic Success\",\n    tags: [\"study tips\", \"memory\", \"productivity\", \"exams\"],\n    savedDate: \"2024-01-13\",\n    duration: \"15 min\",\n    thumbnail: \"https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=400&h=250&fit=crop\",\n    isFavorite: true\n  },\n  {\n    id: \"4\",\n    title: \"Progressive Muscle Relaxation Guide\",\n    content: \"Step-by-step instructions for progressive muscle relaxation - a powerful technique to reduce physical tension and mental stress.\",\n    type: \"article\",\n    category: \"Relaxation\",\n    tags: [\"muscle relaxation\", \"stress relief\", \"sleep\", \"wellness\"],\n    savedDate: \"2024-01-12\",\n    source: \"Wellness Today\",\n    isFavorite: false\n  },\n  {\n    id: \"5\",\n    title: \"Healthy Sleep Habits for Better Mental Health\",\n    content: \"Understanding the connection between sleep and mental wellbeing. Learn how to optimize your sleep schedule for better mood and cognitive performance.\",\n    type: \"article\",\n    category: \"Sleep Wellness\",\n    tags: [\"sleep\", \"mental health\", \"routine\", \"wellness\"],\n    savedDate: \"2024-01-11\",\n    source: \"Sleep Science Journal\",\n    isFavorite: true\n  },\n  {\n    id: \"6\",\n    title: \"Dealing with Academic Pressure\",\n    content: \"Practical strategies for managing academic stress, setting realistic goals, and maintaining a healthy work-life balance during college years.\",\n    type: \"tip\",\n    category: \"Student Life\",\n    tags: [\"academic stress\", \"goal setting\", \"balance\", \"college\"],\n    savedDate: \"2024-01-10\",\n    isFavorite: false\n  },\n  {\n    id: \"7\",\n    title: \"Quick Yoga Sequence for Stress Relief\",\n    content: \"A 5-minute yoga flow that you can do anywhere to release tension and center yourself during busy days.\",\n    type: \"video\",\n    category: \"Physical Wellness\",\n    tags: [\"yoga\", \"stress relief\", \"quick workout\", \"flexibility\"],\n    savedDate: \"2024-01-09\",\n    duration: \"5 min\",\n    thumbnail: \"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=400&h=250&fit=crop\",\n    isFavorite: true\n  },\n  {\n    id: \"8\",\n    title: \"Building Healthy Relationships in College\",\n    content: \"Tips for forming meaningful connections, maintaining friendships, and navigating social situations with confidence and authenticity.\",\n    type: \"article\",\n    category: \"Social Wellness\",\n    tags: [\"relationships\", \"social skills\", \"friendship\", \"communication\"],\n    savedDate: \"2024-01-08\",\n    source: \"Social Psychology Today\",\n    isFavorite: false\n  }\n];\n\nconst typeIcons = {\n  article: BookOpen,\n  video: Video,\n  audio: Music,\n  tip: Stethoscope,\n  quote: Heart\n};\n\nconst categoryColors = {\n  \"Stress Management\": \"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200\",\n  \"Meditation\": \"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200\",\n  \"Academic Success\": \"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200\",\n  \"Relaxation\": \"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200\",\n  \"Sleep Wellness\": \"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200\",\n  \"Student Life\": \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200\",\n  \"Physical Wellness\": \"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200\",\n  \"Social Wellness\": \"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200\"\n};\n\nexport default function SavedContent() {\n  const [items, setItems] = useState<SavedItem[]>(savedContent);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"all\");\n  const [selectedType, setSelectedType] = useState(\"all\");\n  const [showFavoritesOnly, setShowFavoritesOnly] = useState(false);\n  const { toast } = useToast();\n\n  const filteredContent = items.filter(item => {\n    const matchesSearch = item.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         item.content.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         item.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()));\n    const matchesCategory = selectedCategory === \"all\" || item.category === selectedCategory;\n    const matchesType = selectedType === \"all\" || item.type === selectedType;\n    const matchesFavorites = !showFavoritesOnly || item.isFavorite;\n    \n    return matchesSearch && matchesCategory && matchesType && matchesFavorites;\n  });\n\n  const categories = Array.from(new Set(items.map(item => item.category)));\n  const types = Array.from(new Set(items.map(item => item.type)));\n\n  const handleShare = (item: SavedItem) => {\n    toast({\n      title: \"Content Shared\",\n      description: `\"${item.title}\" has been shared successfully.`,\n    });\n  };\n\n  const handleDownload = (item: SavedItem) => {\n    toast({\n      title: \"Download Started\",\n      description: `Downloading \"${item.title}\" for offline access.`,\n    });\n  };\n\n  const handleRemove = (item: SavedItem) => {\n    setItems(prevItems => prevItems.filter(i => i.id !== item.id));\n    toast({\n      title: \"Content Removed\",\n      description: `\"${item.title}\" has been removed from your saved content.`,\n    });\n  };\n\n  const toggleFavorite = (item: SavedItem) => {\n    setItems(prevItems => \n      prevItems.map(i => \n        i.id === item.id ? { ...i, isFavorite: !i.isFavorite } : i\n      )\n    );\n    toast({\n      title: !item.isFavorite ? \"Added to Favorites\" : \"Removed from Favorites\",\n      description: `\"${item.title}\" has been ${!item.isFavorite ? 'added to' : 'removed from'} your favorites.`,\n    });\n  };\n\n  return (\n    <div className=\"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto\">\n      <div className=\"mb-6\">\n        <BackButton />\n      </div>\n\n      {/* Header */}\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">My Saved Content</h1>\n        <p className=\"text-muted-foreground\">\n          Your personal collection of wellness resources, tips, and helpful content\n        </p>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"mb-8 space-y-4\">\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search saved content...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n                data-testid=\"input-search-saved-content\"\n              />\n            </div>\n          </div>\n          <Button\n            variant={showFavoritesOnly ? \"default\" : \"outline\"}\n            onClick={() => setShowFavoritesOnly(!showFavoritesOnly)}\n            className=\"w-full sm:w-auto\"\n            data-testid=\"button-show-favorites\"\n          >\n            <Heart className={`h-4 w-4 mr-2 ${showFavoritesOnly ? 'fill-current' : ''}`} />\n            Favorites Only\n          </Button>\n        </div>\n\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <div className=\"flex-1\">\n            <select\n              value={selectedCategory}\n              onChange={(e) => setSelectedCategory(e.target.value)}\n              className=\"w-full px-3 py-2 bg-background border border-input rounded-md\"\n              data-testid=\"select-category\"\n            >\n              <option value=\"all\">All Categories</option>\n              {categories.map(category => (\n                <option key={category} value={category}>{category}</option>\n              ))}\n            </select>\n          </div>\n          <div className=\"flex-1\">\n            <select\n              value={selectedType}\n              onChange={(e) => setSelectedType(e.target.value)}\n              className=\"w-full px-3 py-2 bg-background border border-input rounded-md\"\n              data-testid=\"select-type\"\n            >\n              <option value=\"all\">All Types</option>\n              {types.map(type => (\n                <option key={type} value={type}>\n                  {type.charAt(0).toUpperCase() + type.slice(1)}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Content Grid */}\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-lg font-semibold\">\n            {filteredContent.length} item{filteredContent.length !== 1 ? 's' : ''} found\n          </h2>\n        </div>\n\n        {filteredContent.length === 0 ? (\n          <Card>\n            <CardContent className=\"p-8 text-center\">\n              <Bookmark className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium mb-2\">No saved content found</h3>\n              <p className=\"text-muted-foreground\">\n                Try adjusting your search criteria or explore the app to save some content!\n              </p>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n            {filteredContent.map((item) => {\n              const TypeIcon = typeIcons[item.type];\n              const categoryColor = categoryColors[item.category as keyof typeof categoryColors] || \"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200\";\n              \n              return (\n                <Card key={item.id} className=\"overflow-hidden hover:shadow-lg transition-shadow\">\n                  {/* Thumbnail for video/audio content */}\n                  {item.thumbnail && (\n                    <div className=\"relative h-40 overflow-hidden\">\n                      <img \n                        src={item.thumbnail} \n                        alt={item.title}\n                        className=\"w-full h-full object-cover\"\n                      />\n                      {item.duration && (\n                        <Badge className=\"absolute bottom-2 right-2 bg-black/70 text-white\">\n                          <Clock className=\"h-3 w-3 mr-1\" />\n                          {item.duration}\n                        </Badge>\n                      )}\n                    </div>\n                  )}\n                  \n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-start justify-between mb-3\">\n                      <div className=\"flex items-center gap-2\">\n                        <TypeIcon className=\"h-4 w-4 text-muted-foreground\" />\n                        <Badge className={categoryColor}>\n                          {item.category}\n                        </Badge>\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => toggleFavorite(item)}\n                        data-testid={`button-favorite-${item.id}`}\n                      >\n                        <Heart className={`h-4 w-4 ${item.isFavorite ? 'fill-current text-red-500' : ''}`} />\n                      </Button>\n                    </div>\n\n                    <h3 className=\"text-lg font-semibold mb-2 line-clamp-2\" data-testid={`text-title-${item.id}`}>\n                      {item.title}\n                    </h3>\n                    \n                    <p className=\"text-muted-foreground text-sm mb-4 line-clamp-3\">\n                      {item.content}\n                    </p>\n\n                    {/* Tags */}\n                    <div className=\"flex flex-wrap gap-1 mb-4\">\n                      {item.tags.slice(0, 3).map((tag) => (\n                        <Badge key={tag} variant=\"outline\" className=\"text-xs\">\n                          {tag}\n                        </Badge>\n                      ))}\n                      {item.tags.length > 3 && (\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          +{item.tags.length - 3} more\n                        </Badge>\n                      )}\n                    </div>\n\n                    {/* Metadata */}\n                    <div className=\"flex items-center justify-between text-sm text-muted-foreground mb-4\">\n                      <span>Saved {new Date(item.savedDate).toLocaleDateString()}</span>\n                      {item.source && <span>From {item.source}</span>}\n                    </div>\n\n                    {/* Actions */}\n                    <div className=\"flex gap-2\">\n                      <Button \n                        variant=\"outline\" \n                        size=\"sm\" \n                        className=\"flex-1\"\n                        onClick={() => handleShare(item)}\n                        data-testid={`button-share-${item.id}`}\n                      >\n                        <Share2 className=\"h-4 w-4 mr-1\" />\n                        Share\n                      </Button>\n                      <Button \n                        variant=\"outline\" \n                        size=\"sm\" \n                        onClick={() => handleDownload(item)}\n                        data-testid={`button-download-${item.id}`}\n                      >\n                        <Download className=\"h-4 w-4\" />\n                      </Button>\n                      <Button \n                        variant=\"outline\" \n                        size=\"sm\" \n                        onClick={() => handleRemove(item)}\n                        data-testid={`button-remove-${item.id}`}\n                      >\n                        <X className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":15714},"client/src/pages/sleep.tsx":{"content":"import { BackButton } from \"@/components/ui/back-button\";\nimport SleepCycleTool from \"@/components/wellness/sleep-cycle-tool\";\n\nexport default function SleepPage() {\n  return (\n    <div className=\"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto\">\n      <div className=\"mb-6\">\n        <BackButton />\n      </div>\n      \n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">Sleep Cycle Guide</h1>\n        <p className=\"text-muted-foreground\">\n          Optimize your sleep schedule for better mental health and academic performance\n        </p>\n      </div>\n      \n      <SleepCycleTool />\n    </div>\n  );\n}","size_bytes":633},"server/seed-resources.ts":{"content":"import { DatabaseStorage } from \"./storage\";\nimport { type InsertResource } from \"@shared/schema\";\n\nconst storage = new DatabaseStorage();\n\n// Comprehensive wellness resources for all six categories\nconst wellnessResources: InsertResource[] = [\n  // STRESS MANAGEMENT\n  {\n    title: \"4-7-8 Breathing Technique\",\n    description: \"Learn the 4-7-8 breathing method to instantly reduce stress and anxiety. Inhale for 4, hold for 7, exhale for 8 counts.\",\n    type: \"guide\",\n    category: \"stress-management\",\n    content: `**How to Practice 4-7-8 Breathing:**\n\n1. **Sit comfortably** with your back straight\n2. **Exhale completely** through your mouth\n3. **Inhale through nose** for 4 counts\n4. **Hold your breath** for 7 counts\n5. **Exhale through mouth** for 8 counts\n6. **Repeat 3-4 cycles**\n\n**Benefits:**\n- Reduces anxiety within minutes\n- Improves sleep quality\n- Lowers heart rate\n- Activates relaxation response\n\n**When to Use:**\n- Before exams or presentations\n- When feeling overwhelmed\n- At bedtime for better sleep\n- During panic moments\n\n**Pro Tips:**\n- Practice regularly for best results\n- Start with 3 cycles, increase gradually\n- Focus on the counting rhythm\n- Use anywhere, anytime`,\n    duration: 5,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Quick Stress Relief Techniques\",\n    description: \"A collection of 2-minute stress busters you can use anywhere on campus to instantly feel more relaxed.\",\n    type: \"article\",\n    category: \"stress-management\",\n    content: `**5 Quick Stress Busters (2 minutes each):**\n\n**1. Progressive Muscle Relaxation**\n- Tense shoulders for 5 seconds, then release\n- Clench fists for 5 seconds, then release\n- Tighten face muscles, then completely relax\n- Feel the contrast between tension and relaxation\n\n**2. Grounding 5-4-3-2-1 Technique**\n- 5 things you can see\n- 4 things you can touch\n- 3 things you can hear\n- 2 things you can smell\n- 1 thing you can taste\n\n**3. Power Pose**\n- Stand tall with arms raised for 60 seconds\n- Boosts confidence hormones\n- Reduces stress hormones\n- Perfect before presentations\n\n**4. Mindful Water Break**\n- Drink water slowly and mindfully\n- Focus on temperature and sensation\n- Take 10 deep breaths between sips\n- Hydrates body and calms mind\n\n**5. Desk Stretches**\n- Neck rolls (left and right)\n- Shoulder blade squeezes\n- Gentle spinal twist\n- Ankle circles under desk`,\n    duration: 2,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Stress Management Workout Timer\",\n    description: \"Interactive 10-minute stress relief routine with guided breathing, stretching, and relaxation exercises.\",\n    type: \"tool\",\n    category: \"stress-management\",\n    content: `**10-Minute Stress Relief Routine:**\n\n**Warm-up (2 minutes):**\n- Deep breathing x10\n- Gentle neck stretches\n- Shoulder rolls\n\n**Movement (5 minutes):**\n- 30 seconds jumping jacks\n- 30 seconds wall push-ups\n- 30 seconds in-place marching\n- 30 seconds arm circles\n- Repeat sequence twice\n\n**Cool-down (3 minutes):**\n- Forward fold stretch\n- Seated spinal twist\n- Child's pose variation\n- Final meditation\n\n**Timer Features:**\n- Visual countdown\n- Exercise prompts\n- Breathing cues\n- Progress tracking\n- Customizable duration`,\n    duration: 10,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Daily Stress Journal Prompts\",\n    description: \"Guided journaling questions to help identify stress triggers and develop healthy coping strategies.\",\n    type: \"activity\",\n    category: \"stress-management\",\n    content: `**Morning Reflection (5 minutes):**\n\n1. How am I feeling right now?\n2. What challenges might I face today?\n3. What tools can I use to stay calm?\n4. What's one thing I'm grateful for?\n\n**Evening Review (10 minutes):**\n\n1. What stressed me most today?\n2. How did I handle difficult moments?\n3. What worked well for managing stress?\n4. What would I do differently?\n5. What am I proud of accomplishing?\n\n**Weekly Deep Dive (15 minutes):**\n\n1. What patterns do I notice in my stress?\n2. Which triggers appear most frequently?\n3. What coping strategies are most effective?\n4. How has my stress level changed this week?\n5. What goals do I have for next week?\n\n**Helpful Prompts:**\n- \"When I feel overwhelmed, I...\"\n- \"My safe space feels like...\"\n- \"I am strongest when...\"\n- \"Tomorrow I will...\"\n\n**Benefits:**\n- Increased self-awareness\n- Better stress pattern recognition\n- Improved coping strategies\n- Emotional release`,\n    duration: 10,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n\n  // SLEEP HYGIENE\n  {\n    title: \"Perfect Sleep Routine Planner\",\n    description: \"Create your personalized bedtime routine with this step-by-step guide for better sleep quality.\",\n    type: \"tool\",\n    category: \"sleep-hygiene\",\n    content: `**Build Your Perfect Sleep Routine:**\n\n**2 Hours Before Bed:**\n- [ ] Dim all lights\n- [ ] No more caffeine\n- [ ] Finish eating\n- [ ] Set tomorrow's clothes out\n\n**1 Hour Before Bed:**\n- [ ] Put devices away\n- [ ] Light stretching or yoga\n- [ ] Herbal tea or warm milk\n- [ ] Read or listen to calm music\n\n**30 Minutes Before Bed:**\n- [ ] Complete hygiene routine\n- [ ] Set room temperature to 65-68°F\n- [ ] Use blackout curtains\n- [ ] Practice breathing exercises\n\n**In Bed:**\n- [ ] Progressive muscle relaxation\n- [ ] Gratitude reflection\n- [ ] Visualization exercise\n- [ ] Focus on breath rhythm\n\n**Customization Options:**\n- Adjust timing based on schedule\n- Add personal preferences\n- Track what works best\n- Modify for weekends vs weekdays\n\n**Sleep Quality Tracker:**\n- Rate sleep 1-10\n- Note wake-up time\n- Track energy levels\n- Monitor patterns`,\n    duration: 15,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Sleep Hygiene Do's and Don'ts\",\n    description: \"Essential guidelines for improving your sleep quality with science-backed tips and common mistakes to avoid.\",\n    type: \"guide\",\n    category: \"sleep-hygiene\",\n    content: `**✅ DO'S FOR BETTER SLEEP:**\n\n**Environment:**\n- Keep bedroom cool (65-68°F)\n- Use blackout curtains or eye mask\n- Invest in comfortable pillows\n- Keep room quiet or use white noise\n\n**Timing:**\n- Go to bed at the same time daily\n- Wake up at consistent times\n- Get sunlight exposure in the morning\n- Avoid naps after 3 PM\n\n**Activities:**\n- Exercise regularly (but not before bed)\n- Read calming books\n- Practice relaxation techniques\n- Keep a sleep diary\n\n**Diet:**\n- Eat dinner 3 hours before bed\n- Try herbal tea (chamomile, valerian)\n- Stay hydrated during the day\n- Avoid large meals before bed\n\n**❌ DON'TS THAT RUIN SLEEP:**\n\n**Technology:**\n- No screens 1 hour before bed\n- Don't charge phone in bedroom\n- Avoid stimulating content\n- Turn off all LED lights\n\n**Substances:**\n- No caffeine after 2 PM\n- Limit alcohol consumption\n- Avoid nicotine before bed\n- Don't take long daytime naps\n\n**Behaviors:**\n- Don't do work in bed\n- Avoid intense exercise late\n- Don't sleep in on weekends\n- Don't force sleep when not tired\n\n**Quick Recovery Tips:**\n- If awake 20+ minutes, get up\n- Do quiet activity until sleepy\n- Return to bed when drowsy\n- Don't check the time`,\n    duration: 8,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Power Nap Optimization Guide\",\n    description: \"Master the art of strategic napping to boost energy without disrupting nighttime sleep.\",\n    type: \"article\",\n    category: \"sleep-hygiene\",\n    content: `**The Science of Power Napping:**\n\n**Optimal Nap Duration:**\n- **10-20 minutes:** Quick energy boost\n- **30 minutes:** Light refreshment\n- **60 minutes:** Cognitive enhancement\n- **90 minutes:** Complete sleep cycle\n\n**Best Nap Times:**\n- **Early afternoon (1-3 PM):** Natural energy dip\n- **6+ hours before bedtime:** Won't affect night sleep\n- **After lunch:** Post-meal drowsiness\n\n**Perfect Nap Environment:**\n- Dark or dimly lit room\n- Comfortable temperature\n- Minimal noise\n- Comfortable position\n\n**Pre-Nap Strategy:**\n- Set alarm for desired duration\n- Use eye mask and earplugs\n- Try \"coffee nap\" (caffeine before 20-min nap)\n- Clear your mind with breathing\n\n**Post-Nap Recovery:**\n- Bright light exposure\n- Gentle movement or stretching\n- Cold water on face/hands\n- Give yourself 15 minutes to fully wake\n\n**When NOT to Nap:**\n- If you have insomnia\n- Late afternoon (after 3 PM)\n- When extremely sleep-deprived\n- If it affects nighttime sleep\n\n**Student-Specific Tips:**\n- Nap between classes\n- Use library quiet zones\n- Set phone to airplane mode\n- Inform roommates of nap schedule`,\n    duration: 20,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Bedtime Relaxation Sounds\",\n    description: \"Calming audio collection including rain, ocean waves, and nature sounds for better sleep.\",\n    type: \"audio\",\n    category: \"sleep-hygiene\",\n    url: \"/audio/bedtime-sounds\",\n    content: `**Curated Sleep Sounds Collection:**\n\n**Nature Sounds (60 minutes each):**\n- Gentle rain on leaves\n- Ocean waves on beach\n- Forest creek flowing\n- Distant thunder\n\n**White Noise Options:**\n- Fan whirring sounds\n- Air conditioner hum\n- Light static noise\n- Brown noise variations\n\n**Guided Sleep Meditations:**\n- Body scan relaxation\n- Progressive muscle release\n- Breathing focus\n- Visualization journeys\n\n**Binaural Beats:**\n- Delta waves (deep sleep)\n- Theta waves (REM sleep)\n- Alpha waves (relaxation)\n- Custom frequency blends\n\n**Usage Tips:**\n- Start volume low, adjust as needed\n- Use timer function\n- Combine with breathing exercises\n- Create personal playlist\n- Try different sounds nightly\n\n**Science Behind Sleep Sounds:**\n- Masks disruptive noises\n- Creates consistent audio environment\n- Triggers relaxation response\n- Reduces racing thoughts`,\n    duration: 60,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n\n  // STUDY TECHNIQUES\n  {\n    title: \"Pomodoro Study Timer\",\n    description: \"Interactive timer for the proven Pomodoro Technique: 25 minutes focused study, 5 minute breaks.\",\n    type: \"tool\",\n    category: \"study-techniques\",\n    content: `**Pomodoro Technique Timer:**\n\n**How It Works:**\n1. Choose a task to focus on\n2. Set timer for 25 minutes\n3. Work with complete focus\n4. Take 5-minute break\n5. Repeat for 4 cycles\n6. Take longer 15-30 minute break\n\n**Timer Features:**\n- Visual countdown display\n- Audio notifications\n- Task tracking\n- Session statistics\n- Customizable intervals\n\n**Break Activity Suggestions:**\n- Stretch or walk\n- Drink water\n- Deep breathing\n- Light snack\n- Quick chat with friends\n\n**Customization Options:**\n- Adjust work intervals (20-30 min)\n- Modify break lengths (5-10 min)\n- Set daily goals\n- Track completion rates\n- Choose notification sounds\n\n**Study Tips:**\n- Turn off all distractions\n- Have water and snacks ready\n- Plan tasks in advance\n- Use physical timer if possible\n- Celebrate completed sessions\n\n**Benefits:**\n- Improved focus and productivity\n- Reduced mental fatigue\n- Better time awareness\n- Manageable study chunks\n- Built-in rest periods`,\n    duration: 25,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Active Recall Master Guide\",\n    description: \"Learn the most effective study method: actively retrieving information from memory instead of passive reading.\",\n    type: \"guide\",\n    category: \"study-techniques\",\n    content: `**Active Recall: The Science-Backed Study Method**\n\n**What is Active Recall?**\nActively retrieving information from memory without looking at notes or textbooks. Studies show it's 2-3x more effective than passive reviewing.\n\n**Core Techniques:**\n\n**1. Flashcards (Digital or Physical)**\n- Write question on one side, answer on other\n- Review regularly with spaced intervals\n- Focus on cards you get wrong\n- Use images and mnemonics\n\n**2. Practice Testing**\n- Take practice exams regularly\n- Create your own test questions\n- Quiz yourself without notes\n- Time yourself for realistic practice\n\n**3. Teach-Back Method**\n- Explain concepts to a friend or mirror\n- Record yourself teaching\n- Identify gaps in understanding\n- Simplify complex topics\n\n**4. Question Generation**\n- Create questions while reading\n- Transform notes into questions\n- Use different question types\n- Practice answering without looking\n\n**Implementation Strategy:**\n- Read material once\n- Close book and write what you remember\n- Check for accuracy\n- Focus on missed information\n- Repeat process\n\n**Common Mistakes to Avoid:**\n- Reading notes repeatedly\n- Highlighting without testing\n- Studying passively\n- Avoiding difficult material\n- Not spacing out practice\n\n**Benefits:**\n- Stronger memory consolidation\n- Better exam performance\n- Improved critical thinking\n- Faster learning retention`,\n    duration: 15,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Spaced Repetition Scheduler\",\n    description: \"Optimize your memory retention with scientifically-timed review sessions for maximum learning efficiency.\",\n    type: \"tool\",\n    category: \"study-techniques\",\n    content: `**Spaced Repetition System:**\n\n**The Science:**\nReview information at increasing intervals to maximize long-term retention. Based on the forgetting curve research.\n\n**Review Schedule:**\n- **Day 1:** Learn new material\n- **Day 2:** First review\n- **Day 4:** Second review\n- **Day 7:** Third review\n- **Day 14:** Fourth review\n- **Day 30:** Fifth review\n- **Day 60:** Final review\n\n**Digital Tools Integration:**\n- Anki flashcard app\n- Quizlet spaced repetition\n- Custom spreadsheet tracker\n- Mobile reminder apps\n\n**Subject-Specific Application:**\n\n**Languages:**\n- Vocabulary cards\n- Grammar rules\n- Phrase patterns\n- Pronunciation guides\n\n**Sciences:**\n- Formula memorization\n- Concept relationships\n- Problem-solving steps\n- Terminology definitions\n\n**History/Literature:**\n- Date memorization\n- Character analysis\n- Timeline events\n- Quote attribution\n\n**Implementation Tips:**\n- Start with small batches (10-20 items)\n- Increase difficulty gradually\n- Track success rates\n- Adjust intervals based on performance\n- Combine with active recall\n\n**Tracking Your Progress:**\n- Success rate per session\n- Items mastered\n- Time spent reviewing\n- Difficulty adjustments needed`,\n    duration: 30,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Cornell Note-Taking System\",\n    description: \"Master the Cornell method for organized, effective note-taking that improves comprehension and review.\",\n    type: \"guide\",\n    category: \"study-techniques\",\n    content: `**Cornell Note-Taking System:**\n\n**Page Setup:**\n1. Draw vertical line 2.5\" from left margin\n2. Draw horizontal line 2\" from bottom\n3. Create three sections: Notes, Cues, Summary\n\n**During Class/Reading:**\n\n**Note-Taking Section (Right):**\n- Write main ideas and details\n- Use bullet points and short phrases\n- Skip lines between topics\n- Don't worry about perfect formatting\n- Focus on key concepts\n\n**After Class/Reading:**\n\n**Cue Section (Left):**\n- Write questions about notes\n- Add keywords and formulas\n- Create memory triggers\n- Note important dates/names\n- Develop study prompts\n\n**Summary Section (Bottom):**\n- Write 2-3 sentence summary\n- Capture main themes\n- Connect to previous learning\n- Note personal insights\n- Identify areas needing review\n\n**Review Process:**\n1. Cover right section with paper\n2. Use cues to test recall\n3. Check your answers\n4. Focus on missed information\n5. Review summary for big picture\n\n**Digital Adaptations:**\n- Use tablet with note-taking app\n- Create templates in Word/Google Docs\n- Use OneNote section formatting\n- Try specialized apps like Notion\n\n**Benefits:**\n- Organized information storage\n- Built-in review system\n- Active engagement with material\n- Easy identification of gaps\n- Improved exam preparation\n\n**Subject Modifications:**\n- Math: Add formula section\n- Science: Include diagrams area\n- Literature: Add quote collection\n- History: Timeline integration`,\n    duration: 20,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n\n  // MINDFULNESS\n  {\n    title: \"5-Minute Daily Meditation Guide\",\n    description: \"Simple mindfulness meditation practice perfect for busy students to reduce stress and improve focus.\",\n    type: \"guide\",\n    category: \"mindfulness\",\n    content: `**5-Minute Daily Meditation:**\n\n**Setup (30 seconds):**\n- Sit comfortably with straight back\n- Close eyes or soften gaze\n- Place hands on knees or lap\n- Take three deep breaths\n\n**Breathing Focus (4 minutes):**\n1. Focus on natural breath rhythm\n2. When mind wanders, gently return to breath\n3. Don't judge wandering thoughts\n4. Notice breathing sensations\n5. Count breaths if helpful (1-10, repeat)\n\n**Closing (30 seconds):**\n- Slowly wiggle fingers and toes\n- Take three deeper breaths\n- Open eyes gradually\n- Set intention for the day\n\n**Timing Options:**\n- **Morning:** Energy and focus for the day\n- **Between classes:** Reset and recharge\n- **Before studying:** Improve concentration\n- **Evening:** Release stress and tension\n\n**Common Challenges:**\n- **\"I can't stop thinking\"** - Normal! Just return to breath\n- **\"I don't have time\"** - Start with 2 minutes\n- **\"I keep forgetting\"** - Set phone reminder\n- **\"I feel restless\"** - Try walking meditation\n\n**Benefits for Students:**\n- Improved focus and concentration\n- Reduced anxiety and stress\n- Better emotional regulation\n- Enhanced memory retention\n- Increased self-awareness\n\n**Advanced Techniques:**\n- Body scan meditation\n- Loving-kindness practice\n- Mindful breathing variations\n- Visualization exercises`,\n    duration: 5,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Gratitude Journal Templates\",\n    description: \"Structured prompts for daily gratitude practice to boost mood, resilience, and overall well-being.\",\n    type: \"activity\",\n    category: \"mindfulness\",\n    content: `**Daily Gratitude Practice:**\n\n**Morning Gratitude (3 minutes):**\n1. Three things I'm grateful for today:\n   - Something small and simple\n   - Something about myself\n   - Something about my relationships\n\n2. Why am I grateful for each?\n3. How can I show appreciation today?\n\n**Evening Reflection (5 minutes):**\n1. What went well today?\n2. Who made a positive impact on me?\n3. What challenge taught me something?\n4. What moment brought me joy?\n5. How did I make someone else's day better?\n\n**Weekly Deep Dive (10 minutes):**\n- Growth I've experienced this week\n- Unexpected positive moments\n- Support I've received from others\n- Progress toward my goals\n- Lessons learned from difficulties\n\n**Creative Gratitude Formats:**\n\n**Letter Writing:**\n- Write thank-you note to someone special\n- Express specific appreciation\n- Share how they've impacted you\n- Deliver or send the letter\n\n**Photo Gratitude:**\n- Take photo of something you appreciate\n- Write brief explanation\n- Create weekly gratitude album\n- Share with friends/family\n\n**Gratitude Jar:**\n- Write daily appreciation note\n- Fold and place in jar\n- Read all notes monthly\n- Share favorites with loved ones\n\n**Benefits:**\n- Improved mood and optimism\n- Better sleep quality\n- Stronger relationships\n- Increased resilience\n- Enhanced life satisfaction`,\n    duration: 5,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Mindful Breathing Exercises\",\n    description: \"Collection of simple breathing techniques to center yourself and reduce anxiety in any situation.\",\n    type: \"guide\",\n    category: \"mindfulness\",\n    content: `**Essential Breathing Techniques:**\n\n**1. Box Breathing (4-4-4-4)**\n- Inhale for 4 counts\n- Hold for 4 counts\n- Exhale for 4 counts\n- Hold empty for 4 counts\n- **Use for:** Anxiety, pre-exam nerves\n\n**2. Triangle Breathing (4-4-4)**\n- Inhale for 4 counts\n- Hold for 4 counts\n- Exhale for 4 counts\n- **Use for:** Quick calming, between classes\n\n**3. Extended Exhale (4-6)**\n- Inhale for 4 counts\n- Exhale for 6 counts\n- **Use for:** Stress relief, bedtime\n\n**4. Belly Breathing**\n- Hand on chest, hand on belly\n- Breathe so only belly hand moves\n- Deep, slow breaths\n- **Use for:** Deep relaxation, meditation\n\n**5. Alternate Nostril Breathing**\n- Use thumb to close right nostril\n- Inhale through left nostril\n- Close left nostril with ring finger\n- Release thumb, exhale through right\n- Inhale through right, switch, exhale left\n- **Use for:** Mental balance, focus\n\n**Quick Reference Guide:**\n\n**Feeling Anxious?** → 4-7-8 Breathing\n**Need Energy?** → Bellows Breath (rapid)\n**Can't Focus?** → Box Breathing\n**Overwhelmed?** → Extended Exhale\n**Before Sleep?** → Belly Breathing\n\n**Practice Tips:**\n- Start with 5-10 breaths\n- Practice daily for best results\n- Use anywhere, anytime\n- Don't force the breath\n- Find your natural rhythm`,\n    duration: 10,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Grounding Techniques for Anxiety\",\n    description: \"Practical exercises to reconnect with the present moment when feeling overwhelmed or anxious.\",\n    type: \"guide\",\n    category: \"mindfulness\",\n    content: `**5-4-3-2-1 Grounding Technique:**\n\nWhen feeling anxious or overwhelmed:\n\n**5 - Things you can SEE:**\n- Look around your environment\n- Name 5 specific objects\n- Notice colors, shapes, textures\n- Focus on details\n\n**4 - Things you can TOUCH:**\n- Feel different textures\n- Notice temperature\n- Touch your clothes, a wall, your skin\n- Press your feet into the ground\n\n**3 - Things you can HEAR:**\n- Background noises\n- Distant sounds\n- Your own breathing\n- Immediate environment sounds\n\n**2 - Things you can SMELL:**\n- Air freshener or natural scents\n- Food or drink nearby\n- Your clothes or skin\n- The room's general smell\n\n**1 - Thing you can TASTE:**\n- Current taste in mouth\n- Sip of water or tea\n- Gum or mint\n- Notice any aftertaste\n\n**Additional Grounding Techniques:**\n\n**Physical Grounding:**\n- Hold an ice cube\n- Splash cold water on face\n- Do jumping jacks\n- Progressive muscle relaxation\n\n**Mental Grounding:**\n- Count backwards from 100 by 7s\n- Name animals A-Z\n- Describe your day in detail\n- Plan your ideal vacation\n\n**Emotional Grounding:**\n- Say your name and age out loud\n- Think of three people who care about you\n- Recall a happy memory\n- Repeat calming affirmations\n\n**Benefits:**\n- Breaks anxiety spiral\n- Returns focus to present\n- Provides immediate relief\n- Easy to use anywhere`,\n    duration: 5,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n\n  // SOCIAL CONFIDENCE\n  {\n    title: \"Conversation Starter Templates\",\n    description: \"Ready-to-use conversation starters for different social situations to help build confidence.\",\n    type: \"guide\",\n    category: \"social-confidence\",\n    content: `**Conversation Starters by Situation:**\n\n**In Class/Academic Settings:**\n- \"What did you think about today's lecture?\"\n- \"Have you started the assignment yet?\"\n- \"Are you planning to attend the study group?\"\n- \"Do you have any tips for this professor's exams?\"\n- \"What's your major? What made you choose it?\"\n\n**Cafeteria/Dining:**\n- \"Is this seat taken?\"\n- \"How's the food here today?\"\n- \"Have you tried the [specific dish]?\"\n- \"Busy day? You look like you need coffee too.\"\n\n**Campus Events:**\n- \"Have you been to one of these events before?\"\n- \"What brings you here tonight?\"\n- \"Do you know what time this starts?\"\n- \"Are you involved in [related activity]?\"\n\n**Study Spaces:**\n- \"Mind if I sit here?\"\n- \"Taking the same class?\"\n- \"Good study spot, isn't it?\"\n- \"How long have you been here?\"\n\n**Follow-up Questions:**\n- \"Tell me more about that\"\n- \"How did you get into that?\"\n- \"What's that like?\"\n- \"That sounds interesting\"\n- \"What do you enjoy most about it?\"\n\n**Exit Strategies:**\n- \"I need to get to class, but it was nice talking!\"\n- \"I should get back to studying. See you around!\"\n- \"I'm meeting friends, but maybe we'll chat again soon!\"\n\n**Body Language Tips:**\n- Make eye contact (not staring)\n- Smile genuinely\n- Keep open posture\n- Mirror their energy level\n- Nod to show engagement\n\n**Confidence Boosters:**\n- Remember: most people like talking about themselves\n- Focus on being interested, not interesting\n- It's okay if conversations are brief\n- Practice makes it easier`,\n    duration: 15,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Public Speaking Confidence Builder\",\n    description: \"Step-by-step guide to overcome speaking anxiety and deliver confident presentations.\",\n    type: \"guide\",\n    category: \"social-confidence\",\n    content: `**Public Speaking Mastery:**\n\n**Pre-Presentation Preparation:**\n\n**Content Preparation:**\n- Know your material inside out\n- Create clear outline with main points\n- Practice 3-5 times out loud\n- Prepare for likely questions\n- Have backup plans for tech issues\n\n**Physical Preparation:**\n- Practice power poses for 2 minutes\n- Do breathing exercises\n- Warm up your voice\n- Dress confidently\n- Arrive early to test equipment\n\n**Mental Preparation:**\n- Visualize successful presentation\n- Focus on helping the audience\n- Reframe nerves as excitement\n- Remember: audience wants you to succeed\n\n**During Presentation:**\n\n**Opening Strong:**\n- Start with confident posture\n- Make eye contact with friendly faces\n- Use opening line you've practiced\n- Smile genuinely\n\n**Managing Anxiety:**\n- Focus on your message, not yourself\n- Use pauses effectively\n- If you make a mistake, keep going\n- Remember to breathe\n\n**Engagement Techniques:**\n- Ask rhetorical questions\n- Use \"you\" language\n- Share relevant stories\n- Make eye contact across the room\n\n**Closing Powerfully:**\n- Summarize key points\n- End with clear call to action\n- Thank audience sincerely\n- Stay confident for questions\n\n**Recovery Strategies:**\n- If you lose your place, pause and breathe\n- Say \"Let me rephrase that\" if needed\n- Use notes as backup, not crutch\n- Remember: minor mistakes are rarely noticed\n\n**Practice Progression:**\n1. Record yourself speaking\n2. Present to mirror\n3. Practice with one friend\n4. Small group presentation\n5. Larger audience\n\n**Confidence Mantras:**\n- \"I have valuable information to share\"\n- \"The audience is here to learn, not judge\"\n- \"I am prepared and capable\"`,\n    duration: 20,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Social Anxiety Reduction Activities\",\n    description: \"Practical exercises and challenges to gradually build social confidence in low-pressure situations.\",\n    type: \"activity\",\n    category: \"social-confidence\",\n    content: `**Social Confidence Building Challenges:**\n\n**Week 1: Foundation Building**\n\n**Day 1-2: Observation**\n- Sit in a public space for 15 minutes\n- Observe social interactions around you\n- Notice body language and conversation flow\n- No interaction required - just observe\n\n**Day 3-4: Micro-Interactions**\n- Make eye contact and smile at 3 people\n- Say \"thank you\" with genuine warmth\n- Hold doors open for others\n- Practice good posture while walking\n\n**Day 5-7: Basic Exchanges**\n- Ask for directions (even if you know the way)\n- Compliment someone genuinely\n- Ask \"How's your day?\" to cashier/staff\n- Say \"excuse me\" politely in crowds\n\n**Week 2: Expanding Comfort Zone**\n\n**Day 1-3: Campus Interactions**\n- Ask classmate about assignment\n- Sit near new people in cafeteria\n- Join a study group or club meeting\n- Participate once in class discussion\n\n**Day 4-7: Deeper Conversations**\n- Ask follow-up questions in conversations\n- Share one personal opinion or experience\n- Invite someone to grab coffee\n- Attend one social event\n\n**Week 3: Building Relationships**\n\n**Practice Daily:**\n- Initiate one conversation per day\n- Remember and use people's names\n- Suggest activities or meetups\n- Be vulnerable about something small\n\n**Confidence Tracking:**\nRate your comfort level 1-10 before and after each challenge:\n- Initial anxiety level\n- Actual outcome vs. feared outcome\n- What went better than expected\n- What you learned about yourself\n\n**Backup Strategies:**\n- Have conversation topics ready\n- Practice deep breathing before interactions\n- Use open-ended questions\n- Focus on being curious about others\n\n**Reward System:**\n- Complete week 1: treat yourself to something special\n- Complete week 2: share success with someone\n- Complete week 3: plan a social celebration`,\n    duration: 30,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Empathy and Active Listening Skills\",\n    description: \"Develop deeper connections through improved listening skills and emotional intelligence.\",\n    type: \"guide\",\n    category: \"social-confidence\",\n    content: `**Active Listening Mastery:**\n\n**Core Listening Skills:**\n\n**Physical Presence:**\n- Face the speaker\n- Maintain appropriate eye contact\n- Open, relaxed posture\n- Minimal distracting movements\n- Put away devices\n\n**Verbal Responses:**\n- \"I see\"\n- \"That makes sense\"\n- \"Tell me more about that\"\n- \"How did that feel?\"\n- \"What was that like for you?\"\n\n**Reflection Techniques:**\n- **Paraphrasing:** \"So what you're saying is...\"\n- **Emotion labeling:** \"It sounds like you felt frustrated\"\n- **Summarizing:** \"Let me make sure I understand...\"\n- **Clarifying:** \"When you say X, do you mean...\"\n\n**Empathy Building:**\n\n**Perspective Taking:**\n- Try to see their viewpoint\n- Consider their background/context\n- Imagine how you'd feel in their situation\n- Ask yourself: \"What might they need right now?\"\n\n**Emotional Validation:**\n- Acknowledge their feelings\n- Avoid immediately trying to \"fix\" problems\n- Use phrases like \"That sounds really difficult\"\n- Don't minimize their experience\n\n**Questions for Deeper Connection:**\n- \"What's been the best part of your day?\"\n- \"What's something you're excited about?\"\n- \"What's been challenging lately?\"\n- \"What matters most to you right now?\"\n- \"How are you really doing?\"\n\n**Common Listening Mistakes:**\n- Planning your response while they speak\n- Jumping to solutions too quickly\n- Making it about your similar experience\n- Judging or giving unsolicited advice\n- Getting distracted by your phone\n\n**Practice Exercises:**\n- Listen to podcast and summarize main points\n- Practice with friends in low-stakes conversations\n- Record yourself in practice conversations\n- Ask for feedback on your listening skills\n\n**Benefits:**\n- Deeper, more meaningful relationships\n- Increased trust and connection\n- Better conflict resolution\n- Enhanced emotional intelligence\n- Improved teamwork and collaboration`,\n    duration: 18,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n\n  // CAREER GUIDANCE\n  {\n    title: \"Resume and Cover Letter Templates\",\n    description: \"Professional templates and guides for creating compelling resumes and cover letters that get results.\",\n    type: \"tool\",\n    category: \"career-guidance\",\n    content: `**Student Resume Template:**\n\n**Header:**\n[Your Name]\n[Phone] | [Email] | [LinkedIn] | [City, State]\n\n**Professional Summary (2-3 lines):**\n\"Motivated [major] student with experience in [relevant skills]. Seeking to leverage [specific strengths] in [target role/industry].\"\n\n**Education:**\n[University Name], [City, State]\nBachelor of [Degree], Expected [Month Year]\nGPA: [if 3.5+] | Relevant Coursework: [3-4 relevant classes]\n\n**Experience:**\n[Job Title] | [Company] | [Dates]\n• Achieved [specific result] by [action taken]\n• Managed/Led [responsibility] resulting in [outcome]\n• Developed [skill] through [activity]\n\n**Projects:**\n[Project Name] | [Date]\n• Brief description of project and your role\n• Technologies/methods used\n• Results or outcomes achieved\n\n**Skills:**\nTechnical: [Software, programming languages, tools]\nLanguages: [Languages and proficiency levels]\nCertifications: [Any relevant certifications]\n\n**Cover Letter Template:**\n\n**Paragraph 1:** Hook and purpose\n\"I'm writing to express my interest in [position] at [company]. As a [year] [major] student with experience in [relevant area], I'm excited about [specific reason related to company/role].\"\n\n**Paragraph 2:** Your value proposition\n\"Through my experience as [role/project], I developed [relevant skills]. For example, [specific achievement with numbers/results]. This experience taught me [transferable skill relevant to target role].\"\n\n**Paragraph 3:** Company knowledge and fit\n\"I'm particularly drawn to [company] because [specific reason based on research]. Your focus on [company value/initiative] aligns with my passion for [related interest].\"\n\n**Paragraph 4:** Call to action\n\"I'd welcome the opportunity to discuss how my [key strengths] can contribute to [team/department]. Thank you for your consideration.\"\n\n**Action Items:**\n- Tailor each application to specific role\n- Use keywords from job description\n- Quantify achievements when possible\n- Proofread multiple times\n- Save as PDF before sending`,\n    duration: 30,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Career Exploration Assessment\",\n    description: \"Interactive quiz to help identify your interests, values, and potential career paths that align with your goals.\",\n    type: \"tool\",\n    category: \"career-guidance\",\n    content: `**Career Exploration Questionnaire:**\n\n**Part 1: Interest Assessment**\n\nRate each activity 1-5 (1=dislike, 5=love):\n- Analyzing data and solving problems\n- Creating and designing things\n- Helping and teaching others\n- Leading teams and projects\n- Working with technology\n- Writing and communicating\n- Working outdoors or with hands\n- Research and investigation\n\n**Part 2: Values Assessment**\n\nRank importance (1=most important, 8=least important):\n- High salary potential\n- Work-life balance\n- Job security and stability\n- Opportunities for advancement\n- Making a positive impact\n- Creative expression\n- Independence and autonomy\n- Recognition and prestige\n\n**Part 3: Skills Assessment**\n\nRate your current strength (1-5):\n- Public speaking and presentation\n- Mathematical and analytical thinking\n- Creative problem-solving\n- Written communication\n- Leadership and team management\n- Technical and computer skills\n- Interpersonal and social skills\n- Organization and planning\n\n**Part 4: Work Environment Preferences**\n\nChoose your preferred options:\n- Office vs. Remote vs. Varied locations\n- Large corporation vs. Small company vs. Startup\n- Structured routine vs. Flexible schedule\n- Independent work vs. Team collaboration\n- Fast-paced vs. Steady pace\n- High pressure vs. Low stress\n\n**Career Path Suggestions:**\n\n**High analytical + tech skills:** Data Science, Engineering, Finance\n**Creative + communication:** Marketing, Design, Journalism\n**Helping others + interpersonal:** Counseling, Teaching, Healthcare\n**Leadership + business:** Management, Entrepreneurship, Consulting\n\n**Next Steps:**\n1. Research 2-3 careers that match your profile\n2. Conduct informational interviews\n3. Seek relevant internships or projects\n4. Join professional associations\n5. Develop targeted skills through courses`,\n    duration: 25,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Interview Preparation Toolkit\",\n    description: \"Complete guide with common questions, STAR method examples, and confidence-building strategies.\",\n    type: \"guide\",\n    category: \"career-guidance\",\n    content: `**Interview Preparation Masterclass:**\n\n**STAR Method Framework:**\n**Situation:** Set the context\n**Task:** Describe your responsibility\n**Action:** Explain what you did\n**Result:** Share the outcome\n\n**Common Questions + STAR Examples:**\n\n**\"Tell me about yourself\"**\nStructure: Current situation → Relevant experience → Future goals\nExample: \"I'm a junior marketing student passionate about digital strategy. Through my internship at [company], I increased social media engagement by 40%. I'm seeking opportunities to apply these skills in a dynamic marketing role.\"\n\n**\"Describe a challenge you overcame\"**\nSituation: Group project with conflicting schedules\nTask: Needed to coordinate 5 team members\nAction: Created shared calendar and weekly check-ins\nResult: Delivered project on time with 95% grade\n\n**\"Why do you want this position?\"**\nResearch-based response connecting:\n- Your interests and skills\n- Company values and mission\n- Specific role responsibilities\n- Career growth opportunities\n\n**\"What are your strengths?\"**\nChoose 2-3 relevant strengths with examples:\n- Problem-solving (with specific example)\n- Communication skills (quantified result)\n- Adaptability (situation where you learned quickly)\n\n**\"What's your greatest weakness?\"**\nPick real weakness + improvement strategy:\n\"I used to struggle with public speaking, so I joined Toastmasters and now regularly present to groups of 20+.\"\n\n**Pre-Interview Preparation:**\n\n**Research Checklist:**\n- Company mission, values, recent news\n- Role requirements and qualifications\n- Interviewer's background (LinkedIn)\n- Company culture and work environment\n- Competitors and industry trends\n\n**Questions to Ask Them:**\n- \"What does success look like in this role?\"\n- \"What are the biggest challenges facing the team?\"\n- \"How would you describe the company culture?\"\n- \"What opportunities for growth exist?\"\n- \"What do you enjoy most about working here?\"\n\n**Day-of Success:**\n- Arrive 10-15 minutes early\n- Bring multiple copies of resume\n- Prepare thoughtful questions\n- Practice confident handshake\n- Send thank-you email within 24 hours`,\n    duration: 35,\n    language: \"en\",\n    isOfflineAvailable: true\n  },\n  {\n    title: \"Skill Development Roadmaps\",\n    description: \"Structured learning paths for in-demand skills including tech, communication, and leadership abilities.\",\n    type: \"guide\",\n    category: \"career-guidance\",\n    content: `**Skill Development Roadmaps:**\n\n**Digital Marketing Roadmap (6 months):**\n\n**Month 1-2: Foundations**\n- Google Analytics certification\n- Social media platform basics\n- Content creation fundamentals\n- Email marketing principles\n\n**Month 3-4: Advanced Techniques**\n- SEO and keyword research\n- Paid advertising (Google Ads, Facebook)\n- Data analysis and reporting\n- Marketing automation tools\n\n**Month 5-6: Specialization**\n- Choose focus area (content, analytics, ads)\n- Build portfolio of campaigns\n- Network with marketing professionals\n- Apply for internships or freelance work\n\n**Data Analysis Roadmap (8 months):**\n\n**Month 1-2: Excel Mastery**\n- Advanced formulas and functions\n- Pivot tables and data visualization\n- Statistical analysis basics\n- Dashboard creation\n\n**Month 3-4: Programming Introduction**\n- Python or R fundamentals\n- Data manipulation libraries\n- Basic statistical concepts\n- Data cleaning techniques\n\n**Month 5-6: Visualization and Tools**\n- Tableau or PowerBI\n- Advanced data visualization\n- Database basics (SQL)\n- Statistical software\n\n**Month 7-8: Portfolio Development**\n- Complete 2-3 analysis projects\n- GitHub portfolio creation\n- Kaggle competition participation\n- Networking and job applications\n\n**Leadership Development Roadmap (ongoing):**\n\n**Foundational Skills (3 months):**\n- Communication and active listening\n- Emotional intelligence development\n- Conflict resolution techniques\n- Team collaboration skills\n\n**Intermediate Skills (6 months):**\n- Project management basics\n- Delegation and feedback skills\n- Decision-making frameworks\n- Public speaking and presentation\n\n**Advanced Skills (12 months):**\n- Strategic thinking and planning\n- Change management\n- Mentoring and coaching\n- Organizational behavior\n\n**Learning Resources:**\n\n**Free Options:**\n- Coursera financial aid courses\n- YouTube educational channels\n- LinkedIn Learning (free trial)\n- Khan Academy skill courses\n- Library book checkouts\n\n**Paid Options:**\n- Udemy skill-specific courses\n- Professional certifications\n- Online bootcamps\n- Industry conferences\n- Professional association memberships\n\n**Progress Tracking:**\n- Weekly learning hours goal\n- Monthly skill assessment\n- Project completion milestones\n- Networking connection targets\n- Job application metrics`,\n    duration: 40,\n    language: \"en\",\n    isOfflineAvailable: true\n  }\n];\n\n// Function to seed the database with wellness resources\nexport async function seedWellnessResources() {\n  try {\n    console.log(\"Starting to seed wellness resources...\");\n    \n    // Create resources in bulk\n    const results = await storage.createResourcesBulk(wellnessResources);\n    \n    console.log(`Successfully created ${results.length} wellness resources`);\n    \n    // Log summary by category\n    const categoryCount = wellnessResources.reduce((acc, resource) => {\n      acc[resource.category] = (acc[resource.category] || 0) + 1;\n      return acc;\n    }, {} as Record<string, number>);\n    \n    console.log(\"Resources created by category:\");\n    Object.entries(categoryCount).forEach(([category, count]) => {\n      console.log(`  ${category}: ${count} resources`);\n    });\n    \n    return results;\n  } catch (error) {\n    console.error(\"Error seeding wellness resources:\", error);\n    throw error;\n  }\n}\n\n// Run the seeding if this file is executed directly\nif (import.meta.url === `file://${process.argv[1]}`) {\n  seedWellnessResources()\n    .then(() => {\n      console.log(\"Seeding completed successfully!\");\n      process.exit(0);\n    })\n    .catch((error) => {\n      console.error(\"Seeding failed:\", error);\n      process.exit(1);\n    });\n}","size_bytes":40999},"client/src/components/coins/coin-display.tsx":{"content":"import { useState } from \"react\";\nimport { Coins, X, TrendingUp, Gift, Trophy, Calendar, MessageSquare } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { CoinTransaction } from \"shared/schema\";\n\ninterface CoinDisplayProps {\n  userId: string;\n  className?: string;\n}\n\ninterface CoinEarningActivity {\n  type: string;\n  description: string;\n  coins: number;\n  icon: React.ReactNode;\n  color: string;\n}\n\nconst earningActivities: CoinEarningActivity[] = [\n  {\n    type: \"screening_completed\",\n    description: \"Complete screening assessment\",\n    coins: 10,\n    icon: <TrendingUp className=\"h-4 w-4\" />,\n    color: \"bg-green-100 text-green-800\"\n  },\n  {\n    type: \"chat_session\",\n    description: \"Chat with AI Assistant (per session)\",\n    coins: 5,\n    icon: <MessageSquare className=\"h-4 w-4\" />,\n    color: \"bg-blue-100 text-blue-800\"\n  },\n  {\n    type: \"daily_login\",\n    description: \"Daily login streak\",\n    coins: 2,\n    icon: <Calendar className=\"h-4 w-4\" />,\n    color: \"bg-purple-100 text-purple-800\"\n  },\n  {\n    type: \"forum_post\",\n    description: \"Create helpful forum post\",\n    coins: 5,\n    icon: <MessageSquare className=\"h-4 w-4\" />,\n    color: \"bg-orange-100 text-orange-800\"\n  },\n  {\n    type: \"mood_entry\",\n    description: \"Track your mood daily\",\n    coins: 3,\n    icon: <Trophy className=\"h-4 w-4\" />,\n    color: \"bg-pink-100 text-pink-800\"\n  },\n  {\n    type: \"profile_completion\",\n    description: \"Complete your profile\",\n    coins: 15,\n    icon: <Gift className=\"h-4 w-4\" />,\n    color: \"bg-yellow-100 text-yellow-800\"\n  }\n];\n\nexport default function CoinDisplay({ userId, className }: CoinDisplayProps) {\n  const [open, setOpen] = useState(false);\n\n  const { data: balanceData } = useQuery<{ balance: number }>({\n    queryKey: [`/api/coins/balance/${userId}`],\n    enabled: !!userId,\n  });\n\n  const { data: recentTransactions, isLoading } = useQuery<CoinTransaction[]>({\n    queryKey: [`/api/coins/transactions/${userId}`],\n    enabled: open && !!userId, // Only fetch when modal is open\n  });\n\n  const userCoins = balanceData?.balance || 0;\n\n  const convertCoinsToRupees = (coins: number) => {\n    return (coins / 10).toFixed(1);\n  };\n\n  const totalEarned = recentTransactions?.reduce((sum, transaction) => \n    transaction.amount > 0 ? sum + transaction.amount : sum, 0) || 0;\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          className={`flex items-center space-x-2 hover:bg-accent ${className}`}\n          data-testid=\"button-coin-display\"\n        >\n          <Coins className=\"h-4 w-4 text-yellow-500\" />\n          <span className=\"font-medium\">{userCoins}</span>\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"sm:max-w-[600px] max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center space-x-2\">\n            <Coins className=\"h-5 w-5 text-yellow-500\" />\n            <span>My Coins & Earnings</span>\n          </DialogTitle>\n        </DialogHeader>\n        \n        <div className=\"space-y-6\">\n          {/* Coin Balance Summary */}\n          <Card className=\"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  <Coins className=\"h-6 w-6 text-yellow-600\" />\n                  <span>Your Coin Balance</span>\n                </div>\n                <Badge variant=\"secondary\" className=\"bg-yellow-100 text-yellow-800\">\n                  ₹{convertCoinsToRupees(userCoins)}\n                </Badge>\n              </CardTitle>\n              <CardDescription>\n                You have <strong>{userCoins} coins</strong> which equals <strong>₹{convertCoinsToRupees(userCoins)}</strong>\n                <br />\n                <span className=\"text-xs text-muted-foreground\">Exchange rate: 10 coins = ₹1</span>\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex justify-between items-center text-sm\">\n                <span>Total Earned:</span>\n                <span className=\"font-medium text-green-600\">{totalEarned} coins</span>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* How to Earn Coins */}\n          <div>\n            <h3 className=\"text-lg font-semibold mb-4 flex items-center space-x-2\">\n              <TrendingUp className=\"h-5 w-5\" />\n              <span>How to Earn Coins</span>\n            </h3>\n            <div className=\"grid gap-3\">\n              {earningActivities.map((activity, index) => (\n                <Card key={index} className=\"transition-all hover:shadow-md\">\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div className={`p-2 rounded-full ${activity.color}`}>\n                          {activity.icon}\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{activity.description}</p>\n                          <p className=\"text-sm text-muted-foreground\">\n                            +{activity.coins} coins\n                          </p>\n                        </div>\n                      </div>\n                      <Badge variant=\"outline\" className=\"bg-yellow-50 border-yellow-200\">\n                        <Coins className=\"h-3 w-3 mr-1\" />\n                        {activity.coins}\n                      </Badge>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </div>\n\n          {/* Recent Transactions */}\n          {recentTransactions && recentTransactions.length > 0 && (\n            <div>\n              <h3 className=\"text-lg font-semibold mb-4\">Recent Activity</h3>\n              <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n                {recentTransactions.slice(0, 10).map((transaction) => (\n                  <div\n                    key={transaction.id}\n                    className=\"flex items-center justify-between p-3 bg-muted/50 rounded-lg\"\n                  >\n                    <div className=\"flex-1\">\n                      <p className=\"font-medium text-sm\">{transaction.description}</p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        {transaction.createdAt ? new Date(transaction.createdAt).toLocaleDateString() : 'Recently'}\n                      </p>\n                    </div>\n                    <Badge \n                      variant={transaction.amount > 0 ? \"default\" : \"destructive\"}\n                      className={transaction.amount > 0 ? \"bg-green-100 text-green-800\" : \"\"}\n                    >\n                      {transaction.amount > 0 ? '+' : ''}{transaction.amount} coins\n                    </Badge>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <Separator />\n\n          {/* Exchange Rate Info */}\n          <div className=\"text-center text-sm text-muted-foreground bg-muted/30 p-4 rounded-lg\">\n            <p className=\"font-medium mb-1\">Exchange Rate</p>\n            <p>10 coins = ₹1 • Use your coins for premium features and rewards</p>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":7939},"android/app/src/main/assets/public/cordova.js":{"content":"","size_bytes":0},"android/app/src/main/assets/public/cordova_plugins.js":{"content":"","size_bytes":0},"android/app/src/main/assets/public/assets/index-2nO57jUU.js":{"content":"var Cp=e=>{throw TypeError(e)};var zd=(e,t,s)=>t.has(e)||Cp(\"Cannot \"+s);var E=(e,t,s)=>(zd(e,t,\"read from private field\"),s?s.call(e):t.get(e)),le=(e,t,s)=>t.has(e)?Cp(\"Cannot add the same private member more than once\"):t instanceof WeakSet?t.add(e):t.set(e,s),ne=(e,t,s,r)=>(zd(e,t,\"write to private field\"),r?r.call(e,s):t.set(e,s),s),fe=(e,t,s)=>(zd(e,t,\"access private method\"),s);var sl=(e,t,s,r)=>({set _(a){ne(e,t,a,s)},get _(){return E(e,t,r)}});function V2(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!=\"string\"&&!Array.isArray(r)){for(const a in r)if(a!==\"default\"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}))}(function(){const t=document.createElement(\"link\").relList;if(t&&t.supports&&t.supports(\"modulepreload\"))return;for(const a of document.querySelectorAll('link[rel=\"modulepreload\"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type===\"childList\")for(const i of o.addedNodes)i.tagName===\"LINK\"&&i.rel===\"modulepreload\"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin===\"use-credentials\"?o.credentials=\"include\":a.crossOrigin===\"anonymous\"?o.credentials=\"omit\":o.credentials=\"same-origin\",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function fv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var pv={exports:{}},Vc={},xv={exports:{}},xe={};/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var _i=Symbol.for(\"react.element\"),W2=Symbol.for(\"react.portal\"),G2=Symbol.for(\"react.fragment\"),U2=Symbol.for(\"react.strict_mode\"),q2=Symbol.for(\"react.profiler\"),K2=Symbol.for(\"react.provider\"),Q2=Symbol.for(\"react.context\"),Y2=Symbol.for(\"react.forward_ref\"),X2=Symbol.for(\"react.suspense\"),J2=Symbol.for(\"react.memo\"),Z2=Symbol.for(\"react.lazy\"),kp=Symbol.iterator;function eS(e){return e===null||typeof e!=\"object\"?null:(e=kp&&e[kp]||e[\"@@iterator\"],typeof e==\"function\"?e:null)}var gv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vv=Object.assign,yv={};function lo(e,t,s){this.props=e,this.context=t,this.refs=yv,this.updater=s||gv}lo.prototype.isReactComponent={};lo.prototype.setState=function(e,t){if(typeof e!=\"object\"&&typeof e!=\"function\"&&e!=null)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,e,t,\"setState\")};lo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,\"forceUpdate\")};function wv(){}wv.prototype=lo.prototype;function jh(e,t,s){this.props=e,this.context=t,this.refs=yv,this.updater=s||gv}var Nh=jh.prototype=new wv;Nh.constructor=jh;vv(Nh,lo.prototype);Nh.isPureReactComponent=!0;var Pp=Array.isArray,bv=Object.prototype.hasOwnProperty,Sh={current:null},jv={key:!0,ref:!0,__self:!0,__source:!0};function Nv(e,t,s){var r,a={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=\"\"+t.key),t)bv.call(t,r)&&!jv.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:_i,type:e,key:o,ref:i,props:a,_owner:Sh.current}}function tS(e,t){return{$$typeof:_i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ch(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===_i}function nS(e){var t={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+e.replace(/[=:]/g,function(s){return t[s]})}var Ep=/\\/+/g;function Bd(e,t){return typeof e==\"object\"&&e!==null&&e.key!=null?nS(\"\"+e.key):t.toString(36)}function Al(e,t,s,r,a){var o=typeof e;(o===\"undefined\"||o===\"boolean\")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case\"string\":case\"number\":i=!0;break;case\"object\":switch(e.$$typeof){case _i:case W2:i=!0}}if(i)return i=e,a=a(i),e=r===\"\"?\".\"+Bd(i,0):r,Pp(a)?(s=\"\",e!=null&&(s=e.replace(Ep,\"$&/\")+\"/\"),Al(a,t,s,\"\",function(u){return u})):a!=null&&(Ch(a)&&(a=tS(a,s+(!a.key||i&&i.key===a.key?\"\":(\"\"+a.key).replace(Ep,\"$&/\")+\"/\")+e)),t.push(a)),1;if(i=0,r=r===\"\"?\".\":r+\":\",Pp(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Bd(o,l);i+=Al(o,t,s,c,a)}else if(c=eS(e),typeof c==\"function\")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Bd(o,l++),i+=Al(o,t,s,c,a);else if(o===\"object\")throw t=String(e),Error(\"Objects are not valid as a React child (found: \"+(t===\"[object Object]\"?\"object with keys {\"+Object.keys(e).join(\", \")+\"}\":t)+\"). If you meant to render a collection of children, use an array instead.\");return i}function rl(e,t,s){if(e==null)return e;var r=[],a=0;return Al(e,r,\"\",\"\",function(o){return t.call(s,o,a++)}),r}function sS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},Il={transition:null},rS={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Il,ReactCurrentOwner:Sh};function Sv(){throw Error(\"act(...) is not supported in production builds of React.\")}xe.Children={map:rl,forEach:function(e,t,s){rl(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return rl(e,function(){t++}),t},toArray:function(e){return rl(e,function(t){return t})||[]},only:function(e){if(!Ch(e))throw Error(\"React.Children.only expected to receive a single React element child.\");return e}};xe.Component=lo;xe.Fragment=G2;xe.Profiler=q2;xe.PureComponent=jh;xe.StrictMode=U2;xe.Suspense=X2;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rS;xe.act=Sv;xe.cloneElement=function(e,t,s){if(e==null)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+e+\".\");var r=vv({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Sh.current),t.key!==void 0&&(a=\"\"+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)bv.call(t,c)&&!jv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:_i,type:e.type,key:a,ref:o,props:r,_owner:i}};xe.createContext=function(e){return e={$$typeof:Q2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:K2,_context:e},e.Consumer=e};xe.createElement=Nv;xe.createFactory=function(e){var t=Nv.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:Y2,render:e}};xe.isValidElement=Ch;xe.lazy=function(e){return{$$typeof:Z2,_payload:{_status:-1,_result:e},_init:sS}};xe.memo=function(e,t){return{$$typeof:J2,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=Il.transition;Il.transition={};try{e()}finally{Il.transition=t}};xe.unstable_act=Sv;xe.useCallback=function(e,t){return kt.current.useCallback(e,t)};xe.useContext=function(e){return kt.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};xe.useEffect=function(e,t){return kt.current.useEffect(e,t)};xe.useId=function(){return kt.current.useId()};xe.useImperativeHandle=function(e,t,s){return kt.current.useImperativeHandle(e,t,s)};xe.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return kt.current.useMemo(e,t)};xe.useReducer=function(e,t,s){return kt.current.useReducer(e,t,s)};xe.useRef=function(e){return kt.current.useRef(e)};xe.useState=function(e){return kt.current.useState(e)};xe.useSyncExternalStore=function(e,t,s){return kt.current.useSyncExternalStore(e,t,s)};xe.useTransition=function(){return kt.current.useTransition()};xe.version=\"18.3.1\";xv.exports=xe;var d=xv.exports;const jt=fv(d),Cv=V2({__proto__:null,default:jt},[d]);/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var aS=d,oS=Symbol.for(\"react.element\"),iS=Symbol.for(\"react.fragment\"),lS=Object.prototype.hasOwnProperty,cS=aS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dS={key:!0,ref:!0,__self:!0,__source:!0};function kv(e,t,s){var r,a={},o=null,i=null;s!==void 0&&(o=\"\"+s),t.key!==void 0&&(o=\"\"+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)lS.call(t,r)&&!dS.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:oS,type:e,key:o,ref:i,props:a,_owner:cS.current}}Vc.Fragment=iS;Vc.jsx=kv;Vc.jsxs=kv;pv.exports=Vc;var n=pv.exports,Pv={exports:{}},Jt={},Ev={exports:{}},Mv={};/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */(function(e){function t(I,D){var G=I.length;I.push(D);e:for(;0<G;){var ae=G-1>>>1,M=I[ae];if(0<a(M,D))I[ae]=D,I[G]=M,G=ae;else break e}}function s(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var D=I[0],G=I.pop();if(G!==D){I[0]=G;e:for(var ae=0,M=I.length,F=M>>>1;ae<F;){var Q=2*(ae+1)-1,$=I[Q],X=Q+1,q=I[X];if(0>a($,G))X<M&&0>a(q,$)?(I[ae]=q,I[X]=G,ae=X):(I[ae]=$,I[Q]=G,ae=Q);else if(X<M&&0>a(q,G))I[ae]=q,I[X]=G,ae=X;else break e}}return D}function a(I,D){var G=I.sortIndex-D.sortIndex;return G!==0?G:I.id-D.id}if(typeof performance==\"object\"&&typeof performance.now==\"function\"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,f=null,m=3,x=!1,g=!1,v=!1,b=typeof setTimeout==\"function\"?setTimeout:null,y=typeof clearTimeout==\"function\"?clearTimeout:null,p=typeof setImmediate<\"u\"?setImmediate:null;typeof navigator<\"u\"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var D=s(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=I)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=s(u)}}function j(I){if(v=!1,w(I),!g)if(s(c)!==null)g=!0,K(N);else{var D=s(u);D!==null&&te(j,D.startTime-I)}}function N(I,D){g=!1,v&&(v=!1,y(k),k=-1),x=!0;var G=m;try{for(w(D),f=s(c);f!==null&&(!(f.expirationTime>D)||I&&!O());){var ae=f.callback;if(typeof ae==\"function\"){f.callback=null,m=f.priorityLevel;var M=ae(f.expirationTime<=D);D=e.unstable_now(),typeof M==\"function\"?f.callback=M:f===s(c)&&r(c),w(D)}else r(c);f=s(c)}if(f!==null)var F=!0;else{var Q=s(u);Q!==null&&te(j,Q.startTime-D),F=!1}return F}finally{f=null,m=G,x=!1}}var S=!1,C=null,k=-1,P=5,A=-1;function O(){return!(e.unstable_now()-A<P)}function T(){if(C!==null){var I=e.unstable_now();A=I;var D=!0;try{D=C(!0,I)}finally{D?H():(S=!1,C=null)}}else S=!1}var H;if(typeof p==\"function\")H=function(){p(T)};else if(typeof MessageChannel<\"u\"){var _=new MessageChannel,Z=_.port2;_.port1.onmessage=T,H=function(){Z.postMessage(null)}}else H=function(){b(T,0)};function K(I){C=I,S||(S=!0,H())}function te(I,D){k=b(function(){I(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||x||(g=!0,K(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var G=m;m=D;try{return I()}finally{m=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=m;m=I;try{return D()}finally{m=G}},e.unstable_scheduleCallback=function(I,D,G){var ae=e.unstable_now();switch(typeof G==\"object\"&&G!==null?(G=G.delay,G=typeof G==\"number\"&&0<G?ae+G:ae):G=ae,I){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,I={id:h++,callback:D,priorityLevel:I,startTime:G,expirationTime:M,sortIndex:-1},G>ae?(I.sortIndex=G,t(u,I),s(c)===null&&I===s(u)&&(v?(y(k),k=-1):v=!0,te(j,G-ae))):(I.sortIndex=M,t(c,I),g||x||(g=!0,K(N))),I},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(I){var D=m;return function(){var G=m;m=D;try{return I.apply(this,arguments)}finally{m=G}}}})(Mv);Ev.exports=Mv;var uS=Ev.exports;/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var mS=d,Xt=uS;function U(e){for(var t=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+e,s=1;s<arguments.length;s++)t+=\"&args[]=\"+encodeURIComponent(arguments[s]);return\"Minified React error #\"+e+\"; visit \"+t+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var Tv=new Set,ai={};function qr(e,t){Ua(e,t),Ua(e+\"Capture\",t)}function Ua(e,t){for(ai[e]=t,e=0;e<t.length;e++)Tv.add(t[e])}var fs=!(typeof window>\"u\"||typeof window.document>\"u\"||typeof window.document.createElement>\"u\"),$u=Object.prototype.hasOwnProperty,hS=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,Mp={},Tp={};function fS(e){return $u.call(Tp,e)?!0:$u.call(Mp,e)?!1:hS.test(e)?Tp[e]=!0:(Mp[e]=!0,!1)}function pS(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case\"function\":case\"symbol\":return!0;case\"boolean\":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!==\"data-\"&&e!==\"aria-\");default:return!1}}function xS(e,t,s,r){if(t===null||typeof t>\"u\"||pS(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,s,r,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var ct={};\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(e){ct[e]=new Pt(e,0,!1,e,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(e){var t=e[0];ct[t]=new Pt(t,1,!1,e[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(e){ct[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(e){ct[e]=new Pt(e,2,!1,e,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(e){ct[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(e){ct[e]=new Pt(e,3,!0,e,null,!1,!1)});[\"capture\",\"download\"].forEach(function(e){ct[e]=new Pt(e,4,!1,e,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(e){ct[e]=new Pt(e,6,!1,e,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(e){ct[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var kh=/[\\-:]([a-z])/g;function Ph(e){return e[1].toUpperCase()}\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(e){var t=e.replace(kh,Ph);ct[t]=new Pt(t,1,!1,e,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(e){var t=e.replace(kh,Ph);ct[t]=new Pt(t,1,!1,e,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(e){var t=e.replace(kh,Ph);ct[t]=new Pt(t,1,!1,e,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(e){ct[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Pt(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(e){ct[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Eh(e,t,s,r){var a=ct.hasOwnProperty(t)?ct[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!==\"o\"&&t[0]!==\"O\"||t[1]!==\"n\"&&t[1]!==\"N\")&&(xS(t,s,a,r)&&(s=null),r||a===null?fS(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,\"\"+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:\"\":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?\"\":\"\"+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Ns=mS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,al=Symbol.for(\"react.element\"),ca=Symbol.for(\"react.portal\"),da=Symbol.for(\"react.fragment\"),Mh=Symbol.for(\"react.strict_mode\"),zu=Symbol.for(\"react.profiler\"),Rv=Symbol.for(\"react.provider\"),Av=Symbol.for(\"react.context\"),Th=Symbol.for(\"react.forward_ref\"),Bu=Symbol.for(\"react.suspense\"),Hu=Symbol.for(\"react.suspense_list\"),Rh=Symbol.for(\"react.memo\"),Ms=Symbol.for(\"react.lazy\"),Iv=Symbol.for(\"react.offscreen\"),Rp=Symbol.iterator;function So(e){return e===null||typeof e!=\"object\"?null:(e=Rp&&e[Rp]||e[\"@@iterator\"],typeof e==\"function\"?e:null)}var Fe=Object.assign,Hd;function Fo(e){if(Hd===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\\n( *(at )?)/);Hd=t&&t[1]||\"\"}return`\n`+Hd+e}var Vd=!1;function Wd(e,t){if(!e||Vd)return\"\";Vd=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack==\"string\"){for(var a=u.stack.split(`\n`),o=r.stack.split(`\n`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`\n`+a[i].replace(\" at new \",\" at \");return e.displayName&&c.includes(\"<anonymous>\")&&(c=c.replace(\"<anonymous>\",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Vd=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:\"\")?Fo(e):\"\"}function gS(e){switch(e.tag){case 5:return Fo(e.type);case 16:return Fo(\"Lazy\");case 13:return Fo(\"Suspense\");case 19:return Fo(\"SuspenseList\");case 0:case 2:case 15:return e=Wd(e.type,!1),e;case 11:return e=Wd(e.type.render,!1),e;case 1:return e=Wd(e.type,!0),e;default:return\"\"}}function Vu(e){if(e==null)return null;if(typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case da:return\"Fragment\";case ca:return\"Portal\";case zu:return\"Profiler\";case Mh:return\"StrictMode\";case Bu:return\"Suspense\";case Hu:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case Av:return(e.displayName||\"Context\")+\".Consumer\";case Rv:return(e._context.displayName||\"Context\")+\".Provider\";case Th:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||\"\",e=e!==\"\"?\"ForwardRef(\"+e+\")\":\"ForwardRef\"),e;case Rh:return t=e.displayName||null,t!==null?t:Vu(e.type)||\"Memo\";case Ms:t=e._payload,e=e._init;try{return Vu(e(t))}catch{}}return null}function vS(e){var t=e.type;switch(e.tag){case 24:return\"Cache\";case 9:return(t.displayName||\"Context\")+\".Consumer\";case 10:return(t._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return e=t.render,e=e.displayName||e.name||\"\",t.displayName||(e!==\"\"?\"ForwardRef(\"+e+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return t;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Vu(t);case 8:return t===Mh?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";case 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t==\"function\")return t.displayName||t.name||null;if(typeof t==\"string\")return t}return null}function nr(e){switch(typeof e){case\"boolean\":case\"number\":case\"string\":case\"undefined\":return e;case\"object\":return e;default:return\"\"}}function Dv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===\"input\"&&(t===\"checkbox\"||t===\"radio\")}function yS(e){var t=Dv(e)?\"checked\":\"value\",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=\"\"+e[t];if(!e.hasOwnProperty(t)&&typeof s<\"u\"&&typeof s.get==\"function\"&&typeof s.set==\"function\"){var a=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=\"\"+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=\"\"+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ol(e){e._valueTracker||(e._valueTracker=yS(e))}function _v(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r=\"\";return e&&(r=Dv(e)?e.checked?\"true\":\"false\":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Jl(e){if(e=e||(typeof document<\"u\"?document:void 0),typeof e>\"u\")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wu(e,t){var s=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ap(e,t){var s=t.defaultValue==null?\"\":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=nr(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type===\"checkbox\"||t.type===\"radio\"?t.checked!=null:t.value!=null}}function Ov(e,t){t=t.checked,t!=null&&Eh(e,\"checked\",t,!1)}function Gu(e,t){Ov(e,t);var s=nr(t.value),r=t.type;if(s!=null)r===\"number\"?(s===0&&e.value===\"\"||e.value!=s)&&(e.value=\"\"+s):e.value!==\"\"+s&&(e.value=\"\"+s);else if(r===\"submit\"||r===\"reset\"){e.removeAttribute(\"value\");return}t.hasOwnProperty(\"value\")?Uu(e,t.type,s):t.hasOwnProperty(\"defaultValue\")&&Uu(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ip(e,t,s){if(t.hasOwnProperty(\"value\")||t.hasOwnProperty(\"defaultValue\")){var r=t.type;if(!(r!==\"submit\"&&r!==\"reset\"||t.value!==void 0&&t.value!==null))return;t=\"\"+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==\"\"&&(e.name=\"\"),e.defaultChecked=!!e._wrapperState.initialChecked,s!==\"\"&&(e.name=s)}function Uu(e,t,s){(t!==\"number\"||Jl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=\"\"+e._wrapperState.initialValue:e.defaultValue!==\"\"+s&&(e.defaultValue=\"\"+s))}var $o=Array.isArray;function ba(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t[\"$\"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty(\"$\"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=\"\"+nr(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function qu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:\"\"+e._wrapperState.initialValue})}function Dp(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(U(92));if($o(s)){if(1<s.length)throw Error(U(93));s=s[0]}t=s}t==null&&(t=\"\"),s=t}e._wrapperState={initialValue:nr(s)}}function Lv(e,t){var s=nr(t.value),r=nr(t.defaultValue);s!=null&&(s=\"\"+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=\"\"+r)}function _p(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==\"\"&&t!==null&&(e.value=t)}function Fv(e){switch(e){case\"svg\":return\"http://www.w3.org/2000/svg\";case\"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function Ku(e,t){return e==null||e===\"http://www.w3.org/1999/xhtml\"?Fv(t):e===\"http://www.w3.org/2000/svg\"&&t===\"foreignObject\"?\"http://www.w3.org/1999/xhtml\":e}var il,$v=function(e){return typeof MSApp<\"u\"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!==\"http://www.w3.org/2000/svg\"||\"innerHTML\"in e)e.innerHTML=t;else{for(il=il||document.createElement(\"div\"),il.innerHTML=\"<svg>\"+t.valueOf().toString()+\"</svg>\",t=il.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wS=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(Qo).forEach(function(e){wS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qo[t]=Qo[e]})});function zv(e,t,s){return t==null||typeof t==\"boolean\"||t===\"\"?\"\":s||typeof t!=\"number\"||t===0||Qo.hasOwnProperty(e)&&Qo[e]?(\"\"+t).trim():t+\"px\"}function Bv(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf(\"--\")===0,a=zv(s,t[s],r);s===\"float\"&&(s=\"cssFloat\"),r?e.setProperty(s,a):e[s]=a}}var bS=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qu(e,t){if(t){if(bS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!=\"object\"||!(\"__html\"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!=\"object\")throw Error(U(62))}}function Yu(e,t){if(e.indexOf(\"-\")===-1)return typeof t.is==\"string\";switch(e){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}var Xu=null;function Ah(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ju=null,ja=null,Na=null;function Op(e){if(e=Fi(e)){if(typeof Ju!=\"function\")throw Error(U(280));var t=e.stateNode;t&&(t=Kc(t),Ju(e.stateNode,e.type,t))}}function Hv(e){ja?Na?Na.push(e):Na=[e]:ja=e}function Vv(){if(ja){var e=ja,t=Na;if(Na=ja=null,Op(e),t)for(e=0;e<t.length;e++)Op(t[e])}}function Wv(e,t){return e(t)}function Gv(){}var Gd=!1;function Uv(e,t,s){if(Gd)return e(t,s);Gd=!0;try{return Wv(e,t,s)}finally{Gd=!1,(ja!==null||Na!==null)&&(Gv(),Vv())}}function ii(e,t){var s=e.stateNode;if(s===null)return null;var r=Kc(s);if(r===null)return null;s=r[t];e:switch(t){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":case\"onMouseEnter\":(r=!r.disabled)||(e=e.type,r=!(e===\"button\"||e===\"input\"||e===\"select\"||e===\"textarea\")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!=\"function\")throw Error(U(231,t,typeof s));return s}var Zu=!1;if(fs)try{var Co={};Object.defineProperty(Co,\"passive\",{get:function(){Zu=!0}}),window.addEventListener(\"test\",Co,Co),window.removeEventListener(\"test\",Co,Co)}catch{Zu=!1}function jS(e,t,s,r,a,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(h){this.onError(h)}}var Yo=!1,Zl=null,ec=!1,em=null,NS={onError:function(e){Yo=!0,Zl=e}};function SS(e,t,s,r,a,o,i,l,c){Yo=!1,Zl=null,jS.apply(NS,arguments)}function CS(e,t,s,r,a,o,i,l,c){if(SS.apply(this,arguments),Yo){if(Yo){var u=Zl;Yo=!1,Zl=null}else throw Error(U(198));ec||(ec=!0,em=u)}}function Kr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function qv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lp(e){if(Kr(e)!==e)throw Error(U(188))}function kS(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===s)return Lp(a),e;if(o===r)return Lp(a),t;o=o.sibling}throw Error(U(188))}if(s.return!==r.return)s=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===s){i=!0,s=a,r=o;break}if(l===r){i=!0,r=a,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,r=a;break}if(l===r){i=!0,r=o,s=a;break}l=l.sibling}if(!i)throw Error(U(189))}}if(s.alternate!==r)throw Error(U(190))}if(s.tag!==3)throw Error(U(188));return s.stateNode.current===s?e:t}function Kv(e){return e=kS(e),e!==null?Qv(e):null}function Qv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qv(e);if(t!==null)return t;e=e.sibling}return null}var Yv=Xt.unstable_scheduleCallback,Fp=Xt.unstable_cancelCallback,PS=Xt.unstable_shouldYield,ES=Xt.unstable_requestPaint,We=Xt.unstable_now,MS=Xt.unstable_getCurrentPriorityLevel,Ih=Xt.unstable_ImmediatePriority,Xv=Xt.unstable_UserBlockingPriority,tc=Xt.unstable_NormalPriority,TS=Xt.unstable_LowPriority,Jv=Xt.unstable_IdlePriority,Wc=null,zn=null;function RS(e){if(zn&&typeof zn.onCommitFiberRoot==\"function\")try{zn.onCommitFiberRoot(Wc,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:DS,AS=Math.log,IS=Math.LN2;function DS(e){return e>>>=0,e===0?32:31-(AS(e)/IS|0)|0}var ll=64,cl=4194304;function zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nc(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~a;l!==0?r=zo(l):(o&=i,o!==0&&(r=zo(o)))}else i=s&~a,i!==0?r=zo(i):o!==0&&(r=zo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Nn(t),a=1<<s,r|=e[s],t&=~a;return r}function _S(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OS(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Nn(o),l=1<<i,c=a[i];c===-1?(!(l&s)||l&r)&&(a[i]=_S(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function tm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zv(){var e=ll;return ll<<=1,!(ll&4194240)&&(ll=64),e}function Ud(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Oi(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=s}function LS(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Nn(s),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~o}}function Dh(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Nn(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var Pe=0;function ey(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ty,_h,ny,sy,ry,nm=!1,dl=[],Gs=null,Us=null,qs=null,li=new Map,ci=new Map,Rs=[],FS=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");function $p(e,t){switch(e){case\"focusin\":case\"focusout\":Gs=null;break;case\"dragenter\":case\"dragleave\":Us=null;break;case\"mouseover\":case\"mouseout\":qs=null;break;case\"pointerover\":case\"pointerout\":li.delete(t.pointerId);break;case\"gotpointercapture\":case\"lostpointercapture\":ci.delete(t.pointerId)}}function ko(e,t,s,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Fi(t),t!==null&&_h(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function $S(e,t,s,r,a){switch(t){case\"focusin\":return Gs=ko(Gs,e,t,s,r,a),!0;case\"dragenter\":return Us=ko(Us,e,t,s,r,a),!0;case\"mouseover\":return qs=ko(qs,e,t,s,r,a),!0;case\"pointerover\":var o=a.pointerId;return li.set(o,ko(li.get(o)||null,e,t,s,r,a)),!0;case\"gotpointercapture\":return o=a.pointerId,ci.set(o,ko(ci.get(o)||null,e,t,s,r,a)),!0}return!1}function ay(e){var t=br(e.target);if(t!==null){var s=Kr(t);if(s!==null){if(t=s.tag,t===13){if(t=qv(s),t!==null){e.blockedOn=t,ry(e.priority,function(){ny(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=sm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Xu=r,s.target.dispatchEvent(r),Xu=null}else return t=Fi(s),t!==null&&_h(t),e.blockedOn=s,!1;t.shift()}return!0}function zp(e,t,s){Dl(e)&&s.delete(t)}function zS(){nm=!1,Gs!==null&&Dl(Gs)&&(Gs=null),Us!==null&&Dl(Us)&&(Us=null),qs!==null&&Dl(qs)&&(qs=null),li.forEach(zp),ci.forEach(zp)}function Po(e,t){e.blockedOn===t&&(e.blockedOn=null,nm||(nm=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,zS)))}function di(e){function t(a){return Po(a,e)}if(0<dl.length){Po(dl[0],e);for(var s=1;s<dl.length;s++){var r=dl[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Gs!==null&&Po(Gs,e),Us!==null&&Po(Us,e),qs!==null&&Po(qs,e),li.forEach(t),ci.forEach(t),s=0;s<Rs.length;s++)r=Rs[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rs.length&&(s=Rs[0],s.blockedOn===null);)ay(s),s.blockedOn===null&&Rs.shift()}var Sa=Ns.ReactCurrentBatchConfig,sc=!0;function BS(e,t,s,r){var a=Pe,o=Sa.transition;Sa.transition=null;try{Pe=1,Oh(e,t,s,r)}finally{Pe=a,Sa.transition=o}}function HS(e,t,s,r){var a=Pe,o=Sa.transition;Sa.transition=null;try{Pe=4,Oh(e,t,s,r)}finally{Pe=a,Sa.transition=o}}function Oh(e,t,s,r){if(sc){var a=sm(e,t,s,r);if(a===null)nu(e,t,r,rc,s),$p(e,r);else if($S(a,e,t,s,r))r.stopPropagation();else if($p(e,r),t&4&&-1<FS.indexOf(e)){for(;a!==null;){var o=Fi(a);if(o!==null&&ty(o),o=sm(e,t,s,r),o===null&&nu(e,t,r,rc,s),o===a)break;a=o}a!==null&&r.stopPropagation()}else nu(e,t,r,null,s)}}var rc=null;function sm(e,t,s,r){if(rc=null,e=Ah(r),e=br(e),e!==null)if(t=Kr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=qv(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rc=e,null}function oy(e){switch(e){case\"cancel\":case\"click\":case\"close\":case\"contextmenu\":case\"copy\":case\"cut\":case\"auxclick\":case\"dblclick\":case\"dragend\":case\"dragstart\":case\"drop\":case\"focusin\":case\"focusout\":case\"input\":case\"invalid\":case\"keydown\":case\"keypress\":case\"keyup\":case\"mousedown\":case\"mouseup\":case\"paste\":case\"pause\":case\"play\":case\"pointercancel\":case\"pointerdown\":case\"pointerup\":case\"ratechange\":case\"reset\":case\"resize\":case\"seeked\":case\"submit\":case\"touchcancel\":case\"touchend\":case\"touchstart\":case\"volumechange\":case\"change\":case\"selectionchange\":case\"textInput\":case\"compositionstart\":case\"compositionend\":case\"compositionupdate\":case\"beforeblur\":case\"afterblur\":case\"beforeinput\":case\"blur\":case\"fullscreenchange\":case\"focus\":case\"hashchange\":case\"popstate\":case\"select\":case\"selectstart\":return 1;case\"drag\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"mousemove\":case\"mouseout\":case\"mouseover\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"scroll\":case\"toggle\":case\"touchmove\":case\"wheel\":case\"mouseenter\":case\"mouseleave\":case\"pointerenter\":case\"pointerleave\":return 4;case\"message\":switch(MS()){case Ih:return 1;case Xv:return 4;case tc:case TS:return 16;case Jv:return 536870912;default:return 16}default:return 16}}var Hs=null,Lh=null,_l=null;function iy(){if(_l)return _l;var e,t=Lh,s=t.length,r,a=\"value\"in Hs?Hs.value:Hs.textContent,o=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===a[o-r];r++);return _l=a.slice(e,1<r?1-r:void 0)}function Ol(e){var t=e.keyCode;return\"charCode\"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function Bp(){return!1}function Zt(e){function t(s,r,a,o,i){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ul:Bp,this.isPropagationStopped=Bp,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!=\"unknown\"&&(s.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!=\"unknown\"&&(s.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fh=Zt(co),Li=Fe({},co,{view:0,detail:0}),VS=Zt(Li),qd,Kd,Eo,Gc=Fe({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$h,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return\"movementX\"in e?e.movementX:(e!==Eo&&(Eo&&e.type===\"mousemove\"?(qd=e.screenX-Eo.screenX,Kd=e.screenY-Eo.screenY):Kd=qd=0,Eo=e),qd)},movementY:function(e){return\"movementY\"in e?e.movementY:Kd}}),Hp=Zt(Gc),WS=Fe({},Gc,{dataTransfer:0}),GS=Zt(WS),US=Fe({},Li,{relatedTarget:0}),Qd=Zt(US),qS=Fe({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),KS=Zt(qS),QS=Fe({},co,{clipboardData:function(e){return\"clipboardData\"in e?e.clipboardData:window.clipboardData}}),YS=Zt(QS),XS=Fe({},co,{data:0}),Vp=Zt(XS),JS={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},ZS={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},eC={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function tC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eC[e])?!!t[e]:!1}function $h(){return tC}var nC=Fe({},Li,{key:function(e){if(e.key){var t=JS[e.key]||e.key;if(t!==\"Unidentified\")return t}return e.type===\"keypress\"?(e=Ol(e),e===13?\"Enter\":String.fromCharCode(e)):e.type===\"keydown\"||e.type===\"keyup\"?ZS[e.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$h,charCode:function(e){return e.type===\"keypress\"?Ol(e):0},keyCode:function(e){return e.type===\"keydown\"||e.type===\"keyup\"?e.keyCode:0},which:function(e){return e.type===\"keypress\"?Ol(e):e.type===\"keydown\"||e.type===\"keyup\"?e.keyCode:0}}),sC=Zt(nC),rC=Fe({},Gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wp=Zt(rC),aC=Fe({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$h}),oC=Zt(aC),iC=Fe({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),lC=Zt(iC),cC=Fe({},Gc,{deltaX:function(e){return\"deltaX\"in e?e.deltaX:\"wheelDeltaX\"in e?-e.wheelDeltaX:0},deltaY:function(e){return\"deltaY\"in e?e.deltaY:\"wheelDeltaY\"in e?-e.wheelDeltaY:\"wheelDelta\"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dC=Zt(cC),uC=[9,13,27,32],zh=fs&&\"CompositionEvent\"in window,Xo=null;fs&&\"documentMode\"in document&&(Xo=document.documentMode);var mC=fs&&\"TextEvent\"in window&&!Xo,ly=fs&&(!zh||Xo&&8<Xo&&11>=Xo),Gp=\" \",Up=!1;function cy(e,t){switch(e){case\"keyup\":return uC.indexOf(t.keyCode)!==-1;case\"keydown\":return t.keyCode!==229;case\"keypress\":case\"mousedown\":case\"focusout\":return!0;default:return!1}}function dy(e){return e=e.detail,typeof e==\"object\"&&\"data\"in e?e.data:null}var ua=!1;function hC(e,t){switch(e){case\"compositionend\":return dy(t);case\"keypress\":return t.which!==32?null:(Up=!0,Gp);case\"textInput\":return e=t.data,e===Gp&&Up?null:e;default:return null}}function fC(e,t){if(ua)return e===\"compositionend\"||!zh&&cy(e,t)?(e=iy(),_l=Lh=Hs=null,ua=!1,e):null;switch(e){case\"paste\":return null;case\"keypress\":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case\"compositionend\":return ly&&t.locale!==\"ko\"?null:t.data;default:return null}}var pC={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===\"input\"?!!pC[e.type]:t===\"textarea\"}function uy(e,t,s,r){Hv(r),t=ac(t,\"onChange\"),0<t.length&&(s=new Fh(\"onChange\",\"change\",null,s,r),e.push({event:s,listeners:t}))}var Jo=null,ui=null;function xC(e){jy(e,0)}function Uc(e){var t=fa(e);if(_v(t))return e}function gC(e,t){if(e===\"change\")return t}var my=!1;if(fs){var Yd;if(fs){var Xd=\"oninput\"in document;if(!Xd){var Kp=document.createElement(\"div\");Kp.setAttribute(\"oninput\",\"return;\"),Xd=typeof Kp.oninput==\"function\"}Yd=Xd}else Yd=!1;my=Yd&&(!document.documentMode||9<document.documentMode)}function Qp(){Jo&&(Jo.detachEvent(\"onpropertychange\",hy),ui=Jo=null)}function hy(e){if(e.propertyName===\"value\"&&Uc(ui)){var t=[];uy(t,ui,e,Ah(e)),Uv(xC,t)}}function vC(e,t,s){e===\"focusin\"?(Qp(),Jo=t,ui=s,Jo.attachEvent(\"onpropertychange\",hy)):e===\"focusout\"&&Qp()}function yC(e){if(e===\"selectionchange\"||e===\"keyup\"||e===\"keydown\")return Uc(ui)}function wC(e,t){if(e===\"click\")return Uc(t)}function bC(e,t){if(e===\"input\"||e===\"change\")return Uc(t)}function jC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is==\"function\"?Object.is:jC;function mi(e,t){if(Cn(e,t))return!0;if(typeof e!=\"object\"||e===null||typeof t!=\"object\"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!$u.call(t,a)||!Cn(e[a],t[a]))return!1}return!0}function Yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xp(e,t){var s=Yp(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Yp(s)}}function fy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fy(e,t.parentNode):\"contains\"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function py(){for(var e=window,t=Jl();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href==\"string\"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Jl(e.document)}return t}function Bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===\"input\"&&(e.type===\"text\"||e.type===\"search\"||e.type===\"tel\"||e.type===\"url\"||e.type===\"password\")||t===\"textarea\"||e.contentEditable===\"true\")}function NC(e){var t=py(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&fy(s.ownerDocument.documentElement,s)){if(r!==null&&Bh(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),\"selectionStart\"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=Xp(s,o);var i=Xp(s,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus==\"function\"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SC=fs&&\"documentMode\"in document&&11>=document.documentMode,ma=null,rm=null,Zo=null,am=!1;function Jp(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;am||ma==null||ma!==Jl(r)||(r=ma,\"selectionStart\"in r&&Bh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zo&&mi(Zo,r)||(Zo=r,r=ac(rm,\"onSelect\"),0<r.length&&(t=new Fh(\"onSelect\",\"select\",null,t,s),e.push({event:t,listeners:r}),t.target=ma)))}function ml(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s[\"Webkit\"+e]=\"webkit\"+t,s[\"Moz\"+e]=\"moz\"+t,s}var ha={animationend:ml(\"Animation\",\"AnimationEnd\"),animationiteration:ml(\"Animation\",\"AnimationIteration\"),animationstart:ml(\"Animation\",\"AnimationStart\"),transitionend:ml(\"Transition\",\"TransitionEnd\")},Jd={},xy={};fs&&(xy=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),\"TransitionEvent\"in window||delete ha.transitionend.transition);function qc(e){if(Jd[e])return Jd[e];if(!ha[e])return e;var t=ha[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in xy)return Jd[e]=t[s];return e}var gy=qc(\"animationend\"),vy=qc(\"animationiteration\"),yy=qc(\"animationstart\"),wy=qc(\"transitionend\"),by=new Map,Zp=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");function cr(e,t){by.set(e,t),qr(t,[e])}for(var Zd=0;Zd<Zp.length;Zd++){var eu=Zp[Zd],CC=eu.toLowerCase(),kC=eu[0].toUpperCase()+eu.slice(1);cr(CC,\"on\"+kC)}cr(gy,\"onAnimationEnd\");cr(vy,\"onAnimationIteration\");cr(yy,\"onAnimationStart\");cr(\"dblclick\",\"onDoubleClick\");cr(\"focusin\",\"onFocus\");cr(\"focusout\",\"onBlur\");cr(wy,\"onTransitionEnd\");Ua(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);Ua(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);Ua(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);Ua(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);qr(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));qr(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));qr(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);qr(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));qr(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));qr(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Bo=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),PC=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Bo));function ex(e,t,s){var r=e.type||\"unknown-event\";e.currentTarget=s,CS(r,t,void 0,e),e.currentTarget=null}function jy(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;ex(a,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;ex(a,l,u),o=c}}}if(ec)throw e=em,ec=!1,em=null,e}function Re(e,t){var s=t[dm];s===void 0&&(s=t[dm]=new Set);var r=e+\"__bubble\";s.has(r)||(Ny(t,e,2,!1),s.add(r))}function tu(e,t,s){var r=0;t&&(r|=4),Ny(s,e,r,t)}var hl=\"_reactListening\"+Math.random().toString(36).slice(2);function hi(e){if(!e[hl]){e[hl]=!0,Tv.forEach(function(s){s!==\"selectionchange\"&&(PC.has(s)||tu(s,!1,e),tu(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hl]||(t[hl]=!0,tu(\"selectionchange\",!1,t))}}function Ny(e,t,s,r){switch(oy(t)){case 1:var a=BS;break;case 4:a=HS;break;default:a=Oh}s=a.bind(null,t,s,e),a=void 0,!Zu||t!==\"touchstart\"&&t!==\"touchmove\"&&t!==\"wheel\"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function nu(e,t,s,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=br(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Uv(function(){var u=o,h=Ah(s),f=[];e:{var m=by.get(e);if(m!==void 0){var x=Fh,g=e;switch(e){case\"keypress\":if(Ol(s)===0)break e;case\"keydown\":case\"keyup\":x=sC;break;case\"focusin\":g=\"focus\",x=Qd;break;case\"focusout\":g=\"blur\",x=Qd;break;case\"beforeblur\":case\"afterblur\":x=Qd;break;case\"click\":if(s.button===2)break e;case\"auxclick\":case\"dblclick\":case\"mousedown\":case\"mousemove\":case\"mouseup\":case\"mouseout\":case\"mouseover\":case\"contextmenu\":x=Hp;break;case\"drag\":case\"dragend\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"dragstart\":case\"drop\":x=GS;break;case\"touchcancel\":case\"touchend\":case\"touchmove\":case\"touchstart\":x=oC;break;case gy:case vy:case yy:x=KS;break;case wy:x=lC;break;case\"scroll\":x=VS;break;case\"wheel\":x=dC;break;case\"copy\":case\"cut\":case\"paste\":x=YS;break;case\"gotpointercapture\":case\"lostpointercapture\":case\"pointercancel\":case\"pointerdown\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"pointerup\":x=Wp}var v=(t&4)!==0,b=!v&&e===\"scroll\",y=v?m!==null?m+\"Capture\":null:m;v=[];for(var p=u,w;p!==null;){w=p;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=ii(p,y),j!=null&&v.push(fi(p,j,w)))),b)break;p=p.return}0<v.length&&(m=new x(m,g,null,s,h),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e===\"mouseover\"||e===\"pointerover\",x=e===\"mouseout\"||e===\"pointerout\",m&&s!==Xu&&(g=s.relatedTarget||s.fromElement)&&(br(g)||g[ps]))break e;if((x||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,x?(g=s.relatedTarget||s.toElement,x=u,g=g?br(g):null,g!==null&&(b=Kr(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=u),x!==g)){if(v=Hp,j=\"onMouseLeave\",y=\"onMouseEnter\",p=\"mouse\",(e===\"pointerout\"||e===\"pointerover\")&&(v=Wp,j=\"onPointerLeave\",y=\"onPointerEnter\",p=\"pointer\"),b=x==null?m:fa(x),w=g==null?m:fa(g),m=new v(j,p+\"leave\",x,s,h),m.target=b,m.relatedTarget=w,j=null,br(h)===u&&(v=new v(y,p+\"enter\",g,s,h),v.target=w,v.relatedTarget=b,j=v),b=j,x&&g)t:{for(v=x,y=g,p=0,w=v;w;w=sa(w))p++;for(w=0,j=y;j;j=sa(j))w++;for(;0<p-w;)v=sa(v),p--;for(;0<w-p;)y=sa(y),w--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=sa(v),y=sa(y)}v=null}else v=null;x!==null&&tx(f,m,x,v,!1),g!==null&&b!==null&&tx(f,b,g,v,!0)}}e:{if(m=u?fa(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x===\"select\"||x===\"input\"&&m.type===\"file\")var N=gC;else if(qp(m))if(my)N=bC;else{N=yC;var S=vC}else(x=m.nodeName)&&x.toLowerCase()===\"input\"&&(m.type===\"checkbox\"||m.type===\"radio\")&&(N=wC);if(N&&(N=N(e,u))){uy(f,N,s,h);break e}S&&S(e,m,u),e===\"focusout\"&&(S=m._wrapperState)&&S.controlled&&m.type===\"number\"&&Uu(m,\"number\",m.value)}switch(S=u?fa(u):window,e){case\"focusin\":(qp(S)||S.contentEditable===\"true\")&&(ma=S,rm=u,Zo=null);break;case\"focusout\":Zo=rm=ma=null;break;case\"mousedown\":am=!0;break;case\"contextmenu\":case\"mouseup\":case\"dragend\":am=!1,Jp(f,s,h);break;case\"selectionchange\":if(SC)break;case\"keydown\":case\"keyup\":Jp(f,s,h)}var C;if(zh)e:{switch(e){case\"compositionstart\":var k=\"onCompositionStart\";break e;case\"compositionend\":k=\"onCompositionEnd\";break e;case\"compositionupdate\":k=\"onCompositionUpdate\";break e}k=void 0}else ua?cy(e,s)&&(k=\"onCompositionEnd\"):e===\"keydown\"&&s.keyCode===229&&(k=\"onCompositionStart\");k&&(ly&&s.locale!==\"ko\"&&(ua||k!==\"onCompositionStart\"?k===\"onCompositionEnd\"&&ua&&(C=iy()):(Hs=h,Lh=\"value\"in Hs?Hs.value:Hs.textContent,ua=!0)),S=ac(u,k),0<S.length&&(k=new Vp(k,e,null,s,h),f.push({event:k,listeners:S}),C?k.data=C:(C=dy(s),C!==null&&(k.data=C)))),(C=mC?hC(e,s):fC(e,s))&&(u=ac(u,\"onBeforeInput\"),0<u.length&&(h=new Vp(\"onBeforeInput\",\"beforeinput\",null,s,h),f.push({event:h,listeners:u}),h.data=C))}jy(f,t)})}function fi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ac(e,t){for(var s=t+\"Capture\",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=ii(e,s),o!=null&&r.unshift(fi(e,o,a)),o=ii(e,t),o!=null&&r.push(fi(e,o,a))),e=e.return}return r}function sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tx(e,t,s,r,a){for(var o=t._reactName,i=[];s!==null&&s!==r;){var l=s,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=ii(s,o),c!=null&&i.unshift(fi(s,c,l))):a||(c=ii(s,o),c!=null&&i.push(fi(s,c,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var EC=/\\r\\n?/g,MC=/\\u0000|\\uFFFD/g;function nx(e){return(typeof e==\"string\"?e:\"\"+e).replace(EC,`\n`).replace(MC,\"\")}function fl(e,t,s){if(t=nx(t),nx(e)!==t&&s)throw Error(U(425))}function oc(){}var om=null,im=null;function lm(e,t){return e===\"textarea\"||e===\"noscript\"||typeof t.children==\"string\"||typeof t.children==\"number\"||typeof t.dangerouslySetInnerHTML==\"object\"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cm=typeof setTimeout==\"function\"?setTimeout:void 0,TC=typeof clearTimeout==\"function\"?clearTimeout:void 0,sx=typeof Promise==\"function\"?Promise:void 0,RC=typeof queueMicrotask==\"function\"?queueMicrotask:typeof sx<\"u\"?function(e){return sx.resolve(null).then(e).catch(AC)}:cm;function AC(e){setTimeout(function(){throw e})}function su(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s===\"/$\"){if(r===0){e.removeChild(a),di(t);return}r--}else s!==\"$\"&&s!==\"$?\"&&s!==\"$!\"||r++;s=a}while(s);di(t)}function Ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===\"$\"||t===\"$!\"||t===\"$?\")break;if(t===\"/$\")return null}}return e}function rx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s===\"$\"||s===\"$!\"||s===\"$?\"){if(t===0)return e;t--}else s===\"/$\"&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Fn=\"__reactFiber$\"+uo,pi=\"__reactProps$\"+uo,ps=\"__reactContainer$\"+uo,dm=\"__reactEvents$\"+uo,IC=\"__reactListeners$\"+uo,DC=\"__reactHandles$\"+uo;function br(e){var t=e[Fn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ps]||s[Fn]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=rx(e);e!==null;){if(s=e[Fn])return s;e=rx(e)}return t}e=s,s=e.parentNode}return null}function Fi(e){return e=e[Fn]||e[ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Kc(e){return e[pi]||null}var um=[],pa=-1;function dr(e){return{current:e}}function Ie(e){0>pa||(e.current=um[pa],um[pa]=null,pa--)}function Me(e,t){pa++,um[pa]=e.current,e.current=t}var sr={},xt=dr(sr),Lt=dr(!1),Or=sr;function qa(e,t){var s=e.type.contextTypes;if(!s)return sr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in s)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ft(e){return e=e.childContextTypes,e!=null}function ic(){Ie(Lt),Ie(xt)}function ax(e,t,s){if(xt.current!==sr)throw Error(U(168));Me(xt,t),Me(Lt,s)}function Sy(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!=\"function\")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(U(108,vS(e)||\"Unknown\",a));return Fe({},s,r)}function lc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,Or=xt.current,Me(xt,e),Me(Lt,Lt.current),!0}function ox(e,t,s){var r=e.stateNode;if(!r)throw Error(U(169));s?(e=Sy(e,t,Or),r.__reactInternalMemoizedMergedChildContext=e,Ie(Lt),Ie(xt),Me(xt,e)):Ie(Lt),Me(Lt,s)}var ss=null,Qc=!1,ru=!1;function Cy(e){ss===null?ss=[e]:ss.push(e)}function _C(e){Qc=!0,Cy(e)}function ur(){if(!ru&&ss!==null){ru=!0;var e=0,t=Pe;try{var s=ss;for(Pe=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}ss=null,Qc=!1}catch(a){throw ss!==null&&(ss=ss.slice(e+1)),Yv(Ih,ur),a}finally{Pe=t,ru=!1}}return null}var xa=[],ga=0,cc=null,dc=0,sn=[],rn=0,Lr=null,as=1,os=\"\";function yr(e,t){xa[ga++]=dc,xa[ga++]=cc,cc=e,dc=t}function ky(e,t,s){sn[rn++]=as,sn[rn++]=os,sn[rn++]=Lr,Lr=e;var r=as;e=os;var a=32-Nn(r)-1;r&=~(1<<a),s+=1;var o=32-Nn(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,as=1<<32-Nn(t)+a|s<<a|r,os=o+e}else as=1<<o|s<<a|r,os=e}function Hh(e){e.return!==null&&(yr(e,1),ky(e,1,0))}function Vh(e){for(;e===cc;)cc=xa[--ga],xa[ga]=null,dc=xa[--ga],xa[ga]=null;for(;e===Lr;)Lr=sn[--rn],sn[rn]=null,os=sn[--rn],sn[rn]=null,as=sn[--rn],sn[rn]=null}var Qt=null,qt=null,De=!1,bn=null;function Py(e,t){var s=an(5,null,null,0);s.elementType=\"DELETED\",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function ix(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,qt=Ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===\"\"||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Lr!==null?{id:as,overflow:os}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=an(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Qt=e,qt=null,!0):!1;default:return!1}}function mm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hm(e){if(De){var t=qt;if(t){var s=t;if(!ix(e,t)){if(mm(e))throw Error(U(418));t=Ks(s.nextSibling);var r=Qt;t&&ix(e,t)?Py(r,s):(e.flags=e.flags&-4097|2,De=!1,Qt=e)}}else{if(mm(e))throw Error(U(418));e.flags=e.flags&-4097|2,De=!1,Qt=e}}}function lx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function pl(e){if(e!==Qt)return!1;if(!De)return lx(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!==\"head\"&&t!==\"body\"&&!lm(e.type,e.memoizedProps)),t&&(t=qt)){if(mm(e))throw Ey(),Error(U(418));for(;t;)Py(e,t),t=Ks(t.nextSibling)}if(lx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s===\"/$\"){if(t===0){qt=Ks(e.nextSibling);break e}t--}else s!==\"$\"&&s!==\"$!\"&&s!==\"$?\"||t++}e=e.nextSibling}qt=null}}else qt=Qt?Ks(e.stateNode.nextSibling):null;return!0}function Ey(){for(var e=qt;e;)e=Ks(e.nextSibling)}function Ka(){qt=Qt=null,De=!1}function Wh(e){bn===null?bn=[e]:bn.push(e)}var OC=Ns.ReactCurrentBatchConfig;function Mo(e,t,s){if(e=s.ref,e!==null&&typeof e!=\"function\"&&typeof e!=\"object\"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(U(309));var r=s.stateNode}if(!r)throw Error(U(147,e));var a=r,o=\"\"+e;return t!==null&&t.ref!==null&&typeof t.ref==\"function\"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!=\"string\")throw Error(U(284));if(!s._owner)throw Error(U(290,e))}return e}function xl(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e===\"[object Object]\"?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":e))}function cx(e){var t=e._init;return t(e._payload)}function My(e){function t(y,p){if(e){var w=y.deletions;w===null?(y.deletions=[p],y.flags|=16):w.push(p)}}function s(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function a(y,p){return y=Js(y,p),y.index=0,y.sibling=null,y}function o(y,p,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<p?(y.flags|=2,p):w):(y.flags|=2,p)):(y.flags|=1048576,p)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,p,w,j){return p===null||p.tag!==6?(p=uu(w,y.mode,j),p.return=y,p):(p=a(p,w),p.return=y,p)}function c(y,p,w,j){var N=w.type;return N===da?h(y,p,w.props.children,j,w.key):p!==null&&(p.elementType===N||typeof N==\"object\"&&N!==null&&N.$$typeof===Ms&&cx(N)===p.type)?(j=a(p,w.props),j.ref=Mo(y,p,w),j.return=y,j):(j=Vl(w.type,w.key,w.props,null,y.mode,j),j.ref=Mo(y,p,w),j.return=y,j)}function u(y,p,w,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=mu(w,y.mode,j),p.return=y,p):(p=a(p,w.children||[]),p.return=y,p)}function h(y,p,w,j,N){return p===null||p.tag!==7?(p=Dr(w,y.mode,j,N),p.return=y,p):(p=a(p,w),p.return=y,p)}function f(y,p,w){if(typeof p==\"string\"&&p!==\"\"||typeof p==\"number\")return p=uu(\"\"+p,y.mode,w),p.return=y,p;if(typeof p==\"object\"&&p!==null){switch(p.$$typeof){case al:return w=Vl(p.type,p.key,p.props,null,y.mode,w),w.ref=Mo(y,null,p),w.return=y,w;case ca:return p=mu(p,y.mode,w),p.return=y,p;case Ms:var j=p._init;return f(y,j(p._payload),w)}if($o(p)||So(p))return p=Dr(p,y.mode,w,null),p.return=y,p;xl(y,p)}return null}function m(y,p,w,j){var N=p!==null?p.key:null;if(typeof w==\"string\"&&w!==\"\"||typeof w==\"number\")return N!==null?null:l(y,p,\"\"+w,j);if(typeof w==\"object\"&&w!==null){switch(w.$$typeof){case al:return w.key===N?c(y,p,w,j):null;case ca:return w.key===N?u(y,p,w,j):null;case Ms:return N=w._init,m(y,p,N(w._payload),j)}if($o(w)||So(w))return N!==null?null:h(y,p,w,j,null);xl(y,w)}return null}function x(y,p,w,j,N){if(typeof j==\"string\"&&j!==\"\"||typeof j==\"number\")return y=y.get(w)||null,l(p,y,\"\"+j,N);if(typeof j==\"object\"&&j!==null){switch(j.$$typeof){case al:return y=y.get(j.key===null?w:j.key)||null,c(p,y,j,N);case ca:return y=y.get(j.key===null?w:j.key)||null,u(p,y,j,N);case Ms:var S=j._init;return x(y,p,w,S(j._payload),N)}if($o(j)||So(j))return y=y.get(w)||null,h(p,y,j,N,null);xl(p,j)}return null}function g(y,p,w,j){for(var N=null,S=null,C=p,k=p=0,P=null;C!==null&&k<w.length;k++){C.index>k?(P=C,C=null):P=C.sibling;var A=m(y,C,w[k],j);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(y,C),p=o(A,p,k),S===null?N=A:S.sibling=A,S=A,C=P}if(k===w.length)return s(y,C),De&&yr(y,k),N;if(C===null){for(;k<w.length;k++)C=f(y,w[k],j),C!==null&&(p=o(C,p,k),S===null?N=C:S.sibling=C,S=C);return De&&yr(y,k),N}for(C=r(y,C);k<w.length;k++)P=x(C,y,k,w[k],j),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?k:P.key),p=o(P,p,k),S===null?N=P:S.sibling=P,S=P);return e&&C.forEach(function(O){return t(y,O)}),De&&yr(y,k),N}function v(y,p,w,j){var N=So(w);if(typeof N!=\"function\")throw Error(U(150));if(w=N.call(w),w==null)throw Error(U(151));for(var S=N=null,C=p,k=p=0,P=null,A=w.next();C!==null&&!A.done;k++,A=w.next()){C.index>k?(P=C,C=null):P=C.sibling;var O=m(y,C,A.value,j);if(O===null){C===null&&(C=P);break}e&&C&&O.alternate===null&&t(y,C),p=o(O,p,k),S===null?N=O:S.sibling=O,S=O,C=P}if(A.done)return s(y,C),De&&yr(y,k),N;if(C===null){for(;!A.done;k++,A=w.next())A=f(y,A.value,j),A!==null&&(p=o(A,p,k),S===null?N=A:S.sibling=A,S=A);return De&&yr(y,k),N}for(C=r(y,C);!A.done;k++,A=w.next())A=x(C,y,k,A.value,j),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),p=o(A,p,k),S===null?N=A:S.sibling=A,S=A);return e&&C.forEach(function(T){return t(y,T)}),De&&yr(y,k),N}function b(y,p,w,j){if(typeof w==\"object\"&&w!==null&&w.type===da&&w.key===null&&(w=w.props.children),typeof w==\"object\"&&w!==null){switch(w.$$typeof){case al:e:{for(var N=w.key,S=p;S!==null;){if(S.key===N){if(N=w.type,N===da){if(S.tag===7){s(y,S.sibling),p=a(S,w.props.children),p.return=y,y=p;break e}}else if(S.elementType===N||typeof N==\"object\"&&N!==null&&N.$$typeof===Ms&&cx(N)===S.type){s(y,S.sibling),p=a(S,w.props),p.ref=Mo(y,S,w),p.return=y,y=p;break e}s(y,S);break}else t(y,S);S=S.sibling}w.type===da?(p=Dr(w.props.children,y.mode,j,w.key),p.return=y,y=p):(j=Vl(w.type,w.key,w.props,null,y.mode,j),j.ref=Mo(y,p,w),j.return=y,y=j)}return i(y);case ca:e:{for(S=w.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){s(y,p.sibling),p=a(p,w.children||[]),p.return=y,y=p;break e}else{s(y,p);break}else t(y,p);p=p.sibling}p=mu(w,y.mode,j),p.return=y,y=p}return i(y);case Ms:return S=w._init,b(y,p,S(w._payload),j)}if($o(w))return g(y,p,w,j);if(So(w))return v(y,p,w,j);xl(y,w)}return typeof w==\"string\"&&w!==\"\"||typeof w==\"number\"?(w=\"\"+w,p!==null&&p.tag===6?(s(y,p.sibling),p=a(p,w),p.return=y,y=p):(s(y,p),p=uu(w,y.mode,j),p.return=y,y=p),i(y)):s(y,p)}return b}var Qa=My(!0),Ty=My(!1),uc=dr(null),mc=null,va=null,Gh=null;function Uh(){Gh=va=mc=null}function qh(e){var t=uc.current;Ie(uc),e._currentValue=t}function fm(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Ca(e,t){mc=e,Gh=va=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(Gh!==e)if(e={context:e,memoizedValue:t,next:null},va===null){if(mc===null)throw Error(U(308));va=e,mc.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var jr=null;function Kh(e){jr===null?jr=[e]:jr.push(e)}function Ry(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,Kh(t)):(s.next=a.next,a.next=s),t.interleaved=s,xs(e,r)}function xs(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ts=!1;function Qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ay(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,xs(e,s)}return a=r.interleaved,a===null?(t.next=t,Kh(r)):(t.next=a.next,a.next=t),r.interleaved=t,xs(e,s)}function Ll(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Dh(e,s)}}function dx(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?a=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?a=o=t:o=o.next=t}else a=o=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function hc(e,t,s,r){var a=e.updateQueue;Ts=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var f=a.baseState;i=0,h=u=c=null,l=o;do{var m=l.lane,x=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(m=t,x=s,v.tag){case 1:if(g=v.payload,typeof g==\"function\"){f=g.call(x,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,m=typeof g==\"function\"?g.call(x,f,m):g,m==null)break e;f=Fe({},f,m);break e;case 2:Ts=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=x,c=f):h=h.next=x,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(h===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);$r|=i,e.lanes=i,e.memoizedState=f}}function ux(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!=\"function\")throw Error(U(191,a));a.call(r)}}}var $i={},Bn=dr($i),xi=dr($i),gi=dr($i);function Nr(e){if(e===$i)throw Error(U(174));return e}function Yh(e,t){switch(Me(gi,t),Me(xi,e),Me(Bn,$i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ku(null,\"\");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ku(t,e)}Ie(Bn),Me(Bn,t)}function Ya(){Ie(Bn),Ie(xi),Ie(gi)}function Iy(e){Nr(gi.current);var t=Nr(Bn.current),s=Ku(t,e.type);t!==s&&(Me(xi,e),Me(Bn,s))}function Xh(e){xi.current===e&&(Ie(Bn),Ie(xi))}var Oe=dr(0);function fc(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data===\"$?\"||s.data===\"$!\"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var au=[];function Jh(){for(var e=0;e<au.length;e++)au[e]._workInProgressVersionPrimary=null;au.length=0}var Fl=Ns.ReactCurrentDispatcher,ou=Ns.ReactCurrentBatchConfig,Fr=0,Le=null,Ke=null,Je=null,pc=!1,ei=!1,vi=0,LC=0;function dt(){throw Error(U(321))}function Zh(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Cn(e[s],t[s]))return!1;return!0}function ef(e,t,s,r,a,o){if(Fr=o,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fl.current=e===null||e.memoizedState===null?BC:HC,e=s(r,a),ei){o=0;do{if(ei=!1,vi=0,25<=o)throw Error(U(301));o+=1,Je=Ke=null,t.updateQueue=null,Fl.current=VC,e=s(r,a)}while(ei)}if(Fl.current=xc,t=Ke!==null&&Ke.next!==null,Fr=0,Je=Ke=Le=null,pc=!1,t)throw Error(U(300));return e}function tf(){var e=vi!==0;return vi=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Le.memoizedState=Je=e:Je=Je.next=e,Je}function un(){if(Ke===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Je===null?Le.memoizedState:Je.next;if(t!==null)Je=t,Ke=e;else{if(e===null)throw Error(U(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Je===null?Le.memoizedState=Je=e:Je=Je.next=e}return Je}function yi(e,t){return typeof t==\"function\"?t(e):t}function iu(e){var t=un(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var r=Ke,a=r.baseQueue,o=s.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,s.pending=null}if(a!==null){o=a.next,r=r.baseState;var l=i=null,c=null,u=o;do{var h=u.lane;if((Fr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Le.lanes|=h,$r|=h}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,Cn(r,t.memoizedState)||(_t=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do o=a.lane,Le.lanes|=o,$r|=o,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function lu(e){var t=un(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,o=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Cn(o,t.memoizedState)||(_t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,r]}function Dy(){}function _y(e,t){var s=Le,r=un(),a=t(),o=!Cn(r.memoizedState,a);if(o&&(r.memoizedState=a,_t=!0),r=r.queue,nf(Fy.bind(null,s,r,e),[e]),r.getSnapshot!==t||o||Je!==null&&Je.memoizedState.tag&1){if(s.flags|=2048,wi(9,Ly.bind(null,s,r,a,t),void 0,null),Ze===null)throw Error(U(349));Fr&30||Oy(s,t,a)}return a}function Oy(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Ly(e,t,s,r){t.value=s,t.getSnapshot=r,$y(t)&&zy(e)}function Fy(e,t,s){return s(function(){$y(t)&&zy(e)})}function $y(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Cn(e,s)}catch{return!0}}function zy(e){var t=xs(e,1);t!==null&&Sn(t,e,1,-1)}function mx(e){var t=In();return typeof e==\"function\"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=zC.bind(null,Le,e),[t.memoizedState,e]}function wi(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function By(){return un().memoizedState}function $l(e,t,s,r){var a=In();Le.flags|=e,a.memoizedState=wi(1|t,s,void 0,r===void 0?null:r)}function Yc(e,t,s,r){var a=un();r=r===void 0?null:r;var o=void 0;if(Ke!==null){var i=Ke.memoizedState;if(o=i.destroy,r!==null&&Zh(r,i.deps)){a.memoizedState=wi(t,s,o,r);return}}Le.flags|=e,a.memoizedState=wi(1|t,s,o,r)}function hx(e,t){return $l(8390656,8,e,t)}function nf(e,t){return Yc(2048,8,e,t)}function Hy(e,t){return Yc(4,2,e,t)}function Vy(e,t){return Yc(4,4,e,t)}function Wy(e,t){if(typeof t==\"function\")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gy(e,t,s){return s=s!=null?s.concat([e]):null,Yc(4,4,Wy.bind(null,t,e),s)}function sf(){}function Uy(e,t){var s=un();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Zh(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function qy(e,t){var s=un();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Zh(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Ky(e,t,s){return Fr&21?(Cn(s,t)||(s=Zv(),Le.lanes|=s,$r|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=s)}function FC(e,t){var s=Pe;Pe=s!==0&&4>s?s:4,e(!0);var r=ou.transition;ou.transition={};try{e(!1),t()}finally{Pe=s,ou.transition=r}}function Qy(){return un().memoizedState}function $C(e,t,s){var r=Xs(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Yy(e))Xy(t,s);else if(s=Ry(e,t,s,r),s!==null){var a=Ct();Sn(s,e,r,a),Jy(s,t,r)}}function zC(e,t,s){var r=Xs(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yy(e))Xy(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(a.hasEagerState=!0,a.eagerState=l,Cn(l,i)){var c=t.interleaved;c===null?(a.next=a,Kh(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Ry(e,t,a,r),s!==null&&(a=Ct(),Sn(s,e,r,a),Jy(s,t,r))}}function Yy(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Xy(e,t){ei=pc=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Jy(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Dh(e,s)}}var xc={readContext:dn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},BC={readContext:dn,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:hx,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,$l(4194308,4,Wy.bind(null,t,e),s)},useLayoutEffect:function(e,t){return $l(4194308,4,e,t)},useInsertionEffect:function(e,t){return $l(4,2,e,t)},useMemo:function(e,t){var s=In();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=In();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$C.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:mx,useDebugValue:sf,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=mx(!1),t=e[0];return e=FC.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=Le,a=In();if(De){if(s===void 0)throw Error(U(407));s=s()}else{if(s=t(),Ze===null)throw Error(U(349));Fr&30||Oy(r,t,s)}a.memoizedState=s;var o={value:s,getSnapshot:t};return a.queue=o,hx(Fy.bind(null,r,o,e),[e]),r.flags|=2048,wi(9,Ly.bind(null,r,o,s,t),void 0,null),s},useId:function(){var e=In(),t=Ze.identifierPrefix;if(De){var s=os,r=as;s=(r&~(1<<32-Nn(r)-1)).toString(32)+s,t=\":\"+t+\"R\"+s,s=vi++,0<s&&(t+=\"H\"+s.toString(32)),t+=\":\"}else s=LC++,t=\":\"+t+\"r\"+s.toString(32)+\":\";return e.memoizedState=t},unstable_isNewReconciler:!1},HC={readContext:dn,useCallback:Uy,useContext:dn,useEffect:nf,useImperativeHandle:Gy,useInsertionEffect:Hy,useLayoutEffect:Vy,useMemo:qy,useReducer:iu,useRef:By,useState:function(){return iu(yi)},useDebugValue:sf,useDeferredValue:function(e){var t=un();return Ky(t,Ke.memoizedState,e)},useTransition:function(){var e=iu(yi)[0],t=un().memoizedState;return[e,t]},useMutableSource:Dy,useSyncExternalStore:_y,useId:Qy,unstable_isNewReconciler:!1},VC={readContext:dn,useCallback:Uy,useContext:dn,useEffect:nf,useImperativeHandle:Gy,useInsertionEffect:Hy,useLayoutEffect:Vy,useMemo:qy,useReducer:lu,useRef:By,useState:function(){return lu(yi)},useDebugValue:sf,useDeferredValue:function(e){var t=un();return Ke===null?t.memoizedState=e:Ky(t,Ke.memoizedState,e)},useTransition:function(){var e=lu(yi)[0],t=un().memoizedState;return[e,t]},useMutableSource:Dy,useSyncExternalStore:_y,useId:Qy,unstable_isNewReconciler:!1};function vn(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function pm(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:Fe({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Xc={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Ct(),a=Xs(e),o=cs(r,a);o.payload=t,s!=null&&(o.callback=s),t=Qs(e,o,a),t!==null&&(Sn(t,e,a,r),Ll(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Ct(),a=Xs(e),o=cs(r,a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Qs(e,o,a),t!==null&&(Sn(t,e,a,r),Ll(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ct(),r=Xs(e),a=cs(s,r);a.tag=2,t!=null&&(a.callback=t),t=Qs(e,a,r),t!==null&&(Sn(t,e,r,s),Ll(t,e,r))}};function fx(e,t,s,r,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate==\"function\"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!mi(s,r)||!mi(a,o):!0}function Zy(e,t,s){var r=!1,a=sr,o=t.contextType;return typeof o==\"object\"&&o!==null?o=dn(o):(a=Ft(t)?Or:xt.current,r=t.contextTypes,o=(r=r!=null)?qa(e,a):sr),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function px(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps==\"function\"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps==\"function\"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Xc.enqueueReplaceState(t,t.state,null)}function xm(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Qh(e);var o=t.contextType;typeof o==\"object\"&&o!==null?a.context=dn(o):(o=Ft(t)?Or:xt.current,a.context=qa(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o==\"function\"&&(pm(e,t,o,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps==\"function\"||typeof a.getSnapshotBeforeUpdate==\"function\"||typeof a.UNSAFE_componentWillMount!=\"function\"&&typeof a.componentWillMount!=\"function\"||(t=a.state,typeof a.componentWillMount==\"function\"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==\"function\"&&a.UNSAFE_componentWillMount(),t!==a.state&&Xc.enqueueReplaceState(a,a.state,null),hc(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount==\"function\"&&(e.flags|=4194308)}function Xa(e,t){try{var s=\"\",r=t;do s+=gS(r),r=r.return;while(r);var a=s}catch(o){a=`\nError generating stack: `+o.message+`\n`+o.stack}return{value:e,source:t,stack:a,digest:null}}function cu(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function gm(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var WC=typeof WeakMap==\"function\"?WeakMap:Map;function e0(e,t,s){s=cs(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){vc||(vc=!0,Pm=r),gm(e,t)},s}function t0(e,t,s){s=cs(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r==\"function\"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){gm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch==\"function\"&&(s.callback=function(){gm(e,t),typeof r!=\"function\"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:\"\"})}),s}function xx(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new WC;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=rk.bind(null,e,t,s),t.then(e,e))}function gx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vx(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=cs(-1,1),t.tag=2,Qs(s,t,1))),s.lanes|=1),e)}var GC=Ns.ReactCurrentOwner,_t=!1;function bt(e,t,s,r){t.child=e===null?Ty(t,null,s,r):Qa(t,e.child,s,r)}function yx(e,t,s,r,a){s=s.render;var o=t.ref;return Ca(t,a),r=ef(e,t,s,r,o,a),s=tf(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,gs(e,t,a)):(De&&s&&Hh(t),t.flags|=1,bt(e,t,r,a),t.child)}function wx(e,t,s,r,a){if(e===null){var o=s.type;return typeof o==\"function\"&&!mf(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,n0(e,t,o,r,a)):(e=Vl(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:mi,s(i,r)&&e.ref===t.ref)return gs(e,t,a)}return t.flags|=1,e=Js(o,r),e.ref=t.ref,e.return=t,t.child=e}function n0(e,t,s,r,a){if(e!==null){var o=e.memoizedProps;if(mi(o,r)&&e.ref===t.ref)if(_t=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,gs(e,t,a)}return vm(e,t,s,r,a)}function s0(e,t,s){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode===\"hidden\")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(wa,Gt),Gt|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(wa,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:s,Me(wa,Gt),Gt|=r}else o!==null?(r=o.baseLanes|s,t.memoizedState=null):r=s,Me(wa,Gt),Gt|=r;return bt(e,t,a,s),t.child}function r0(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function vm(e,t,s,r,a){var o=Ft(s)?Or:xt.current;return o=qa(t,o),Ca(t,a),s=ef(e,t,s,r,o,a),r=tf(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,gs(e,t,a)):(De&&r&&Hh(t),t.flags|=1,bt(e,t,s,a),t.child)}function bx(e,t,s,r,a){if(Ft(s)){var o=!0;lc(t)}else o=!1;if(Ca(t,a),t.stateNode===null)zl(e,t),Zy(t,s,r),xm(t,s,r,a),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=s.contextType;typeof u==\"object\"&&u!==null?u=dn(u):(u=Ft(s)?Or:xt.current,u=qa(t,u));var h=s.getDerivedStateFromProps,f=typeof h==\"function\"||typeof i.getSnapshotBeforeUpdate==\"function\";f||typeof i.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof i.componentWillReceiveProps!=\"function\"||(l!==r||c!==u)&&px(t,i,r,u),Ts=!1;var m=t.memoizedState;i.state=m,hc(t,r,i,a),c=t.memoizedState,l!==r||m!==c||Lt.current||Ts?(typeof h==\"function\"&&(pm(t,s,h,r),c=t.memoizedState),(l=Ts||fx(t,s,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!=\"function\"&&typeof i.componentWillMount!=\"function\"||(typeof i.componentWillMount==\"function\"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount==\"function\"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount==\"function\"&&(t.flags|=4194308)):(typeof i.componentDidMount==\"function\"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount==\"function\"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ay(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vn(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=s.contextType,typeof c==\"object\"&&c!==null?c=dn(c):(c=Ft(s)?Or:xt.current,c=qa(t,c));var x=s.getDerivedStateFromProps;(h=typeof x==\"function\"||typeof i.getSnapshotBeforeUpdate==\"function\")||typeof i.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof i.componentWillReceiveProps!=\"function\"||(l!==f||m!==c)&&px(t,i,r,c),Ts=!1,m=t.memoizedState,i.state=m,hc(t,r,i,a);var g=t.memoizedState;l!==f||m!==g||Lt.current||Ts?(typeof x==\"function\"&&(pm(t,s,x,r),g=t.memoizedState),(u=Ts||fx(t,s,u,r,m,g,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!=\"function\"&&typeof i.componentWillUpdate!=\"function\"||(typeof i.componentWillUpdate==\"function\"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate==\"function\"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate==\"function\"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate==\"function\"&&(t.flags|=1024)):(typeof i.componentDidUpdate!=\"function\"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!=\"function\"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=c,r=u):(typeof i.componentDidUpdate!=\"function\"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!=\"function\"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return ym(e,t,s,r,o,a)}function ym(e,t,s,r,a,o){r0(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&ox(t,s,!1),gs(e,t,o);r=t.stateNode,GC.current=t;var l=i&&typeof s.getDerivedStateFromError!=\"function\"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Qa(t,e.child,null,o),t.child=Qa(t,null,l,o)):bt(e,t,l,o),t.memoizedState=r.state,a&&ox(t,s,!0),t.child}function a0(e){var t=e.stateNode;t.pendingContext?ax(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ax(e,t.context,!1),Yh(e,t.containerInfo)}function jx(e,t,s,r,a){return Ka(),Wh(a),t.flags|=256,bt(e,t,s,r),t.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function bm(e){return{baseLanes:e,cachePool:null,transitions:null}}function o0(e,t,s){var r=t.pendingProps,a=Oe.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Me(Oe,a&1),e===null)return hm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data===\"$!\"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:\"hidden\",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ed(i,r,0,null),e=Dr(e,r,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=bm(s),t.memoizedState=wm,e):rf(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return UC(e,t,i,r,l,a,s);if(o){o=r.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:\"hidden\",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Js(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Js(l,o):(o=Dr(o,i,s,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?bm(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=wm,r}return o=e.child,e=o.sibling,r=Js(o,{mode:\"visible\",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function rf(e,t){return t=ed({mode:\"visible\",children:t},e.mode,0,null),t.return=e,e.child=t}function gl(e,t,s,r){return r!==null&&Wh(r),Qa(t,e.child,null,s),e=rf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UC(e,t,s,r,a,o,i){if(s)return t.flags&256?(t.flags&=-257,r=cu(Error(U(422))),gl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=ed({mode:\"visible\",children:r.children},a,0,null),o=Dr(o,a,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Qa(t,e.child,null,i),t.child.memoizedState=bm(i),t.memoizedState=wm,o);if(!(t.mode&1))return gl(e,t,i,null);if(a.data===\"$!\"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(U(419)),r=cu(o,r,void 0),gl(e,t,i,r)}if(l=(i&e.childLanes)!==0,_t||l){if(r=Ze,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,xs(e,a),Sn(r,e,a,-1))}return uf(),r=cu(Error(U(421))),gl(e,t,i,r)}return a.data===\"$?\"?(t.flags|=128,t.child=e.child,t=ak.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,qt=Ks(a.nextSibling),Qt=t,De=!0,bn=null,e!==null&&(sn[rn++]=as,sn[rn++]=os,sn[rn++]=Lr,as=e.id,os=e.overflow,Lr=t),t=rf(t,r.children),t.flags|=4096,t)}function Nx(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fm(e.return,t,s)}function du(e,t,s,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=s,o.tailMode=a)}function i0(e,t,s){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(bt(e,t,r.children,s),r=Oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nx(e,s,t);else if(e.tag===19)Nx(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Me(Oe,r),!(t.mode&1))t.memoizedState=null;else switch(a){case\"forwards\":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&fc(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),du(t,!1,a,s,o);break;case\"backwards\":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&fc(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}du(t,!0,s,null,o);break;case\"together\":du(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),$r|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,s=Js(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Js(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function qC(e,t,s){switch(t.tag){case 3:a0(t),Ka();break;case 5:Iy(t);break;case 1:Ft(t.type)&&lc(t);break;case 4:Yh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Me(uc,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Me(Oe,Oe.current&1),t.flags|=128,null):s&t.child.childLanes?o0(e,t,s):(Me(Oe,Oe.current&1),e=gs(e,t,s),e!==null?e.sibling:null);Me(Oe,Oe.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return i0(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Me(Oe,Oe.current),r)break;return null;case 22:case 23:return t.lanes=0,s0(e,t,s)}return gs(e,t,s)}var l0,jm,c0,d0;l0=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};jm=function(){};c0=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Nr(Bn.current);var o=null;switch(s){case\"input\":a=Wu(e,a),r=Wu(e,r),o=[];break;case\"select\":a=Fe({},a,{value:void 0}),r=Fe({},r,{value:void 0}),o=[];break;case\"textarea\":a=qu(e,a),r=qu(e,r),o=[];break;default:typeof a.onClick!=\"function\"&&typeof r.onClick==\"function\"&&(e.onclick=oc)}Qu(s,r);var i;s=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u===\"style\"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]=\"\")}else u!==\"dangerouslySetInnerHTML\"&&u!==\"children\"&&u!==\"suppressContentEditableWarning\"&&u!==\"suppressHydrationWarning\"&&u!==\"autoFocus\"&&(ai.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u===\"style\")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]=\"\");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(o||(o=[]),o.push(u,s)),s=c;else u===\"dangerouslySetInnerHTML\"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u===\"children\"?typeof c!=\"string\"&&typeof c!=\"number\"||(o=o||[]).push(u,\"\"+c):u!==\"suppressContentEditableWarning\"&&u!==\"suppressHydrationWarning\"&&(ai.hasOwnProperty(u)?(c!=null&&u===\"onScroll\"&&Re(\"scroll\",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}s&&(o=o||[]).push(\"style\",s);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};d0=function(e,t,s,r){s!==r&&(t.flags|=4)};function To(e,t){if(!De)switch(e.tailMode){case\"hidden\":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case\"collapsed\":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function KC(e,t,s){var r=t.pendingProps;switch(Vh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Ft(t.type)&&ic(),ut(t),null;case 3:return r=t.stateNode,Ya(),Ie(Lt),Ie(xt),Jh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&(Tm(bn),bn=null))),jm(e,t),ut(t),null;case 5:Xh(t);var a=Nr(gi.current);if(s=t.type,e!==null&&t.stateNode!=null)c0(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return ut(t),null}if(e=Nr(Bn.current),pl(t)){r=t.stateNode,s=t.type;var o=t.memoizedProps;switch(r[Fn]=t,r[pi]=o,e=(t.mode&1)!==0,s){case\"dialog\":Re(\"cancel\",r),Re(\"close\",r);break;case\"iframe\":case\"object\":case\"embed\":Re(\"load\",r);break;case\"video\":case\"audio\":for(a=0;a<Bo.length;a++)Re(Bo[a],r);break;case\"source\":Re(\"error\",r);break;case\"img\":case\"image\":case\"link\":Re(\"error\",r),Re(\"load\",r);break;case\"details\":Re(\"toggle\",r);break;case\"input\":Ap(r,o),Re(\"invalid\",r);break;case\"select\":r._wrapperState={wasMultiple:!!o.multiple},Re(\"invalid\",r);break;case\"textarea\":Dp(r,o),Re(\"invalid\",r)}Qu(s,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i===\"children\"?typeof l==\"string\"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&fl(r.textContent,l,e),a=[\"children\",l]):typeof l==\"number\"&&r.textContent!==\"\"+l&&(o.suppressHydrationWarning!==!0&&fl(r.textContent,l,e),a=[\"children\",\"\"+l]):ai.hasOwnProperty(i)&&l!=null&&i===\"onScroll\"&&Re(\"scroll\",r)}switch(s){case\"input\":ol(r),Ip(r,o,!0);break;case\"textarea\":ol(r),_p(r);break;case\"select\":case\"option\":break;default:typeof o.onClick==\"function\"&&(r.onclick=oc)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e===\"http://www.w3.org/1999/xhtml\"&&(e=Fv(s)),e===\"http://www.w3.org/1999/xhtml\"?s===\"script\"?(e=i.createElement(\"div\"),e.innerHTML=\"<script><\\/script>\",e=e.removeChild(e.firstChild)):typeof r.is==\"string\"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s===\"select\"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[Fn]=t,e[pi]=r,l0(e,t,!1,!1),t.stateNode=e;e:{switch(i=Yu(s,r),s){case\"dialog\":Re(\"cancel\",e),Re(\"close\",e),a=r;break;case\"iframe\":case\"object\":case\"embed\":Re(\"load\",e),a=r;break;case\"video\":case\"audio\":for(a=0;a<Bo.length;a++)Re(Bo[a],e);a=r;break;case\"source\":Re(\"error\",e),a=r;break;case\"img\":case\"image\":case\"link\":Re(\"error\",e),Re(\"load\",e),a=r;break;case\"details\":Re(\"toggle\",e),a=r;break;case\"input\":Ap(e,r),a=Wu(e,r),Re(\"invalid\",e);break;case\"option\":a=r;break;case\"select\":e._wrapperState={wasMultiple:!!r.multiple},a=Fe({},r,{value:void 0}),Re(\"invalid\",e);break;case\"textarea\":Dp(e,r),a=qu(e,r),Re(\"invalid\",e);break;default:a=r}Qu(s,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o===\"style\"?Bv(e,c):o===\"dangerouslySetInnerHTML\"?(c=c?c.__html:void 0,c!=null&&$v(e,c)):o===\"children\"?typeof c==\"string\"?(s!==\"textarea\"||c!==\"\")&&oi(e,c):typeof c==\"number\"&&oi(e,\"\"+c):o!==\"suppressContentEditableWarning\"&&o!==\"suppressHydrationWarning\"&&o!==\"autoFocus\"&&(ai.hasOwnProperty(o)?c!=null&&o===\"onScroll\"&&Re(\"scroll\",e):c!=null&&Eh(e,o,c,i))}switch(s){case\"input\":ol(e),Ip(e,r,!1);break;case\"textarea\":ol(e),_p(e);break;case\"option\":r.value!=null&&e.setAttribute(\"value\",\"\"+nr(r.value));break;case\"select\":e.multiple=!!r.multiple,o=r.value,o!=null?ba(e,!!r.multiple,o,!1):r.defaultValue!=null&&ba(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick==\"function\"&&(e.onclick=oc)}switch(s){case\"button\":case\"input\":case\"select\":case\"textarea\":r=!!r.autoFocus;break e;case\"img\":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)d0(e,t,e.memoizedProps,r);else{if(typeof r!=\"string\"&&t.stateNode===null)throw Error(U(166));if(s=Nr(gi.current),Nr(Bn.current),pl(t)){if(r=t.stateNode,s=t.memoizedProps,r[Fn]=t,(o=r.nodeValue!==s)&&(e=Qt,e!==null))switch(e.tag){case 3:fl(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fl(r.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Fn]=t,t.stateNode=r}return ut(t),null;case 13:if(Ie(Oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&qt!==null&&t.mode&1&&!(t.flags&128))Ey(),Ka(),t.flags|=98560,o=!1;else if(o=pl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Fn]=t}else Ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),o=!1}else bn!==null&&(Tm(bn),bn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?Ye===0&&(Ye=3):uf())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return Ya(),jm(e,t),e===null&&hi(t.stateNode.containerInfo),ut(t),null;case 10:return qh(t.type._context),ut(t),null;case 17:return Ft(t.type)&&ic(),ut(t),null;case 19:if(Ie(Oe),o=t.memoizedState,o===null)return ut(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)To(o,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=fc(e),i!==null){for(t.flags|=128,To(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)o=s,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Me(Oe,Oe.current&1|2),t.child}e=e.sibling}o.tail!==null&&We()>Ja&&(t.flags|=128,r=!0,To(o,!1),t.lanes=4194304)}else{if(!r)if(e=fc(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),To(o,!0),o.tail===null&&o.tailMode===\"hidden\"&&!i.alternate&&!De)return ut(t),null}else 2*We()-o.renderingStartTime>Ja&&s!==1073741824&&(t.flags|=128,r=!0,To(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=We(),t.sibling=null,s=Oe.current,Me(Oe,r?s&1|2:s&1),t):(ut(t),null);case 22:case 23:return df(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gt&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function QC(e,t){switch(Vh(t),t.tag){case 1:return Ft(t.type)&&ic(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ya(),Ie(Lt),Ie(xt),Jh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xh(t),null;case 13:if(Ie(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Oe),null;case 4:return Ya(),null;case 10:return qh(t.type._context),null;case 22:case 23:return df(),null;case 24:return null;default:return null}}var vl=!1,ht=!1,YC=typeof WeakSet==\"function\"?WeakSet:Set,re=null;function ya(e,t){var s=e.ref;if(s!==null)if(typeof s==\"function\")try{s(null)}catch(r){Be(e,t,r)}else s.current=null}function Nm(e,t,s){try{s()}catch(r){Be(e,t,r)}}var Sx=!1;function XC(e,t){if(om=sc,e=py(),Bh(e)){if(\"selectionStart\"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var x;f!==s||a!==0&&f.nodeType!==3||(l=i+a),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===e)break t;if(m===s&&++u===a&&(l=i),m===o&&++h===r&&(c=i),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(im={focusedElem:e,selectionRange:s},sc=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:vn(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent=\"\":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(j){Be(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return g=Sx,Sx=!1,g}function ti(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Nm(t,s,o)}a=a.next}while(a!==r)}}function Jc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function Sm(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t==\"function\"?t(e):t.current=e}}function u0(e){var t=e.alternate;t!==null&&(e.alternate=null,u0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fn],delete t[pi],delete t[dm],delete t[IC],delete t[DC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function m0(e){return e.tag===5||e.tag===3||e.tag===4}function Cx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||m0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cm(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=oc));else if(r!==4&&(e=e.child,e!==null))for(Cm(e,t,s),e=e.sibling;e!==null;)Cm(e,t,s),e=e.sibling}function km(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(km(e,t,s),e=e.sibling;e!==null;)km(e,t,s),e=e.sibling}var ot=null,wn=!1;function Ss(e,t,s){for(s=s.child;s!==null;)h0(e,t,s),s=s.sibling}function h0(e,t,s){if(zn&&typeof zn.onCommitFiberUnmount==\"function\")try{zn.onCommitFiberUnmount(Wc,s)}catch{}switch(s.tag){case 5:ht||ya(s,t);case 6:var r=ot,a=wn;ot=null,Ss(e,t,s),ot=r,wn=a,ot!==null&&(wn?(e=ot,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ot.removeChild(s.stateNode));break;case 18:ot!==null&&(wn?(e=ot,s=s.stateNode,e.nodeType===8?su(e.parentNode,s):e.nodeType===1&&su(e,s),di(e)):su(ot,s.stateNode));break;case 4:r=ot,a=wn,ot=s.stateNode.containerInfo,wn=!0,Ss(e,t,s),ot=r,wn=a;break;case 0:case 11:case 14:case 15:if(!ht&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Nm(s,t,i),a=a.next}while(a!==r)}Ss(e,t,s);break;case 1:if(!ht&&(ya(s,t),r=s.stateNode,typeof r.componentWillUnmount==\"function\"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){Be(s,t,l)}Ss(e,t,s);break;case 21:Ss(e,t,s);break;case 22:s.mode&1?(ht=(r=ht)||s.memoizedState!==null,Ss(e,t,s),ht=r):Ss(e,t,s);break;default:Ss(e,t,s)}}function kx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new YC),t.forEach(function(r){var a=ok.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function xn(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,wn=!1;break e;case 3:ot=l.stateNode.containerInfo,wn=!0;break e;case 4:ot=l.stateNode.containerInfo,wn=!0;break e}l=l.return}if(ot===null)throw Error(U(160));h0(o,i,a),ot=null,wn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Be(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f0(t,e),t=t.sibling}function f0(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xn(t,e),An(e),r&4){try{ti(3,e,e.return),Jc(3,e)}catch(v){Be(e,e.return,v)}try{ti(5,e,e.return)}catch(v){Be(e,e.return,v)}}break;case 1:xn(t,e),An(e),r&512&&s!==null&&ya(s,s.return);break;case 5:if(xn(t,e),An(e),r&512&&s!==null&&ya(s,s.return),e.flags&32){var a=e.stateNode;try{oi(a,\"\")}catch(v){Be(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l===\"input\"&&o.type===\"radio\"&&o.name!=null&&Ov(a,o),Yu(l,i);var u=Yu(l,o);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h===\"style\"?Bv(a,f):h===\"dangerouslySetInnerHTML\"?$v(a,f):h===\"children\"?oi(a,f):Eh(a,h,f,u)}switch(l){case\"input\":Gu(a,o);break;case\"textarea\":Lv(a,o);break;case\"select\":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?ba(a,!!o.multiple,x,!1):m!==!!o.multiple&&(o.defaultValue!=null?ba(a,!!o.multiple,o.defaultValue,!0):ba(a,!!o.multiple,o.multiple?[]:\"\",!1))}a[pi]=o}catch(v){Be(e,e.return,v)}}break;case 6:if(xn(t,e),An(e),r&4){if(e.stateNode===null)throw Error(U(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){Be(e,e.return,v)}}break;case 3:if(xn(t,e),An(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{di(t.containerInfo)}catch(v){Be(e,e.return,v)}break;case 4:xn(t,e),An(e);break;case 13:xn(t,e),An(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(lf=We())),r&4&&kx(e);break;case 22:if(h=s!==null&&s.memoizedState!==null,e.mode&1?(ht=(u=ht)||h,xn(t,e),ht=u):xn(t,e),An(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(re=e,h=e.child;h!==null;){for(f=re=h;re!==null;){switch(m=re,x=m.child,m.tag){case 0:case 11:case 14:case 15:ti(4,m,m.return);break;case 1:ya(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount==\"function\"){r=m,s=m.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Be(r,s,v)}}break;case 5:ya(m,m.return);break;case 22:if(m.memoizedState!==null){Ex(f);continue}}x!==null?(x.return=m,re=x):Ex(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{a=f.stateNode,u?(o=a.style,typeof o.setProperty==\"function\"?o.setProperty(\"display\",\"none\",\"important\"):o.display=\"none\"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty(\"display\")?c.display:null,l.style.display=zv(\"display\",i))}catch(v){Be(e,e.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?\"\":f.memoizedProps}catch(v){Be(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xn(t,e),An(e),r&4&&kx(e);break;case 21:break;default:xn(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(m0(s)){var r=s;break e}s=s.return}throw Error(U(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(oi(a,\"\"),r.flags&=-33);var o=Cx(e);km(e,o,a);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Cx(e);Cm(e,l,i);break;default:throw Error(U(161))}}catch(c){Be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JC(e,t,s){re=e,p0(e)}function p0(e,t,s){for(var r=(e.mode&1)!==0;re!==null;){var a=re,o=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||vl;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ht;l=vl;var u=ht;if(vl=i,(ht=c)&&!u)for(re=a;re!==null;)i=re,c=i.child,i.tag===22&&i.memoizedState!==null?Mx(a):c!==null?(c.return=i,re=c):Mx(a);for(;o!==null;)re=o,p0(o),o=o.sibling;re=a,vl=l,ht=u}Px(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,re=o):Px(e)}}function Px(e){for(;re!==null;){var t=re;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||Jc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ht)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:vn(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ux(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}ux(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case\"button\":case\"input\":case\"select\":case\"textarea\":c.autoFocus&&s.focus();break;case\"img\":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&di(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ht||t.flags&512&&Sm(t)}catch(m){Be(t,t.return,m)}}if(t===e){re=null;break}if(s=t.sibling,s!==null){s.return=t.return,re=s;break}re=t.return}}function Ex(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var s=t.sibling;if(s!==null){s.return=t.return,re=s;break}re=t.return}}function Mx(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Jc(4,t)}catch(c){Be(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount==\"function\"){var a=t.return;try{r.componentDidMount()}catch(c){Be(t,a,c)}}var o=t.return;try{Sm(t)}catch(c){Be(t,o,c)}break;case 5:var i=t.return;try{Sm(t)}catch(c){Be(t,i,c)}}}catch(c){Be(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var ZC=Math.ceil,gc=Ns.ReactCurrentDispatcher,af=Ns.ReactCurrentOwner,on=Ns.ReactCurrentBatchConfig,we=0,Ze=null,Ue=null,it=0,Gt=0,wa=dr(0),Ye=0,bi=null,$r=0,Zc=0,of=0,ni=null,It=null,lf=0,Ja=1/0,ns=null,vc=!1,Pm=null,Ys=null,yl=!1,Vs=null,yc=0,si=0,Em=null,Bl=-1,Hl=0;function Ct(){return we&6?We():Bl!==-1?Bl:Bl=We()}function Xs(e){return e.mode&1?we&2&&it!==0?it&-it:OC.transition!==null?(Hl===0&&(Hl=Zv()),Hl):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:oy(e.type)),e):1}function Sn(e,t,s,r){if(50<si)throw si=0,Em=null,Error(U(185));Oi(e,s,r),(!(we&2)||e!==Ze)&&(e===Ze&&(!(we&2)&&(Zc|=s),Ye===4&&As(e,it)),$t(e,r),s===1&&we===0&&!(t.mode&1)&&(Ja=We()+500,Qc&&ur()))}function $t(e,t){var s=e.callbackNode;OS(e,t);var r=nc(e,e===Ze?it:0);if(r===0)s!==null&&Fp(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&Fp(s),t===1)e.tag===0?_C(Tx.bind(null,e)):Cy(Tx.bind(null,e)),RC(function(){!(we&6)&&ur()}),s=null;else{switch(ey(r)){case 1:s=Ih;break;case 4:s=Xv;break;case 16:s=tc;break;case 536870912:s=Jv;break;default:s=tc}s=N0(s,x0.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function x0(e,t){if(Bl=-1,Hl=0,we&6)throw Error(U(327));var s=e.callbackNode;if(ka()&&e.callbackNode!==s)return null;var r=nc(e,e===Ze?it:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wc(e,r);else{t=r;var a=we;we|=2;var o=v0();(Ze!==e||it!==t)&&(ns=null,Ja=We()+500,Ir(e,t));do try{nk();break}catch(l){g0(e,l)}while(!0);Uh(),gc.current=o,we=a,Ue!==null?t=0:(Ze=null,it=0,t=Ye)}if(t!==0){if(t===2&&(a=tm(e),a!==0&&(r=a,t=Mm(e,a))),t===1)throw s=bi,Ir(e,0),As(e,r),$t(e,We()),s;if(t===6)As(e,r);else{if(a=e.current.alternate,!(r&30)&&!ek(a)&&(t=wc(e,r),t===2&&(o=tm(e),o!==0&&(r=o,t=Mm(e,o))),t===1))throw s=bi,Ir(e,0),As(e,r),$t(e,We()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:wr(e,It,ns);break;case 3:if(As(e,r),(r&130023424)===r&&(t=lf+500-We(),10<t)){if(nc(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ct(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=cm(wr.bind(null,e,It,ns),t);break}wr(e,It,ns);break;case 4:if(As(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-Nn(r);o=1<<i,i=t[i],i>a&&(a=i),r&=~o}if(r=a,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZC(r/1960))-r,10<r){e.timeoutHandle=cm(wr.bind(null,e,It,ns),r);break}wr(e,It,ns);break;case 5:wr(e,It,ns);break;default:throw Error(U(329))}}}return $t(e,We()),e.callbackNode===s?x0.bind(null,e):null}function Mm(e,t){var s=ni;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=wc(e,t),e!==2&&(t=It,It=s,t!==null&&Tm(t)),e}function Tm(e){It===null?It=e:It.push.apply(It,e)}function ek(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],o=a.getSnapshot;a=a.value;try{if(!Cn(o(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function As(e,t){for(t&=~of,t&=~Zc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Nn(t),r=1<<s;e[s]=-1,t&=~r}}function Tx(e){if(we&6)throw Error(U(327));ka();var t=nc(e,0);if(!(t&1))return $t(e,We()),null;var s=wc(e,t);if(e.tag!==0&&s===2){var r=tm(e);r!==0&&(t=r,s=Mm(e,r))}if(s===1)throw s=bi,Ir(e,0),As(e,t),$t(e,We()),s;if(s===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wr(e,It,ns),$t(e,We()),null}function cf(e,t){var s=we;we|=1;try{return e(t)}finally{we=s,we===0&&(Ja=We()+500,Qc&&ur())}}function zr(e){Vs!==null&&Vs.tag===0&&!(we&6)&&ka();var t=we;we|=1;var s=on.transition,r=Pe;try{if(on.transition=null,Pe=1,e)return e()}finally{Pe=r,on.transition=s,we=t,!(we&6)&&ur()}}function df(){Gt=wa.current,Ie(wa)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,TC(s)),Ue!==null)for(s=Ue.return;s!==null;){var r=s;switch(Vh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ic();break;case 3:Ya(),Ie(Lt),Ie(xt),Jh();break;case 5:Xh(r);break;case 4:Ya();break;case 13:Ie(Oe);break;case 19:Ie(Oe);break;case 10:qh(r.type._context);break;case 22:case 23:df()}s=s.return}if(Ze=e,Ue=e=Js(e.current,null),it=Gt=t,Ye=0,bi=null,of=Zc=$r=0,It=ni=null,jr!==null){for(t=0;t<jr.length;t++)if(s=jr[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,o=s.pending;if(o!==null){var i=o.next;o.next=a,r.next=i}s.pending=r}jr=null}return e}function g0(e,t){do{var s=Ue;try{if(Uh(),Fl.current=xc,pc){for(var r=Le.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}pc=!1}if(Fr=0,Je=Ke=Le=null,ei=!1,vi=0,af.current=null,s===null||s.return===null){Ye=1,bi=t,Ue=null;break}e:{var o=e,i=s.return,l=s,c=t;if(t=it,l.flags|=32768,c!==null&&typeof c==\"object\"&&typeof c.then==\"function\"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=gx(i);if(x!==null){x.flags&=-257,vx(x,i,l,o,t),x.mode&1&&xx(o,u,t),t=x,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){xx(o,u,t),uf();break e}c=Error(U(426))}}else if(De&&l.mode&1){var b=gx(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vx(b,i,l,o,t),Wh(Xa(c,l));break e}}o=c=Xa(c,l),Ye!==4&&(Ye=2),ni===null?ni=[o]:ni.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=e0(o,c,t);dx(o,y);break e;case 1:l=c;var p=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError==\"function\"||w!==null&&typeof w.componentDidCatch==\"function\"&&(Ys===null||!Ys.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=t0(o,l,t);dx(o,j);break e}}o=o.return}while(o!==null)}w0(s)}catch(N){t=N,Ue===s&&s!==null&&(Ue=s=s.return);continue}break}while(!0)}function v0(){var e=gc.current;return gc.current=xc,e===null?xc:e}function uf(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Ze===null||!($r&268435455)&&!(Zc&268435455)||As(Ze,it)}function wc(e,t){var s=we;we|=2;var r=v0();(Ze!==e||it!==t)&&(ns=null,Ir(e,t));do try{tk();break}catch(a){g0(e,a)}while(!0);if(Uh(),we=s,gc.current=r,Ue!==null)throw Error(U(261));return Ze=null,it=0,Ye}function tk(){for(;Ue!==null;)y0(Ue)}function nk(){for(;Ue!==null&&!PS();)y0(Ue)}function y0(e){var t=j0(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?w0(e):Ue=t,af.current=null}function w0(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=QC(s,t),s!==null){s.flags&=32767,Ue=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ue=null;return}}else if(s=KC(s,t,Gt),s!==null){Ue=s;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ye===0&&(Ye=5)}function wr(e,t,s){var r=Pe,a=on.transition;try{on.transition=null,Pe=1,sk(e,t,s,r)}finally{on.transition=a,Pe=r}return null}function sk(e,t,s,r){do ka();while(Vs!==null);if(we&6)throw Error(U(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(LS(e,o),e===Ze&&(Ue=Ze=null,it=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||yl||(yl=!0,N0(tc,function(){return ka(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=on.transition,on.transition=null;var i=Pe;Pe=1;var l=we;we|=4,af.current=null,XC(e,s),f0(s,e),NC(im),sc=!!om,im=om=null,e.current=s,JC(s),ES(),we=l,Pe=i,on.transition=o}else e.current=s;if(yl&&(yl=!1,Vs=e,yc=a),o=e.pendingLanes,o===0&&(Ys=null),RS(s.stateNode),$t(e,We()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(vc)throw vc=!1,e=Pm,Pm=null,e;return yc&1&&e.tag!==0&&ka(),o=e.pendingLanes,o&1?e===Em?si++:(si=0,Em=e):si=0,ur(),null}function ka(){if(Vs!==null){var e=ey(yc),t=on.transition,s=Pe;try{if(on.transition=null,Pe=16>e?16:e,Vs===null)var r=!1;else{if(e=Vs,Vs=null,yc=0,we&6)throw Error(U(331));var a=we;for(we|=4,re=e.current;re!==null;){var o=re,i=o.child;if(re.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(re=u;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:ti(8,h,o)}var f=h.child;if(f!==null)f.return=h,re=f;else for(;re!==null;){h=re;var m=h.sibling,x=h.return;if(u0(h),h===u){re=null;break}if(m!==null){m.return=x,re=m;break}re=x}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}re=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,re=i;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ti(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,re=y;break e}re=o.return}}var p=e.current;for(re=p;re!==null;){i=re;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,re=w;else e:for(i=p;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jc(9,l)}}catch(N){Be(l,l.return,N)}if(l===i){re=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,re=j;break e}re=l.return}}if(we=a,ur(),zn&&typeof zn.onPostCommitFiberRoot==\"function\")try{zn.onPostCommitFiberRoot(Wc,e)}catch{}r=!0}return r}finally{Pe=s,on.transition=t}}return!1}function Rx(e,t,s){t=Xa(s,t),t=e0(e,t,1),e=Qs(e,t,1),t=Ct(),e!==null&&(Oi(e,1,t),$t(e,t))}function Be(e,t,s){if(e.tag===3)Rx(e,e,s);else for(;t!==null;){if(t.tag===3){Rx(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==\"function\"||typeof r.componentDidCatch==\"function\"&&(Ys===null||!Ys.has(r))){e=Xa(s,e),e=t0(t,e,1),t=Qs(t,e,1),e=Ct(),t!==null&&(Oi(t,1,e),$t(t,e));break}}t=t.return}}function rk(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&s,Ze===e&&(it&s)===s&&(Ye===4||Ye===3&&(it&130023424)===it&&500>We()-lf?Ir(e,0):of|=s),$t(e,t)}function b0(e,t){t===0&&(e.mode&1?(t=cl,cl<<=1,!(cl&130023424)&&(cl=4194304)):t=1);var s=Ct();e=xs(e,t),e!==null&&(Oi(e,t,s),$t(e,s))}function ak(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),b0(e,s)}function ok(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),b0(e,s)}var j0;j0=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)_t=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return _t=!1,qC(e,t,s);_t=!!(e.flags&131072)}else _t=!1,De&&t.flags&1048576&&ky(t,dc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zl(e,t),e=t.pendingProps;var a=qa(t,xt.current);Ca(t,s),a=ef(null,t,r,e,a,s);var o=tf();return t.flags|=1,typeof a==\"object\"&&a!==null&&typeof a.render==\"function\"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(r)?(o=!0,lc(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Qh(t),a.updater=Xc,t.stateNode=a,a._reactInternals=t,xm(t,r,e,s),t=ym(null,t,r,!0,o,s)):(t.tag=0,De&&o&&Hh(t),bt(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(zl(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=lk(r),e=vn(r,e),a){case 0:t=vm(null,t,r,e,s);break e;case 1:t=bx(null,t,r,e,s);break e;case 11:t=yx(null,t,r,e,s);break e;case 14:t=wx(null,t,r,vn(r.type,e),s);break e}throw Error(U(306,r,\"\"))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vn(r,a),vm(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vn(r,a),bx(e,t,r,a,s);case 3:e:{if(a0(t),e===null)throw Error(U(387));r=t.pendingProps,o=t.memoizedState,a=o.element,Ay(e,t),hc(t,r,null,s);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Xa(Error(U(423)),t),t=jx(e,t,r,s,a);break e}else if(r!==a){a=Xa(Error(U(424)),t),t=jx(e,t,r,s,a);break e}else for(qt=Ks(t.stateNode.containerInfo.firstChild),Qt=t,De=!0,bn=null,s=Ty(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ka(),r===a){t=gs(e,t,s);break e}bt(e,t,r,s)}t=t.child}return t;case 5:return Iy(t),e===null&&hm(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,lm(r,a)?i=null:o!==null&&lm(r,o)&&(t.flags|=32),r0(e,t),bt(e,t,i,s),t.child;case 6:return e===null&&hm(t),null;case 13:return o0(e,t,s);case 4:return Yh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qa(t,null,r,s):bt(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vn(r,a),yx(e,t,r,a,s);case 7:return bt(e,t,t.pendingProps,s),t.child;case 8:return bt(e,t,t.pendingProps.children,s),t.child;case 12:return bt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Me(uc,r._currentValue),r._currentValue=i,o!==null)if(Cn(o.value,i)){if(o.children===a.children&&!Lt.current){t=gs(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=cs(-1,s&-s),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),fm(o.return,s,t),l.lanes|=s;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),fm(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}bt(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ca(t,s),a=dn(a),r=r(a),t.flags|=1,bt(e,t,r,s),t.child;case 14:return r=t.type,a=vn(r,t.pendingProps),a=vn(r.type,a),wx(e,t,r,a,s);case 15:return n0(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vn(r,a),zl(e,t),t.tag=1,Ft(r)?(e=!0,lc(t)):e=!1,Ca(t,s),Zy(t,r,a),xm(t,r,a,s),ym(null,t,r,!0,e,s);case 19:return i0(e,t,s);case 22:return s0(e,t,s)}throw Error(U(156,t.tag))};function N0(e,t){return Yv(e,t)}function ik(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,s,r){return new ik(e,t,s,r)}function mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lk(e){if(typeof e==\"function\")return mf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Th)return 11;if(e===Rh)return 14}return 2}function Js(e,t){var s=e.alternate;return s===null?(s=an(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Vl(e,t,s,r,a,o){var i=2;if(r=e,typeof e==\"function\")mf(e)&&(i=1);else if(typeof e==\"string\")i=5;else e:switch(e){case da:return Dr(s.children,a,o,t);case Mh:i=8,a|=8;break;case zu:return e=an(12,s,t,a|2),e.elementType=zu,e.lanes=o,e;case Bu:return e=an(13,s,t,a),e.elementType=Bu,e.lanes=o,e;case Hu:return e=an(19,s,t,a),e.elementType=Hu,e.lanes=o,e;case Iv:return ed(s,a,o,t);default:if(typeof e==\"object\"&&e!==null)switch(e.$$typeof){case Rv:i=10;break e;case Av:i=9;break e;case Th:i=11;break e;case Rh:i=14;break e;case Ms:i=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,\"\"))}return t=an(i,s,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Dr(e,t,s,r){return e=an(7,e,r,t),e.lanes=s,e}function ed(e,t,s,r){return e=an(22,e,r,t),e.elementType=Iv,e.lanes=s,e.stateNode={isHidden:!1},e}function uu(e,t,s){return e=an(6,e,null,t),e.lanes=s,e}function mu(e,t,s){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ck(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ud(0),this.expirationTimes=Ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hf(e,t,s,r,a,o,i,l,c){return e=new ck(e,t,s,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=an(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qh(o),e}function dk(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ca,key:r==null?null:\"\"+r,children:e,containerInfo:t,implementation:s}}function S0(e){if(!e)return sr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var s=e.type;if(Ft(s))return Sy(e,s,t)}return t}function C0(e,t,s,r,a,o,i,l,c){return e=hf(s,r,!0,e,a,o,i,l,c),e.context=S0(null),s=e.current,r=Ct(),a=Xs(s),o=cs(r,a),o.callback=t??null,Qs(s,o,a),e.current.lanes=a,Oi(e,a,r),$t(e,r),e}function td(e,t,s,r){var a=t.current,o=Ct(),i=Xs(a);return s=S0(s),t.context===null?t.context=s:t.pendingContext=s,t=cs(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qs(a,t,i),e!==null&&(Sn(e,a,i,o),Ll(e,a,i)),i}function bc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ax(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ff(e,t){Ax(e,t),(e=e.alternate)&&Ax(e,t)}function uk(){return null}var k0=typeof reportError==\"function\"?reportError:function(e){console.error(e)};function pf(e){this._internalRoot=e}nd.prototype.render=pf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));td(e,t,null,null)};nd.prototype.unmount=pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zr(function(){td(null,e,null,null)}),t[ps]=null}};function nd(e){this._internalRoot=e}nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=sy();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Rs.length&&t!==0&&t<Rs[s].priority;s++);Rs.splice(s,0,e),s===0&&ay(e)}};function xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==\" react-mount-point-unstable \"))}function Ix(){}function mk(e,t,s,r,a){if(a){if(typeof r==\"function\"){var o=r;r=function(){var u=bc(i);o.call(u)}}var i=C0(t,r,e,0,null,!1,!1,\"\",Ix);return e._reactRootContainer=i,e[ps]=i.current,hi(e.nodeType===8?e.parentNode:e),zr(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r==\"function\"){var l=r;r=function(){var u=bc(c);l.call(u)}}var c=hf(e,0,!1,null,null,!1,!1,\"\",Ix);return e._reactRootContainer=c,e[ps]=c.current,hi(e.nodeType===8?e.parentNode:e),zr(function(){td(t,c,s,r)}),c}function rd(e,t,s,r,a){var o=s._reactRootContainer;if(o){var i=o;if(typeof a==\"function\"){var l=a;a=function(){var c=bc(i);l.call(c)}}td(t,i,e,a)}else i=mk(s,t,e,a,r);return bc(i)}ty=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=zo(t.pendingLanes);s!==0&&(Dh(t,s|1),$t(t,We()),!(we&6)&&(Ja=We()+500,ur()))}break;case 13:zr(function(){var r=xs(e,1);if(r!==null){var a=Ct();Sn(r,e,1,a)}}),ff(e,1)}};_h=function(e){if(e.tag===13){var t=xs(e,134217728);if(t!==null){var s=Ct();Sn(t,e,134217728,s)}ff(e,134217728)}};ny=function(e){if(e.tag===13){var t=Xs(e),s=xs(e,t);if(s!==null){var r=Ct();Sn(s,e,t,r)}ff(e,t)}};sy=function(){return Pe};ry=function(e,t){var s=Pe;try{return Pe=e,t()}finally{Pe=s}};Ju=function(e,t,s){switch(t){case\"input\":if(Gu(e,s),t=s.name,s.type===\"radio\"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+t)+'][type=\"radio\"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=Kc(r);if(!a)throw Error(U(90));_v(r),Gu(r,a)}}}break;case\"textarea\":Lv(e,s);break;case\"select\":t=s.value,t!=null&&ba(e,!!s.multiple,t,!1)}};Wv=cf;Gv=zr;var hk={usingClientEntryPoint:!1,Events:[Fi,fa,Kc,Hv,Vv,cf]},Ro={findFiberByHostInstance:br,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"},fk={bundleType:Ro.bundleType,version:Ro.version,rendererPackageName:Ro.rendererPackageName,rendererConfig:Ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kv(e),e===null?null:e.stateNode},findFiberByHostInstance:Ro.findFiberByHostInstance||uk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<\"u\"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{Wc=wl.inject(fk),zn=wl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hk;Jt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(t))throw Error(U(200));return dk(e,t,null,s)};Jt.createRoot=function(e,t){if(!xf(e))throw Error(U(299));var s=!1,r=\"\",a=k0;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hf(e,1,!1,null,null,s,!1,r,a),e[ps]=t.current,hi(e.nodeType===8?e.parentNode:e),new pf(t)};Jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render==\"function\"?Error(U(188)):(e=Object.keys(e).join(\",\"),Error(U(268,e)));return e=Kv(t),e=e===null?null:e.stateNode,e};Jt.flushSync=function(e){return zr(e)};Jt.hydrate=function(e,t,s){if(!sd(t))throw Error(U(200));return rd(null,e,t,!0,s)};Jt.hydrateRoot=function(e,t,s){if(!xf(e))throw Error(U(405));var r=s!=null&&s.hydratedSources||null,a=!1,o=\"\",i=k0;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=C0(t,null,e,1,s??null,a,!1,o,i),e[ps]=t.current,hi(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new nd(t)};Jt.render=function(e,t,s){if(!sd(t))throw Error(U(200));return rd(null,e,t,!1,s)};Jt.unmountComponentAtNode=function(e){if(!sd(e))throw Error(U(40));return e._reactRootContainer?(zr(function(){rd(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0):!1};Jt.unstable_batchedUpdates=cf;Jt.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!sd(s))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return rd(e,t,s,!1,r)};Jt.version=\"18.3.1-next-f1338f8080-20240426\";function P0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>\"u\"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=\"function\"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P0)}catch(e){console.error(e)}}P0(),Pv.exports=Jt;var Qr=Pv.exports;const pk=fv(Qr);var E0,Dx=Qr;E0=Dx.createRoot,Dx.hydrateRoot;function xk(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,r,a,o,i=[],l=\"\",c=e.split(\"/\");for(c[0]||c.shift();a=c.shift();)s=a[0],s===\"*\"?(i.push(s),l+=a[1]===\"?\"?\"(?:/(.*))?\":\"/(.*)\"):s===\":\"?(r=a.indexOf(\"?\",1),o=a.indexOf(\".\",1),i.push(a.substring(1,~r?r:~o?o:a.length)),l+=~r&&!~o?\"(?:/([^/]+?))?\":\"/([^/]+?)\",~o&&(l+=(~r?\"?\":\"\")+\"\\\\\"+a.substring(o))):l+=\"/\"+a;return{keys:i,pattern:new RegExp(\"^\"+l+(t?\"(?=$|/)\":\"/?$\"),\"i\")}}var M0={exports:{}},T0={};/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Za=d;function gk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vk=typeof Object.is==\"function\"?Object.is:gk,yk=Za.useState,wk=Za.useEffect,bk=Za.useLayoutEffect,jk=Za.useDebugValue;function Nk(e,t){var s=t(),r=yk({inst:{value:s,getSnapshot:t}}),a=r[0].inst,o=r[1];return bk(function(){a.value=s,a.getSnapshot=t,hu(a)&&o({inst:a})},[e,s,t]),wk(function(){return hu(a)&&o({inst:a}),e(function(){hu(a)&&o({inst:a})})},[e]),jk(s),s}function hu(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!vk(e,s)}catch{return!0}}function Sk(e,t){return t()}var Ck=typeof window>\"u\"||typeof window.document>\"u\"||typeof window.document.createElement>\"u\"?Sk:Nk;T0.useSyncExternalStore=Za.useSyncExternalStore!==void 0?Za.useSyncExternalStore:Ck;M0.exports=T0;var kk=M0.exports;const Pk=Cv.useInsertionEffect,Ek=typeof window<\"u\"&&typeof window.document<\"u\"&&typeof window.document.createElement<\"u\",Mk=Ek?d.useLayoutEffect:d.useEffect,Tk=Pk||Mk,R0=e=>{const t=d.useRef([e,(...s)=>t[0](...s)]).current;return Tk(()=>{t[0]=e}),t[1]},Rk=\"popstate\",gf=\"pushState\",vf=\"replaceState\",Ak=\"hashchange\",_x=[Rk,gf,vf,Ak],Ik=e=>{for(const t of _x)addEventListener(t,e);return()=>{for(const t of _x)removeEventListener(t,e)}},A0=(e,t)=>kk.useSyncExternalStore(Ik,e,t),Dk=()=>location.search,_k=({ssrSearch:e=\"\"}={})=>A0(Dk,()=>e),Ox=()=>location.pathname,Ok=({ssrPath:e}={})=>A0(Ox,e?()=>e:Ox),Lk=(e,{replace:t=!1,state:s=null}={})=>history[t?vf:gf](s,\"\",e),Fk=(e={})=>[Ok(e),Lk],Lx=Symbol.for(\"wouter_v3\");if(typeof history<\"u\"&&typeof window[Lx]>\"u\"){for(const e of[gf,vf]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,Lx,{value:!0})}const $k=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?\"~\"+t:t.slice(e.length)||\"/\",I0=(e=\"\")=>e===\"/\"?\"\":e,zk=(e,t)=>e[0]===\"~\"?e.slice(1):I0(t)+e,Bk=(e=\"\",t)=>$k(Fx(I0(e)),Fx(t)),Fx=e=>{try{return decodeURI(e)}catch{return e}},D0={hook:Fk,searchHook:_k,parser:xk,base:\"\",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},_0=d.createContext(D0),zi=()=>d.useContext(_0),O0={},L0=d.createContext(O0),Hk=()=>d.useContext(L0),ad=e=>{const[t,s]=e.hook(e);return[Bk(e.base,t),R0((r,a)=>s(zk(r,e.base),a))]},Yr=()=>ad(zi()),F0=(e,t,s,r)=>{const{pattern:a,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||\"*\",r),i=a.exec(s)||[],[l,...c]=i;return l!==void 0?[!0,(()=>{const u=o!==!1?Object.fromEntries(o.map((f,m)=>[f,c[m]])):i.groups;let h={...c};return u&&Object.assign(h,u),h})(),...r?[l]:[]]:[!1,null]},Vk=({children:e,...t})=>{var h,f;const s=zi(),r=t.hook?D0:s;let a=r;const[o,i]=((h=t.ssrPath)==null?void 0:h.split(\"?\"))??[];i&&(t.ssrSearch=i,t.ssrPath=o),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=d.useRef({}),c=l.current,u=c;for(let m in r){const x=m===\"base\"?r[m]+(t[m]||\"\"):t[m]||r[m];c===u&&x!==u[m]&&(l.current=u={...u}),u[m]=x,x!==r[m]&&(a=u)}return d.createElement(_0.Provider,{value:a,children:e})},$x=({children:e,component:t},s)=>t?d.createElement(t,{params:s}):typeof e==\"function\"?e(s):e,Wk=e=>{let t=d.useRef(O0),s=t.current;for(const r in e)e[r]!==s[r]&&(s=e);return Object.keys(e).length===0&&(s=e),t.current=s},Ve=({path:e,nest:t,match:s,...r})=>{const a=zi(),[o]=ad(a),[i,l,c]=s??F0(a.parser,e,o,t),u=Wk({...Hk(),...l});if(!i)return null;const h=c?d.createElement(Vk,{base:c},$x(r,u)):$x(r,u);return d.createElement(L0.Provider,{value:u,children:h})};d.forwardRef((e,t)=>{const s=zi(),[r,a]=ad(s),{to:o=\"\",href:i=o,onClick:l,asChild:c,children:u,className:h,replace:f,state:m,...x}=e,g=R0(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),a(i,e)))}),v=s.hrefs(i[0]===\"~\"?i.slice(1):s.base+i,s);return c&&d.isValidElement(u)?d.cloneElement(u,{onClick:g,href:v}):d.createElement(\"a\",{...x,onClick:g,href:v,className:h!=null&&h.call?h(r===i):h,children:u,ref:t})});const $0=e=>Array.isArray(e)?e.flatMap(t=>$0(t&&t.type===d.Fragment?t.props.children:t)):[e],Gk=({children:e,location:t})=>{const s=zi(),[r]=ad(s);for(const a of $0(e)){let o=0;if(d.isValidElement(a)&&(o=F0(s.parser,a.props.path,t||r,a.props.nest))[0])return d.cloneElement(a,{match:o})}return null};var mo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Br=typeof window>\"u\"||\"Deno\"in globalThis;function nn(){}function Uk(e,t){return typeof e==\"function\"?e(t):e}function Rm(e){return typeof e==\"number\"&&e>=0&&e!==1/0}function z0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pa(e,t){return typeof e==\"function\"?e(t):e}function jn(e,t){return typeof e==\"function\"?e(t):e}function zx(e,t){const{type:s=\"all\",exact:r,fetchStatus:a,predicate:o,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==yf(i,t.options))return!1}else if(!ji(t.queryKey,i))return!1}if(s!==\"all\"){const c=t.isActive();if(s===\"active\"&&!c||s===\"inactive\"&&c)return!1}return!(typeof l==\"boolean\"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||o&&!o(t))}function Bx(e,t){const{exact:s,status:r,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(s){if(Hr(t.options.mutationKey)!==Hr(o))return!1}else if(!ji(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function yf(e,t){return((t==null?void 0:t.queryKeyHashFn)||Hr)(e)}function Hr(e){return JSON.stringify(e,(t,s)=>Am(s)?Object.keys(s).sort().reduce((r,a)=>(r[a]=s[a],r),{}):s)}function ji(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e==\"object\"&&typeof t==\"object\"?!Object.keys(t).some(s=>!ji(e[s],t[s])):!1}function B0(e,t){if(e===t)return e;const s=Hx(e)&&Hx(t);if(s||Am(e)&&Am(t)){const r=s?e:Object.keys(e),a=r.length,o=s?t:Object.keys(t),i=o.length,l=s?[]:{};let c=0;for(let u=0;u<i;u++){const h=s?u:o[u];(!s&&r.includes(h)||s)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=B0(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return a===i&&c===a?e:l}return t}function jc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Hx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Am(e){if(!Vx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Vx(s)||!s.hasOwnProperty(\"isPrototypeOf\")||Object.getPrototypeOf(e)!==Object.prototype)}function Vx(e){return Object.prototype.toString.call(e)===\"[object Object]\"}function qk(e){return new Promise(t=>{setTimeout(t,e)})}function Im(e,t,s){return typeof s.structuralSharing==\"function\"?s.structuralSharing(e,t):s.structuralSharing!==!1?B0(e,t):t}function Kk(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function Qk(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var wf=Symbol();function H0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var kr,Is,Ia,rv,Yk=(rv=class extends mo{constructor(){super();le(this,kr);le(this,Is);le(this,Ia);ne(this,Ia,t=>{if(!Br&&window.addEventListener){const s=()=>t();return window.addEventListener(\"visibilitychange\",s,!1),()=>{window.removeEventListener(\"visibilitychange\",s)}}})}onSubscribe(){E(this,Is)||this.setEventListener(E(this,Ia))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Is))==null||t.call(this),ne(this,Is,void 0))}setEventListener(t){var s;ne(this,Ia,t),(s=E(this,Is))==null||s.call(this),ne(this,Is,t(r=>{typeof r==\"boolean\"?this.setFocused(r):this.onFocus()}))}setFocused(t){E(this,kr)!==t&&(ne(this,kr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof E(this,kr)==\"boolean\"?E(this,kr):((t=globalThis.document)==null?void 0:t.visibilityState)!==\"hidden\"}},kr=new WeakMap,Is=new WeakMap,Ia=new WeakMap,rv),bf=new Yk,Da,Ds,_a,av,Xk=(av=class extends mo{constructor(){super();le(this,Da,!0);le(this,Ds);le(this,_a);ne(this,_a,t=>{if(!Br&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener(\"online\",s,!1),window.addEventListener(\"offline\",r,!1),()=>{window.removeEventListener(\"online\",s),window.removeEventListener(\"offline\",r)}}})}onSubscribe(){E(this,Ds)||this.setEventListener(E(this,_a))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Ds))==null||t.call(this),ne(this,Ds,void 0))}setEventListener(t){var s;ne(this,_a,t),(s=E(this,Ds))==null||s.call(this),ne(this,Ds,t(this.setOnline.bind(this)))}setOnline(t){E(this,Da)!==t&&(ne(this,Da,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return E(this,Da)}},Da=new WeakMap,Ds=new WeakMap,_a=new WeakMap,av),Nc=new Xk;function Dm(){let e,t;const s=new Promise((a,o)=>{e=a,t=o});s.status=\"pending\",s.catch(()=>{});function r(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{r({status:\"fulfilled\",value:a}),e(a)},s.reject=a=>{r({status:\"rejected\",reason:a}),t(a)},s}function Jk(e){return Math.min(1e3*2**e,3e4)}function V0(e){return(e??\"online\")===\"online\"?Nc.isOnline():!0}var W0=class extends Error{constructor(e){super(\"CancelledError\"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fu(e){return e instanceof W0}function G0(e){let t=!1,s=0,r=!1,a;const o=Dm(),i=v=>{var b;r||(m(new W0(v)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>bf.isFocused()&&(e.networkMode===\"always\"||Nc.isOnline())&&e.canRun(),h=()=>V0(e.networkMode)&&e.canRun(),f=v=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,v),a==null||a(),o.resolve(v))},m=v=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,v),a==null||a(),o.reject(v))},x=()=>new Promise(v=>{var b;a=y=>{(r||u())&&v(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;a=void 0,r||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(r)return;let v;const b=s===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(f).catch(y=>{var S;if(r)return;const p=e.retry??(Br?0:3),w=e.retryDelay??Jk,j=typeof w==\"function\"?w(s,y):w,N=p===!0||typeof p==\"number\"&&s<p||typeof p==\"function\"&&p(s,y);if(t||!N){m(y);return}s++,(S=e.onFail)==null||S.call(e,s,y),qk(j).then(()=>u()?void 0:x()).then(()=>{t?m(y):g()})})};return{promise:o,cancel:i,continue:()=>(a==null||a(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?g():x().then(g),o)}}function Zk(){let e=[],t=0,s=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const o=l=>{t?e.push(l):a(()=>{s(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Qe=Zk(),Pr,ov,U0=(ov=class{constructor(){le(this,Pr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rm(this.gcTime)&&ne(this,Pr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Br?1/0:5*60*1e3))}clearGcTimeout(){E(this,Pr)&&(clearTimeout(E(this,Pr)),ne(this,Pr,void 0))}},Pr=new WeakMap,ov),Oa,La,tn,mt,Ri,Er,yn,es,iv,e4=(iv=class extends U0{constructor(t){super();le(this,yn);le(this,Oa);le(this,La);le(this,tn);le(this,mt);le(this,Ri);le(this,Er);ne(this,Er,!1),ne(this,Ri,t.defaultOptions),this.setOptions(t.options),this.observers=[],ne(this,tn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ne(this,Oa,t4(this.options)),this.state=t.state??E(this,Oa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,mt))==null?void 0:t.promise}setOptions(t){this.options={...E(this,Ri),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus===\"idle\"&&E(this,tn).remove(this)}setData(t,s){const r=Im(this.state.data,t,this.options);return fe(this,yn,es).call(this,{data:r,type:\"success\",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){fe(this,yn,es).call(this,{type:\"setState\",state:t,setStateOptions:s})}cancel(t){var r,a;const s=(r=E(this,mt))==null?void 0:r.promise;return(a=E(this,mt))==null||a.cancel(t),s?s.then(nn).catch(nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Oa))}isActive(){return this.observers.some(t=>jn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!z0(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=E(this,mt))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=E(this,mt))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,tn).notify({type:\"observerAdded\",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(E(this,mt)&&(E(this,Er)?E(this,mt).cancel({revert:!0}):E(this,mt).cancelRetry()),this.scheduleGc()),E(this,tn).notify({type:\"observerRemoved\",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fe(this,yn,es).call(this,{type:\"invalidate\"})}fetch(t,s){var c,u,h;if(this.state.fetchStatus!==\"idle\"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(E(this,mt))return E(this,mt).continueRetry(),E(this,mt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,a=f=>{Object.defineProperty(f,\"signal\",{enumerable:!0,get:()=>(ne(this,Er,!0),r.signal)})},o=()=>{const f=H0(this.options,s),m={queryKey:this.queryKey,meta:this.meta};return a(m),ne(this,Er,!1),this.options.persister?this.options.persister(f,m,this):f(m)},i={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(i),(c=this.options.behavior)==null||c.onFetch(i,this),ne(this,La,this.state),(this.state.fetchStatus===\"idle\"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&fe(this,yn,es).call(this,{type:\"fetch\",meta:(h=i.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,x,g,v;fu(f)&&f.silent||fe(this,yn,es).call(this,{type:\"error\",error:f}),fu(f)||((x=(m=E(this,tn).config).onError)==null||x.call(m,f,this),(v=(g=E(this,tn).config).onSettled)==null||v.call(g,this.state.data,f,this)),this.scheduleGc()};return ne(this,mt,G0({initialPromise:s==null?void 0:s.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,x,g,v;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){l(b);return}(x=(m=E(this,tn).config).onSuccess)==null||x.call(m,f,this),(v=(g=E(this,tn).config).onSettled)==null||v.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{fe(this,yn,es).call(this,{type:\"failed\",failureCount:f,error:m})},onPause:()=>{fe(this,yn,es).call(this,{type:\"pause\"})},onContinue:()=>{fe(this,yn,es).call(this,{type:\"continue\"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),E(this,mt).start()}},Oa=new WeakMap,La=new WeakMap,tn=new WeakMap,mt=new WeakMap,Ri=new WeakMap,Er=new WeakMap,yn=new WeakSet,es=function(t){const s=r=>{switch(t.type){case\"failed\":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case\"pause\":return{...r,fetchStatus:\"paused\"};case\"continue\":return{...r,fetchStatus:\"fetching\"};case\"fetch\":return{...r,...q0(r.data,this.options),fetchMeta:t.meta??null};case\"success\":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:\"success\",...!t.manual&&{fetchStatus:\"idle\",fetchFailureCount:0,fetchFailureReason:null}};case\"error\":const a=t.error;return fu(a)&&a.revert&&E(this,La)?{...E(this,La),fetchStatus:\"idle\"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:\"idle\",status:\"error\"};case\"invalidate\":return{...r,isInvalidated:!0};case\"setState\":return{...r,...t.state}}};this.state=s(this.state),Qe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,tn).notify({query:this,type:\"updated\",action:t})})},iv);function q0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V0(t.networkMode)?\"fetching\":\"paused\",...e===void 0&&{error:null,status:\"pending\"}}}function t4(e){const t=typeof e.initialData==\"function\"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt==\"function\"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?\"success\":\"pending\",fetchStatus:\"idle\"}}var Dn,lv,n4=(lv=class extends mo{constructor(t={}){super();le(this,Dn);this.config=t,ne(this,Dn,new Map)}build(t,s,r){const a=s.queryKey,o=s.queryHash??yf(a,s);let i=this.get(o);return i||(i=new e4({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){E(this,Dn).has(t.queryHash)||(E(this,Dn).set(t.queryHash,t),this.notify({type:\"added\",query:t}))}remove(t){const s=E(this,Dn).get(t.queryHash);s&&(t.destroy(),s===t&&E(this,Dn).delete(t.queryHash),this.notify({type:\"removed\",query:t}))}clear(){Qe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,Dn).get(t)}getAll(){return[...E(this,Dn).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>zx(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>zx(t,r)):s}notify(t){Qe.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Qe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dn=new WeakMap,lv),_n,yt,Mr,On,Ps,cv,s4=(cv=class extends U0{constructor(t){super();le(this,On);le(this,_n);le(this,yt);le(this,Mr);this.mutationId=t.mutationId,ne(this,yt,t.mutationCache),ne(this,_n,[]),this.state=t.state||K0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,_n).includes(t)||(E(this,_n).push(t),this.clearGcTimeout(),E(this,yt).notify({type:\"observerAdded\",mutation:this,observer:t}))}removeObserver(t){ne(this,_n,E(this,_n).filter(s=>s!==t)),this.scheduleGc(),E(this,yt).notify({type:\"observerRemoved\",mutation:this,observer:t})}optionalRemove(){E(this,_n).length||(this.state.status===\"pending\"?this.scheduleGc():E(this,yt).remove(this))}continue(){var t;return((t=E(this,Mr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,i,l,c,u,h,f,m,x,g,v,b,y,p,w,j,N,S,C;ne(this,Mr,G0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error(\"No mutationFn found\")),onFail:(k,P)=>{fe(this,On,Ps).call(this,{type:\"failed\",failureCount:k,error:P})},onPause:()=>{fe(this,On,Ps).call(this,{type:\"pause\"})},onContinue:()=>{fe(this,On,Ps).call(this,{type:\"continue\"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,yt).canRun(this)}));const s=this.state.status===\"pending\",r=!E(this,Mr).canStart();try{if(!s){fe(this,On,Ps).call(this,{type:\"pending\",variables:t,isPaused:r}),await((o=(a=E(this,yt).config).onMutate)==null?void 0:o.call(a,t,this));const P=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));P!==this.state.context&&fe(this,On,Ps).call(this,{type:\"pending\",context:P,variables:t,isPaused:r})}const k=await E(this,Mr).start();return await((u=(c=E(this,yt).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,k,t,this.state.context)),await((x=(m=E(this,yt).config).onSettled)==null?void 0:x.call(m,k,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,k,null,t,this.state.context)),fe(this,On,Ps).call(this,{type:\"success\",data:k}),k}catch(k){try{throw await((y=(b=E(this,yt).config).onError)==null?void 0:y.call(b,k,t,this.state.context,this)),await((w=(p=this.options).onError)==null?void 0:w.call(p,k,t,this.state.context)),await((N=(j=E(this,yt).config).onSettled)==null?void 0:N.call(j,void 0,k,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,k,t,this.state.context)),k}finally{fe(this,On,Ps).call(this,{type:\"error\",error:k})}}finally{E(this,yt).runNext(this)}}},_n=new WeakMap,yt=new WeakMap,Mr=new WeakMap,On=new WeakSet,Ps=function(t){const s=r=>{switch(t.type){case\"failed\":return{...r,failureCount:t.failureCount,failureReason:t.error};case\"pause\":return{...r,isPaused:!0};case\"continue\":return{...r,isPaused:!1};case\"pending\":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:\"pending\",variables:t.variables,submittedAt:Date.now()};case\"success\":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:\"success\",isPaused:!1};case\"error\":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:\"error\"}}};this.state=s(this.state),Qe.batch(()=>{E(this,_n).forEach(r=>{r.onMutationUpdate(t)}),E(this,yt).notify({mutation:this,type:\"updated\",action:t})})},cv);function K0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:\"idle\",variables:void 0,submittedAt:0}}var Wt,Ai,dv,r4=(dv=class extends mo{constructor(t={}){super();le(this,Wt);le(this,Ai);this.config=t,ne(this,Wt,new Map),ne(this,Ai,Date.now())}build(t,s,r){const a=new s4({mutationCache:this,mutationId:++sl(this,Ai)._,options:t.defaultMutationOptions(s),state:r});return this.add(a),a}add(t){const s=bl(t),r=E(this,Wt).get(s)??[];r.push(t),E(this,Wt).set(s,r),this.notify({type:\"added\",mutation:t})}remove(t){var r;const s=bl(t);if(E(this,Wt).has(s)){const a=(r=E(this,Wt).get(s))==null?void 0:r.filter(o=>o!==t);a&&(a.length===0?E(this,Wt).delete(s):E(this,Wt).set(s,a))}this.notify({type:\"removed\",mutation:t})}canRun(t){var r;const s=(r=E(this,Wt).get(bl(t)))==null?void 0:r.find(a=>a.state.status===\"pending\");return!s||s===t}runNext(t){var r;const s=(r=E(this,Wt).get(bl(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Qe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...E(this,Wt).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(r=>Bx(s,r))}findAll(t={}){return this.getAll().filter(s=>Bx(t,s))}notify(t){Qe.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Qe.batch(()=>Promise.all(t.map(s=>s.continue().catch(nn))))}},Wt=new WeakMap,Ai=new WeakMap,dv);function bl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Wx(e){return{onFetch:(t,s)=>{var h,f,m,x,g;const r=t.options,a=(m=(f=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((x=t.state.data)==null?void 0:x.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const b=w=>{Object.defineProperty(w,\"signal\",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener(\"abort\",()=>{v=!0}),t.signal)})},y=H0(t.options,t.fetchOptions),p=async(w,j,N)=>{if(v)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:j,direction:N?\"backward\":\"forward\",meta:t.options.meta};b(S);const C=await y(S),{maxPages:k}=t.options,P=N?Qk:Kk;return{pages:P(w.pages,C,k),pageParams:P(w.pageParams,j,k)}};if(a&&o.length){const w=a===\"backward\",j=w?a4:Gx,N={pages:o,pageParams:i},S=j(r,N);l=await p(N,S,w)}else{const w=e??o.length;do{const j=c===0?i[0]??r.initialPageParam:Gx(r,l);if(c>0&&j==null)break;l=await p(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=u}}}function Gx(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function a4(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var ze,_s,Os,Fa,$a,Ls,za,Ba,uv,o4=(uv=class{constructor(e={}){le(this,ze);le(this,_s);le(this,Os);le(this,Fa);le(this,$a);le(this,Ls);le(this,za);le(this,Ba);ne(this,ze,e.queryCache||new n4),ne(this,_s,e.mutationCache||new r4),ne(this,Os,e.defaultOptions||{}),ne(this,Fa,new Map),ne(this,$a,new Map),ne(this,Ls,0)}mount(){sl(this,Ls)._++,E(this,Ls)===1&&(ne(this,za,bf.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,ze).onFocus())})),ne(this,Ba,Nc.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,ze).onOnline())})))}unmount(){var e,t;sl(this,Ls)._--,E(this,Ls)===0&&((e=E(this,za))==null||e.call(this),ne(this,za,void 0),(t=E(this,Ba))==null||t.call(this),ne(this,Ba,void 0))}isFetching(e){return E(this,ze).findAll({...e,fetchStatus:\"fetching\"}).length}isMutating(e){return E(this,_s).findAll({...e,status:\"pending\"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=E(this,ze).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),r=E(this,ze).build(this,s);return e.revalidateIfStale&&r.isStaleByTime(Pa(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return E(this,ze).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),a=E(this,ze).get(r.queryHash),o=a==null?void 0:a.state.data,i=Uk(t,o);if(i!==void 0)return E(this,ze).build(this,r).setData(i,{...s,manual:!0})}setQueriesData(e,t,s){return Qe.batch(()=>E(this,ze).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=E(this,ze).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=E(this,ze);Qe.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=E(this,ze),r={type:\"active\",...e};return Qe.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},r=Qe.batch(()=>E(this,ze).findAll(e).map(a=>a.cancel(s)));return Promise.all(r).then(nn).catch(nn)}invalidateQueries(e={},t={}){return Qe.batch(()=>{if(E(this,ze).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType===\"none\")return Promise.resolve();const s={...e,type:e.refetchType??e.type??\"active\"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Qe.batch(()=>E(this,ze).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,s);return s.throwOnError||(o=o.catch(nn)),a.state.fetchStatus===\"paused\"?Promise.resolve():o}));return Promise.all(r).then(nn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=E(this,ze).build(this,t);return s.isStaleByTime(Pa(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nn).catch(nn)}fetchInfiniteQuery(e){return e.behavior=Wx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nn).catch(nn)}ensureInfiniteQueryData(e){return e.behavior=Wx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nc.isOnline()?E(this,_s).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,ze)}getMutationCache(){return E(this,_s)}getDefaultOptions(){return E(this,Os)}setDefaultOptions(e){ne(this,Os,e)}setQueryDefaults(e,t){E(this,Fa).set(Hr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,Fa).values()];let s={};return t.forEach(r=>{ji(e,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(e,t){E(this,$a).set(Hr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,$a).values()];let s={};return t.forEach(r=>{ji(e,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,Os).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!==\"always\"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode=\"offlineFirst\"),t.enabled!==!0&&t.queryFn===wf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,Os).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,ze).clear(),E(this,_s).clear()}},ze=new WeakMap,_s=new WeakMap,Os=new WeakMap,Fa=new WeakMap,$a=new WeakMap,Ls=new WeakMap,za=new WeakMap,Ba=new WeakMap,uv),Rt,ve,Ii,wt,Tr,Ha,Fs,Ln,Di,Va,Wa,Rr,Ar,$s,Ga,Ce,Ho,_m,Om,Lm,Fm,$m,zm,Bm,Q0,mv,i4=(mv=class extends mo{constructor(t,s){super();le(this,Ce);le(this,Rt);le(this,ve);le(this,Ii);le(this,wt);le(this,Tr);le(this,Ha);le(this,Fs);le(this,Ln);le(this,Di);le(this,Va);le(this,Wa);le(this,Rr);le(this,Ar);le(this,$s);le(this,Ga,new Set);this.options=s,ne(this,Rt,t),ne(this,Ln,null),ne(this,Fs,Dm()),this.options.experimental_prefetchInRender||E(this,Fs).reject(new Error(\"experimental_prefetchInRender feature flag is not enabled\")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,ve).addObserver(this),Ux(E(this,ve),this.options)?fe(this,Ce,Ho).call(this):this.updateResult(),fe(this,Ce,Fm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hm(E(this,ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hm(E(this,ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,fe(this,Ce,$m).call(this),fe(this,Ce,zm).call(this),E(this,ve).removeObserver(this)}setOptions(t,s){const r=this.options,a=E(this,ve);if(this.options=E(this,Rt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!=\"boolean\"&&typeof this.options.enabled!=\"function\"&&typeof jn(this.options.enabled,E(this,ve))!=\"boolean\")throw new Error(\"Expected enabled to be a boolean or a callback that returns a boolean\");fe(this,Ce,Bm).call(this),E(this,ve).setOptions(this.options),r._defaulted&&!jc(this.options,r)&&E(this,Rt).getQueryCache().notify({type:\"observerOptionsUpdated\",query:E(this,ve),observer:this});const o=this.hasListeners();o&&qx(E(this,ve),a,this.options,r)&&fe(this,Ce,Ho).call(this),this.updateResult(s),o&&(E(this,ve)!==a||jn(this.options.enabled,E(this,ve))!==jn(r.enabled,E(this,ve))||Pa(this.options.staleTime,E(this,ve))!==Pa(r.staleTime,E(this,ve)))&&fe(this,Ce,_m).call(this);const i=fe(this,Ce,Om).call(this);o&&(E(this,ve)!==a||jn(this.options.enabled,E(this,ve))!==jn(r.enabled,E(this,ve))||i!==E(this,$s))&&fe(this,Ce,Lm).call(this,i)}getOptimisticResult(t){const s=E(this,Rt).getQueryCache().build(E(this,Rt),t),r=this.createResult(s,t);return c4(this,r)&&(ne(this,wt,r),ne(this,Ha,this.options),ne(this,Tr,E(this,ve).state)),r}getCurrentResult(){return E(this,wt)}trackResult(t,s){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),s==null||s(a),t[a])})}),r}trackProp(t){E(this,Ga).add(t)}getCurrentQuery(){return E(this,ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=E(this,Rt).defaultQueryOptions(t),r=E(this,Rt).getQueryCache().build(E(this,Rt),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return fe(this,Ce,Ho).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,wt)))}createResult(t,s){var k;const r=E(this,ve),a=this.options,o=E(this,wt),i=E(this,Tr),l=E(this,Ha),u=t!==r?t.state:E(this,Ii),{state:h}=t;let f={...h},m=!1,x;if(s._optimisticResults){const P=this.hasListeners(),A=!P&&Ux(t,s),O=P&&qx(t,r,s,a);(A||O)&&(f={...f,...q0(h.data,t.options)}),s._optimisticResults===\"isRestoring\"&&(f.fetchStatus=\"idle\")}let{error:g,errorUpdatedAt:v,status:b}=f;if(s.select&&f.data!==void 0)if(o&&f.data===(i==null?void 0:i.data)&&s.select===E(this,Di))x=E(this,Va);else try{ne(this,Di,s.select),x=s.select(f.data),x=Im(o==null?void 0:o.data,x,s),ne(this,Va,x),ne(this,Ln,null)}catch(P){ne(this,Ln,P)}else x=f.data;if(s.placeholderData!==void 0&&x===void 0&&b===\"pending\"){let P;if(o!=null&&o.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))P=o.data;else if(P=typeof s.placeholderData==\"function\"?s.placeholderData((k=E(this,Wa))==null?void 0:k.state.data,E(this,Wa)):s.placeholderData,s.select&&P!==void 0)try{P=s.select(P),ne(this,Ln,null)}catch(A){ne(this,Ln,A)}P!==void 0&&(b=\"success\",x=Im(o==null?void 0:o.data,P,s),m=!0)}E(this,Ln)&&(g=E(this,Ln),x=E(this,Va),v=Date.now(),b=\"error\");const y=f.fetchStatus===\"fetching\",p=b===\"pending\",w=b===\"error\",j=p&&y,N=x!==void 0,C={status:b,fetchStatus:f.fetchStatus,isPending:p,isSuccess:b===\"success\",isError:w,isInitialLoading:j,isLoading:j,data:x,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!p,isLoadingError:w&&!N,isPaused:f.fetchStatus===\"paused\",isPlaceholderData:m,isRefetchError:w&&N,isStale:jf(t,s),refetch:this.refetch,promise:E(this,Fs)};if(this.options.experimental_prefetchInRender){const P=T=>{C.status===\"error\"?T.reject(C.error):C.data!==void 0&&T.resolve(C.data)},A=()=>{const T=ne(this,Fs,C.promise=Dm());P(T)},O=E(this,Fs);switch(O.status){case\"pending\":t.queryHash===r.queryHash&&P(O);break;case\"fulfilled\":(C.status===\"error\"||C.data!==O.value)&&A();break;case\"rejected\":(C.status!==\"error\"||C.error!==O.reason)&&A();break}}return C}updateResult(t){const s=E(this,wt),r=this.createResult(E(this,ve),this.options);if(ne(this,Tr,E(this,ve).state),ne(this,Ha,this.options),E(this,Tr).data!==void 0&&ne(this,Wa,E(this,ve)),jc(r,s))return;ne(this,wt,r);const a={},o=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i==\"function\"?i():i;if(l===\"all\"||!l&&!E(this,Ga).size)return!0;const c=new Set(l??E(this,Ga));return this.options.throwOnError&&c.add(\"error\"),Object.keys(E(this,wt)).some(u=>{const h=u;return E(this,wt)[h]!==s[h]&&c.has(h)})};(t==null?void 0:t.listeners)!==!1&&o()&&(a.listeners=!0),fe(this,Ce,Q0).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&fe(this,Ce,Fm).call(this)}},Rt=new WeakMap,ve=new WeakMap,Ii=new WeakMap,wt=new WeakMap,Tr=new WeakMap,Ha=new WeakMap,Fs=new WeakMap,Ln=new WeakMap,Di=new WeakMap,Va=new WeakMap,Wa=new WeakMap,Rr=new WeakMap,Ar=new WeakMap,$s=new WeakMap,Ga=new WeakMap,Ce=new WeakSet,Ho=function(t){fe(this,Ce,Bm).call(this);let s=E(this,ve).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(nn)),s},_m=function(){fe(this,Ce,$m).call(this);const t=Pa(this.options.staleTime,E(this,ve));if(Br||E(this,wt).isStale||!Rm(t))return;const r=z0(E(this,wt).dataUpdatedAt,t)+1;ne(this,Rr,setTimeout(()=>{E(this,wt).isStale||this.updateResult()},r))},Om=function(){return(typeof this.options.refetchInterval==\"function\"?this.options.refetchInterval(E(this,ve)):this.options.refetchInterval)??!1},Lm=function(t){fe(this,Ce,zm).call(this),ne(this,$s,t),!(Br||jn(this.options.enabled,E(this,ve))===!1||!Rm(E(this,$s))||E(this,$s)===0)&&ne(this,Ar,setInterval(()=>{(this.options.refetchIntervalInBackground||bf.isFocused())&&fe(this,Ce,Ho).call(this)},E(this,$s)))},Fm=function(){fe(this,Ce,_m).call(this),fe(this,Ce,Lm).call(this,fe(this,Ce,Om).call(this))},$m=function(){E(this,Rr)&&(clearTimeout(E(this,Rr)),ne(this,Rr,void 0))},zm=function(){E(this,Ar)&&(clearInterval(E(this,Ar)),ne(this,Ar,void 0))},Bm=function(){const t=E(this,Rt).getQueryCache().build(E(this,Rt),this.options);if(t===E(this,ve))return;const s=E(this,ve);ne(this,ve,t),ne(this,Ii,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Q0=function(t){Qe.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(E(this,wt))}),E(this,Rt).getQueryCache().notify({query:E(this,ve),type:\"observerResultsUpdated\"})})},mv);function l4(e,t){return jn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status===\"error\"&&t.retryOnMount===!1)}function Ux(e,t){return l4(e,t)||e.state.data!==void 0&&Hm(e,t,t.refetchOnMount)}function Hm(e,t,s){if(jn(t.enabled,e)!==!1){const r=typeof s==\"function\"?s(e):s;return r===\"always\"||r!==!1&&jf(e,t)}return!1}function qx(e,t,s,r){return(e!==t||jn(r.enabled,e)===!1)&&(!s.suspense||e.state.status!==\"error\")&&jf(e,s)}function jf(e,t){return jn(t.enabled,e)!==!1&&e.isStaleByTime(Pa(t.staleTime,e))}function c4(e,t){return!jc(e.getCurrentResult(),t)}var zs,Bs,At,rs,hs,Wl,Vm,hv,d4=(hv=class extends mo{constructor(s,r){super();le(this,hs);le(this,zs);le(this,Bs);le(this,At);le(this,rs);ne(this,zs,s),this.setOptions(r),this.bindMethods(),fe(this,hs,Wl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var a;const r=this.options;this.options=E(this,zs).defaultMutationOptions(s),jc(this.options,r)||E(this,zs).getMutationCache().notify({type:\"observerOptionsUpdated\",mutation:E(this,At),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Hr(r.mutationKey)!==Hr(this.options.mutationKey)?this.reset():((a=E(this,At))==null?void 0:a.state.status)===\"pending\"&&E(this,At).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=E(this,At))==null||s.removeObserver(this)}onMutationUpdate(s){fe(this,hs,Wl).call(this),fe(this,hs,Vm).call(this,s)}getCurrentResult(){return E(this,Bs)}reset(){var s;(s=E(this,At))==null||s.removeObserver(this),ne(this,At,void 0),fe(this,hs,Wl).call(this),fe(this,hs,Vm).call(this)}mutate(s,r){var a;return ne(this,rs,r),(a=E(this,At))==null||a.removeObserver(this),ne(this,At,E(this,zs).getMutationCache().build(E(this,zs),this.options)),E(this,At).addObserver(this),E(this,At).execute(s)}},zs=new WeakMap,Bs=new WeakMap,At=new WeakMap,rs=new WeakMap,hs=new WeakSet,Wl=function(){var r;const s=((r=E(this,At))==null?void 0:r.state)??K0();ne(this,Bs,{...s,isPending:s.status===\"pending\",isSuccess:s.status===\"success\",isError:s.status===\"error\",isIdle:s.status===\"idle\",mutate:this.mutate,reset:this.reset})},Vm=function(s){Qe.batch(()=>{var r,a,o,i,l,c,u,h;if(E(this,rs)&&this.hasListeners()){const f=E(this,Bs).variables,m=E(this,Bs).context;(s==null?void 0:s.type)===\"success\"?((a=(r=E(this,rs)).onSuccess)==null||a.call(r,s.data,f,m),(i=(o=E(this,rs)).onSettled)==null||i.call(o,s.data,null,f,m)):(s==null?void 0:s.type)===\"error\"&&((c=(l=E(this,rs)).onError)==null||c.call(l,s.error,f,m),(h=(u=E(this,rs)).onSettled)==null||h.call(u,void 0,s.error,f,m))}this.listeners.forEach(f=>{f(E(this,Bs))})})},hv),Y0=d.createContext(void 0),Kn=e=>{const t=d.useContext(Y0);if(!t)throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");return t},u4=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Y0.Provider,{value:e,children:t})),X0=d.createContext(!1),m4=()=>d.useContext(X0);X0.Provider;function h4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var f4=d.createContext(h4()),p4=()=>d.useContext(f4);function J0(e,t){return typeof e==\"function\"?e(...t):!!e}function Wm(){}var x4=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},g4=e=>{d.useEffect(()=>{e.clearReset()},[e])},v4=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&J0(s,[e.error,r]),y4=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime==\"number\"&&(e.gcTime=Math.max(e.gcTime,1e3)))},w4=(e,t)=>e.isLoading&&e.isFetching&&!t,b4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Kx=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function j4(e,t,s){var h,f,m,x,g;const r=Kn(),a=m4(),o=p4(),i=r.defaultQueryOptions(e);(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,i),i._optimisticResults=a?\"isRestoring\":\"optimistic\",y4(i),x4(i,o),g4(o);const l=!r.getQueryCache().get(i.queryHash),[c]=d.useState(()=>new t(r,i)),u=c.getOptimisticResult(i);if(d.useSyncExternalStore(d.useCallback(v=>{const b=a?Wm:c.subscribe(Qe.batchCalls(v));return c.updateResult(),b},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),d.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),b4(i,u))throw Kx(i,c,o);if(v4({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw u.error;if((x=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||x.call(m,i,u),i.experimental_prefetchInRender&&!Br&&w4(u,a)){const v=l?Kx(i,c,o):(g=r.getQueryCache().get(i.queryHash))==null?void 0:g.promise;v==null||v.catch(Wm).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Ae(e,t){return j4(e,i4)}function ft(e,t){const s=Kn(),[r]=d.useState(()=>new d4(s,e));d.useEffect(()=>{r.setOptions(e)},[r,e]);const a=d.useSyncExternalStore(d.useCallback(i=>r.subscribe(Qe.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=d.useCallback((i,l)=>{r.mutate(i,l).catch(Wm)},[r]);if(a.error&&J0(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}async function Z0(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function St(e,t,s){const r=await fetch(t,{method:e,headers:s?{\"Content-Type\":\"application/json\"}:{},body:s?JSON.stringify(s):void 0,credentials:\"include\"});return await Z0(r),r}const N4=({on401:e})=>async({queryKey:t})=>{const s=await fetch(t.join(\"/\"),{credentials:\"include\"});return e===\"returnNull\"&&s.status===401?null:(await Z0(s),await s.json())},S4=new o4({defaultOptions:{queries:{queryFn:N4({on401:\"throw\"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),C4=1,k4=1e6;let pu=0;function P4(){return pu=(pu+1)%Number.MAX_SAFE_INTEGER,pu.toString()}const xu=new Map,Qx=e=>{if(xu.has(e))return;const t=setTimeout(()=>{xu.delete(e),ri({type:\"REMOVE_TOAST\",toastId:e})},k4);xu.set(e,t)},E4=(e,t)=>{switch(t.type){case\"ADD_TOAST\":return{...e,toasts:[t.toast,...e.toasts].slice(0,C4)};case\"UPDATE_TOAST\":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case\"DISMISS_TOAST\":{const{toastId:s}=t;return s?Qx(s):e.toasts.forEach(r=>{Qx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case\"REMOVE_TOAST\":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Gl=[];let Ul={toasts:[]};function ri(e){Ul=E4(Ul,e),Gl.forEach(t=>{t(Ul)})}function M4({...e}){const t=P4(),s=a=>ri({type:\"UPDATE_TOAST\",toast:{...a,id:t}}),r=()=>ri({type:\"DISMISS_TOAST\",toastId:t});return ri({type:\"ADD_TOAST\",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:s}}function nt(){const[e,t]=d.useState(Ul);return d.useEffect(()=>(Gl.push(t),()=>{const s=Gl.indexOf(t);s>-1&&Gl.splice(s,1)}),[e]),{...e,toast:M4,dismiss:s=>ri({type:\"DISMISS_TOAST\",toastId:s})}}function W(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Yx(e,t){if(typeof e==\"function\")return e(t);e!=null&&(e.current=t)}function vs(...e){return t=>{let s=!1;const r=e.map(a=>{const o=Yx(a,t);return!s&&typeof o==\"function\"&&(s=!0),o});if(s)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o==\"function\"?o():Yx(e[a],null)}}}}function de(...e){return d.useCallback(vs(...e),e)}function T4(e,t){const s=d.createContext(t),r=o=>{const{children:i,...l}=o,c=d.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:c,children:i})};r.displayName=e+\"Provider\";function a(o){const i=d.useContext(s);if(i)return i;if(t!==void 0)return t;throw new Error(`\\`${o}\\` must be used within \\`${e}\\``)}return[r,a]}function st(e,t=[]){let s=[];function r(o,i){const l=d.createContext(i),c=s.length;s=[...s,i];const u=f=>{var y;const{scope:m,children:x,...g}=f,v=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,b=d.useMemo(()=>g,Object.values(g));return n.jsx(v.Provider,{value:b,children:x})};u.displayName=o+\"Provider\";function h(f,m){var v;const x=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,g=d.useContext(x);if(g)return g;if(i!==void 0)return i;throw new Error(`\\`${f}\\` must be used within \\`${o}\\``)}return[u,h]}const a=()=>{const o=s.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,R4(a,...t)]}function R4(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function rr(e){const t=I4(e),s=d.forwardRef((r,a)=>{const{children:o,...i}=r,l=d.Children.toArray(o),c=l.find(_4);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return n.jsx(t,{...i,ref:a,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}var A4=rr(\"Slot\");function I4(e){const t=d.forwardRef((s,r)=>{const{children:a,...o}=s;if(d.isValidElement(a)){const i=L4(a),l=O4(o,a.props);return a.type!==d.Fragment&&(l.ref=r?vs(r,i):i),d.cloneElement(a,l)}return d.Children.count(a)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ew=Symbol(\"radix.slottable\");function D4(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=ew,t}function _4(e){return d.isValidElement(e)&&typeof e.type==\"function\"&&\"__radixId\"in e.type&&e.type.__radixId===ew}function O4(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{o(...l),a(...l)}:a&&(s[r]=a):r===\"style\"?s[r]={...a,...o}:r===\"className\"&&(s[r]=[a,o].filter(Boolean).join(\" \"))}return{...e,...s}}function L4(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,\"ref\"))==null?void 0:r.get,s=t&&\"isReactWarning\"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,\"ref\"))==null?void 0:a.get,s=t&&\"isReactWarning\"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Bi(e){const t=e+\"CollectionProvider\",[s,r]=st(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:b,children:y}=v,p=jt.useRef(null),w=jt.useRef(new Map).current;return n.jsx(a,{scope:b,itemMap:w,collectionRef:p,children:y})};i.displayName=t;const l=e+\"CollectionSlot\",c=rr(l),u=jt.forwardRef((v,b)=>{const{scope:y,children:p}=v,w=o(l,y),j=de(b,w.collectionRef);return n.jsx(c,{ref:j,children:p})});u.displayName=l;const h=e+\"CollectionItemSlot\",f=\"data-radix-collection-item\",m=rr(h),x=jt.forwardRef((v,b)=>{const{scope:y,children:p,...w}=v,j=jt.useRef(null),N=de(b,j),S=o(h,y);return jt.useEffect(()=>(S.itemMap.set(j,{ref:j,...w}),()=>void S.itemMap.delete(j))),n.jsx(m,{[f]:\"\",ref:N,children:p})});x.displayName=h;function g(v){const b=o(e+\"CollectionConsumer\",v);return jt.useCallback(()=>{const p=b.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((S,C)=>w.indexOf(S.ref.current)-w.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:x},g,r]}var F4=[\"a\",\"button\",\"div\",\"form\",\"h2\",\"h3\",\"img\",\"input\",\"label\",\"li\",\"nav\",\"ol\",\"p\",\"span\",\"svg\",\"ul\"],J=F4.reduce((e,t)=>{const s=rr(`Primitive.${t}`),r=d.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<\"u\"&&(window[Symbol.for(\"radix-ui\")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Nf(e,t){e&&Qr.flushSync(()=>e.dispatchEvent(t))}function _e(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function $4(e,t=globalThis==null?void 0:globalThis.document){const s=_e(e);d.useEffect(()=>{const r=a=>{a.key===\"Escape\"&&s(a)};return t.addEventListener(\"keydown\",r,{capture:!0}),()=>t.removeEventListener(\"keydown\",r,{capture:!0})},[s,t])}var z4=\"DismissableLayer\",Gm=\"dismissableLayer.update\",B4=\"dismissableLayer.pointerDownOutside\",H4=\"dismissableLayer.focusOutside\",Xx,tw=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xr=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(tw),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=d.useState({}),g=de(t,C=>f(C)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(b),p=h?v.indexOf(h):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=p>=y,N=W4(C=>{const k=C.target,P=[...u.branches].some(A=>A.contains(k));!j||P||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),S=G4(C=>{const k=C.target;[...u.branches].some(A=>A.contains(k))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return $4(C=>{p===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Xx=m.body.style.pointerEvents,m.body.style.pointerEvents=\"none\"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Jx(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Xx)}},[h,m,s,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Jx())},[h,u]),d.useEffect(()=>{const C=()=>x({});return document.addEventListener(Gm,C),()=>document.removeEventListener(Gm,C)},[]),n.jsx(J.div,{...c,ref:g,style:{pointerEvents:w?j?\"auto\":\"none\":void 0,...e.style},onFocusCapture:W(e.onFocusCapture,S.onFocusCapture),onBlurCapture:W(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:W(e.onPointerDownCapture,N.onPointerDownCapture)})});Xr.displayName=z4;var V4=\"DismissableLayerBranch\",nw=d.forwardRef((e,t)=>{const s=d.useContext(tw),r=d.useRef(null),a=de(t,r);return d.useEffect(()=>{const o=r.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),n.jsx(J.div,{...e,ref:a})});nw.displayName=V4;function W4(e,t=globalThis==null?void 0:globalThis.document){const s=_e(e),r=d.useRef(!1),a=d.useRef(()=>{});return d.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){sw(B4,s,u,{discrete:!0})};const u={originalEvent:l};l.pointerType===\"touch\"?(t.removeEventListener(\"click\",a.current),a.current=c,t.addEventListener(\"click\",a.current,{once:!0})):c()}else t.removeEventListener(\"click\",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener(\"pointerdown\",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener(\"pointerdown\",o),t.removeEventListener(\"click\",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function G4(e,t=globalThis==null?void 0:globalThis.document){const s=_e(e),r=d.useRef(!1);return d.useEffect(()=>{const a=o=>{o.target&&!r.current&&sw(H4,s,{originalEvent:o},{discrete:!1})};return t.addEventListener(\"focusin\",a),()=>t.removeEventListener(\"focusin\",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jx(){const e=new CustomEvent(Gm);document.dispatchEvent(e)}function sw(e,t,s,{discrete:r}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?Nf(a,o):a.dispatchEvent(o)}var U4=Xr,q4=nw,qe=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},K4=\"Portal\",ho=d.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[a,o]=d.useState(!1);qe(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?pk.createPortal(n.jsx(J.div,{...r,ref:t}),i):null});ho.displayName=K4;function Q4(e,t){return d.useReducer((s,r)=>t[s][r]??s,e)}var rt=e=>{const{present:t,children:s}=e,r=Y4(t),a=typeof s==\"function\"?s({present:r.isPresent}):d.Children.only(s),o=de(r.ref,X4(a));return typeof s==\"function\"||r.isPresent?d.cloneElement(a,{ref:o}):null};rt.displayName=\"Presence\";function Y4(e){const[t,s]=d.useState(),r=d.useRef({}),a=d.useRef(e),o=d.useRef(\"none\"),i=e?\"mounted\":\"unmounted\",[l,c]=Q4(i,{mounted:{UNMOUNT:\"unmounted\",ANIMATION_OUT:\"unmountSuspended\"},unmountSuspended:{MOUNT:\"mounted\",ANIMATION_END:\"unmounted\"},unmounted:{MOUNT:\"mounted\"}});return d.useEffect(()=>{const u=jl(r.current);o.current=l===\"mounted\"?u:\"none\"},[l]),qe(()=>{const u=r.current,h=a.current;if(h!==e){const m=o.current,x=jl(u);e?c(\"MOUNT\"):x===\"none\"||(u==null?void 0:u.display)===\"none\"?c(\"UNMOUNT\"):c(h&&m!==x?\"ANIMATION_OUT\":\"UNMOUNT\"),a.current=e}},[e,c]),qe(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=x=>{const v=jl(r.current).includes(x.animationName);if(x.target===t&&v&&(c(\"ANIMATION_END\"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode=\"forwards\",u=h.setTimeout(()=>{t.style.animationFillMode===\"forwards\"&&(t.style.animationFillMode=b)})}},m=x=>{x.target===t&&(o.current=jl(r.current))};return t.addEventListener(\"animationstart\",m),t.addEventListener(\"animationcancel\",f),t.addEventListener(\"animationend\",f),()=>{h.clearTimeout(u),t.removeEventListener(\"animationstart\",m),t.removeEventListener(\"animationcancel\",f),t.removeEventListener(\"animationend\",f)}}else c(\"ANIMATION_END\")},[t,c]),{isPresent:[\"mounted\",\"unmountSuspended\"].includes(l),ref:d.useCallback(u=>{u&&(r.current=getComputedStyle(u)),s(u)},[])}}function jl(e){return(e==null?void 0:e.animationName)||\"none\"}function X4(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,\"ref\"))==null?void 0:r.get,s=t&&\"isReactWarning\"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,\"ref\"))==null?void 0:a.get,s=t&&\"isReactWarning\"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function mn({prop:e,defaultProp:t,onChange:s=()=>{}}){const[r,a]=J4({defaultProp:t,onChange:s}),o=e!==void 0,i=o?e:r,l=_e(s),c=d.useCallback(u=>{if(o){const f=typeof u==\"function\"?u(e):u;f!==e&&l(f)}else a(u)},[o,e,a,l]);return[i,c]}function J4({defaultProp:e,onChange:t}){const s=d.useState(e),[r]=s,a=d.useRef(r),o=_e(t);return d.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),s}var Z4=\"VisuallyHidden\",Hi=d.forwardRef((e,t)=>n.jsx(J.span,{...e,ref:t,style:{position:\"absolute\",border:0,width:1,height:1,padding:0,margin:-1,overflow:\"hidden\",clip:\"rect(0, 0, 0, 0)\",whiteSpace:\"nowrap\",wordWrap:\"normal\",...e.style}}));Hi.displayName=Z4;var eP=Hi,Sf=\"ToastProvider\",[Cf,tP,nP]=Bi(\"Toast\"),[rw,E8]=st(\"Toast\",[nP]),[sP,od]=rw(Sf),aw=e=>{const{__scopeToast:t,label:s=\"Notification\",duration:r=5e3,swipeDirection:a=\"right\",swipeThreshold:o=50,children:i}=e,[l,c]=d.useState(null),[u,h]=d.useState(0),f=d.useRef(!1),m=d.useRef(!1);return s.trim()||console.error(`Invalid prop \\`label\\` supplied to \\`${Sf}\\`. Expected non-empty \\`string\\`.`),n.jsx(Cf.Provider,{scope:t,children:n.jsx(sP,{scope:t,label:s,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:d.useCallback(()=>h(x=>x+1),[]),onToastRemove:d.useCallback(()=>h(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};aw.displayName=Sf;var ow=\"ToastViewport\",rP=[\"F8\"],Um=\"toast.viewportPause\",qm=\"toast.viewportResume\",iw=d.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=rP,label:a=\"Notifications ({hotkey})\",...o}=e,i=od(ow,s),l=tP(s),c=d.useRef(null),u=d.useRef(null),h=d.useRef(null),f=d.useRef(null),m=de(t,f,i.onViewportChange),x=r.join(\"+\").replace(/Key/g,\"\").replace(/Digit/g,\"\"),g=i.toastCount>0;d.useEffect(()=>{const b=y=>{var w;r.length!==0&&r.every(j=>y[j]||y.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener(\"keydown\",b),()=>document.removeEventListener(\"keydown\",b)},[r]),d.useEffect(()=>{const b=c.current,y=f.current;if(g&&b&&y){const p=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(Um);y.dispatchEvent(S),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(qm);y.dispatchEvent(S),i.isClosePausedRef.current=!1}},j=S=>{!b.contains(S.relatedTarget)&&w()},N=()=>{b.contains(document.activeElement)||w()};return b.addEventListener(\"focusin\",p),b.addEventListener(\"focusout\",j),b.addEventListener(\"pointermove\",p),b.addEventListener(\"pointerleave\",N),window.addEventListener(\"blur\",p),window.addEventListener(\"focus\",w),()=>{b.removeEventListener(\"focusin\",p),b.removeEventListener(\"focusout\",j),b.removeEventListener(\"pointermove\",p),b.removeEventListener(\"pointerleave\",N),window.removeEventListener(\"blur\",p),window.removeEventListener(\"focus\",w)}}},[g,i.isClosePausedRef]);const v=d.useCallback(({tabbingDirection:b})=>{const p=l().map(w=>{const j=w.ref.current,N=[j,...gP(j)];return b===\"forwards\"?N:N.reverse()});return(b===\"forwards\"?p.reverse():p).flat()},[l]);return d.useEffect(()=>{const b=f.current;if(b){const y=p=>{var N,S,C;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key===\"Tab\"&&!w){const k=document.activeElement,P=p.shiftKey;if(p.target===b&&P){(N=u.current)==null||N.focus();return}const T=v({tabbingDirection:P?\"backwards\":\"forwards\"}),H=T.findIndex(_=>_===k);gu(T.slice(H+1))?p.preventDefault():P?(S=u.current)==null||S.focus():(C=h.current)==null||C.focus()}};return b.addEventListener(\"keydown\",y),()=>b.removeEventListener(\"keydown\",y)}},[l,v]),n.jsxs(q4,{ref:c,role:\"region\",\"aria-label\":a.replace(\"{hotkey}\",x),tabIndex:-1,style:{pointerEvents:g?void 0:\"none\"},children:[g&&n.jsx(Km,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:\"forwards\"});gu(b)}}),n.jsx(Cf.Slot,{scope:s,children:n.jsx(J.ol,{tabIndex:-1,...o,ref:m})}),g&&n.jsx(Km,{ref:h,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:\"backwards\"});gu(b)}})]})});iw.displayName=ow;var lw=\"ToastFocusProxy\",Km=d.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=e,o=od(lw,s);return n.jsx(Hi,{\"aria-hidden\":!0,tabIndex:0,...a,ref:t,style:{position:\"fixed\"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});Km.displayName=lw;var id=\"Toast\",aP=\"toast.swipeStart\",oP=\"toast.swipeMove\",iP=\"toast.swipeCancel\",lP=\"toast.swipeEnd\",cw=d.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,c]=mn({prop:r,defaultProp:a,onChange:o});return n.jsx(rt,{present:s||l,children:n.jsx(uP,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:_e(e.onPause),onResume:_e(e.onResume),onSwipeStart:W(e.onSwipeStart,u=>{u.currentTarget.setAttribute(\"data-swipe\",\"start\")}),onSwipeMove:W(e.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute(\"data-swipe\",\"move\"),u.currentTarget.style.setProperty(\"--radix-toast-swipe-move-x\",`${h}px`),u.currentTarget.style.setProperty(\"--radix-toast-swipe-move-y\",`${f}px`)}),onSwipeCancel:W(e.onSwipeCancel,u=>{u.currentTarget.setAttribute(\"data-swipe\",\"cancel\"),u.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-x\"),u.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-y\"),u.currentTarget.style.removeProperty(\"--radix-toast-swipe-end-x\"),u.currentTarget.style.removeProperty(\"--radix-toast-swipe-end-y\")}),onSwipeEnd:W(e.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute(\"data-swipe\",\"end\"),u.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-x\"),u.currentTarget.style.removeProperty(\"--radix-toast-swipe-move-y\"),u.currentTarget.style.setProperty(\"--radix-toast-swipe-end-x\",`${h}px`),u.currentTarget.style.setProperty(\"--radix-toast-swipe-end-y\",`${f}px`),c(!1)})})})});cw.displayName=id;var[cP,dP]=rw(id,{onClose(){}}),uP=d.forwardRef((e,t)=>{const{__scopeToast:s,type:r=\"foreground\",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:x,...g}=e,v=od(id,s),[b,y]=d.useState(null),p=de(t,_=>y(_)),w=d.useRef(null),j=d.useRef(null),N=a||v.duration,S=d.useRef(0),C=d.useRef(N),k=d.useRef(0),{onToastAdd:P,onToastRemove:A}=v,O=_e(()=>{var Z;(b==null?void 0:b.contains(document.activeElement))&&((Z=v.viewport)==null||Z.focus()),i()}),T=d.useCallback(_=>{!_||_===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(O,_))},[O]);d.useEffect(()=>{const _=v.viewport;if(_){const Z=()=>{T(C.current),u==null||u()},K=()=>{const te=new Date().getTime()-S.current;C.current=C.current-te,window.clearTimeout(k.current),c==null||c()};return _.addEventListener(Um,K),_.addEventListener(qm,Z),()=>{_.removeEventListener(Um,K),_.removeEventListener(qm,Z)}}},[v.viewport,N,c,u,T]),d.useEffect(()=>{o&&!v.isClosePausedRef.current&&T(N)},[o,N,v.isClosePausedRef,T]),d.useEffect(()=>(P(),()=>A()),[P,A]);const H=d.useMemo(()=>b?xw(b):null,[b]);return v.viewport?n.jsxs(n.Fragment,{children:[H&&n.jsx(mP,{__scopeToast:s,role:\"status\",\"aria-live\":r===\"foreground\"?\"assertive\":\"polite\",\"aria-atomic\":!0,children:H}),n.jsx(cP,{scope:s,onClose:O,children:Qr.createPortal(n.jsx(Cf.ItemSlot,{scope:s,children:n.jsx(U4,{asChild:!0,onEscapeKeyDown:W(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(J.li,{role:\"status\",\"aria-live\":\"off\",\"aria-atomic\":!0,tabIndex:0,\"data-state\":o?\"open\":\"closed\",\"data-swipe-direction\":v.swipeDirection,...g,ref:p,style:{userSelect:\"none\",touchAction:\"none\",...e.style},onKeyDown:W(e.onKeyDown,_=>{_.key===\"Escape\"&&(l==null||l(_.nativeEvent),_.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:W(e.onPointerDown,_=>{_.button===0&&(w.current={x:_.clientX,y:_.clientY})}),onPointerMove:W(e.onPointerMove,_=>{if(!w.current)return;const Z=_.clientX-w.current.x,K=_.clientY-w.current.y,te=!!j.current,I=[\"left\",\"right\"].includes(v.swipeDirection),D=[\"left\",\"up\"].includes(v.swipeDirection)?Math.min:Math.max,G=I?D(0,Z):0,ae=I?0:D(0,K),M=_.pointerType===\"touch\"?10:2,F={x:G,y:ae},Q={originalEvent:_,delta:F};te?(j.current=F,Nl(oP,f,Q,{discrete:!1})):Zx(F,v.swipeDirection,M)?(j.current=F,Nl(aP,h,Q,{discrete:!1}),_.target.setPointerCapture(_.pointerId)):(Math.abs(Z)>M||Math.abs(K)>M)&&(w.current=null)}),onPointerUp:W(e.onPointerUp,_=>{const Z=j.current,K=_.target;if(K.hasPointerCapture(_.pointerId)&&K.releasePointerCapture(_.pointerId),j.current=null,w.current=null,Z){const te=_.currentTarget,I={originalEvent:_,delta:Z};Zx(Z,v.swipeDirection,v.swipeThreshold)?Nl(lP,x,I,{discrete:!0}):Nl(iP,m,I,{discrete:!0}),te.addEventListener(\"click\",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),mP=e=>{const{__scopeToast:t,children:s,...r}=e,a=od(id,t),[o,i]=d.useState(!1),[l,c]=d.useState(!1);return pP(()=>i(!0)),d.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:n.jsx(ho,{asChild:!0,children:n.jsx(Hi,{...r,children:o&&n.jsxs(n.Fragment,{children:[a.label,\" \",s]})})})},hP=\"ToastTitle\",dw=d.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(J.div,{...r,ref:t})});dw.displayName=hP;var fP=\"ToastDescription\",uw=d.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(J.div,{...r,ref:t})});uw.displayName=fP;var mw=\"ToastAction\",hw=d.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(pw,{altText:s,asChild:!0,children:n.jsx(kf,{...r,ref:t})}):(console.error(`Invalid prop \\`altText\\` supplied to \\`${mw}\\`. Expected non-empty \\`string\\`.`),null)});hw.displayName=mw;var fw=\"ToastClose\",kf=d.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,a=dP(fw,s);return n.jsx(pw,{asChild:!0,children:n.jsx(J.button,{type:\"button\",...r,ref:t,onClick:W(e.onClick,a.onClose)})})});kf.displayName=fw;var pw=d.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...a}=e;return n.jsx(J.div,{\"data-radix-toast-announce-exclude\":\"\",\"data-radix-toast-announce-alt\":r||void 0,...a,ref:t})});function xw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),xP(r)){const a=r.ariaHidden||r.hidden||r.style.display===\"none\",o=r.dataset.radixToastAnnounceExclude===\"\";if(!a)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...xw(r))}}),t}function Nl(e,t,s,{discrete:r}){const a=s.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?Nf(a,o):a.dispatchEvent(o)}var Zx=(e,t,s=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t===\"left\"||t===\"right\"?o&&r>s:!o&&a>s};function pP(e=()=>{}){const t=_e(e);qe(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function xP(e){return e.nodeType===e.ELEMENT_NODE}function gP(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName===\"INPUT\"&&r.type===\"hidden\";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function gu(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var vP=aw,gw=iw,vw=cw,yw=dw,ww=uw,bw=hw,jw=kf;function Nw(e){var t,s,r=\"\";if(typeof e==\"string\"||typeof e==\"number\")r+=e;else if(typeof e==\"object\")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=Nw(e[t]))&&(r&&(r+=\" \"),r+=s)}else for(s in e)e[s]&&(r&&(r+=\" \"),r+=s);return r}function Sw(){for(var e,t,s=0,r=\"\",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=Nw(e))&&(r&&(r+=\" \"),r+=t);return r}const eg=e=>typeof e==\"boolean\"?`${e}`:e===0?\"0\":e,tg=Sw,Vi=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return tg(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(u=>{const h=s==null?void 0:s[u],f=o==null?void 0:o[u];if(h===null)return null;const m=eg(h)||eg(f);return a[u][m]}),l=s&&Object.entries(s).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...x}=h;return Object.entries(x).every(g=>{let[v,b]=g;return Array.isArray(b)?b.includes({...o,...l}[v]):{...o,...l}[v]===b})?[...u,f,m]:u},[]);return tg(e,i,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const yP=e=>e.replace(/([a-z0-9])([A-Z])/g,\"$1-$2\").toLowerCase(),Cw=(...e)=>e.filter((t,s,r)=>!!t&&r.indexOf(t)===s).join(\" \");/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */var wP={xmlns:\"http://www.w3.org/2000/svg\",width:24,height:24,viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:2,strokeLinecap:\"round\",strokeLinejoin:\"round\"};/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const bP=d.forwardRef(({color:e=\"currentColor\",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a=\"\",children:o,iconNode:i,...l},c)=>d.createElement(\"svg\",{ref:c,...wP,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:Cw(\"lucide\",a),...l},[...i.map(([u,h])=>d.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const L=(e,t)=>{const s=d.forwardRef(({className:r,...a},o)=>d.createElement(bP,{ref:o,iconNode:t,className:Cw(`lucide-${yP(e)}`,r),...a}));return s.displayName=`${e}`,s};/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const jP=L(\"Activity\",[[\"path\",{d:\"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2\",key:\"169zse\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const ld=L(\"ArrowLeft\",[[\"path\",{d:\"m12 19-7-7 7-7\",key:\"1l729n\"}],[\"path\",{d:\"M19 12H5\",key:\"x3x0zl\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Sr=L(\"ArrowRight\",[[\"path\",{d:\"M5 12h14\",key:\"1ays0h\"}],[\"path\",{d:\"m12 5 7 7-7 7\",key:\"xquz4c\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const kw=L(\"Award\",[[\"path\",{d:\"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526\",key:\"1yiouv\"}],[\"circle\",{cx:\"12\",cy:\"8\",r:\"6\",key:\"1vp47v\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const NP=L(\"Bed\",[[\"path\",{d:\"M2 4v16\",key:\"vw9hq8\"}],[\"path\",{d:\"M2 8h18a2 2 0 0 1 2 2v10\",key:\"1dgv2r\"}],[\"path\",{d:\"M2 17h20\",key:\"18nfp3\"}],[\"path\",{d:\"M6 8v9\",key:\"1yriud\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ni=L(\"Bell\",[[\"path\",{d:\"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\",key:\"1qo2s2\"}],[\"path\",{d:\"M10.3 21a1.94 1.94 0 0 0 3.4 0\",key:\"qgo35s\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const ys=L(\"BookOpen\",[[\"path\",{d:\"M12 7v14\",key:\"1akyts\"}],[\"path\",{d:\"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z\",key:\"ruj8y\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Pf=L(\"Book\",[[\"path\",{d:\"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20\",key:\"k3hazp\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Pw=L(\"Bookmark\",[[\"path\",{d:\"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z\",key:\"1fy3hk\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ef=L(\"Bot\",[[\"path\",{d:\"M12 8V4H8\",key:\"hb8ula\"}],[\"rect\",{width:\"16\",height:\"12\",x:\"4\",y:\"8\",rx:\"2\",key:\"enze0r\"}],[\"path\",{d:\"M2 14h2\",key:\"vft8re\"}],[\"path\",{d:\"M20 14h2\",key:\"4cs60a\"}],[\"path\",{d:\"M15 13v2\",key:\"1xurst\"}],[\"path\",{d:\"M9 13v2\",key:\"rq6x2g\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const lt=L(\"Brain\",[[\"path\",{d:\"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z\",key:\"l5xja\"}],[\"path\",{d:\"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z\",key:\"ep3f8r\"}],[\"path\",{d:\"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4\",key:\"1p4c4q\"}],[\"path\",{d:\"M17.599 6.5a3 3 0 0 0 .399-1.375\",key:\"tmeiqw\"}],[\"path\",{d:\"M6.003 5.125A3 3 0 0 0 6.401 6.5\",key:\"105sqy\"}],[\"path\",{d:\"M3.477 10.896a4 4 0 0 1 .585-.396\",key:\"ql3yin\"}],[\"path\",{d:\"M19.938 10.5a4 4 0 0 1 .585.396\",key:\"1qfode\"}],[\"path\",{d:\"M6 18a4 4 0 0 1-1.967-.516\",key:\"2e4loj\"}],[\"path\",{d:\"M19.967 17.484A4 4 0 0 1 18 18\",key:\"159ez6\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const gt=L(\"Calendar\",[[\"path\",{d:\"M8 2v4\",key:\"1cmpym\"}],[\"path\",{d:\"M16 2v4\",key:\"4m81vk\"}],[\"rect\",{width:\"18\",height:\"18\",x:\"3\",y:\"4\",rx:\"2\",key:\"1hopcy\"}],[\"path\",{d:\"M3 10h18\",key:\"8toen8\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ew=L(\"Camera\",[[\"path\",{d:\"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z\",key:\"1tc9qg\"}],[\"circle\",{cx:\"12\",cy:\"13\",r:\"3\",key:\"1vg3eu\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const SP=L(\"ChartColumn\",[[\"path\",{d:\"M3 3v16a2 2 0 0 0 2 2h16\",key:\"c24i48\"}],[\"path\",{d:\"M18 17V9\",key:\"2bz60n\"}],[\"path\",{d:\"M13 17V5\",key:\"1frdt8\"}],[\"path\",{d:\"M8 17v-3\",key:\"17ska0\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Mw=L(\"Check\",[[\"path\",{d:\"M20 6 9 17l-5-5\",key:\"1gmf2c\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Dt=L(\"ChevronDown\",[[\"path\",{d:\"m6 9 6 6 6-6\",key:\"qrunsl\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Nt=L(\"ChevronRight\",[[\"path\",{d:\"m9 18 6-6-6-6\",key:\"mthhwq\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Tw=L(\"ChevronUp\",[[\"path\",{d:\"m18 15-6-6-6 6\",key:\"153udz\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const CP=L(\"CircleAlert\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"line\",{x1:\"12\",x2:\"12\",y1:\"8\",y2:\"12\",key:\"1pkeuh\"}],[\"line\",{x1:\"12\",x2:\"12.01\",y1:\"16\",y2:\"16\",key:\"4dfq90\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ws=L(\"CircleCheckBig\",[[\"path\",{d:\"M21.801 10A10 10 0 1 1 17 3.335\",key:\"yps3ct\"}],[\"path\",{d:\"m9 11 3 3L22 4\",key:\"1pflzl\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const ng=L(\"CircleCheck\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"path\",{d:\"m9 12 2 2 4-4\",key:\"dzmm74\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const vu=L(\"CircleDot\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"1\",key:\"41hilf\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Rw=L(\"Circle\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const kP=L(\"ClipboardCheck\",[[\"rect\",{width:\"8\",height:\"4\",x:\"8\",y:\"2\",rx:\"1\",ry:\"1\",key:\"tgr4d6\"}],[\"path\",{d:\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\",key:\"116196\"}],[\"path\",{d:\"m9 14 2 2 4-4\",key:\"df797q\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Bt=L(\"Clock\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"polyline\",{points:\"12 6 12 12 16 14\",key:\"68esgv\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Aw=L(\"Clover\",[[\"path\",{d:\"M16.17 7.83 2 22\",key:\"t58vo8\"}],[\"path\",{d:\"M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12\",key:\"17k36q\"}],[\"path\",{d:\"m7.83 7.83 8.34 8.34\",key:\"1d7sxk\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Sl=L(\"Coins\",[[\"circle\",{cx:\"8\",cy:\"8\",r:\"6\",key:\"3yglwk\"}],[\"path\",{d:\"M18.09 10.37A6 6 0 1 1 10.34 18\",key:\"t5s6rm\"}],[\"path\",{d:\"M7 6h1v4\",key:\"1obek4\"}],[\"path\",{d:\"m16.71 13.88.7.71-2.82 2.82\",key:\"1rbuyh\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const PP=L(\"Construction\",[[\"rect\",{x:\"2\",y:\"6\",width:\"20\",height:\"8\",rx:\"1\",key:\"1estib\"}],[\"path\",{d:\"M17 14v7\",key:\"7m2elx\"}],[\"path\",{d:\"M7 14v7\",key:\"1cm7wv\"}],[\"path\",{d:\"M17 3v3\",key:\"1v4jwn\"}],[\"path\",{d:\"M7 3v3\",key:\"7o6guu\"}],[\"path\",{d:\"M10 14 2.3 6.3\",key:\"1023jk\"}],[\"path\",{d:\"m14 6 7.7 7.7\",key:\"1s8pl2\"}],[\"path\",{d:\"m8 6 8 8\",key:\"hl96qh\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const sg=L(\"Crown\",[[\"path\",{d:\"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z\",key:\"1vdc57\"}],[\"path\",{d:\"M5 21h14\",key:\"11awu3\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Qm=L(\"Download\",[[\"path\",{d:\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\",key:\"ih7n3h\"}],[\"polyline\",{points:\"7 10 12 15 17 10\",key:\"2ggqvy\"}],[\"line\",{x1:\"12\",x2:\"12\",y1:\"15\",y2:\"3\",key:\"1vk2je\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Iw=L(\"Droplets\",[[\"path\",{d:\"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z\",key:\"1ptgy4\"}],[\"path\",{d:\"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97\",key:\"1sl1rz\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ym=L(\"ExternalLink\",[[\"path\",{d:\"M15 3h6v6\",key:\"1q9fwt\"}],[\"path\",{d:\"M10 14 21 3\",key:\"gplh6r\"}],[\"path\",{d:\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\",key:\"a6xqqp\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const EP=L(\"EyeOff\",[[\"path\",{d:\"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49\",key:\"ct8e1f\"}],[\"path\",{d:\"M14.084 14.158a3 3 0 0 1-4.242-4.242\",key:\"151rxh\"}],[\"path\",{d:\"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143\",key:\"13bj9a\"}],[\"path\",{d:\"m2 2 20 20\",key:\"1ooewy\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Xm=L(\"Eye\",[[\"path\",{d:\"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",key:\"1nclc0\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"3\",key:\"1v7zrd\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Zs=L(\"FileText\",[[\"path\",{d:\"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\",key:\"1rqfz7\"}],[\"path\",{d:\"M14 2v4a2 2 0 0 0 2 2h4\",key:\"tnqrlb\"}],[\"path\",{d:\"M10 9H8\",key:\"b1mrlr\"}],[\"path\",{d:\"M16 13H8\",key:\"t4e002\"}],[\"path\",{d:\"M16 17H8\",key:\"z1uh3a\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const rg=L(\"Film\",[[\"rect\",{width:\"18\",height:\"18\",x:\"3\",y:\"3\",rx:\"2\",key:\"afitv7\"}],[\"path\",{d:\"M7 3v18\",key:\"bbkbws\"}],[\"path\",{d:\"M3 7.5h4\",key:\"zfgn84\"}],[\"path\",{d:\"M3 12h18\",key:\"1i2n21\"}],[\"path\",{d:\"M3 16.5h4\",key:\"1230mu\"}],[\"path\",{d:\"M17 3v18\",key:\"in4fa5\"}],[\"path\",{d:\"M17 7.5h4\",key:\"myr1c1\"}],[\"path\",{d:\"M17 16.5h4\",key:\"go4c1d\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Dw=L(\"Filter\",[[\"polygon\",{points:\"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\",key:\"1yg77f\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const MP=L(\"Flag\",[[\"path\",{d:\"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z\",key:\"i9b6wo\"}],[\"line\",{x1:\"4\",x2:\"4\",y1:\"22\",y2:\"15\",key:\"1cm3nv\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const _w=L(\"Flower\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"3\",key:\"1v7zrd\"}],[\"path\",{d:\"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5\",key:\"14wa3c\"}],[\"path\",{d:\"M12 7.5V9\",key:\"1oy5b0\"}],[\"path\",{d:\"M7.5 12H9\",key:\"eltsq1\"}],[\"path\",{d:\"M16.5 12H15\",key:\"vk5kw4\"}],[\"path\",{d:\"M12 16.5V15\",key:\"k7eayi\"}],[\"path\",{d:\"m8 8 1.88 1.88\",key:\"nxy4qf\"}],[\"path\",{d:\"M14.12 9.88 16 8\",key:\"1lst6k\"}],[\"path\",{d:\"m8 16 1.88-1.88\",key:\"h2eex1\"}],[\"path\",{d:\"M14.12 14.12 16 16\",key:\"uqkrx3\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const ag=L(\"Frown\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"path\",{d:\"M16 16s-1.5-2-4-2-4 2-4 2\",key:\"epbg0q\"}],[\"line\",{x1:\"9\",x2:\"9.01\",y1:\"9\",y2:\"9\",key:\"yxxnd0\"}],[\"line\",{x1:\"15\",x2:\"15.01\",y1:\"9\",y2:\"9\",key:\"1p4y9e\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Sc=L(\"Gamepad2\",[[\"line\",{x1:\"6\",x2:\"10\",y1:\"11\",y2:\"11\",key:\"1gktln\"}],[\"line\",{x1:\"8\",x2:\"8\",y1:\"9\",y2:\"13\",key:\"qnk9ow\"}],[\"line\",{x1:\"15\",x2:\"15.01\",y1:\"12\",y2:\"12\",key:\"krot7o\"}],[\"line\",{x1:\"18\",x2:\"18.01\",y1:\"10\",y2:\"10\",key:\"1lcuu1\"}],[\"path\",{d:\"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z\",key:\"mfqc10\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const TP=L(\"Gift\",[[\"rect\",{x:\"3\",y:\"8\",width:\"18\",height:\"4\",rx:\"1\",key:\"bkv52\"}],[\"path\",{d:\"M12 8v13\",key:\"1c76mn\"}],[\"path\",{d:\"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7\",key:\"6wjy6b\"}],[\"path\",{d:\"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5\",key:\"1ihvrl\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const RP=L(\"Globe\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"path\",{d:\"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20\",key:\"13o1zl\"}],[\"path\",{d:\"M2 12h20\",key:\"9i4pu4\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ow=L(\"GraduationCap\",[[\"path\",{d:\"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z\",key:\"j76jl0\"}],[\"path\",{d:\"M22 10v6\",key:\"1lu8f3\"}],[\"path\",{d:\"M6 12.5V16a6 3 0 0 0 12 0v-3.5\",key:\"1r8lef\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const og=L(\"Grid3x3\",[[\"rect\",{width:\"18\",height:\"18\",x:\"3\",y:\"3\",rx:\"2\",key:\"afitv7\"}],[\"path\",{d:\"M3 9h18\",key:\"1pudct\"}],[\"path\",{d:\"M3 15h18\",key:\"5xshup\"}],[\"path\",{d:\"M9 3v18\",key:\"fh3hqa\"}],[\"path\",{d:\"M15 3v18\",key:\"14nvp0\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const AP=L(\"Headphones\",[[\"path\",{d:\"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3\",key:\"1xhozi\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const ye=L(\"Heart\",[[\"path\",{d:\"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\",key:\"c3ymky\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const IP=L(\"History\",[[\"path\",{d:\"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\",key:\"1357e3\"}],[\"path\",{d:\"M3 3v5h5\",key:\"1xhq8a\"}],[\"path\",{d:\"M12 7v5l4 2\",key:\"1fdv2h\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const DP=L(\"Info\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"path\",{d:\"M12 16v-4\",key:\"1dtifu\"}],[\"path\",{d:\"M12 8h.01\",key:\"e9boi3\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const _P=L(\"Leaf\",[[\"path\",{d:\"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z\",key:\"nnexq3\"}],[\"path\",{d:\"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12\",key:\"mt58a7\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const cd=L(\"Lightbulb\",[[\"path\",{d:\"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5\",key:\"1gvzjb\"}],[\"path\",{d:\"M9 18h6\",key:\"x1upvd\"}],[\"path\",{d:\"M10 22h4\",key:\"ceow96\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const yu=L(\"LoaderCircle\",[[\"path\",{d:\"M21 12a9 9 0 1 1-6.219-8.56\",key:\"13zald\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const OP=L(\"Lock\",[[\"rect\",{width:\"18\",height:\"11\",x:\"3\",y:\"11\",rx:\"2\",ry:\"2\",key:\"1w4ew1\"}],[\"path\",{d:\"M7 11V7a5 5 0 0 1 10 0v4\",key:\"fwvmzm\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Lw=L(\"Mail\",[[\"rect\",{width:\"20\",height:\"16\",x:\"2\",y:\"4\",rx:\"2\",key:\"18n3k1\"}],[\"path\",{d:\"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\",key:\"1ocrg3\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Cc=L(\"MapPin\",[[\"path\",{d:\"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0\",key:\"1r0f0z\"}],[\"circle\",{cx:\"12\",cy:\"10\",r:\"3\",key:\"ilqhr7\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const LP=L(\"Meh\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"line\",{x1:\"8\",x2:\"16\",y1:\"15\",y2:\"15\",key:\"1xb1d9\"}],[\"line\",{x1:\"9\",x2:\"9.01\",y1:\"9\",y2:\"9\",key:\"yxxnd0\"}],[\"line\",{x1:\"15\",x2:\"15.01\",y1:\"9\",y2:\"9\",key:\"1p4y9e\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const FP=L(\"Menu\",[[\"line\",{x1:\"4\",x2:\"20\",y1:\"12\",y2:\"12\",key:\"1e0a9i\"}],[\"line\",{x1:\"4\",x2:\"20\",y1:\"6\",y2:\"6\",key:\"1owob3\"}],[\"line\",{x1:\"4\",x2:\"20\",y1:\"18\",y2:\"18\",key:\"yk5zj1\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const zt=L(\"MessageCircle\",[[\"path\",{d:\"M7.9 20A9 9 0 1 0 4 16.1L2 22Z\",key:\"vv11sd\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const eo=L(\"MessageSquare\",[[\"path\",{d:\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\",key:\"1lielz\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const $P=L(\"MicOff\",[[\"line\",{x1:\"2\",x2:\"22\",y1:\"2\",y2:\"22\",key:\"a6p6uj\"}],[\"path\",{d:\"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2\",key:\"80xlxr\"}],[\"path\",{d:\"M5 10v2a7 7 0 0 0 12 5\",key:\"p2k8kg\"}],[\"path\",{d:\"M15 9.34V5a3 3 0 0 0-5.68-1.33\",key:\"1gzdoj\"}],[\"path\",{d:\"M9 9v3a3 3 0 0 0 5.12 2.12\",key:\"r2i35w\"}],[\"line\",{x1:\"12\",x2:\"12\",y1:\"19\",y2:\"22\",key:\"x3vr5v\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const kc=L(\"Mic\",[[\"path\",{d:\"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z\",key:\"131961\"}],[\"path\",{d:\"M19 10v2a7 7 0 0 1-14 0v-2\",key:\"1vc78b\"}],[\"line\",{x1:\"12\",x2:\"12\",y1:\"19\",y2:\"22\",key:\"x3vr5v\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const ig=L(\"Minus\",[[\"path\",{d:\"M5 12h14\",key:\"1ays0h\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Un=L(\"Moon\",[[\"path\",{d:\"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\",key:\"a7tn18\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const lg=L(\"Mouse\",[[\"rect\",{x:\"5\",y:\"2\",width:\"14\",height:\"20\",rx:\"7\",key:\"11ol66\"}],[\"path\",{d:\"M12 6v4\",key:\"16clxf\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Pc=L(\"Music\",[[\"path\",{d:\"M9 18V5l12-2v13\",key:\"1jmyc2\"}],[\"circle\",{cx:\"6\",cy:\"18\",r:\"3\",key:\"fqmcym\"}],[\"circle\",{cx:\"18\",cy:\"16\",r:\"3\",key:\"1hluhg\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ec=L(\"Palette\",[[\"circle\",{cx:\"13.5\",cy:\"6.5\",r:\".5\",fill:\"currentColor\",key:\"1okk4w\"}],[\"circle\",{cx:\"17.5\",cy:\"10.5\",r:\".5\",fill:\"currentColor\",key:\"f64h9f\"}],[\"circle\",{cx:\"8.5\",cy:\"7.5\",r:\".5\",fill:\"currentColor\",key:\"fotxhn\"}],[\"circle\",{cx:\"6.5\",cy:\"12.5\",r:\".5\",fill:\"currentColor\",key:\"qy21gx\"}],[\"path\",{d:\"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z\",key:\"12rzf8\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Mf=L(\"Pause\",[[\"rect\",{x:\"14\",y:\"4\",width:\"4\",height:\"16\",rx:\"1\",key:\"zuxfzm\"}],[\"rect\",{x:\"6\",y:\"4\",width:\"4\",height:\"16\",rx:\"1\",key:\"1okwgv\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const zP=L(\"PenTool\",[[\"path\",{d:\"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z\",key:\"nt11vn\"}],[\"path\",{d:\"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18\",key:\"15qc1e\"}],[\"path\",{d:\"m2.3 2.3 7.286 7.286\",key:\"1wuzzi\"}],[\"circle\",{cx:\"11\",cy:\"11\",r:\"2\",key:\"xmgehs\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const BP=L(\"PhoneOff\",[[\"path\",{d:\"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91\",key:\"z86iuo\"}],[\"line\",{x1:\"22\",x2:\"2\",y1:\"2\",y2:\"22\",key:\"11kh81\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const fo=L(\"Phone\",[[\"path\",{d:\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\",key:\"foiqr5\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Fw=L(\"Pill\",[[\"path\",{d:\"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z\",key:\"wa1lgi\"}],[\"path\",{d:\"m8.5 8.5 7 7\",key:\"rvfmvr\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const pt=L(\"Play\",[[\"polygon\",{points:\"6 3 20 12 6 21 6 3\",key:\"1oa8hb\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Kt=L(\"Plus\",[[\"path\",{d:\"M5 12h14\",key:\"1ays0h\"}],[\"path\",{d:\"M12 5v14\",key:\"s699le\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const HP=L(\"Puzzle\",[[\"path\",{d:\"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z\",key:\"i0oyt7\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const $w=L(\"Quote\",[[\"path\",{d:\"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\",key:\"rib7q0\"}],[\"path\",{d:\"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\",key:\"1ymkrd\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const ql=L(\"Radio\",[[\"path\",{d:\"M4.9 19.1C1 15.2 1 8.8 4.9 4.9\",key:\"1vaf9d\"}],[\"path\",{d:\"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5\",key:\"u1ii0m\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"2\",key:\"1c9p78\"}],[\"path\",{d:\"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5\",key:\"1j5fej\"}],[\"path\",{d:\"M19.1 4.9C23 8.8 23 15.1 19.1 19\",key:\"10b0cb\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const zw=L(\"RefreshCw\",[[\"path\",{d:\"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\",key:\"v9h5vc\"}],[\"path\",{d:\"M21 3v5h-5\",key:\"1q7to0\"}],[\"path\",{d:\"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\",key:\"3uifl3\"}],[\"path\",{d:\"M8 16H3v5\",key:\"1cv678\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const po=L(\"RotateCcw\",[[\"path\",{d:\"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\",key:\"1357e3\"}],[\"path\",{d:\"M3 3v5h5\",key:\"1xhq8a\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ea=L(\"Save\",[[\"path\",{d:\"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",key:\"1c8476\"}],[\"path\",{d:\"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\",key:\"1ydtos\"}],[\"path\",{d:\"M7 3v4a1 1 0 0 0 1 1h7\",key:\"t51u73\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const mr=L(\"Search\",[[\"circle\",{cx:\"11\",cy:\"11\",r:\"8\",key:\"4ej97u\"}],[\"path\",{d:\"m21 21-4.3-4.3\",key:\"1qie3q\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Tf=L(\"Send\",[[\"path\",{d:\"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",key:\"1ffxy3\"}],[\"path\",{d:\"m21.854 2.147-10.94 10.939\",key:\"12cjpa\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Bw=L(\"Settings\",[[\"path\",{d:\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\",key:\"1qme2f\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"3\",key:\"1v7zrd\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Hw=L(\"Share2\",[[\"circle\",{cx:\"18\",cy:\"5\",r:\"3\",key:\"gq8acd\"}],[\"circle\",{cx:\"6\",cy:\"12\",r:\"3\",key:\"w7nqdw\"}],[\"circle\",{cx:\"18\",cy:\"19\",r:\"3\",key:\"1xt0gg\"}],[\"line\",{x1:\"8.59\",x2:\"15.42\",y1:\"13.51\",y2:\"17.49\",key:\"47mynk\"}],[\"line\",{x1:\"15.41\",x2:\"8.59\",y1:\"6.51\",y2:\"10.49\",key:\"1n3mei\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const VP=L(\"Share\",[[\"path\",{d:\"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8\",key:\"1b2hhj\"}],[\"polyline\",{points:\"16 6 12 2 8 6\",key:\"m901s6\"}],[\"line\",{x1:\"12\",x2:\"12\",y1:\"2\",y2:\"15\",key:\"1p0rca\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const cg=L(\"ShieldQuestion\",[[\"path\",{d:\"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",key:\"oel41y\"}],[\"path\",{d:\"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3\",key:\"mhlwft\"}],[\"path\",{d:\"M12 17h.01\",key:\"p32p05\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const to=L(\"Shield\",[[\"path\",{d:\"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",key:\"oel41y\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ao=L(\"ShoppingCart\",[[\"circle\",{cx:\"8\",cy:\"21\",r:\"1\",key:\"jimo8o\"}],[\"circle\",{cx:\"19\",cy:\"21\",r:\"1\",key:\"13723u\"}],[\"path\",{d:\"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12\",key:\"9zh506\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const xo=L(\"Shuffle\",[[\"path\",{d:\"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22\",key:\"1wmou1\"}],[\"path\",{d:\"m18 2 4 4-4 4\",key:\"pucp1d\"}],[\"path\",{d:\"M2 6h1.9c1.5 0 2.9.9 3.6 2.2\",key:\"10bdb2\"}],[\"path\",{d:\"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8\",key:\"vgxac0\"}],[\"path\",{d:\"m18 14 4 4-4 4\",key:\"10pe0f\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const WP=L(\"SkipBack\",[[\"polygon\",{points:\"19 20 9 12 19 4 19 20\",key:\"o2sva\"}],[\"line\",{x1:\"5\",x2:\"5\",y1:\"19\",y2:\"5\",key:\"1ocqjk\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const GP=L(\"SkipForward\",[[\"polygon\",{points:\"5 4 15 12 5 20 5 4\",key:\"16p6eg\"}],[\"line\",{x1:\"19\",x2:\"19\",y1:\"5\",y2:\"19\",key:\"futhcm\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const dg=L(\"Smile\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"path\",{d:\"M8 14s1.5 2 4 2 4-2 4-2\",key:\"1y1vjs\"}],[\"line\",{x1:\"9\",x2:\"9.01\",y1:\"9\",y2:\"9\",key:\"yxxnd0\"}],[\"line\",{x1:\"15\",x2:\"15.01\",y1:\"9\",y2:\"9\",key:\"1p4y9e\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const is=L(\"Sparkles\",[[\"path\",{d:\"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z\",key:\"4pj2yx\"}],[\"path\",{d:\"M20 3v4\",key:\"1olli1\"}],[\"path\",{d:\"M22 5h-4\",key:\"1gvqau\"}],[\"path\",{d:\"M4 17v2\",key:\"vumght\"}],[\"path\",{d:\"M5 18H3\",key:\"zchphs\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const UP=L(\"SquarePen\",[[\"path\",{d:\"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\",key:\"1m0v6g\"}],[\"path\",{d:\"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z\",key:\"ohrbg2\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Hn=L(\"Star\",[[\"polygon\",{points:\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\",key:\"8f66p6\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Cr=L(\"Stethoscope\",[[\"path\",{d:\"M11 2v2\",key:\"1539x4\"}],[\"path\",{d:\"M5 2v2\",key:\"1yf1q8\"}],[\"path\",{d:\"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1\",key:\"rb5t3r\"}],[\"path\",{d:\"M8 15a6 6 0 0 0 12 0v-3\",key:\"x18d4x\"}],[\"circle\",{cx:\"20\",cy:\"10\",r:\"2\",key:\"ts1r5v\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Si=L(\"Sun\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"4\",key:\"4exip2\"}],[\"path\",{d:\"M12 2v2\",key:\"tus03m\"}],[\"path\",{d:\"M12 20v2\",key:\"1lh1kg\"}],[\"path\",{d:\"m4.93 4.93 1.41 1.41\",key:\"149t6j\"}],[\"path\",{d:\"m17.66 17.66 1.41 1.41\",key:\"ptbguv\"}],[\"path\",{d:\"M2 12h2\",key:\"1t8f8n\"}],[\"path\",{d:\"M20 12h2\",key:\"1q8mjw\"}],[\"path\",{d:\"m6.34 17.66-1.41 1.41\",key:\"1m8zz5\"}],[\"path\",{d:\"m19.07 4.93-1.41 1.41\",key:\"1shlcs\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const _r=L(\"Target\",[[\"circle\",{cx:\"12\",cy:\"12\",r:\"10\",key:\"1mglay\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"6\",key:\"1vlfrh\"}],[\"circle\",{cx:\"12\",cy:\"12\",r:\"2\",key:\"1c9p78\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const qP=L(\"ThumbsDown\",[[\"path\",{d:\"M17 14V2\",key:\"8ymqnk\"}],[\"path\",{d:\"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z\",key:\"m61m77\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Vw=L(\"ThumbsUp\",[[\"path\",{d:\"M7 10v12\",key:\"1qc93n\"}],[\"path\",{d:\"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z\",key:\"emmmcr\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Vo=L(\"Timer\",[[\"line\",{x1:\"10\",x2:\"14\",y1:\"2\",y2:\"2\",key:\"14vaq8\"}],[\"line\",{x1:\"12\",x2:\"15\",y1:\"14\",y2:\"11\",key:\"17fdiu\"}],[\"circle\",{cx:\"12\",cy:\"14\",r:\"8\",key:\"1e1u0o\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ww=L(\"Trash2\",[[\"path\",{d:\"M3 6h18\",key:\"d0wm0j\"}],[\"path\",{d:\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\",key:\"4alrt4\"}],[\"path\",{d:\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\",key:\"v07s0e\"}],[\"line\",{x1:\"10\",x2:\"10\",y1:\"11\",y2:\"17\",key:\"1uufr5\"}],[\"line\",{x1:\"14\",x2:\"14\",y1:\"11\",y2:\"17\",key:\"xtxkd\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const no=L(\"TrendingUp\",[[\"polyline\",{points:\"22 7 13.5 15.5 8.5 10.5 2 17\",key:\"126l90\"}],[\"polyline\",{points:\"16 7 22 7 22 13\",key:\"kwv8wd\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Ci=L(\"TriangleAlert\",[[\"path\",{d:\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\",key:\"wmoenq\"}],[\"path\",{d:\"M12 9v4\",key:\"juzpu7\"}],[\"path\",{d:\"M12 17h.01\",key:\"p32p05\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Gw=L(\"Trophy\",[[\"path\",{d:\"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\",key:\"17hqa7\"}],[\"path\",{d:\"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\",key:\"lmptdp\"}],[\"path\",{d:\"M4 22h16\",key:\"57wxv0\"}],[\"path\",{d:\"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\",key:\"1nw9bq\"}],[\"path\",{d:\"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\",key:\"1np0yb\"}],[\"path\",{d:\"M18 2H6v7a6 6 0 0 0 12 0V2Z\",key:\"u46fv3\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const er=L(\"Upload\",[[\"path\",{d:\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\",key:\"ih7n3h\"}],[\"polyline\",{points:\"17 8 12 3 7 8\",key:\"t8dd8p\"}],[\"line\",{x1:\"12\",x2:\"12\",y1:\"3\",y2:\"15\",key:\"widbto\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const ug=L(\"UserPlus\",[[\"path\",{d:\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\",key:\"1yyitq\"}],[\"circle\",{cx:\"9\",cy:\"7\",r:\"4\",key:\"nufk8\"}],[\"line\",{x1:\"19\",x2:\"19\",y1:\"8\",y2:\"14\",key:\"1bvyxn\"}],[\"line\",{x1:\"22\",x2:\"16\",y1:\"11\",y2:\"11\",key:\"1shjgl\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const so=L(\"User\",[[\"path\",{d:\"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\",key:\"975kel\"}],[\"circle\",{cx:\"12\",cy:\"7\",r:\"4\",key:\"17ys0d\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const tt=L(\"Users\",[[\"path\",{d:\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\",key:\"1yyitq\"}],[\"circle\",{cx:\"9\",cy:\"7\",r:\"4\",key:\"nufk8\"}],[\"path\",{d:\"M22 21v-2a4 4 0 0 0-3-3.87\",key:\"kshegd\"}],[\"path\",{d:\"M16 3.13a4 4 0 0 1 0 7.75\",key:\"1da9ce\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const KP=L(\"VideoOff\",[[\"path\",{d:\"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196\",key:\"w8jjjt\"}],[\"path\",{d:\"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2\",key:\"1xawa7\"}],[\"path\",{d:\"m2 2 20 20\",key:\"1ooewy\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const ws=L(\"Video\",[[\"path\",{d:\"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5\",key:\"ftymec\"}],[\"rect\",{x:\"2\",y:\"6\",width:\"14\",height:\"12\",rx:\"2\",key:\"158x01\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Jm=L(\"Volume2\",[[\"path\",{d:\"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z\",key:\"uqj9uw\"}],[\"path\",{d:\"M16 9a5 5 0 0 1 0 6\",key:\"1q6k2b\"}],[\"path\",{d:\"M19.364 18.364a9 9 0 0 0 0-12.728\",key:\"ijwkga\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const QP=L(\"Waves\",[[\"path\",{d:\"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1\",key:\"knzxuh\"}],[\"path\",{d:\"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1\",key:\"2jd2cc\"}],[\"path\",{d:\"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1\",key:\"rd2r6e\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const Mc=L(\"Wind\",[[\"path\",{d:\"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2\",key:\"1k4u03\"}],[\"path\",{d:\"M9.6 4.6A2 2 0 1 1 11 8H2\",key:\"b7d0fd\"}],[\"path\",{d:\"M12.6 19.4A2 2 0 1 0 14 16H2\",key:\"1p5cb3\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const hr=L(\"X\",[[\"path\",{d:\"M18 6 6 18\",key:\"1bl5f8\"}],[\"path\",{d:\"m6 6 12 12\",key:\"d8bk6v\"}]]);/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */const dd=L(\"Zap\",[[\"path\",{d:\"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\",key:\"1xq2db\"}]]),Rf=\"-\",YP=e=>{const t=JP(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Rf);return l[0]===\"\"&&l.length!==1&&l.shift(),Uw(l,t)||XP(i)},getConflictingClassGroupIds:(i,l)=>{const c=s[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},Uw=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),a=r?Uw(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Rf);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},mg=/^\\[(.+)\\]$/,XP=e=>{if(mg.test(e)){const t=mg.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(\":\"));if(s)return\"arbitrary..\"+s}},JP=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return e3(Object.entries(e.classGroups),s).forEach(([o,i])=>{Zm(i,r,o,t)}),r},Zm=(e,t,s,r)=>{e.forEach(a=>{if(typeof a==\"string\"){const o=a===\"\"?t:hg(t,a);o.classGroupId=s;return}if(typeof a==\"function\"){if(ZP(a)){Zm(a(r),t,s,r);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([o,i])=>{Zm(i,hg(t,o),s,r)})})},hg=(e,t)=>{let s=e;return t.split(Rf).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},ZP=e=>e.isThemeGetter,e3=(e,t)=>t?e.map(([s,r])=>{const a=r.map(o=>typeof o==\"string\"?t+o:typeof o==\"object\"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[s,a]}):e,t3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const a=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,r=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return a(o,i),i},set(o,i){s.has(o)?s.set(o,i):a(o,i)}}},qw=\"!\",n3=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let u=0,h=0,f;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===a&&(r||l.slice(b,b+o)===t)){c.push(l.slice(h,b)),h=b+o;continue}if(y===\"/\"){f=b;continue}}y===\"[\"?u++:y===\"]\"&&u--}const m=c.length===0?l:l.substring(h),x=m.startsWith(qw),g=x?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:v}};return s?l=>s({className:l,parseClassName:i}):i},s3=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]===\"[\"?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},r3=e=>({cache:t3(e.cacheSize),parseClassName:n3(e),...YP(e)}),a3=/\\s+/,o3=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(a3);let l=\"\";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:x}=s(u);let g=!!x,v=r(g?m.substring(0,x):m);if(!v){if(!g){l=u+(l.length>0?\" \"+l:l);continue}if(v=r(m),!v){l=u+(l.length>0?\" \"+l:l);continue}g=!1}const b=s3(h).join(\":\"),y=f?b+qw:b,p=y+v;if(o.includes(p))continue;o.push(p);const w=a(v,g);for(let j=0;j<w.length;++j){const N=w[j];o.push(y+N)}l=u+(l.length>0?\" \"+l:l)}return l};function i3(){let e=0,t,s,r=\"\";for(;e<arguments.length;)(t=arguments[e++])&&(s=Kw(t))&&(r&&(r+=\" \"),r+=s);return r}const Kw=e=>{if(typeof e==\"string\")return e;let t,s=\"\";for(let r=0;r<e.length;r++)e[r]&&(t=Kw(e[r]))&&(s&&(s+=\" \"),s+=t);return s};function l3(e,...t){let s,r,a,o=i;function i(c){const u=t.reduce((h,f)=>f(h),e());return s=r3(u),r=s.cache.get,a=s.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=o3(c,s);return a(c,h),h}return function(){return o(i3.apply(null,arguments))}}const Te=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Qw=/^\\[(?:([a-z-]+):)?(.+)\\]$/i,c3=/^\\d+\\/\\d+$/,d3=new Set([\"px\",\"full\",\"screen\"]),u3=/^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/,m3=/\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/,h3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/,f3=/^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/,p3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/,Zn=e=>Ma(e)||d3.has(e)||c3.test(e),Cs=e=>go(e,\"length\",N3),Ma=e=>!!e&&!Number.isNaN(Number(e)),wu=e=>go(e,\"number\",Ma),Io=e=>!!e&&Number.isInteger(Number(e)),x3=e=>e.endsWith(\"%\")&&Ma(e.slice(0,-1)),me=e=>Qw.test(e),ks=e=>u3.test(e),g3=new Set([\"length\",\"size\",\"percentage\"]),v3=e=>go(e,g3,Yw),y3=e=>go(e,\"position\",Yw),w3=new Set([\"image\",\"url\"]),b3=e=>go(e,w3,C3),j3=e=>go(e,\"\",S3),Do=()=>!0,go=(e,t,s)=>{const r=Qw.exec(e);return r?r[1]?typeof t==\"string\"?r[1]===t:t.has(r[1]):s(r[2]):!1},N3=e=>m3.test(e)&&!h3.test(e),Yw=()=>!1,S3=e=>f3.test(e),C3=e=>p3.test(e),k3=()=>{const e=Te(\"colors\"),t=Te(\"spacing\"),s=Te(\"blur\"),r=Te(\"brightness\"),a=Te(\"borderColor\"),o=Te(\"borderRadius\"),i=Te(\"borderSpacing\"),l=Te(\"borderWidth\"),c=Te(\"contrast\"),u=Te(\"grayscale\"),h=Te(\"hueRotate\"),f=Te(\"invert\"),m=Te(\"gap\"),x=Te(\"gradientColorStops\"),g=Te(\"gradientColorStopPositions\"),v=Te(\"inset\"),b=Te(\"margin\"),y=Te(\"opacity\"),p=Te(\"padding\"),w=Te(\"saturate\"),j=Te(\"scale\"),N=Te(\"sepia\"),S=Te(\"skew\"),C=Te(\"space\"),k=Te(\"translate\"),P=()=>[\"auto\",\"contain\",\"none\"],A=()=>[\"auto\",\"hidden\",\"clip\",\"visible\",\"scroll\"],O=()=>[\"auto\",me,t],T=()=>[me,t],H=()=>[\"\",Zn,Cs],_=()=>[\"auto\",Ma,me],Z=()=>[\"bottom\",\"center\",\"left\",\"left-bottom\",\"left-top\",\"right\",\"right-bottom\",\"right-top\",\"top\"],K=()=>[\"solid\",\"dashed\",\"dotted\",\"double\",\"none\"],te=()=>[\"normal\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"hue\",\"saturation\",\"color\",\"luminosity\"],I=()=>[\"start\",\"end\",\"center\",\"between\",\"around\",\"evenly\",\"stretch\"],D=()=>[\"\",\"0\",me],G=()=>[\"auto\",\"avoid\",\"all\",\"avoid-page\",\"page\",\"left\",\"right\",\"column\"],ae=()=>[Ma,me];return{cacheSize:500,separator:\":\",theme:{colors:[Do],spacing:[Zn,Cs],blur:[\"none\",\"\",ks,me],brightness:ae(),borderColor:[e],borderRadius:[\"none\",\"\",\"full\",ks,me],borderSpacing:T(),borderWidth:H(),contrast:ae(),grayscale:D(),hueRotate:ae(),invert:D(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[x3,Cs],inset:O(),margin:O(),opacity:ae(),padding:T(),saturate:ae(),scale:ae(),sepia:D(),skew:ae(),space:T(),translate:T()},classGroups:{aspect:[{aspect:[\"auto\",\"square\",\"video\",me]}],container:[\"container\"],columns:[{columns:[ks]}],\"break-after\":[{\"break-after\":G()}],\"break-before\":[{\"break-before\":G()}],\"break-inside\":[{\"break-inside\":[\"auto\",\"avoid\",\"avoid-page\",\"avoid-column\"]}],\"box-decoration\":[{\"box-decoration\":[\"slice\",\"clone\"]}],box:[{box:[\"border\",\"content\"]}],display:[\"block\",\"inline-block\",\"inline\",\"flex\",\"inline-flex\",\"table\",\"inline-table\",\"table-caption\",\"table-cell\",\"table-column\",\"table-column-group\",\"table-footer-group\",\"table-header-group\",\"table-row-group\",\"table-row\",\"flow-root\",\"grid\",\"inline-grid\",\"contents\",\"list-item\",\"hidden\"],float:[{float:[\"right\",\"left\",\"none\",\"start\",\"end\"]}],clear:[{clear:[\"left\",\"right\",\"both\",\"none\",\"start\",\"end\"]}],isolation:[\"isolate\",\"isolation-auto\"],\"object-fit\":[{object:[\"contain\",\"cover\",\"fill\",\"none\",\"scale-down\"]}],\"object-position\":[{object:[...Z(),me]}],overflow:[{overflow:A()}],\"overflow-x\":[{\"overflow-x\":A()}],\"overflow-y\":[{\"overflow-y\":A()}],overscroll:[{overscroll:P()}],\"overscroll-x\":[{\"overscroll-x\":P()}],\"overscroll-y\":[{\"overscroll-y\":P()}],position:[\"static\",\"fixed\",\"absolute\",\"relative\",\"sticky\"],inset:[{inset:[v]}],\"inset-x\":[{\"inset-x\":[v]}],\"inset-y\":[{\"inset-y\":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:[\"visible\",\"invisible\",\"collapse\"],z:[{z:[\"auto\",Io,me]}],basis:[{basis:O()}],\"flex-direction\":[{flex:[\"row\",\"row-reverse\",\"col\",\"col-reverse\"]}],\"flex-wrap\":[{flex:[\"wrap\",\"wrap-reverse\",\"nowrap\"]}],flex:[{flex:[\"1\",\"auto\",\"initial\",\"none\",me]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:[\"first\",\"last\",\"none\",Io,me]}],\"grid-cols\":[{\"grid-cols\":[Do]}],\"col-start-end\":[{col:[\"auto\",{span:[\"full\",Io,me]},me]}],\"col-start\":[{\"col-start\":_()}],\"col-end\":[{\"col-end\":_()}],\"grid-rows\":[{\"grid-rows\":[Do]}],\"row-start-end\":[{row:[\"auto\",{span:[Io,me]},me]}],\"row-start\":[{\"row-start\":_()}],\"row-end\":[{\"row-end\":_()}],\"grid-flow\":[{\"grid-flow\":[\"row\",\"col\",\"dense\",\"row-dense\",\"col-dense\"]}],\"auto-cols\":[{\"auto-cols\":[\"auto\",\"min\",\"max\",\"fr\",me]}],\"auto-rows\":[{\"auto-rows\":[\"auto\",\"min\",\"max\",\"fr\",me]}],gap:[{gap:[m]}],\"gap-x\":[{\"gap-x\":[m]}],\"gap-y\":[{\"gap-y\":[m]}],\"justify-content\":[{justify:[\"normal\",...I()]}],\"justify-items\":[{\"justify-items\":[\"start\",\"end\",\"center\",\"stretch\"]}],\"justify-self\":[{\"justify-self\":[\"auto\",\"start\",\"end\",\"center\",\"stretch\"]}],\"align-content\":[{content:[\"normal\",...I(),\"baseline\"]}],\"align-items\":[{items:[\"start\",\"end\",\"center\",\"baseline\",\"stretch\"]}],\"align-self\":[{self:[\"auto\",\"start\",\"end\",\"center\",\"stretch\",\"baseline\"]}],\"place-content\":[{\"place-content\":[...I(),\"baseline\"]}],\"place-items\":[{\"place-items\":[\"start\",\"end\",\"center\",\"baseline\",\"stretch\"]}],\"place-self\":[{\"place-self\":[\"auto\",\"start\",\"end\",\"center\",\"stretch\"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],\"space-x\":[{\"space-x\":[C]}],\"space-x-reverse\":[\"space-x-reverse\"],\"space-y\":[{\"space-y\":[C]}],\"space-y-reverse\":[\"space-y-reverse\"],w:[{w:[\"auto\",\"min\",\"max\",\"fit\",\"svw\",\"lvw\",\"dvw\",me,t]}],\"min-w\":[{\"min-w\":[me,t,\"min\",\"max\",\"fit\"]}],\"max-w\":[{\"max-w\":[me,t,\"none\",\"full\",\"min\",\"max\",\"fit\",\"prose\",{screen:[ks]},ks]}],h:[{h:[me,t,\"auto\",\"min\",\"max\",\"fit\",\"svh\",\"lvh\",\"dvh\"]}],\"min-h\":[{\"min-h\":[me,t,\"min\",\"max\",\"fit\",\"svh\",\"lvh\",\"dvh\"]}],\"max-h\":[{\"max-h\":[me,t,\"min\",\"max\",\"fit\",\"svh\",\"lvh\",\"dvh\"]}],size:[{size:[me,t,\"auto\",\"min\",\"max\",\"fit\"]}],\"font-size\":[{text:[\"base\",ks,Cs]}],\"font-smoothing\":[\"antialiased\",\"subpixel-antialiased\"],\"font-style\":[\"italic\",\"not-italic\"],\"font-weight\":[{font:[\"thin\",\"extralight\",\"light\",\"normal\",\"medium\",\"semibold\",\"bold\",\"extrabold\",\"black\",wu]}],\"font-family\":[{font:[Do]}],\"fvn-normal\":[\"normal-nums\"],\"fvn-ordinal\":[\"ordinal\"],\"fvn-slashed-zero\":[\"slashed-zero\"],\"fvn-figure\":[\"lining-nums\",\"oldstyle-nums\"],\"fvn-spacing\":[\"proportional-nums\",\"tabular-nums\"],\"fvn-fraction\":[\"diagonal-fractions\",\"stacked-fractions\"],tracking:[{tracking:[\"tighter\",\"tight\",\"normal\",\"wide\",\"wider\",\"widest\",me]}],\"line-clamp\":[{\"line-clamp\":[\"none\",Ma,wu]}],leading:[{leading:[\"none\",\"tight\",\"snug\",\"normal\",\"relaxed\",\"loose\",Zn,me]}],\"list-image\":[{\"list-image\":[\"none\",me]}],\"list-style-type\":[{list:[\"none\",\"disc\",\"decimal\",me]}],\"list-style-position\":[{list:[\"inside\",\"outside\"]}],\"placeholder-color\":[{placeholder:[e]}],\"placeholder-opacity\":[{\"placeholder-opacity\":[y]}],\"text-alignment\":[{text:[\"left\",\"center\",\"right\",\"justify\",\"start\",\"end\"]}],\"text-color\":[{text:[e]}],\"text-opacity\":[{\"text-opacity\":[y]}],\"text-decoration\":[\"underline\",\"overline\",\"line-through\",\"no-underline\"],\"text-decoration-style\":[{decoration:[...K(),\"wavy\"]}],\"text-decoration-thickness\":[{decoration:[\"auto\",\"from-font\",Zn,Cs]}],\"underline-offset\":[{\"underline-offset\":[\"auto\",Zn,me]}],\"text-decoration-color\":[{decoration:[e]}],\"text-transform\":[\"uppercase\",\"lowercase\",\"capitalize\",\"normal-case\"],\"text-overflow\":[\"truncate\",\"text-ellipsis\",\"text-clip\"],\"text-wrap\":[{text:[\"wrap\",\"nowrap\",\"balance\",\"pretty\"]}],indent:[{indent:T()}],\"vertical-align\":[{align:[\"baseline\",\"top\",\"middle\",\"bottom\",\"text-top\",\"text-bottom\",\"sub\",\"super\",me]}],whitespace:[{whitespace:[\"normal\",\"nowrap\",\"pre\",\"pre-line\",\"pre-wrap\",\"break-spaces\"]}],break:[{break:[\"normal\",\"words\",\"all\",\"keep\"]}],hyphens:[{hyphens:[\"none\",\"manual\",\"auto\"]}],content:[{content:[\"none\",me]}],\"bg-attachment\":[{bg:[\"fixed\",\"local\",\"scroll\"]}],\"bg-clip\":[{\"bg-clip\":[\"border\",\"padding\",\"content\",\"text\"]}],\"bg-opacity\":[{\"bg-opacity\":[y]}],\"bg-origin\":[{\"bg-origin\":[\"border\",\"padding\",\"content\"]}],\"bg-position\":[{bg:[...Z(),y3]}],\"bg-repeat\":[{bg:[\"no-repeat\",{repeat:[\"\",\"x\",\"y\",\"round\",\"space\"]}]}],\"bg-size\":[{bg:[\"auto\",\"cover\",\"contain\",v3]}],\"bg-image\":[{bg:[\"none\",{\"gradient-to\":[\"t\",\"tr\",\"r\",\"br\",\"b\",\"bl\",\"l\",\"tl\"]},b3]}],\"bg-color\":[{bg:[e]}],\"gradient-from-pos\":[{from:[g]}],\"gradient-via-pos\":[{via:[g]}],\"gradient-to-pos\":[{to:[g]}],\"gradient-from\":[{from:[x]}],\"gradient-via\":[{via:[x]}],\"gradient-to\":[{to:[x]}],rounded:[{rounded:[o]}],\"rounded-s\":[{\"rounded-s\":[o]}],\"rounded-e\":[{\"rounded-e\":[o]}],\"rounded-t\":[{\"rounded-t\":[o]}],\"rounded-r\":[{\"rounded-r\":[o]}],\"rounded-b\":[{\"rounded-b\":[o]}],\"rounded-l\":[{\"rounded-l\":[o]}],\"rounded-ss\":[{\"rounded-ss\":[o]}],\"rounded-se\":[{\"rounded-se\":[o]}],\"rounded-ee\":[{\"rounded-ee\":[o]}],\"rounded-es\":[{\"rounded-es\":[o]}],\"rounded-tl\":[{\"rounded-tl\":[o]}],\"rounded-tr\":[{\"rounded-tr\":[o]}],\"rounded-br\":[{\"rounded-br\":[o]}],\"rounded-bl\":[{\"rounded-bl\":[o]}],\"border-w\":[{border:[l]}],\"border-w-x\":[{\"border-x\":[l]}],\"border-w-y\":[{\"border-y\":[l]}],\"border-w-s\":[{\"border-s\":[l]}],\"border-w-e\":[{\"border-e\":[l]}],\"border-w-t\":[{\"border-t\":[l]}],\"border-w-r\":[{\"border-r\":[l]}],\"border-w-b\":[{\"border-b\":[l]}],\"border-w-l\":[{\"border-l\":[l]}],\"border-opacity\":[{\"border-opacity\":[y]}],\"border-style\":[{border:[...K(),\"hidden\"]}],\"divide-x\":[{\"divide-x\":[l]}],\"divide-x-reverse\":[\"divide-x-reverse\"],\"divide-y\":[{\"divide-y\":[l]}],\"divide-y-reverse\":[\"divide-y-reverse\"],\"divide-opacity\":[{\"divide-opacity\":[y]}],\"divide-style\":[{divide:K()}],\"border-color\":[{border:[a]}],\"border-color-x\":[{\"border-x\":[a]}],\"border-color-y\":[{\"border-y\":[a]}],\"border-color-s\":[{\"border-s\":[a]}],\"border-color-e\":[{\"border-e\":[a]}],\"border-color-t\":[{\"border-t\":[a]}],\"border-color-r\":[{\"border-r\":[a]}],\"border-color-b\":[{\"border-b\":[a]}],\"border-color-l\":[{\"border-l\":[a]}],\"divide-color\":[{divide:[a]}],\"outline-style\":[{outline:[\"\",...K()]}],\"outline-offset\":[{\"outline-offset\":[Zn,me]}],\"outline-w\":[{outline:[Zn,Cs]}],\"outline-color\":[{outline:[e]}],\"ring-w\":[{ring:H()}],\"ring-w-inset\":[\"ring-inset\"],\"ring-color\":[{ring:[e]}],\"ring-opacity\":[{\"ring-opacity\":[y]}],\"ring-offset-w\":[{\"ring-offset\":[Zn,Cs]}],\"ring-offset-color\":[{\"ring-offset\":[e]}],shadow:[{shadow:[\"\",\"inner\",\"none\",ks,j3]}],\"shadow-color\":[{shadow:[Do]}],opacity:[{opacity:[y]}],\"mix-blend\":[{\"mix-blend\":[...te(),\"plus-lighter\",\"plus-darker\"]}],\"bg-blend\":[{\"bg-blend\":te()}],filter:[{filter:[\"\",\"none\"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],\"drop-shadow\":[{\"drop-shadow\":[\"\",\"none\",ks,me]}],grayscale:[{grayscale:[u]}],\"hue-rotate\":[{\"hue-rotate\":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],\"backdrop-filter\":[{\"backdrop-filter\":[\"\",\"none\"]}],\"backdrop-blur\":[{\"backdrop-blur\":[s]}],\"backdrop-brightness\":[{\"backdrop-brightness\":[r]}],\"backdrop-contrast\":[{\"backdrop-contrast\":[c]}],\"backdrop-grayscale\":[{\"backdrop-grayscale\":[u]}],\"backdrop-hue-rotate\":[{\"backdrop-hue-rotate\":[h]}],\"backdrop-invert\":[{\"backdrop-invert\":[f]}],\"backdrop-opacity\":[{\"backdrop-opacity\":[y]}],\"backdrop-saturate\":[{\"backdrop-saturate\":[w]}],\"backdrop-sepia\":[{\"backdrop-sepia\":[N]}],\"border-collapse\":[{border:[\"collapse\",\"separate\"]}],\"border-spacing\":[{\"border-spacing\":[i]}],\"border-spacing-x\":[{\"border-spacing-x\":[i]}],\"border-spacing-y\":[{\"border-spacing-y\":[i]}],\"table-layout\":[{table:[\"auto\",\"fixed\"]}],caption:[{caption:[\"top\",\"bottom\"]}],transition:[{transition:[\"none\",\"all\",\"\",\"colors\",\"opacity\",\"shadow\",\"transform\",me]}],duration:[{duration:ae()}],ease:[{ease:[\"linear\",\"in\",\"out\",\"in-out\",me]}],delay:[{delay:ae()}],animate:[{animate:[\"none\",\"spin\",\"ping\",\"pulse\",\"bounce\",me]}],transform:[{transform:[\"\",\"gpu\",\"none\"]}],scale:[{scale:[j]}],\"scale-x\":[{\"scale-x\":[j]}],\"scale-y\":[{\"scale-y\":[j]}],rotate:[{rotate:[Io,me]}],\"translate-x\":[{\"translate-x\":[k]}],\"translate-y\":[{\"translate-y\":[k]}],\"skew-x\":[{\"skew-x\":[S]}],\"skew-y\":[{\"skew-y\":[S]}],\"transform-origin\":[{origin:[\"center\",\"top\",\"top-right\",\"right\",\"bottom-right\",\"bottom\",\"bottom-left\",\"left\",\"top-left\",me]}],accent:[{accent:[\"auto\",e]}],appearance:[{appearance:[\"none\",\"auto\"]}],cursor:[{cursor:[\"auto\",\"default\",\"pointer\",\"wait\",\"text\",\"move\",\"help\",\"not-allowed\",\"none\",\"context-menu\",\"progress\",\"cell\",\"crosshair\",\"vertical-text\",\"alias\",\"copy\",\"no-drop\",\"grab\",\"grabbing\",\"all-scroll\",\"col-resize\",\"row-resize\",\"n-resize\",\"e-resize\",\"s-resize\",\"w-resize\",\"ne-resize\",\"nw-resize\",\"se-resize\",\"sw-resize\",\"ew-resize\",\"ns-resize\",\"nesw-resize\",\"nwse-resize\",\"zoom-in\",\"zoom-out\",me]}],\"caret-color\":[{caret:[e]}],\"pointer-events\":[{\"pointer-events\":[\"none\",\"auto\"]}],resize:[{resize:[\"none\",\"y\",\"x\",\"\"]}],\"scroll-behavior\":[{scroll:[\"auto\",\"smooth\"]}],\"scroll-m\":[{\"scroll-m\":T()}],\"scroll-mx\":[{\"scroll-mx\":T()}],\"scroll-my\":[{\"scroll-my\":T()}],\"scroll-ms\":[{\"scroll-ms\":T()}],\"scroll-me\":[{\"scroll-me\":T()}],\"scroll-mt\":[{\"scroll-mt\":T()}],\"scroll-mr\":[{\"scroll-mr\":T()}],\"scroll-mb\":[{\"scroll-mb\":T()}],\"scroll-ml\":[{\"scroll-ml\":T()}],\"scroll-p\":[{\"scroll-p\":T()}],\"scroll-px\":[{\"scroll-px\":T()}],\"scroll-py\":[{\"scroll-py\":T()}],\"scroll-ps\":[{\"scroll-ps\":T()}],\"scroll-pe\":[{\"scroll-pe\":T()}],\"scroll-pt\":[{\"scroll-pt\":T()}],\"scroll-pr\":[{\"scroll-pr\":T()}],\"scroll-pb\":[{\"scroll-pb\":T()}],\"scroll-pl\":[{\"scroll-pl\":T()}],\"snap-align\":[{snap:[\"start\",\"end\",\"center\",\"align-none\"]}],\"snap-stop\":[{snap:[\"normal\",\"always\"]}],\"snap-type\":[{snap:[\"none\",\"x\",\"y\",\"both\"]}],\"snap-strictness\":[{snap:[\"mandatory\",\"proximity\"]}],touch:[{touch:[\"auto\",\"none\",\"manipulation\"]}],\"touch-x\":[{\"touch-pan\":[\"x\",\"left\",\"right\"]}],\"touch-y\":[{\"touch-pan\":[\"y\",\"up\",\"down\"]}],\"touch-pz\":[\"touch-pinch-zoom\"],select:[{select:[\"none\",\"text\",\"all\",\"auto\"]}],\"will-change\":[{\"will-change\":[\"auto\",\"scroll\",\"contents\",\"transform\",me]}],fill:[{fill:[e,\"none\"]}],\"stroke-w\":[{stroke:[Zn,Cs,wu]}],stroke:[{stroke:[e,\"none\"]}],sr:[\"sr-only\",\"not-sr-only\"],\"forced-color-adjust\":[{\"forced-color-adjust\":[\"auto\",\"none\"]}]},conflictingClassGroups:{overflow:[\"overflow-x\",\"overflow-y\"],overscroll:[\"overscroll-x\",\"overscroll-y\"],inset:[\"inset-x\",\"inset-y\",\"start\",\"end\",\"top\",\"right\",\"bottom\",\"left\"],\"inset-x\":[\"right\",\"left\"],\"inset-y\":[\"top\",\"bottom\"],flex:[\"basis\",\"grow\",\"shrink\"],gap:[\"gap-x\",\"gap-y\"],p:[\"px\",\"py\",\"ps\",\"pe\",\"pt\",\"pr\",\"pb\",\"pl\"],px:[\"pr\",\"pl\"],py:[\"pt\",\"pb\"],m:[\"mx\",\"my\",\"ms\",\"me\",\"mt\",\"mr\",\"mb\",\"ml\"],mx:[\"mr\",\"ml\"],my:[\"mt\",\"mb\"],size:[\"w\",\"h\"],\"font-size\":[\"leading\"],\"fvn-normal\":[\"fvn-ordinal\",\"fvn-slashed-zero\",\"fvn-figure\",\"fvn-spacing\",\"fvn-fraction\"],\"fvn-ordinal\":[\"fvn-normal\"],\"fvn-slashed-zero\":[\"fvn-normal\"],\"fvn-figure\":[\"fvn-normal\"],\"fvn-spacing\":[\"fvn-normal\"],\"fvn-fraction\":[\"fvn-normal\"],\"line-clamp\":[\"display\",\"overflow\"],rounded:[\"rounded-s\",\"rounded-e\",\"rounded-t\",\"rounded-r\",\"rounded-b\",\"rounded-l\",\"rounded-ss\",\"rounded-se\",\"rounded-ee\",\"rounded-es\",\"rounded-tl\",\"rounded-tr\",\"rounded-br\",\"rounded-bl\"],\"rounded-s\":[\"rounded-ss\",\"rounded-es\"],\"rounded-e\":[\"rounded-se\",\"rounded-ee\"],\"rounded-t\":[\"rounded-tl\",\"rounded-tr\"],\"rounded-r\":[\"rounded-tr\",\"rounded-br\"],\"rounded-b\":[\"rounded-br\",\"rounded-bl\"],\"rounded-l\":[\"rounded-tl\",\"rounded-bl\"],\"border-spacing\":[\"border-spacing-x\",\"border-spacing-y\"],\"border-w\":[\"border-w-s\",\"border-w-e\",\"border-w-t\",\"border-w-r\",\"border-w-b\",\"border-w-l\"],\"border-w-x\":[\"border-w-r\",\"border-w-l\"],\"border-w-y\":[\"border-w-t\",\"border-w-b\"],\"border-color\":[\"border-color-s\",\"border-color-e\",\"border-color-t\",\"border-color-r\",\"border-color-b\",\"border-color-l\"],\"border-color-x\":[\"border-color-r\",\"border-color-l\"],\"border-color-y\":[\"border-color-t\",\"border-color-b\"],\"scroll-m\":[\"scroll-mx\",\"scroll-my\",\"scroll-ms\",\"scroll-me\",\"scroll-mt\",\"scroll-mr\",\"scroll-mb\",\"scroll-ml\"],\"scroll-mx\":[\"scroll-mr\",\"scroll-ml\"],\"scroll-my\":[\"scroll-mt\",\"scroll-mb\"],\"scroll-p\":[\"scroll-px\",\"scroll-py\",\"scroll-ps\",\"scroll-pe\",\"scroll-pt\",\"scroll-pr\",\"scroll-pb\",\"scroll-pl\"],\"scroll-px\":[\"scroll-pr\",\"scroll-pl\"],\"scroll-py\":[\"scroll-pt\",\"scroll-pb\"],touch:[\"touch-x\",\"touch-y\",\"touch-pz\"],\"touch-x\":[\"touch\"],\"touch-y\":[\"touch\"],\"touch-pz\":[\"touch\"]},conflictingClassGroupModifiers:{\"font-size\":[\"leading\"]}}},P3=l3(k3);function Y(...e){return P3(Sw(e))}const E3=vP,Xw=d.forwardRef(({className:e,...t},s)=>n.jsx(gw,{ref:s,className:Y(\"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",e),...t}));Xw.displayName=gw.displayName;const M3=Vi(\"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",{variants:{variant:{default:\"border bg-background text-foreground\",destructive:\"destructive group border-destructive bg-destructive text-destructive-foreground\"}},defaultVariants:{variant:\"default\"}}),Jw=d.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(vw,{ref:r,className:Y(M3({variant:t}),e),...s}));Jw.displayName=vw.displayName;const T3=d.forwardRef(({className:e,...t},s)=>n.jsx(bw,{ref:s,className:Y(\"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",e),...t}));T3.displayName=bw.displayName;const Zw=d.forwardRef(({className:e,...t},s)=>n.jsx(jw,{ref:s,className:Y(\"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",e),\"toast-close\":\"\",...t,children:n.jsx(hr,{className:\"h-4 w-4\"})}));Zw.displayName=jw.displayName;const e1=d.forwardRef(({className:e,...t},s)=>n.jsx(yw,{ref:s,className:Y(\"text-sm font-semibold\",e),...t}));e1.displayName=yw.displayName;const t1=d.forwardRef(({className:e,...t},s)=>n.jsx(ww,{ref:s,className:Y(\"text-sm opacity-90\",e),...t}));t1.displayName=ww.displayName;function R3(){const{toasts:e}=nt();return n.jsxs(E3,{children:[e.map(function({id:t,title:s,description:r,action:a,...o}){return n.jsxs(Jw,{...o,children:[n.jsxs(\"div\",{className:\"grid gap-1\",children:[s&&n.jsx(e1,{children:s}),r&&n.jsx(t1,{children:r})]}),a,n.jsx(Zw,{})]},t)}),n.jsx(Xw,{})]})}var A3=Cv[\" useId \".trim().toString()]||(()=>{}),I3=0;function et(e){const[t,s]=d.useState(A3());return qe(()=>{s(r=>r??String(I3++))},[e]),t?`radix-${t}`:\"\"}const D3=[\"top\",\"right\",\"bottom\",\"left\"],ar=Math.min,Ut=Math.max,Tc=Math.round,Cl=Math.floor,Vn=e=>({x:e,y:e}),_3={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"},O3={start:\"end\",end:\"start\"};function eh(e,t,s){return Ut(e,ar(t,s))}function bs(e,t){return typeof e==\"function\"?e(t):e}function js(e){return e.split(\"-\")[0]}function vo(e){return e.split(\"-\")[1]}function Af(e){return e===\"x\"?\"y\":\"x\"}function If(e){return e===\"y\"?\"height\":\"width\"}function or(e){return[\"top\",\"bottom\"].includes(js(e))?\"y\":\"x\"}function Df(e){return Af(or(e))}function L3(e,t,s){s===void 0&&(s=!1);const r=vo(e),a=Df(e),o=If(a);let i=a===\"x\"?r===(s?\"end\":\"start\")?\"right\":\"left\":r===\"start\"?\"bottom\":\"top\";return t.reference[o]>t.floating[o]&&(i=Rc(i)),[i,Rc(i)]}function F3(e){const t=Rc(e);return[th(e),t,th(t)]}function th(e){return e.replace(/start|end/g,t=>O3[t])}function $3(e,t,s){const r=[\"left\",\"right\"],a=[\"right\",\"left\"],o=[\"top\",\"bottom\"],i=[\"bottom\",\"top\"];switch(e){case\"top\":case\"bottom\":return s?t?a:r:t?r:a;case\"left\":case\"right\":return t?o:i;default:return[]}}function z3(e,t,s,r){const a=vo(e);let o=$3(js(e),s===\"start\",r);return a&&(o=o.map(i=>i+\"-\"+a),t&&(o=o.concat(o.map(th)))),o}function Rc(e){return e.replace(/left|right|bottom|top/g,t=>_3[t])}function B3(e){return{top:0,right:0,bottom:0,left:0,...e}}function n1(e){return typeof e!=\"number\"?B3(e):{top:e,right:e,bottom:e,left:e}}function Ac(e){const{x:t,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:t,right:t+r,bottom:s+a,x:t,y:s}}function fg(e,t,s){let{reference:r,floating:a}=e;const o=or(t),i=Df(t),l=If(i),c=js(t),u=o===\"y\",h=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,m=r[l]/2-a[l]/2;let x;switch(c){case\"top\":x={x:h,y:r.y-a.height};break;case\"bottom\":x={x:h,y:r.y+r.height};break;case\"right\":x={x:r.x+r.width,y:f};break;case\"left\":x={x:r.x-a.width,y:f};break;default:x={x:r.x,y:r.y}}switch(vo(t)){case\"start\":x[i]-=m*(s&&u?-1:1);break;case\"end\":x[i]+=m*(s&&u?-1:1);break}return x}const H3=async(e,t,s)=>{const{placement:r=\"bottom\",strategy:a=\"absolute\",middleware:o=[],platform:i}=s,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:f}=fg(u,r,c),m=r,x={},g=0;for(let v=0;v<l.length;v++){const{name:b,fn:y}=l[v],{x:p,y:w,data:j,reset:N}=await y({x:h,y:f,initialPlacement:r,placement:m,strategy:a,middlewareData:x,rects:u,platform:i,elements:{reference:e,floating:t}});h=p??h,f=w??f,x={...x,[b]:{...x[b],...j}},N&&g<=50&&(g++,typeof N==\"object\"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:h,y:f}=fg(u,m,c)),v=-1)}return{x:h,y:f,placement:m,strategy:a,middlewareData:x}};async function ki(e,t){var s;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u=\"clippingAncestors\",rootBoundary:h=\"viewport\",elementContext:f=\"floating\",altBoundary:m=!1,padding:x=0}=bs(t,e),g=n1(x),b=l[m?f===\"floating\"?\"reference\":\"floating\":f],y=Ac(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(b)))==null||s?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),p=f===\"floating\"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Ac(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:c}):p);return{top:(y.top-N.top+g.top)/j.y,bottom:(N.bottom-y.bottom+g.bottom)/j.y,left:(y.left-N.left+g.left)/j.x,right:(N.right-y.right+g.right)/j.x}}const V3=e=>({name:\"arrow\",options:e,async fn(t){const{x:s,y:r,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=bs(e,t)||{};if(u==null)return{};const f=n1(h),m={x:s,y:r},x=Df(a),g=If(x),v=await i.getDimensions(u),b=x===\"y\",y=b?\"top\":\"left\",p=b?\"bottom\":\"right\",w=b?\"clientHeight\":\"clientWidth\",j=o.reference[g]+o.reference[x]-m[x]-o.floating[g],N=m[x]-o.reference[x],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=S?S[w]:0;(!C||!await(i.isElement==null?void 0:i.isElement(S)))&&(C=l.floating[w]||o.floating[g]);const k=j/2-N/2,P=C/2-v[g]/2-1,A=ar(f[y],P),O=ar(f[p],P),T=A,H=C-v[g]-O,_=C/2-v[g]/2+k,Z=eh(T,_,H),K=!c.arrow&&vo(a)!=null&&_!==Z&&o.reference[g]/2-(_<T?A:O)-v[g]/2<0,te=K?_<T?_-T:_-H:0;return{[x]:m[x]+te,data:{[x]:Z,centerOffset:_-Z-te,...K&&{alignmentOffset:te}},reset:K}}}),W3=function(e){return e===void 0&&(e={}),{name:\"flip\",options:e,async fn(t){var s,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:x=\"bestFit\",fallbackAxisSideDirection:g=\"none\",flipAlignment:v=!0,...b}=bs(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const y=js(a),p=or(l),w=js(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(w||!v?[Rc(l)]:F3(l)),S=g!==\"none\";!m&&S&&N.push(...z3(l,v,g,j));const C=[l,...N],k=await ki(t,b),P=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&P.push(k[y]),f){const _=L3(a,i,j);P.push(k[_[0]],k[_[1]])}if(A=[...A,{placement:a,overflows:P}],!P.every(_=>_<=0)){var O,T;const _=(((O=o.flip)==null?void 0:O.index)||0)+1,Z=C[_];if(Z)return{data:{index:_,overflows:A},reset:{placement:Z}};let K=(T=A.filter(te=>te.overflows[0]<=0).sort((te,I)=>te.overflows[1]-I.overflows[1])[0])==null?void 0:T.placement;if(!K)switch(x){case\"bestFit\":{var H;const te=(H=A.filter(I=>{if(S){const D=or(I.placement);return D===p||D===\"y\"}return!0}).map(I=>[I.placement,I.overflows.filter(D=>D>0).reduce((D,G)=>D+G,0)]).sort((I,D)=>I[1]-D[1])[0])==null?void 0:H[0];te&&(K=te);break}case\"initialPlacement\":K=l;break}if(a!==K)return{reset:{placement:K}}}return{}}}};function pg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xg(e){return D3.some(t=>e[t]>=0)}const G3=function(e){return e===void 0&&(e={}),{name:\"hide\",options:e,async fn(t){const{rects:s}=t,{strategy:r=\"referenceHidden\",...a}=bs(e,t);switch(r){case\"referenceHidden\":{const o=await ki(t,{...a,elementContext:\"reference\"}),i=pg(o,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:xg(i)}}}case\"escaped\":{const o=await ki(t,{...a,altBoundary:!0}),i=pg(o,s.floating);return{data:{escapedOffsets:i,escaped:xg(i)}}}default:return{}}}}};async function U3(e,t){const{placement:s,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=js(s),l=vo(s),c=or(s)===\"y\",u=[\"left\",\"top\"].includes(i)?-1:1,h=o&&c?-1:1,f=bs(t,e);let{mainAxis:m,crossAxis:x,alignmentAxis:g}=typeof f==\"number\"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g==\"number\"&&(x=l===\"end\"?g*-1:g),c?{x:x*h,y:m*u}:{x:m*u,y:x*h}}const q3=function(e){return e===void 0&&(e=0),{name:\"offset\",options:e,async fn(t){var s,r;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await U3(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},K3=function(e){return e===void 0&&(e={}),{name:\"shift\",options:e,async fn(t){const{x:s,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:y,y:p}=b;return{x:y,y:p}}},...c}=bs(e,t),u={x:s,y:r},h=await ki(t,c),f=or(js(a)),m=Af(f);let x=u[m],g=u[f];if(o){const b=m===\"y\"?\"top\":\"left\",y=m===\"y\"?\"bottom\":\"right\",p=x+h[b],w=x-h[y];x=eh(p,x,w)}if(i){const b=f===\"y\"?\"top\":\"left\",y=f===\"y\"?\"bottom\":\"right\",p=g+h[b],w=g-h[y];g=eh(p,g,w)}const v=l.fn({...t,[m]:x,[f]:g});return{...v,data:{x:v.x-s,y:v.y-r,enabled:{[m]:o,[f]:i}}}}}},Q3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bs(e,t),h={x:s,y:r},f=or(a),m=Af(f);let x=h[m],g=h[f];const v=bs(l,t),b=typeof v==\"number\"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=m===\"y\"?\"height\":\"width\",j=o.reference[m]-o.floating[w]+b.mainAxis,N=o.reference[m]+o.reference[w]-b.mainAxis;x<j?x=j:x>N&&(x=N)}if(u){var y,p;const w=m===\"y\"?\"width\":\"height\",j=[\"top\",\"left\"].includes(js(a)),N=o.reference[f]-o.floating[w]+(j&&((y=i.offset)==null?void 0:y[f])||0)+(j?0:b.crossAxis),S=o.reference[f]+o.reference[w]+(j?0:((p=i.offset)==null?void 0:p[f])||0)-(j?b.crossAxis:0);g<N?g=N:g>S&&(g=S)}return{[m]:x,[f]:g}}}},Y3=function(e){return e===void 0&&(e={}),{name:\"size\",options:e,async fn(t){var s,r;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=bs(e,t),h=await ki(t,u),f=js(a),m=vo(a),x=or(a)===\"y\",{width:g,height:v}=o.floating;let b,y;f===\"top\"||f===\"bottom\"?(b=f,y=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?\"start\":\"end\")?\"left\":\"right\"):(y=f,b=m===\"end\"?\"top\":\"bottom\");const p=v-h.top-h.bottom,w=g-h.left-h.right,j=ar(v-h[b],p),N=ar(g-h[y],w),S=!t.middlewareData.shift;let C=j,k=N;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(k=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=p),S&&!m){const A=Ut(h.left,0),O=Ut(h.right,0),T=Ut(h.top,0),H=Ut(h.bottom,0);x?k=g-2*(A!==0||O!==0?A+O:Ut(h.left,h.right)):C=v-2*(T!==0||H!==0?T+H:Ut(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:C});const P=await i.getDimensions(l.floating);return g!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function ud(){return typeof window<\"u\"}function yo(e){return s1(e)?(e.nodeName||\"\").toLowerCase():\"#document\"}function Yt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qn(e){var t;return(t=(s1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function s1(e){return ud()?e instanceof Node||e instanceof Yt(e).Node:!1}function kn(e){return ud()?e instanceof Element||e instanceof Yt(e).Element:!1}function qn(e){return ud()?e instanceof HTMLElement||e instanceof Yt(e).HTMLElement:!1}function gg(e){return!ud()||typeof ShadowRoot>\"u\"?!1:e instanceof ShadowRoot||e instanceof Yt(e).ShadowRoot}function Wi(e){const{overflow:t,overflowX:s,overflowY:r,display:a}=Pn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&![\"inline\",\"contents\"].includes(a)}function X3(e){return[\"table\",\"td\",\"th\"].includes(yo(e))}function md(e){return[\":popover-open\",\":modal\"].some(t=>{try{return e.matches(t)}catch{return!1}})}function _f(e){const t=Of(),s=kn(e)?Pn(e):e;return[\"transform\",\"translate\",\"scale\",\"rotate\",\"perspective\"].some(r=>s[r]?s[r]!==\"none\":!1)||(s.containerType?s.containerType!==\"normal\":!1)||!t&&(s.backdropFilter?s.backdropFilter!==\"none\":!1)||!t&&(s.filter?s.filter!==\"none\":!1)||[\"transform\",\"translate\",\"scale\",\"rotate\",\"perspective\",\"filter\"].some(r=>(s.willChange||\"\").includes(r))||[\"paint\",\"layout\",\"strict\",\"content\"].some(r=>(s.contain||\"\").includes(r))}function J3(e){let t=ir(e);for(;qn(t)&&!ro(t);){if(_f(t))return t;if(md(t))return null;t=ir(t)}return null}function Of(){return typeof CSS>\"u\"||!CSS.supports?!1:CSS.supports(\"-webkit-backdrop-filter\",\"none\")}function ro(e){return[\"html\",\"body\",\"#document\"].includes(yo(e))}function Pn(e){return Yt(e).getComputedStyle(e)}function hd(e){return kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ir(e){if(yo(e)===\"html\")return e;const t=e.assignedSlot||e.parentNode||gg(e)&&e.host||Qn(e);return gg(t)?t.host:t}function r1(e){const t=ir(e);return ro(t)?e.ownerDocument?e.ownerDocument.body:e.body:qn(t)&&Wi(t)?t:r1(t)}function Pi(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=r1(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),i=Yt(a);if(o){const l=nh(i);return t.concat(i,i.visualViewport||[],Wi(a)?a:[],l&&s?Pi(l):[])}return t.concat(a,Pi(a,[],s))}function nh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function a1(e){const t=Pn(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=qn(e),o=a?e.offsetWidth:s,i=a?e.offsetHeight:r,l=Tc(s)!==o||Tc(r)!==i;return l&&(s=o,r=i),{width:s,height:r,$:l}}function Lf(e){return kn(e)?e:e.contextElement}function Ta(e){const t=Lf(e);if(!qn(t))return Vn(1);const s=t.getBoundingClientRect(),{width:r,height:a,$:o}=a1(t);let i=(o?Tc(s.width):s.width)/r,l=(o?Tc(s.height):s.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Z3=Vn(0);function o1(e){const t=Yt(e);return!Of()||!t.visualViewport?Z3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function eE(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Yt(e)?!1:t}function Vr(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=Lf(e);let i=Vn(1);t&&(r?kn(r)&&(i=Ta(r)):i=Ta(e));const l=eE(o,s,r)?o1(o):Vn(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,h=a.width/i.x,f=a.height/i.y;if(o){const m=Yt(o),x=r&&kn(r)?Yt(r):r;let g=m,v=nh(g);for(;v&&r&&x!==g;){const b=Ta(v),y=v.getBoundingClientRect(),p=Pn(v),w=y.left+(v.clientLeft+parseFloat(p.paddingLeft))*b.x,j=y.top+(v.clientTop+parseFloat(p.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,f*=b.y,c+=w,u+=j,g=Yt(v),v=nh(g)}}return Ac({width:h,height:f,x:c,y:u})}function Ff(e,t){const s=hd(e).scrollLeft;return t?t.left+s:Vr(Qn(e)).left+s}function i1(e,t,s){s===void 0&&(s=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(s?0:Ff(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function tE(e){let{elements:t,rect:s,offsetParent:r,strategy:a}=e;const o=a===\"fixed\",i=Qn(r),l=t?md(t.floating):!1;if(r===i||l&&o)return s;let c={scrollLeft:0,scrollTop:0},u=Vn(1);const h=Vn(0),f=qn(r);if((f||!f&&!o)&&((yo(r)!==\"body\"||Wi(i))&&(c=hd(r)),qn(r))){const x=Vr(r);u=Ta(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const m=i&&!f&&!o?i1(i,c,!0):Vn(0);return{width:s.width*u.x,height:s.height*u.y,x:s.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:s.y*u.y-c.scrollTop*u.y+h.y+m.y}}function nE(e){return Array.from(e.getClientRects())}function sE(e){const t=Qn(e),s=hd(e),r=e.ownerDocument.body,a=Ut(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ut(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-s.scrollLeft+Ff(e);const l=-s.scrollTop;return Pn(r).direction===\"rtl\"&&(i+=Ut(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:l}}function rE(e,t){const s=Yt(e),r=Qn(e),a=s.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const u=Of();(!u||u&&t===\"fixed\")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}function aE(e,t){const s=Vr(e,!0,t===\"fixed\"),r=s.top+e.clientTop,a=s.left+e.clientLeft,o=qn(e)?Ta(e):Vn(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function vg(e,t,s){let r;if(t===\"viewport\")r=rE(e,s);else if(t===\"document\")r=sE(Qn(e));else if(kn(t))r=aE(t,s);else{const a=o1(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ac(r)}function l1(e,t){const s=ir(e);return s===t||!kn(s)||ro(s)?!1:Pn(s).position===\"fixed\"||l1(s,t)}function oE(e,t){const s=t.get(e);if(s)return s;let r=Pi(e,[],!1).filter(l=>kn(l)&&yo(l)!==\"body\"),a=null;const o=Pn(e).position===\"fixed\";let i=o?ir(e):e;for(;kn(i)&&!ro(i);){const l=Pn(i),c=_f(i);!c&&l.position===\"fixed\"&&(a=null),(o?!c&&!a:!c&&l.position===\"static\"&&!!a&&[\"absolute\",\"fixed\"].includes(a.position)||Wi(i)&&!c&&l1(e,i))?r=r.filter(h=>h!==i):a=l,i=ir(i)}return t.set(e,r),r}function iE(e){let{element:t,boundary:s,rootBoundary:r,strategy:a}=e;const i=[...s===\"clippingAncestors\"?md(t)?[]:oE(t,this._c):[].concat(s),r],l=i[0],c=i.reduce((u,h)=>{const f=vg(t,h,a);return u.top=Ut(f.top,u.top),u.right=ar(f.right,u.right),u.bottom=ar(f.bottom,u.bottom),u.left=Ut(f.left,u.left),u},vg(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lE(e){const{width:t,height:s}=a1(e);return{width:t,height:s}}function cE(e,t,s){const r=qn(t),a=Qn(t),o=s===\"fixed\",i=Vr(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Vn(0);if(r||!r&&!o)if((yo(t)!==\"body\"||Wi(a))&&(l=hd(t)),r){const m=Vr(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=Ff(a));const u=a&&!r&&!o?i1(a,l):Vn(0),h=i.left+l.scrollLeft-c.x-u.x,f=i.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:i.width,height:i.height}}function bu(e){return Pn(e).position===\"static\"}function yg(e,t){if(!qn(e)||Pn(e).position===\"fixed\")return null;if(t)return t(e);let s=e.offsetParent;return Qn(e)===s&&(s=s.ownerDocument.body),s}function c1(e,t){const s=Yt(e);if(md(e))return s;if(!qn(e)){let a=ir(e);for(;a&&!ro(a);){if(kn(a)&&!bu(a))return a;a=ir(a)}return s}let r=yg(e,t);for(;r&&X3(r)&&bu(r);)r=yg(r,t);return r&&ro(r)&&bu(r)&&!_f(r)?s:r||J3(e)||s}const dE=async function(e){const t=this.getOffsetParent||c1,s=this.getDimensions,r=await s(e.floating);return{reference:cE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uE(e){return Pn(e).direction===\"rtl\"}const mE={convertOffsetParentRelativeRectToViewportRelativeRect:tE,getDocumentElement:Qn,getClippingRect:iE,getOffsetParent:c1,getElementRects:dE,getClientRects:nE,getDimensions:lE,getScale:Ta,isElement:kn,isRTL:uE};function d1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hE(e,t){let s=null,r;const a=Qn(e);function o(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:x}=u;if(l||t(),!m||!x)return;const g=Cl(f),v=Cl(a.clientWidth-(h+m)),b=Cl(a.clientHeight-(f+x)),y=Cl(h),w={rootMargin:-g+\"px \"+-v+\"px \"+-b+\"px \"+-y+\"px\",threshold:Ut(0,ar(1,c))||1};let j=!0;function N(S){const C=S[0].intersectionRatio;if(C!==c){if(!j)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!d1(u,e.getBoundingClientRect())&&i(),j=!1}try{s=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{s=new IntersectionObserver(N,w)}s.observe(e)}return i(!0),o}function fE(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver==\"function\",layoutShift:l=typeof IntersectionObserver==\"function\",animationFrame:c=!1}=r,u=Lf(e),h=a||o?[...u?Pi(u):[],...Pi(t)]:[];h.forEach(y=>{a&&y.addEventListener(\"scroll\",s,{passive:!0}),o&&y.addEventListener(\"resize\",s)});const f=u&&l?hE(u,s):null;let m=-1,x=null;i&&(x=new ResizeObserver(y=>{let[p]=y;p&&p.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(t)})),s()}),u&&!c&&x.observe(u),x.observe(t));let g,v=c?Vr(e):null;c&&b();function b(){const y=Vr(e);v&&!d1(v,y)&&s(),v=y,g=requestAnimationFrame(b)}return s(),()=>{var y;h.forEach(p=>{a&&p.removeEventListener(\"scroll\",s),o&&p.removeEventListener(\"resize\",s)}),f==null||f(),(y=x)==null||y.disconnect(),x=null,c&&cancelAnimationFrame(g)}}const pE=q3,xE=K3,gE=W3,vE=Y3,yE=G3,wg=V3,wE=Q3,bE=(e,t,s)=>{const r=new Map,a={platform:mE,...s},o={...a.platform,_c:r};return H3(e,t,{...a,platform:o})};var Kl=typeof document<\"u\"?d.useLayoutEffect:d.useEffect;function Ic(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e==\"function\"&&e.toString()===t.toString())return!0;let s,r,a;if(e&&t&&typeof e==\"object\"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!Ic(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=s;r--!==0;){const o=a[r];if(!(o===\"_owner\"&&e.$$typeof)&&!Ic(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function u1(e){return typeof window>\"u\"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bg(e,t){const s=u1(e);return Math.round(t*s)/s}function ju(e){const t=d.useRef(e);return Kl(()=>{t.current=e}),t}function jE(e){e===void 0&&(e={});const{placement:t=\"bottom\",strategy:s=\"absolute\",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,x]=d.useState(r);Ic(m,r)||x(r);const[g,v]=d.useState(null),[b,y]=d.useState(null),p=d.useCallback(I=>{I!==S.current&&(S.current=I,v(I))},[]),w=d.useCallback(I=>{I!==C.current&&(C.current=I,y(I))},[]),j=o||g,N=i||b,S=d.useRef(null),C=d.useRef(null),k=d.useRef(h),P=c!=null,A=ju(c),O=ju(a),T=ju(u),H=d.useCallback(()=>{if(!S.current||!C.current)return;const I={placement:t,strategy:s,middleware:m};O.current&&(I.platform=O.current),bE(S.current,C.current,I).then(D=>{const G={...D,isPositioned:T.current!==!1};_.current&&!Ic(k.current,G)&&(k.current=G,Qr.flushSync(()=>{f(G)}))})},[m,t,s,O,T]);Kl(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const _=d.useRef(!1);Kl(()=>(_.current=!0,()=>{_.current=!1}),[]),Kl(()=>{if(j&&(S.current=j),N&&(C.current=N),j&&N){if(A.current)return A.current(j,N,H);H()}},[j,N,H,A,P]);const Z=d.useMemo(()=>({reference:S,floating:C,setReference:p,setFloating:w}),[p,w]),K=d.useMemo(()=>({reference:j,floating:N}),[j,N]),te=d.useMemo(()=>{const I={position:s,left:0,top:0};if(!K.floating)return I;const D=bg(K.floating,h.x),G=bg(K.floating,h.y);return l?{...I,transform:\"translate(\"+D+\"px, \"+G+\"px)\",...u1(K.floating)>=1.5&&{willChange:\"transform\"}}:{position:s,left:D,top:G}},[s,l,K.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:H,refs:Z,elements:K,floatingStyles:te}),[h,H,Z,K,te])}const NE=e=>{function t(s){return{}.hasOwnProperty.call(s,\"current\")}return{name:\"arrow\",options:e,fn(s){const{element:r,padding:a}=typeof e==\"function\"?e(s):e;return r&&t(r)?r.current!=null?wg({element:r.current,padding:a}).fn(s):{}:r?wg({element:r,padding:a}).fn(s):{}}}},SE=(e,t)=>({...pE(e),options:[e,t]}),CE=(e,t)=>({...xE(e),options:[e,t]}),kE=(e,t)=>({...wE(e),options:[e,t]}),PE=(e,t)=>({...gE(e),options:[e,t]}),EE=(e,t)=>({...vE(e),options:[e,t]}),ME=(e,t)=>({...yE(e),options:[e,t]}),TE=(e,t)=>({...NE(e),options:[e,t]});var RE=\"Arrow\",m1=d.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...o}=e;return n.jsx(J.svg,{...o,ref:t,width:r,height:a,viewBox:\"0 0 30 10\",preserveAspectRatio:\"none\",children:e.asChild?s:n.jsx(\"polygon\",{points:\"0,0 30,0 15,10\"})})});m1.displayName=RE;var AE=m1;function fd(e){const[t,s]=d.useState(void 0);return qe(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if(\"borderBoxSize\"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return r.observe(e,{box:\"border-box\"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var $f=\"Popper\",[h1,fr]=st($f),[IE,f1]=h1($f),p1=e=>{const{__scopePopper:t,children:s}=e,[r,a]=d.useState(null);return n.jsx(IE,{scope:t,anchor:r,onAnchorChange:a,children:s})};p1.displayName=$f;var x1=\"PopperAnchor\",g1=d.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,o=f1(x1,s),i=d.useRef(null),l=de(t,i);return d.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:n.jsx(J.div,{...a,ref:l})});g1.displayName=x1;var zf=\"PopperContent\",[DE,_E]=h1(zf),v1=d.forwardRef((e,t)=>{var q,ce,ue,ge,Ne,be;const{__scopePopper:s,side:r=\"bottom\",sideOffset:a=0,align:o=\"center\",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f=\"partial\",hideWhenDetached:m=!1,updatePositionStrategy:x=\"optimized\",onPlaced:g,...v}=e,b=f1(zf,s),[y,p]=d.useState(null),w=de(t,at=>p(at)),[j,N]=d.useState(null),S=fd(j),C=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,P=r+(o!==\"center\"?\"-\"+o:\"\"),A=typeof h==\"number\"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(u)?u:[u],T=O.length>0,H={padding:A,boundary:O.filter(LE),altBoundary:T},{refs:_,floatingStyles:Z,placement:K,isPositioned:te,middlewareData:I}=jE({strategy:\"fixed\",placement:P,whileElementsMounted:(...at)=>fE(...at,{animationFrame:x===\"always\"}),elements:{reference:b.anchor},middleware:[SE({mainAxis:a+k,alignmentAxis:i}),c&&CE({mainAxis:!0,crossAxis:!1,limiter:f===\"partial\"?kE():void 0,...H}),c&&PE({...H}),EE({...H,apply:({elements:at,rects:Mt,availableWidth:Xn,availableHeight:Jn})=>{const{width:vr,height:No}=Mt.reference,V=at.floating.style;V.setProperty(\"--radix-popper-available-width\",`${Xn}px`),V.setProperty(\"--radix-popper-available-height\",`${Jn}px`),V.setProperty(\"--radix-popper-anchor-width\",`${vr}px`),V.setProperty(\"--radix-popper-anchor-height\",`${No}px`)}}),j&&TE({element:j,padding:l}),FE({arrowWidth:C,arrowHeight:k}),m&&ME({strategy:\"referenceHidden\",...H})]}),[D,G]=b1(K),ae=_e(g);qe(()=>{te&&(ae==null||ae())},[te,ae]);const M=(q=I.arrow)==null?void 0:q.x,F=(ce=I.arrow)==null?void 0:ce.y,Q=((ue=I.arrow)==null?void 0:ue.centerOffset)!==0,[$,X]=d.useState();return qe(()=>{y&&X(window.getComputedStyle(y).zIndex)},[y]),n.jsx(\"div\",{ref:_.setFloating,\"data-radix-popper-content-wrapper\":\"\",style:{...Z,transform:te?Z.transform:\"translate(0, -200%)\",minWidth:\"max-content\",zIndex:$,\"--radix-popper-transform-origin\":[(ge=I.transformOrigin)==null?void 0:ge.x,(Ne=I.transformOrigin)==null?void 0:Ne.y].join(\" \"),...((be=I.hide)==null?void 0:be.referenceHidden)&&{visibility:\"hidden\",pointerEvents:\"none\"}},dir:e.dir,children:n.jsx(DE,{scope:s,placedSide:D,onArrowChange:N,arrowX:M,arrowY:F,shouldHideArrow:Q,children:n.jsx(J.div,{\"data-side\":D,\"data-align\":G,...v,ref:w,style:{...v.style,animation:te?void 0:\"none\"}})})})});v1.displayName=zf;var y1=\"PopperArrow\",OE={top:\"bottom\",right:\"left\",bottom:\"top\",left:\"right\"},w1=d.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,o=_E(y1,r),i=OE[o.placedSide];return n.jsx(\"span\",{ref:o.onArrowChange,style:{position:\"absolute\",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:\"\",right:\"0 0\",bottom:\"center 0\",left:\"100% 0\"}[o.placedSide],transform:{top:\"translateY(100%)\",right:\"translateY(50%) rotate(90deg) translateX(-50%)\",bottom:\"rotate(180deg)\",left:\"translateY(50%) rotate(-90deg) translateX(50%)\"}[o.placedSide],visibility:o.shouldHideArrow?\"hidden\":void 0},children:n.jsx(AE,{...a,ref:s,style:{...a.style,display:\"block\"}})})});w1.displayName=y1;function LE(e){return e!==null}var FE=e=>({name:\"transformOrigin\",options:e,fn(t){var b,y,p;const{placement:s,rects:r,middlewareData:a}=t,i=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=b1(s),f={start:\"0%\",center:\"50%\",end:\"100%\"}[h],m=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,x=(((p=a.arrow)==null?void 0:p.y)??0)+c/2;let g=\"\",v=\"\";return u===\"bottom\"?(g=i?f:`${m}px`,v=`${-c}px`):u===\"top\"?(g=i?f:`${m}px`,v=`${r.floating.height+c}px`):u===\"right\"?(g=`${-c}px`,v=i?f:`${x}px`):u===\"left\"&&(g=`${r.floating.width+c}px`,v=i?f:`${x}px`),{data:{x:g,y:v}}}});function b1(e){const[t,s=\"center\"]=e.split(\"-\");return[t,s]}var pd=p1,Gi=g1,xd=v1,gd=w1,[vd,M8]=st(\"Tooltip\",[fr]),yd=fr(),j1=\"TooltipProvider\",$E=700,sh=\"tooltip.open\",[zE,Bf]=vd(j1),N1=e=>{const{__scopeTooltip:t,delayDuration:s=$E,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,i=d.useRef(!0),l=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),n.jsx(zE,{scope:t,isOpenDelayedRef:i,delayDuration:s,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:o})};N1.displayName=j1;var wd=\"Tooltip\",[BE,bd]=vd(wd),S1=e=>{const{__scopeTooltip:t,children:s,open:r,defaultOpen:a=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=Bf(wd,e.__scopeTooltip),u=yd(t),[h,f]=d.useState(null),m=et(),x=d.useRef(0),g=i??c.disableHoverableContent,v=l??c.delayDuration,b=d.useRef(!1),[y=!1,p]=mn({prop:r,defaultProp:a,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(sh))):c.onClose(),o==null||o(C)}}),w=d.useMemo(()=>y?b.current?\"delayed-open\":\"instant-open\":\"closed\",[y]),j=d.useCallback(()=>{window.clearTimeout(x.current),x.current=0,b.current=!1,p(!0)},[p]),N=d.useCallback(()=>{window.clearTimeout(x.current),x.current=0,p(!1)},[p]),S=d.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{b.current=!0,p(!0),x.current=0},v)},[v,p]);return d.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),n.jsx(pd,{...u,children:n.jsx(BE,{scope:t,contentId:m,open:y,stateAttribute:w,trigger:h,onTriggerChange:f,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayedRef.current?S():j()},[c.isOpenDelayedRef,S,j]),onTriggerLeave:d.useCallback(()=>{g?N():(window.clearTimeout(x.current),x.current=0)},[N,g]),onOpen:j,onClose:N,disableHoverableContent:g,children:s})})};S1.displayName=wd;var rh=\"TooltipTrigger\",C1=d.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,a=bd(rh,s),o=Bf(rh,s),i=yd(s),l=d.useRef(null),c=de(t,l,a.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),f=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener(\"pointerup\",f),[f]),n.jsx(Gi,{asChild:!0,...i,children:n.jsx(J.button,{\"aria-describedby\":a.open?a.contentId:void 0,\"data-state\":a.stateAttribute,...r,ref:c,onPointerMove:W(e.onPointerMove,m=>{m.pointerType!==\"touch\"&&!h.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:W(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:W(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener(\"pointerup\",f,{once:!0})}),onFocus:W(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:W(e.onBlur,a.onClose),onClick:W(e.onClick,a.onClose)})})});C1.displayName=rh;var HE=\"TooltipPortal\",[T8,VE]=vd(HE,{forceMount:void 0}),ao=\"TooltipContent\",k1=d.forwardRef((e,t)=>{const s=VE(ao,e.__scopeTooltip),{forceMount:r=s.forceMount,side:a=\"top\",...o}=e,i=bd(ao,e.__scopeTooltip);return n.jsx(rt,{present:r||i.open,children:i.disableHoverableContent?n.jsx(P1,{side:a,...o,ref:t}):n.jsx(WE,{side:a,...o,ref:t})})}),WE=d.forwardRef((e,t)=>{const s=bd(ao,e.__scopeTooltip),r=Bf(ao,e.__scopeTooltip),a=d.useRef(null),o=de(t,a),[i,l]=d.useState(null),{trigger:c,onClose:u}=s,h=a.current,{onPointerInTransitChange:f}=r,m=d.useCallback(()=>{l(null),f(!1)},[f]),x=d.useCallback((g,v)=>{const b=g.currentTarget,y={x:g.clientX,y:g.clientY},p=QE(y,b.getBoundingClientRect()),w=YE(y,p),j=XE(v.getBoundingClientRect()),N=ZE([...w,...j]);l(N),f(!0)},[f]);return d.useEffect(()=>()=>m(),[m]),d.useEffect(()=>{if(c&&h){const g=b=>x(b,h),v=b=>x(b,c);return c.addEventListener(\"pointerleave\",g),h.addEventListener(\"pointerleave\",v),()=>{c.removeEventListener(\"pointerleave\",g),h.removeEventListener(\"pointerleave\",v)}}},[c,h,x,m]),d.useEffect(()=>{if(i){const g=v=>{const b=v.target,y={x:v.clientX,y:v.clientY},p=(c==null?void 0:c.contains(b))||(h==null?void 0:h.contains(b)),w=!JE(y,i);p?m():w&&(m(),u())};return document.addEventListener(\"pointermove\",g),()=>document.removeEventListener(\"pointermove\",g)}},[c,h,i,u,m]),n.jsx(P1,{...e,ref:o})}),[GE,UE]=vd(wd,{isInside:!1}),qE=D4(\"TooltipContent\"),P1=d.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,\"aria-label\":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=bd(ao,s),u=yd(s),{onClose:h}=c;return d.useEffect(()=>(document.addEventListener(sh,h),()=>document.removeEventListener(sh,h)),[h]),d.useEffect(()=>{if(c.trigger){const f=m=>{const x=m.target;x!=null&&x.contains(c.trigger)&&h()};return window.addEventListener(\"scroll\",f,{capture:!0}),()=>window.removeEventListener(\"scroll\",f,{capture:!0})}},[c.trigger,h]),n.jsx(Xr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:n.jsxs(xd,{\"data-state\":c.stateAttribute,...u,...l,ref:t,style:{...l.style,\"--radix-tooltip-content-transform-origin\":\"var(--radix-popper-transform-origin)\",\"--radix-tooltip-content-available-width\":\"var(--radix-popper-available-width)\",\"--radix-tooltip-content-available-height\":\"var(--radix-popper-available-height)\",\"--radix-tooltip-trigger-width\":\"var(--radix-popper-anchor-width)\",\"--radix-tooltip-trigger-height\":\"var(--radix-popper-anchor-height)\"},children:[n.jsx(qE,{children:r}),n.jsx(GE,{scope:s,isInside:!0,children:n.jsx(eP,{id:c.contentId,role:\"tooltip\",children:a||r})})]})})});k1.displayName=ao;var E1=\"TooltipArrow\",KE=d.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,a=yd(s);return UE(E1,s).isInside?null:n.jsx(gd,{...a,...r,ref:t})});KE.displayName=E1;function QE(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(s,r,a,o)){case o:return\"left\";case a:return\"right\";case s:return\"top\";case r:return\"bottom\";default:throw new Error(\"unreachable\")}}function YE(e,t,s=5){const r=[];switch(t){case\"top\":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case\"bottom\":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case\"left\":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case\"right\":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return r}function XE(e){const{top:t,right:s,bottom:r,left:a}=e;return[{x:a,y:t},{x:s,y:t},{x:s,y:r},{x:a,y:r}]}function JE(e,t){const{x:s,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,h=t[i].y;c>r!=h>r&&s<(u-l)*(r-c)/(h-c)+l&&(a=!a)}return a}function ZE(e){const t=e.slice();return t.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),eM(t)}function eM(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;s.length>=2;){const o=s[s.length-1],i=s[s.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))s.pop();else break}s.push(a)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var tM=N1,nM=S1,sM=C1,M1=k1;const T1=tM,jg=nM,Ng=sM,ah=d.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(M1,{ref:r,sideOffset:t,className:Y(\"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",e),...s}));ah.displayName=M1.displayName;const R1=d.createContext(void 0),He=()=>{const e=d.useContext(R1);if(!e)throw new Error(\"useAppContext must be used within AppProvider\");return e},rM=({children:e})=>{const[t,s]=d.useState(null),[r,a]=d.useState(!1),[o,i]=d.useState(!1),[l,c]=d.useState(!0),[u,h]=d.useState(null),[f,m]=d.useState([{role:\"assistant\",content:\"Hello! I'm here to provide psychological first aid and support. How are you feeling today? Remember, this is a safe space to share your thoughts.\",timestamp:new Date}]);d.useEffect(()=>{(async()=>{try{const P=localStorage.getItem(\"chatMessages\");if(P){const O=JSON.parse(P).map(T=>({...T,timestamp:new Date(T.timestamp)}));m(O)}}catch(P){console.error(\"Error loading chat messages:\",P)}})()},[]);const[x,g]=d.useState(!1),[v,b]=d.useState(()=>typeof window<\"u\"&&localStorage.getItem(\"theme\")||\"dark\");d.useEffect(()=>{const k=window.document.documentElement;k.classList.remove(\"light\",\"dark\",\"ocean\",\"sunset\",\"forest\",\"lavender\",\"cosmic\"),k.classList.add(v),localStorage.setItem(\"theme\",v)},[v]);const y=()=>{b(k=>k===\"light\"?\"dark\":\"light\")},p=k=>{h(k),a(!0),i(!0)},w=()=>{s(null),a(!1),i(!1),h(null),localStorage.removeItem(\"user\"),localStorage.removeItem(\"chatMessages\"),m([{role:\"assistant\",content:\"Hello! I'm here to provide psychological first aid and support. How are you feeling today? Remember, this is a safe space to share your thoughts.\",timestamp:new Date}])},j=k=>{const A={id:\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(O){const T=Math.random()*16|0;return(O==\"x\"?T:T&3|8).toString(16)}),username:`${k.firstName.toLowerCase()}.${k.lastName.toLowerCase()}`,firstName:k.firstName,lastName:k.lastName,email:u||\"user@example.com\",institution:k.institution,course:k.course,year:k.year,language:k.language,isAdmin:!1};s(A),i(!1),localStorage.setItem(\"user\",JSON.stringify(A))},N=()=>{c(!1),localStorage.setItem(\"startupPopupSeen\",\"true\")},S=k=>{m(P=>[...P,k])},C=()=>{console.log(\"triggerQuoteOverlay called\"),g(!0)};return d.useEffect(()=>{const k=setTimeout(()=>{try{localStorage.setItem(\"chatMessages\",JSON.stringify(f))}catch(P){console.error(\"Error saving chat messages:\",P)}},100);return()=>clearTimeout(k)},[f]),d.useEffect(()=>{const k=localStorage.getItem(\"user\"),P=localStorage.getItem(\"startupPopupSeen\");if(k){const A=JSON.parse(k);s(A),a(!0),i(!1)}P===\"true\"&&c(!1)},[]),n.jsx(R1.Provider,{value:{currentUser:t,setCurrentUser:s,theme:v,setTheme:b,toggleTheme:y,isAuthenticated:r,isOnboarding:o,showStartupPopup:l,login:p,logout:w,completeOnboarding:j,closeStartupPopup:N,chatMessages:f,setChatMessages:m,addChatMessage:S,showQuoteOverlay:x,setShowQuoteOverlay:g,triggerQuoteOverlay:C},children:e})};class aM{constructor(){this.actions=[],this.patterns=new Map}trackAction(t,s,r,a){const o={id:crypto.randomUUID(),userId:t,action:s,page:r,timestamp:new Date,data:a};this.actions.push(o),this.analyzeUserPattern(t)}trackPageDuration(t,s,r){this.trackAction(t,\"page_duration\",s,{duration:r})}analyzeUserPattern(t){const s=this.actions.filter(b=>b.userId===t);if(s.length<5)return;const r=s.filter(b=>new Date().getTime()-b.timestamp.getTime()<30*24*60*60*1e3),a=new Map;r.forEach(b=>{const y=a.get(b.page)||0;a.set(b.page,y+1)});const o=Array.from(a.entries()).sort((b,y)=>y[1]-b[1]).slice(0,3).map(([b])=>b),i=r.filter(b=>{var y;return b.action===\"page_duration\"&&((y=b.data)==null?void 0:y.duration)}).map(b=>b.data.duration),l=i.length>0?i.reduce((b,y)=>b+y,0)/i.length:0,c=r.map(b=>b.timestamp.getHours()),u={morning:c.filter(b=>b>=6&&b<12).length,afternoon:c.filter(b=>b>=12&&b<18).length,evening:c.filter(b=>b>=18&&b<24).length,night:c.filter(b=>b>=0&&b<6).length},h=Object.entries(u).sort((b,y)=>y[1]-b[1])[0][0],f=r.filter(b=>b.page===\"/chat\"||b.page===\"/screening\"||b.action===\"crisis_help\").length,m=Math.min(f/10,1);let x=\"low\";l>300&&r.length>20?x=\"high\":l>120&&r.length>10&&(x=\"medium\");const g=this.generateRecommendations(o,m,x),v={userId:t,mostUsedFeatures:o,averageSessionDuration:l,preferredTime:h,stressIndicators:m,engagementLevel:x,recommendedContent:g,lastAnalyzed:new Date};this.patterns.set(t,v)}generateRecommendations(t,s,r){const a=[];return s>.5&&a.push(\"breathing_exercises\",\"meditation_videos\",\"crisis_support\"),t.includes(\"/music\")&&a.push(\"new_ambient_tracks\",\"music_therapy\"),t.includes(\"/chat\")&&a.push(\"advanced_ai_features\",\"peer_support\"),t.includes(\"/screening\")&&a.push(\"progress_tracking\",\"personalized_insights\"),r===\"low\"?a.push(\"quick_activities\",\"motivation_boost\"):r===\"high\"&&a.push(\"advanced_tools\",\"community_features\"),a.slice(0,5)}getUserInsights(t){return this.patterns.get(t)||null}getAISuggestions(t){const s=this.getUserInsights(t);if(!s)return[\"Start by exploring our AI chat feature\"];const r=[],a=new Date().getHours();return a>=6&&a<12&&s.preferredTime===\"morning\"?r.push(\"Perfect time for your morning routine! Try our routine generator.\"):(a>=22||a<6)&&r.push(\"Having trouble sleeping? Check out our sleep cycle guide.\"),s.stressIndicators>.6&&r.push(\"I notice you might be feeling stressed. Would you like to try a breathing exercise?\"),s.engagementLevel===\"high\"&&r.push(\"You're doing great with regular usage! Ready to explore advanced features?\"),s.mostUsedFeatures.includes(\"/music\")||r.push(\"Try our Mind Fresh Music library for relaxation and focus.\"),r.slice(0,3)}exportAnalytics(){return{actions:this.actions,patterns:Array.from(this.patterns.values())}}}const kl=new aM,A1=()=>({trackAction:(a,o,i)=>{kl.trackAction(\"current-user\",a,o,i)},trackPageDuration:(a,o)=>{kl.trackPageDuration(\"current-user\",a,o)},getUserInsights:()=>kl.getUserInsights(\"current-user\"),getAISuggestions:()=>kl.getAISuggestions(\"current-user\")}),Hf=\"/assets/logo-BDxz8ocV.png\",oM=Vi(\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",{variants:{variant:{default:\"bg-primary text-primary-foreground hover:bg-primary/90\",destructive:\"bg-destructive text-destructive-foreground hover:bg-destructive/90\",outline:\"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",secondary:\"bg-secondary text-secondary-foreground hover:bg-secondary/80\",ghost:\"hover:bg-accent hover:text-accent-foreground\",link:\"text-primary underline-offset-4 hover:underline\"},size:{default:\"h-10 px-4 py-2\",sm:\"h-9 rounded-md px-3\",lg:\"h-11 rounded-md px-8\",icon:\"h-10 w-10\"}},defaultVariants:{variant:\"default\",size:\"default\"}}),R=d.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},o)=>{const i=r?A4:\"button\";return n.jsx(i,{className:Y(oM({variant:t,size:s,className:e})),ref:o,...a})});R.displayName=\"Button\";var iM=d.createContext(void 0);function Jr(e){const t=d.useContext(iM);return e||t||\"ltr\"}var Nu=0;function jd(){d.useEffect(()=>{const e=document.querySelectorAll(\"[data-radix-focus-guard]\");return document.body.insertAdjacentElement(\"afterbegin\",e[0]??Sg()),document.body.insertAdjacentElement(\"beforeend\",e[1]??Sg()),Nu++,()=>{Nu===1&&document.querySelectorAll(\"[data-radix-focus-guard]\").forEach(t=>t.remove()),Nu--}},[])}function Sg(){const e=document.createElement(\"span\");return e.setAttribute(\"data-radix-focus-guard\",\"\"),e.tabIndex=0,e.style.outline=\"none\",e.style.opacity=\"0\",e.style.position=\"fixed\",e.style.pointerEvents=\"none\",e}var Su=\"focusScope.autoFocusOnMount\",Cu=\"focusScope.autoFocusOnUnmount\",Cg={bubbles:!1,cancelable:!0},lM=\"FocusScope\",Ui=d.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=d.useState(null),u=_e(a),h=_e(o),f=d.useRef(null),m=de(t,v=>c(v)),x=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let v=function(w){if(x.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:Es(f.current,{select:!0})},b=function(w){if(x.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Es(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Es(l)};document.addEventListener(\"focusin\",v),document.addEventListener(\"focusout\",b);const p=new MutationObserver(y);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener(\"focusin\",v),document.removeEventListener(\"focusout\",b),p.disconnect()}}},[r,l,x.paused]),d.useEffect(()=>{if(l){Pg.add(x);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(Su,Cg);l.addEventListener(Su,u),l.dispatchEvent(y),y.defaultPrevented||(cM(fM(I1(l)),{select:!0}),document.activeElement===v&&Es(l))}return()=>{l.removeEventListener(Su,u),setTimeout(()=>{const y=new CustomEvent(Cu,Cg);l.addEventListener(Cu,h),l.dispatchEvent(y),y.defaultPrevented||Es(v??document.body,{select:!0}),l.removeEventListener(Cu,h),Pg.remove(x)},0)}}},[l,u,h,x]);const g=d.useCallback(v=>{if(!s&&!r||x.paused)return;const b=v.key===\"Tab\"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(b&&y){const p=v.currentTarget,[w,j]=dM(p);w&&j?!v.shiftKey&&y===j?(v.preventDefault(),s&&Es(w,{select:!0})):v.shiftKey&&y===w&&(v.preventDefault(),s&&Es(j,{select:!0})):y===p&&v.preventDefault()}},[s,r,x.paused]);return n.jsx(J.div,{tabIndex:-1,...i,ref:m,onKeyDown:g})});Ui.displayName=lM;function cM(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(Es(r,{select:t}),document.activeElement!==s)return}function dM(e){const t=I1(e),s=kg(t,e),r=kg(t.reverse(),e);return[s,r]}function I1(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName===\"INPUT\"&&r.type===\"hidden\";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function kg(e,t){for(const s of e)if(!uM(s,{upTo:t}))return s}function uM(e,{upTo:t}){if(getComputedStyle(e).visibility===\"hidden\")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display===\"none\")return!0;e=e.parentElement}return!1}function mM(e){return e instanceof HTMLInputElement&&\"select\"in e}function Es(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&mM(e)&&t&&e.select()}}var Pg=hM();function hM(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Eg(e,t),e.unshift(t)},remove(t){var s;e=Eg(e,t),(s=e[0])==null||s.resume()}}}function Eg(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function fM(e){return e.filter(t=>t.tagName!==\"A\")}var ku=\"rovingFocusGroup.onEntryFocus\",pM={bubbles:!1,cancelable:!0},Nd=\"RovingFocusGroup\",[oh,D1,xM]=Bi(Nd),[gM,wo]=st(Nd,[xM]),[vM,yM]=gM(Nd),_1=d.forwardRef((e,t)=>n.jsx(oh.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(oh.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(wM,{...e,ref:t})})}));_1.displayName=Nd;var wM=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),x=de(t,m),g=Jr(o),[v=null,b]=mn({prop:i,defaultProp:l,onChange:c}),[y,p]=d.useState(!1),w=_e(u),j=D1(s),N=d.useRef(!1),[S,C]=d.useState(0);return d.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(ku,w),()=>k.removeEventListener(ku,w)},[w]),n.jsx(vM,{scope:s,orientation:r,dir:g,loop:a,currentTabStopId:v,onItemFocus:d.useCallback(k=>b(k),[b]),onItemShiftTab:d.useCallback(()=>p(!0),[]),onFocusableItemAdd:d.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:d.useCallback(()=>C(k=>k-1),[]),children:n.jsx(J.div,{tabIndex:y||S===0?-1:0,\"data-orientation\":r,...f,ref:x,style:{outline:\"none\",...e.style},onMouseDown:W(e.onMouseDown,()=>{N.current=!0}),onFocus:W(e.onFocus,k=>{const P=!N.current;if(k.target===k.currentTarget&&P&&!y){const A=new CustomEvent(ku,pM);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=j().filter(K=>K.focusable),T=O.find(K=>K.active),H=O.find(K=>K.id===v),Z=[T,H,...O].filter(Boolean).map(K=>K.ref.current);F1(Z,h)}}N.current=!1}),onBlur:W(e.onBlur,()=>p(!1))})})}),O1=\"RovingFocusGroupItem\",L1=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:o,...i}=e,l=et(),c=o||l,u=yM(O1,s),h=u.currentTabStopId===c,f=D1(s),{onFocusableItemAdd:m,onFocusableItemRemove:x}=u;return d.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),n.jsx(oh.ItemSlot,{scope:s,id:c,focusable:r,active:a,children:n.jsx(J.span,{tabIndex:h?0:-1,\"data-orientation\":u.orientation,...i,ref:t,onMouseDown:W(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:W(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:W(e.onKeyDown,g=>{if(g.key===\"Tab\"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=NM(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=f().filter(p=>p.focusable).map(p=>p.ref.current);if(v===\"last\")y.reverse();else if(v===\"prev\"||v===\"next\"){v===\"prev\"&&y.reverse();const p=y.indexOf(g.currentTarget);y=u.loop?SM(y,p+1):y.slice(p+1)}setTimeout(()=>F1(y))}})})})});L1.displayName=O1;var bM={ArrowLeft:\"prev\",ArrowUp:\"prev\",ArrowRight:\"next\",ArrowDown:\"next\",PageUp:\"first\",Home:\"first\",PageDown:\"last\",End:\"last\"};function jM(e,t){return t!==\"rtl\"?e:e===\"ArrowLeft\"?\"ArrowRight\":e===\"ArrowRight\"?\"ArrowLeft\":e}function NM(e,t,s){const r=jM(e.key,s);if(!(t===\"vertical\"&&[\"ArrowLeft\",\"ArrowRight\"].includes(r))&&!(t===\"horizontal\"&&[\"ArrowUp\",\"ArrowDown\"].includes(r)))return bM[r]}function F1(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function SM(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var Vf=_1,Wf=L1,CM=function(e){if(typeof document>\"u\")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ra=new WeakMap,Pl=new WeakMap,El={},Pu=0,$1=function(e){return e&&(e.host||$1(e.parentNode))},kM=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=$1(s);return r&&e.contains(r)?r:(console.error(\"aria-hidden\",s,\"in not contained inside\",e,\". Doing nothing\"),null)}).filter(function(s){return!!s})},PM=function(e,t,s,r){var a=kM(t,Array.isArray(e)?e:[e]);El[s]||(El[s]=new WeakMap);var o=El[s],i=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var x=m.getAttribute(r),g=x!==null&&x!==\"false\",v=(ra.get(m)||0)+1,b=(o.get(m)||0)+1;ra.set(m,v),o.set(m,b),i.push(m),v===1&&g&&Pl.set(m,!0),b===1&&m.setAttribute(s,\"true\"),g||m.setAttribute(r,\"true\")}catch(y){console.error(\"aria-hidden: cannot operate on \",m,y)}})};return h(t),l.clear(),Pu++,function(){i.forEach(function(f){var m=ra.get(f)-1,x=o.get(f)-1;ra.set(f,m),o.set(f,x),m||(Pl.has(f)||f.removeAttribute(r),Pl.delete(f)),x||f.removeAttribute(s)}),Pu--,Pu||(ra=new WeakMap,ra=new WeakMap,Pl=new WeakMap,El={})}},Sd=function(e,t,s){s===void 0&&(s=\"data-aria-hidden\");var r=Array.from(Array.isArray(e)?e:[e]),a=CM(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll(\"[aria-live]\"))),PM(r,a,s,\"aria-hidden\")):function(){return null}},$n=function(){return $n=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},$n.apply(this,arguments)};function z1(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==\"function\")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function EM(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Ql=\"right-scroll-bar-position\",Yl=\"width-before-scroll-bar\",MM=\"with-scroll-bars-hidden\",TM=\"--removed-body-scroll-bar-size\";function Eu(e,t){return typeof e==\"function\"?e(t):e&&(e.current=t),e}function RM(e,t){var s=d.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=t,s.facade}var AM=typeof window<\"u\"?d.useLayoutEffect:d.useEffect,Mg=new WeakMap;function IM(e,t){var s=RM(null,function(r){return e.forEach(function(a){return Eu(a,r)})});return AM(function(){var r=Mg.get(s);if(r){var a=new Set(r),o=new Set(e),i=s.current;a.forEach(function(l){o.has(l)||Eu(l,null)}),o.forEach(function(l){a.has(l)||Eu(l,i)})}Mg.set(s,e)},[e]),s}function DM(e){return e}function _M(e,t){t===void 0&&(t=DM);var s=[],r=!1,a={read:function(){if(r)throw new Error(\"Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.\");return s.length?s[s.length-1]:e},useMedium:function(o){var i=t(o,r);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;s.length;){var i=s;s=[],i.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){r=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(o),i=s}var c=function(){var h=i;i=[],h.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),s={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),s}}}};return a}function OM(e){e===void 0&&(e={});var t=_M(null);return t.options=$n({async:!0,ssr:!1},e),t}var B1=function(e){var t=e.sideCar,s=z1(e,[\"sideCar\"]);if(!t)throw new Error(\"Sidecar: please provide `sideCar` property to import the right car\");var r=t.read();if(!r)throw new Error(\"Sidecar medium not found\");return d.createElement(r,$n({},s))};B1.isSideCarExport=!0;function LM(e,t){return e.useMedium(t),B1}var H1=OM(),Mu=function(){},Cd=d.forwardRef(function(e,t){var s=d.useRef(null),r=d.useState({onScrollCapture:Mu,onWheelCapture:Mu,onTouchMoveCapture:Mu}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,x=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,y=b===void 0?\"div\":b,p=e.gapMode,w=z1(e,[\"forwardProps\",\"children\",\"className\",\"removeScrollBar\",\"enabled\",\"shards\",\"sideCar\",\"noIsolation\",\"inert\",\"allowPinchZoom\",\"as\",\"gapMode\"]),j=m,N=IM([s,t]),S=$n($n({},w),a);return d.createElement(d.Fragment,null,h&&d.createElement(j,{sideCar:H1,removeScrollBar:u,shards:f,noIsolation:x,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:s,gapMode:p}),i?d.cloneElement(d.Children.only(l),$n($n({},S),{ref:N})):d.createElement(y,$n({},S,{className:c,ref:N}),l))});Cd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cd.classNames={fullWidth:Yl,zeroRight:Ql};var FM=function(){if(typeof __webpack_nonce__<\"u\")return __webpack_nonce__};function $M(){if(!document)return null;var e=document.createElement(\"style\");e.type=\"text/css\";var t=FM();return t&&e.setAttribute(\"nonce\",t),e}function zM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BM(e){var t=document.head||document.getElementsByTagName(\"head\")[0];t.appendChild(e)}var HM=function(){var e=0,t=null;return{add:function(s){e==0&&(t=$M())&&(zM(t,s),BM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},VM=function(){var e=HM();return function(t,s){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},V1=function(){var e=VM(),t=function(s){var r=s.styles,a=s.dynamic;return e(r,a),null};return t},WM={left:0,top:0,right:0,gap:0},Tu=function(e){return parseInt(e||\"\",10)||0},GM=function(e){var t=window.getComputedStyle(document.body),s=t[e===\"padding\"?\"paddingLeft\":\"marginLeft\"],r=t[e===\"padding\"?\"paddingTop\":\"marginTop\"],a=t[e===\"padding\"?\"paddingRight\":\"marginRight\"];return[Tu(s),Tu(r),Tu(a)]},UM=function(e){if(e===void 0&&(e=\"margin\"),typeof window>\"u\")return WM;var t=GM(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},qM=V1(),Ra=\"data-scroll-locked\",KM=function(e,t,s,r){var a=e.left,o=e.top,i=e.right,l=e.gap;return s===void 0&&(s=\"margin\"),`\n  .`.concat(MM,` {\n   overflow: hidden `).concat(r,`;\n   padding-right: `).concat(l,\"px \").concat(r,`;\n  }\n  body[`).concat(Ra,`] {\n    overflow: hidden `).concat(r,`;\n    overscroll-behavior: contain;\n    `).concat([t&&\"position: relative \".concat(r,\";\"),s===\"margin\"&&`\n    padding-left: `.concat(a,`px;\n    padding-top: `).concat(o,`px;\n    padding-right: `).concat(i,`px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: `).concat(l,\"px \").concat(r,`;\n    `),s===\"padding\"&&\"padding-right: \".concat(l,\"px \").concat(r,\";\")].filter(Boolean).join(\"\"),`\n  }\n  \n  .`).concat(Ql,` {\n    right: `).concat(l,\"px \").concat(r,`;\n  }\n  \n  .`).concat(Yl,` {\n    margin-right: `).concat(l,\"px \").concat(r,`;\n  }\n  \n  .`).concat(Ql,\" .\").concat(Ql,` {\n    right: 0 `).concat(r,`;\n  }\n  \n  .`).concat(Yl,\" .\").concat(Yl,` {\n    margin-right: 0 `).concat(r,`;\n  }\n  \n  body[`).concat(Ra,`] {\n    `).concat(TM,\": \").concat(l,`px;\n  }\n`)},Tg=function(){var e=parseInt(document.body.getAttribute(Ra)||\"0\",10);return isFinite(e)?e:0},QM=function(){d.useEffect(function(){return document.body.setAttribute(Ra,(Tg()+1).toString()),function(){var e=Tg()-1;e<=0?document.body.removeAttribute(Ra):document.body.setAttribute(Ra,e.toString())}},[])},YM=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,a=r===void 0?\"margin\":r;QM();var o=d.useMemo(function(){return UM(a)},[a]);return d.createElement(qM,{styles:KM(o,!t,a,s?\"\":\"!important\")})},ih=!1;if(typeof window<\"u\")try{var Ml=Object.defineProperty({},\"passive\",{get:function(){return ih=!0,!0}});window.addEventListener(\"test\",Ml,Ml),window.removeEventListener(\"test\",Ml,Ml)}catch{ih=!1}var aa=ih?{passive:!1}:!1,XM=function(e){return e.tagName===\"TEXTAREA\"},W1=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!==\"hidden\"&&!(s.overflowY===s.overflowX&&!XM(e)&&s[t]===\"visible\")},JM=function(e){return W1(e,\"overflowY\")},ZM=function(e){return W1(e,\"overflowX\")},Rg=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<\"u\"&&r instanceof ShadowRoot&&(r=r.host);var a=G1(e,r);if(a){var o=U1(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},e5=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},t5=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},G1=function(e,t){return e===\"v\"?JM(t):ZM(t)},U1=function(e,t){return e===\"v\"?e5(t):t5(t)},n5=function(e,t){return e===\"h\"&&t===\"rtl\"?-1:1},s5=function(e,t,s,r,a){var o=n5(e,window.getComputedStyle(t).direction),i=o*r,l=s.target,c=t.contains(l),u=!1,h=i>0,f=0,m=0;do{var x=U1(e,l),g=x[0],v=x[1],b=x[2],y=v-b-o*g;(g||y)&&G1(e,l)&&(f+=y,m+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(f)<1||!a)||!h&&(Math.abs(m)<1||!a))&&(u=!0),u},Tl=function(e){return\"changedTouches\"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ag=function(e){return[e.deltaX,e.deltaY]},Ig=function(e){return e&&\"current\"in e?e.current:e},r5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},a5=function(e){return`\n  .block-interactivity-`.concat(e,` {pointer-events: none;}\n  .allow-interactivity-`).concat(e,` {pointer-events: all;}\n`)},o5=0,oa=[];function i5(e){var t=d.useRef([]),s=d.useRef([0,0]),r=d.useRef(),a=d.useState(o5++)[0],o=d.useState(V1)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add(\"block-interactivity-\".concat(a));var v=EM([e.lockRef.current],(e.shards||[]).map(Ig),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add(\"allow-interactivity-\".concat(a))}),function(){document.body.classList.remove(\"block-interactivity-\".concat(a)),v.forEach(function(b){return b.classList.remove(\"allow-interactivity-\".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(v,b){if(\"touches\"in v&&v.touches.length===2||v.type===\"wheel\"&&v.ctrlKey)return!i.current.allowPinchZoom;var y=Tl(v),p=s.current,w=\"deltaX\"in v?v.deltaX:p[0]-y[0],j=\"deltaY\"in v?v.deltaY:p[1]-y[1],N,S=v.target,C=Math.abs(w)>Math.abs(j)?\"h\":\"v\";if(\"touches\"in v&&C===\"h\"&&S.type===\"range\")return!1;var k=Rg(C,S);if(!k)return!0;if(k?N=C:(N=C===\"v\"?\"h\":\"v\",k=Rg(C,S)),!k)return!1;if(!r.current&&\"changedTouches\"in v&&(w||j)&&(r.current=N),!N)return!0;var P=r.current||N;return s5(P,b,v,P===\"h\"?w:j,!0)},[]),c=d.useCallback(function(v){var b=v;if(!(!oa.length||oa[oa.length-1]!==o)){var y=\"deltaY\"in b?Ag(b):Tl(b),p=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&r5(N.delta,y)})[0];if(p&&p.should){b.cancelable&&b.preventDefault();return}if(!p){var w=(i.current.shards||[]).map(Ig).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(v,b,y,p){var w={name:v,delta:b,target:y,should:p,shadowParent:l5(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),h=d.useCallback(function(v){s.current=Tl(v),r.current=void 0},[]),f=d.useCallback(function(v){u(v.type,Ag(v),v.target,l(v,e.lockRef.current))},[]),m=d.useCallback(function(v){u(v.type,Tl(v),v.target,l(v,e.lockRef.current))},[]);d.useEffect(function(){return oa.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener(\"wheel\",c,aa),document.addEventListener(\"touchmove\",c,aa),document.addEventListener(\"touchstart\",h,aa),function(){oa=oa.filter(function(v){return v!==o}),document.removeEventListener(\"wheel\",c,aa),document.removeEventListener(\"touchmove\",c,aa),document.removeEventListener(\"touchstart\",h,aa)}},[]);var x=e.removeScrollBar,g=e.inert;return d.createElement(d.Fragment,null,g?d.createElement(o,{styles:a5(a)}):null,x?d.createElement(YM,{gapMode:e.gapMode}):null)}function l5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const c5=LM(H1,i5);var qi=d.forwardRef(function(e,t){return d.createElement(Cd,$n({},e,{ref:t,sideCar:c5}))});qi.classNames=Cd.classNames;var lh=[\"Enter\",\" \"],d5=[\"ArrowDown\",\"PageUp\",\"Home\"],q1=[\"ArrowUp\",\"PageDown\",\"End\"],u5=[...d5,...q1],m5={ltr:[...lh,\"ArrowRight\"],rtl:[...lh,\"ArrowLeft\"]},h5={ltr:[\"ArrowLeft\"],rtl:[\"ArrowRight\"]},Ki=\"Menu\",[Ei,f5,p5]=Bi(Ki),[Zr,K1]=st(Ki,[p5,fr,wo]),kd=fr(),Q1=wo(),[x5,ea]=Zr(Ki),[g5,Qi]=Zr(Ki),Y1=e=>{const{__scopeMenu:t,open:s=!1,children:r,dir:a,onOpenChange:o,modal:i=!0}=e,l=kd(t),[c,u]=d.useState(null),h=d.useRef(!1),f=_e(o),m=Jr(a);return d.useEffect(()=>{const x=()=>{h.current=!0,document.addEventListener(\"pointerdown\",g,{capture:!0,once:!0}),document.addEventListener(\"pointermove\",g,{capture:!0,once:!0})},g=()=>h.current=!1;return document.addEventListener(\"keydown\",x,{capture:!0}),()=>{document.removeEventListener(\"keydown\",x,{capture:!0}),document.removeEventListener(\"pointerdown\",g,{capture:!0}),document.removeEventListener(\"pointermove\",g,{capture:!0})}},[]),n.jsx(pd,{...l,children:n.jsx(x5,{scope:t,open:s,onOpenChange:f,content:c,onContentChange:u,children:n.jsx(g5,{scope:t,onClose:d.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:i,children:r})})})};Y1.displayName=Ki;var v5=\"MenuAnchor\",Gf=d.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=kd(s);return n.jsx(Gi,{...a,...r,ref:t})});Gf.displayName=v5;var Uf=\"MenuPortal\",[y5,X1]=Zr(Uf,{forceMount:void 0}),J1=e=>{const{__scopeMenu:t,forceMount:s,children:r,container:a}=e,o=ea(Uf,t);return n.jsx(y5,{scope:t,forceMount:s,children:n.jsx(rt,{present:s||o.open,children:n.jsx(ho,{asChild:!0,container:a,children:r})})})};J1.displayName=Uf;var ln=\"MenuContent\",[w5,qf]=Zr(ln),Z1=d.forwardRef((e,t)=>{const s=X1(ln,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,o=ea(ln,e.__scopeMenu),i=Qi(ln,e.__scopeMenu);return n.jsx(Ei.Provider,{scope:e.__scopeMenu,children:n.jsx(rt,{present:r||o.open,children:n.jsx(Ei.Slot,{scope:e.__scopeMenu,children:i.modal?n.jsx(b5,{...a,ref:t}):n.jsx(j5,{...a,ref:t})})})})}),b5=d.forwardRef((e,t)=>{const s=ea(ln,e.__scopeMenu),r=d.useRef(null),a=de(t,r);return d.useEffect(()=>{const o=r.current;if(o)return Sd(o)},[]),n.jsx(Kf,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:W(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),j5=d.forwardRef((e,t)=>{const s=ea(ln,e.__scopeMenu);return n.jsx(Kf,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),N5=rr(\"MenuContent.ScrollLock\"),Kf=d.forwardRef((e,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:x,disableOutsideScroll:g,...v}=e,b=ea(ln,s),y=Qi(ln,s),p=kd(s),w=Q1(s),j=f5(s),[N,S]=d.useState(null),C=d.useRef(null),k=de(t,C,b.onContentChange),P=d.useRef(0),A=d.useRef(\"\"),O=d.useRef(0),T=d.useRef(null),H=d.useRef(\"right\"),_=d.useRef(0),Z=g?qi:d.Fragment,K=g?{as:N5,allowPinchZoom:!0}:void 0,te=D=>{var q,ce;const G=A.current+D,ae=j().filter(ue=>!ue.disabled),M=document.activeElement,F=(q=ae.find(ue=>ue.ref.current===M))==null?void 0:q.textValue,Q=ae.map(ue=>ue.textValue),$=_5(Q,G,F),X=(ce=ae.find(ue=>ue.textValue===$))==null?void 0:ce.ref.current;(function ue(ge){A.current=ge,window.clearTimeout(P.current),ge!==\"\"&&(P.current=window.setTimeout(()=>ue(\"\"),1e3))})(G),X&&setTimeout(()=>X.focus())};d.useEffect(()=>()=>window.clearTimeout(P.current),[]),jd();const I=d.useCallback(D=>{var ae,M;return H.current===((ae=T.current)==null?void 0:ae.side)&&L5(D,(M=T.current)==null?void 0:M.area)},[]);return n.jsx(w5,{scope:s,searchRef:A,onItemEnter:d.useCallback(D=>{I(D)&&D.preventDefault()},[I]),onItemLeave:d.useCallback(D=>{var G;I(D)||((G=C.current)==null||G.focus(),S(null))},[I]),onTriggerLeave:d.useCallback(D=>{I(D)&&D.preventDefault()},[I]),pointerGraceTimerRef:O,onPointerGraceIntentChange:d.useCallback(D=>{T.current=D},[]),children:n.jsx(Z,{...K,children:n.jsx(Ui,{asChild:!0,trapped:a,onMountAutoFocus:W(o,D=>{var G;D.preventDefault(),(G=C.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:n.jsx(Xr,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:x,children:n.jsx(Vf,{asChild:!0,...w,dir:y.dir,orientation:\"vertical\",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:W(c,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(xd,{role:\"menu\",\"aria-orientation\":\"vertical\",\"data-state\":pb(b.open),\"data-radix-menu-content\":\"\",dir:y.dir,...p,...v,ref:k,style:{outline:\"none\",...v.style},onKeyDown:W(v.onKeyDown,D=>{const ae=D.target.closest(\"[data-radix-menu-content]\")===D.currentTarget,M=D.ctrlKey||D.altKey||D.metaKey,F=D.key.length===1;ae&&(D.key===\"Tab\"&&D.preventDefault(),!M&&F&&te(D.key));const Q=C.current;if(D.target!==Q||!u5.includes(D.key))return;D.preventDefault();const X=j().filter(q=>!q.disabled).map(q=>q.ref.current);q1.includes(D.key)&&X.reverse(),I5(X)}),onBlur:W(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(P.current),A.current=\"\")}),onPointerMove:W(e.onPointerMove,Mi(D=>{const G=D.target,ae=_.current!==D.clientX;if(D.currentTarget.contains(G)&&ae){const M=D.clientX>_.current?\"right\":\"left\";H.current=M,_.current=D.clientX}}))})})})})})})});Z1.displayName=ln;var S5=\"MenuGroup\",Qf=d.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(J.div,{role:\"group\",...r,ref:t})});Qf.displayName=S5;var C5=\"MenuLabel\",eb=d.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(J.div,{...r,ref:t})});eb.displayName=C5;var Dc=\"MenuItem\",Dg=\"menu.itemSelect\",Pd=d.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:r,...a}=e,o=d.useRef(null),i=Qi(Dc,e.__scopeMenu),l=qf(Dc,e.__scopeMenu),c=de(t,o),u=d.useRef(!1),h=()=>{const f=o.current;if(!s&&f){const m=new CustomEvent(Dg,{bubbles:!0,cancelable:!0});f.addEventListener(Dg,x=>r==null?void 0:r(x),{once:!0}),Nf(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return n.jsx(tb,{...a,ref:c,disabled:s,onClick:W(e.onClick,h),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:W(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:W(e.onKeyDown,f=>{const m=l.searchRef.current!==\"\";s||m&&f.key===\" \"||lh.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Pd.displayName=Dc;var tb=d.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:a,...o}=e,i=qf(Dc,s),l=Q1(s),c=d.useRef(null),u=de(t,c),[h,f]=d.useState(!1),[m,x]=d.useState(\"\");return d.useEffect(()=>{const g=c.current;g&&x((g.textContent??\"\").trim())},[o.children]),n.jsx(Ei.ItemSlot,{scope:s,disabled:r,textValue:a??m,children:n.jsx(Wf,{asChild:!0,...l,focusable:!r,children:n.jsx(J.div,{role:\"menuitem\",\"data-highlighted\":h?\"\":void 0,\"aria-disabled\":r||void 0,\"data-disabled\":r?\"\":void 0,...o,ref:u,onPointerMove:W(e.onPointerMove,Mi(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:W(e.onPointerLeave,Mi(g=>i.onItemLeave(g))),onFocus:W(e.onFocus,()=>f(!0)),onBlur:W(e.onBlur,()=>f(!1))})})})}),k5=\"MenuCheckboxItem\",nb=d.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:r,...a}=e;return n.jsx(ib,{scope:e.__scopeMenu,checked:s,children:n.jsx(Pd,{role:\"menuitemcheckbox\",\"aria-checked\":_c(s)?\"mixed\":s,...a,ref:t,\"data-state\":Xf(s),onSelect:W(a.onSelect,()=>r==null?void 0:r(_c(s)?!0:!s),{checkForDefaultPrevented:!1})})})});nb.displayName=k5;var sb=\"MenuRadioGroup\",[P5,E5]=Zr(sb,{value:void 0,onValueChange:()=>{}}),rb=d.forwardRef((e,t)=>{const{value:s,onValueChange:r,...a}=e,o=_e(r);return n.jsx(P5,{scope:e.__scopeMenu,value:s,onValueChange:o,children:n.jsx(Qf,{...a,ref:t})})});rb.displayName=sb;var ab=\"MenuRadioItem\",ob=d.forwardRef((e,t)=>{const{value:s,...r}=e,a=E5(ab,e.__scopeMenu),o=s===a.value;return n.jsx(ib,{scope:e.__scopeMenu,checked:o,children:n.jsx(Pd,{role:\"menuitemradio\",\"aria-checked\":o,...r,ref:t,\"data-state\":Xf(o),onSelect:W(r.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,s)},{checkForDefaultPrevented:!1})})})});ob.displayName=ab;var Yf=\"MenuItemIndicator\",[ib,M5]=Zr(Yf,{checked:!1}),lb=d.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:r,...a}=e,o=M5(Yf,s);return n.jsx(rt,{present:r||_c(o.checked)||o.checked===!0,children:n.jsx(J.span,{...a,ref:t,\"data-state\":Xf(o.checked)})})});lb.displayName=Yf;var T5=\"MenuSeparator\",cb=d.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(J.div,{role:\"separator\",\"aria-orientation\":\"horizontal\",...r,ref:t})});cb.displayName=T5;var R5=\"MenuArrow\",db=d.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=kd(s);return n.jsx(gd,{...a,...r,ref:t})});db.displayName=R5;var A5=\"MenuSub\",[R8,ub]=Zr(A5),Wo=\"MenuSubTrigger\",mb=d.forwardRef((e,t)=>{const s=ea(Wo,e.__scopeMenu),r=Qi(Wo,e.__scopeMenu),a=ub(Wo,e.__scopeMenu),o=qf(Wo,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},h=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),n.jsx(Gf,{asChild:!0,...u,children:n.jsx(tb,{id:a.triggerId,\"aria-haspopup\":\"menu\",\"aria-expanded\":s.open,\"aria-controls\":a.contentId,\"data-state\":pb(s.open),...e,ref:vs(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:W(e.onPointerMove,Mi(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:W(e.onPointerLeave,Mi(f=>{var x,g;h();const m=(x=s.content)==null?void 0:x.getBoundingClientRect();if(m){const v=(g=s.content)==null?void 0:g.dataset.side,b=v===\"right\",y=b?-5:5,p=m[b?\"left\":\"right\"],w=m[b?\"right\":\"left\"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:p,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:p,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:W(e.onKeyDown,f=>{var x;const m=o.searchRef.current!==\"\";e.disabled||m&&f.key===\" \"||m5[r.dir].includes(f.key)&&(s.onOpenChange(!0),(x=s.content)==null||x.focus(),f.preventDefault())})})})});mb.displayName=Wo;var hb=\"MenuSubContent\",fb=d.forwardRef((e,t)=>{const s=X1(ln,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,o=ea(ln,e.__scopeMenu),i=Qi(ln,e.__scopeMenu),l=ub(hb,e.__scopeMenu),c=d.useRef(null),u=de(t,c);return n.jsx(Ei.Provider,{scope:e.__scopeMenu,children:n.jsx(rt,{present:r||o.open,children:n.jsx(Ei.Slot,{scope:e.__scopeMenu,children:n.jsx(Kf,{id:l.contentId,\"aria-labelledby\":l.triggerId,...a,ref:u,align:\"start\",side:i.dir===\"rtl\"?\"left\":\"right\",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:W(e.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:W(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:W(e.onKeyDown,h=>{var x;const f=h.currentTarget.contains(h.target),m=h5[i.dir].includes(h.key);f&&m&&(o.onOpenChange(!1),(x=l.trigger)==null||x.focus(),h.preventDefault())})})})})})});fb.displayName=hb;function pb(e){return e?\"open\":\"closed\"}function _c(e){return e===\"indeterminate\"}function Xf(e){return _c(e)?\"indeterminate\":e?\"checked\":\"unchecked\"}function I5(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function D5(e,t){return e.map((s,r)=>e[(t+r)%e.length])}function _5(e,t,s){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=D5(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==s));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function O5(e,t){const{x:s,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,h=t[i].y;c>r!=h>r&&s<(u-l)*(r-c)/(h-c)+l&&(a=!a)}return a}function L5(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return O5(s,t)}function Mi(e){return t=>t.pointerType===\"mouse\"?e(t):void 0}var F5=Y1,$5=Gf,z5=J1,B5=Z1,H5=Qf,V5=eb,W5=Pd,G5=nb,U5=rb,q5=ob,K5=lb,Q5=cb,Y5=db,X5=mb,J5=fb,Jf=\"DropdownMenu\",[Z5,A8]=st(Jf,[K1]),Et=K1(),[eT,xb]=Z5(Jf),gb=e=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Et(t),u=d.useRef(null),[h=!1,f]=mn({prop:a,defaultProp:o,onChange:i});return n.jsx(eT,{scope:t,triggerId:et(),triggerRef:u,contentId:et(),open:h,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(m=>!m),[f]),modal:l,children:n.jsx(F5,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:s})})};gb.displayName=Jf;var vb=\"DropdownMenuTrigger\",yb=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...a}=e,o=xb(vb,s),i=Et(s);return n.jsx($5,{asChild:!0,...i,children:n.jsx(J.button,{type:\"button\",id:o.triggerId,\"aria-haspopup\":\"menu\",\"aria-expanded\":o.open,\"aria-controls\":o.open?o.contentId:void 0,\"data-state\":o.open?\"open\":\"closed\",\"data-disabled\":r?\"\":void 0,disabled:r,...a,ref:vs(t,o.triggerRef),onPointerDown:W(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:W(e.onKeyDown,l=>{r||([\"Enter\",\" \"].includes(l.key)&&o.onOpenToggle(),l.key===\"ArrowDown\"&&o.onOpenChange(!0),[\"Enter\",\" \",\"ArrowDown\"].includes(l.key)&&l.preventDefault())})})})});yb.displayName=vb;var tT=\"DropdownMenuPortal\",wb=e=>{const{__scopeDropdownMenu:t,...s}=e,r=Et(t);return n.jsx(z5,{...r,...s})};wb.displayName=tT;var bb=\"DropdownMenuContent\",jb=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=xb(bb,s),o=Et(s),i=d.useRef(!1);return n.jsx(B5,{id:a.contentId,\"aria-labelledby\":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:W(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:W(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!a.modal||h)&&(i.current=!0)}),style:{...e.style,\"--radix-dropdown-menu-content-transform-origin\":\"var(--radix-popper-transform-origin)\",\"--radix-dropdown-menu-content-available-width\":\"var(--radix-popper-available-width)\",\"--radix-dropdown-menu-content-available-height\":\"var(--radix-popper-available-height)\",\"--radix-dropdown-menu-trigger-width\":\"var(--radix-popper-anchor-width)\",\"--radix-dropdown-menu-trigger-h","size_bytes":360000},"android/app/src/main/assets/public/assets/index-vltHAa-G.css":{"content":"*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: \"\"}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:var(--font-sans);font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--font-mono);font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}*{border-color:var(--border)}body{background-color:var(--background);font-family:var(--font-sans);color:var(--foreground);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background-color:var(--muted)}::-webkit-scrollbar-thumb{background-color:hsl(var(--muted-foreground) / .3);border-radius:.375rem}::-webkit-scrollbar-thumb:hover{background-color:hsl(var(--muted-foreground) / .5)}@keyframes breathe{0%,to{transform:scale(1);opacity:.7}50%{transform:scale(1.05);opacity:1}}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.inset-2{top:.5rem;right:.5rem;bottom:.5rem;left:.5rem}.inset-4{top:1rem;right:1rem;bottom:1rem;left:1rem}.inset-6{top:1.5rem;right:1.5rem;bottom:1.5rem;left:1.5rem}.inset-8{top:2rem;right:2rem;bottom:2rem;left:2rem}.inset-x-0{left:0;right:0}.inset-y-0{top:0;bottom:0}.-bottom-0\\.5{bottom:-.125rem}.-bottom-1{bottom:-.25rem}.-bottom-12{bottom:-3rem}.-left-12{left:-3rem}.-right-0\\.5{right:-.125rem}.-right-1{right:-.25rem}.-right-12{right:-3rem}.-top-1{top:-.25rem}.-top-12{top:-3rem}.bottom-0{bottom:0}.bottom-2{bottom:.5rem}.bottom-3{bottom:.75rem}.bottom-6{bottom:1.5rem}.left-0{left:0}.left-1{left:.25rem}.left-1\\/2{left:50%}.left-2{left:.5rem}.left-3{left:.75rem}.left-4{left:1rem}.left-\\[50\\%\\]{left:50%}.right-0{right:0}.right-1{right:.25rem}.right-1\\.5{right:.375rem}.right-2{right:.5rem}.right-3{right:.75rem}.right-4{right:1rem}.right-6{right:1.5rem}.top-0{top:0}.top-1\\.5{top:.375rem}.top-1\\/2{top:50%}.top-2{top:.5rem}.top-3{top:.75rem}.top-3\\.5{top:.875rem}.top-4{top:1rem}.top-\\[1px\\]{top:1px}.top-\\[50\\%\\]{top:50%}.top-\\[60\\%\\]{top:60%}.top-full{top:100%}.-z-10{z-index:-10}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-\\[100\\]{z-index:100}.z-\\[1\\]{z-index:1}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-3\\.5{margin-left:.875rem;margin-right:.875rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-0\\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.-ml-4{margin-left:-1rem}.-mt-4{margin-top:-1rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.ml-6{margin-left:1.5rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mt-0{margin-top:0}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-1\\.5{margin-top:.375rem}.mt-12{margin-top:3rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mt-auto{margin-top:auto}.line-clamp-2{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.line-clamp-3{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.aspect-video{aspect-ratio:16 / 9}.size-4{width:1rem;height:1rem}.h-1{height:.25rem}.h-1\\.5{height:.375rem}.h-10{height:2.5rem}.h-11{height:2.75rem}.h-12{height:3rem}.h-14{height:3.5rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-20{height:5rem}.h-24{height:6rem}.h-3{height:.75rem}.h-3\\.5{height:.875rem}.h-32{height:8rem}.h-36{height:9rem}.h-4{height:1rem}.h-40{height:10rem}.h-48{height:12rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-\\[1px\\]{height:1px}.h-\\[300px\\]{height:300px}.h-\\[600px\\]{height:600px}.h-\\[650px\\]{height:650px}.h-\\[var\\(--radix-navigation-menu-viewport-height\\)\\]{height:var(--radix-navigation-menu-viewport-height)}.h-\\[var\\(--radix-select-trigger-height\\)\\]{height:var(--radix-select-trigger-height)}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.h-svh{height:100svh}.max-h-48{max-height:12rem}.max-h-60{max-height:15rem}.max-h-\\[--radix-context-menu-content-available-height\\]{max-height:var(--radix-context-menu-content-available-height)}.max-h-\\[--radix-select-content-available-height\\]{max-height:var(--radix-select-content-available-height)}.max-h-\\[300px\\]{max-height:300px}.max-h-\\[80vh\\]{max-height:80vh}.max-h-\\[90vh\\]{max-height:90vh}.max-h-\\[var\\(--radix-dropdown-menu-content-available-height\\)\\]{max-height:var(--radix-dropdown-menu-content-available-height)}.max-h-screen{max-height:100vh}.min-h-0{min-height:0px}.min-h-\\[200px\\]{min-height:200px}.min-h-\\[600px\\]{min-height:600px}.min-h-\\[80px\\]{min-height:80px}.min-h-screen{min-height:100vh}.min-h-svh{min-height:100svh}.w-0{width:0px}.w-1{width:.25rem}.w-1\\.5{width:.375rem}.w-1\\/3{width:33.333333%}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-12{width:3rem}.w-14{width:3.5rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\\.5{width:.625rem}.w-20{width:5rem}.w-24{width:6rem}.w-3{width:.75rem}.w-3\\.5{width:.875rem}.w-3\\/4{width:75%}.w-32{width:8rem}.w-36{width:9rem}.w-4{width:1rem}.w-48{width:12rem}.w-5{width:1.25rem}.w-56{width:14rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-72{width:18rem}.w-8{width:2rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-\\[--sidebar-width\\]{width:var(--sidebar-width)}.w-\\[100px\\]{width:100px}.w-\\[1px\\]{width:1px}.w-\\[280px\\]{width:280px}.w-auto{width:auto}.w-full{width:100%}.w-max{width:-moz-max-content;width:max-content}.w-px{width:1px}.min-w-0{min-width:0px}.min-w-10{min-width:2.5rem}.min-w-11{min-width:2.75rem}.min-w-5{min-width:1.25rem}.min-w-9{min-width:2.25rem}.min-w-\\[12rem\\]{min-width:12rem}.min-w-\\[20px\\]{min-width:20px}.min-w-\\[30px\\]{min-width:30px}.min-w-\\[8rem\\]{min-width:8rem}.min-w-\\[var\\(--radix-select-trigger-width\\)\\]{min-width:var(--radix-select-trigger-width)}.max-w-2xl{max-width:42rem}.max-w-32{max-width:8rem}.max-w-4xl{max-width:56rem}.max-w-5xl{max-width:64rem}.max-w-6xl{max-width:72rem}.max-w-7xl{max-width:80rem}.max-w-\\[--skeleton-width\\]{max-width:var(--skeleton-width)}.max-w-\\[75\\%\\]{max-width:75%}.max-w-lg{max-width:32rem}.max-w-max{max-width:-moz-max-content;max-width:max-content}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.grow{flex-grow:1}.grow-0{flex-grow:0}.basis-full{flex-basis:100%}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.origin-\\[--radix-context-menu-content-transform-origin\\]{transform-origin:var(--radix-context-menu-content-transform-origin)}.origin-\\[--radix-dropdown-menu-content-transform-origin\\]{transform-origin:var(--radix-dropdown-menu-content-transform-origin)}.origin-\\[--radix-hover-card-content-transform-origin\\]{transform-origin:var(--radix-hover-card-content-transform-origin)}.origin-\\[--radix-menubar-content-transform-origin\\]{transform-origin:var(--radix-menubar-content-transform-origin)}.origin-\\[--radix-popover-content-transform-origin\\]{transform-origin:var(--radix-popover-content-transform-origin)}.origin-\\[--radix-select-content-transform-origin\\]{transform-origin:var(--radix-select-content-transform-origin)}.origin-\\[--radix-tooltip-content-transform-origin\\]{transform-origin:var(--radix-tooltip-content-transform-origin)}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-px{--tw-translate-x: -1px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\\[-50\\%\\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-px{--tw-translate-x: 1px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-\\[-50\\%\\]{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-90{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-125{--tw-scale-x: 1.25;--tw-scale-y: 1.25;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-75{--tw-scale-x: .75;--tw-scale-y: .75;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-95{--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}.animate-bounce{animation:bounce 1s infinite}@keyframes ping{75%,to{transform:scale(2);opacity:0}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-crosshair{cursor:crosshair}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.list-inside{list-style-position:inside}.list-decimal{list-style-type:decimal}.list-disc{list-style-type:disc}.list-none{list-style-type:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.gap-px{gap:1px}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-0\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.125rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.125rem * var(--tw-space-y-reverse))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.break-words{overflow-wrap:break-word}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-\\[2px\\]{border-radius:2px}.rounded-\\[inherit\\]{border-radius:inherit}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-sm{border-radius:calc(var(--radius) - 4px)}.rounded-xl{border-radius:.75rem}.rounded-t-\\[10px\\]{border-top-left-radius:10px;border-top-right-radius:10px}.rounded-t-lg{border-top-left-radius:var(--radius);border-top-right-radius:var(--radius)}.rounded-bl-lg{border-bottom-left-radius:var(--radius)}.rounded-bl-md{border-bottom-left-radius:calc(var(--radius) - 2px)}.rounded-br-lg{border-bottom-right-radius:var(--radius)}.rounded-tl-sm{border-top-left-radius:calc(var(--radius) - 4px)}.border{border-width:1px}.border-0{border-width:0px}.border-2{border-width:2px}.border-4{border-width:4px}.border-\\[1\\.5px\\]{border-width:1.5px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-b-4{border-bottom-width:4px}.border-l{border-left-width:1px}.border-l-2{border-left-width:2px}.border-l-4{border-left-width:4px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-t-4{border-top-width:4px}.border-dashed{border-style:dashed}.border-none{border-style:none}.border-\\[--color-border\\]{border-color:var(--color-border)}.border-background{border-color:var(--background)}.border-blue-100{--tw-border-opacity: 1;border-color:rgb(219 234 254 / var(--tw-border-opacity, 1))}.border-blue-400{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.border-border{border-color:var(--border)}.border-destructive{border-color:var(--destructive)}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-input{border-color:var(--input)}.border-orange-200{--tw-border-opacity: 1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.border-primary{border-color:var(--primary)}.border-purple-100{--tw-border-opacity: 1;border-color:rgb(243 232 255 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-secondary{border-color:var(--secondary)}.border-sidebar-border{border-color:var(--sidebar-border)}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-white\\/50{border-color:#ffffff80}.border-yellow-200{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.border-yellow-500{--tw-border-opacity: 1;border-color:rgb(234 179 8 / var(--tw-border-opacity, 1))}.border-l-blue-500{--tw-border-opacity: 1;border-left-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-l-pink-500{--tw-border-opacity: 1;border-left-color:rgb(236 72 153 / var(--tw-border-opacity, 1))}.border-l-primary{border-left-color:var(--primary)}.border-l-red-500{--tw-border-opacity: 1;border-left-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.border-l-transparent{border-left-color:transparent}.border-l-yellow-500{--tw-border-opacity: 1;border-left-color:rgb(234 179 8 / var(--tw-border-opacity, 1))}.border-t-transparent{border-top-color:transparent}.bg-\\[--color-bg\\]{background-color:var(--color-bg)}.bg-accent{background-color:var(--accent)}.bg-background{background-color:var(--background)}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-black\\/20{background-color:#0003}.bg-black\\/30{background-color:#0000004d}.bg-black\\/50{background-color:#00000080}.bg-black\\/70{background-color:#000000b3}.bg-black\\/80{background-color:#000c}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-200{--tw-bg-opacity: 1;background-color:rgb(191 219 254 / var(--tw-bg-opacity, 1))}.bg-blue-400{--tw-bg-opacity: 1;background-color:rgb(96 165 250 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-border{background-color:var(--border)}.bg-card{background-color:var(--card)}.bg-chart-4{background-color:var(--chart-4)}.bg-current{background-color:currentColor}.bg-destructive{background-color:var(--destructive)}.bg-foreground{background-color:var(--foreground)}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-200{--tw-bg-opacity: 1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-500\\/20{background-color:#22c55e33}.bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-indigo-100{--tw-bg-opacity: 1;background-color:rgb(224 231 255 / var(--tw-bg-opacity, 1))}.bg-muted{background-color:var(--muted)}.bg-muted-foreground{background-color:var(--muted-foreground)}.bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-orange-500{--tw-bg-opacity: 1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.bg-pink-100{--tw-bg-opacity: 1;background-color:rgb(252 231 243 / var(--tw-bg-opacity, 1))}.bg-popover{background-color:var(--popover)}.bg-primary{background-color:var(--primary)}.bg-purple-100{--tw-bg-opacity: 1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-purple-50{--tw-bg-opacity: 1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-500\\/10{background-color:#ef44441a}.bg-secondary{background-color:var(--secondary)}.bg-sidebar{background-color:var(--sidebar-background)}.bg-sidebar-border{background-color:var(--sidebar-border)}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\\/90{background-color:#ffffffe6}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-yellow-200{--tw-bg-opacity: 1;background-color:rgb(254 240 138 / var(--tw-bg-opacity, 1))}.bg-yellow-300{--tw-bg-opacity: 1;background-color:rgb(253 224 71 / var(--tw-bg-opacity, 1))}.bg-yellow-400{--tw-bg-opacity: 1;background-color:rgb(250 204 21 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-yellow-500{--tw-bg-opacity: 1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-l{background-image:linear-gradient(to left,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.bg-gradient-to-t{background-image:linear-gradient(to top,var(--tw-gradient-stops))}.from-amber-100{--tw-gradient-from: #fef3c7 var(--tw-gradient-from-position);--tw-gradient-to: rgb(254 243 199 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-black\\/40{--tw-gradient-from: rgb(0 0 0 / .4) var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-100{--tw-gradient-from: #dbeafe var(--tw-gradient-from-position);--tw-gradient-to: rgb(219 234 254 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-200{--tw-gradient-from: #bfdbfe var(--tw-gradient-from-position);--tw-gradient-to: rgb(191 219 254 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-400{--tw-gradient-from: #60a5fa var(--tw-gradient-from-position);--tw-gradient-to: rgb(96 165 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-50{--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-500{--tw-gradient-from: #3b82f6 var(--tw-gradient-from-position);--tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-cyan-100{--tw-gradient-from: #cffafe var(--tw-gradient-from-position);--tw-gradient-to: rgb(207 250 254 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-gray-200{--tw-gradient-from: #e5e7eb var(--tw-gradient-from-position);--tw-gradient-to: rgb(229 231 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-100{--tw-gradient-from: #dcfce7 var(--tw-gradient-from-position);--tw-gradient-to: rgb(220 252 231 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-100{--tw-gradient-from: #e0e7ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(224 231 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-400{--tw-gradient-from: #818cf8 var(--tw-gradient-from-position);--tw-gradient-to: rgb(129 140 248 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-100{--tw-gradient-from: #ffedd5 var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 237 213 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-400{--tw-gradient-from: #fb923c var(--tw-gradient-from-position);--tw-gradient-to: rgb(251 146 60 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-pink-100{--tw-gradient-from: #fce7f3 var(--tw-gradient-from-position);--tw-gradient-to: rgb(252 231 243 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary{--tw-gradient-from: var(--primary) var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-100{--tw-gradient-from: #f3e8ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(243 232 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-400{--tw-gradient-from: #c084fc var(--tw-gradient-from-position);--tw-gradient-to: rgb(192 132 252 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-500{--tw-gradient-from: #a855f7 var(--tw-gradient-from-position);--tw-gradient-to: rgb(168 85 247 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-400{--tw-gradient-from: #f87171 var(--tw-gradient-from-position);--tw-gradient-to: rgb(248 113 113 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-teal-100{--tw-gradient-from: #ccfbf1 var(--tw-gradient-from-position);--tw-gradient-to: rgb(204 251 241 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-violet-100{--tw-gradient-from: #ede9fe var(--tw-gradient-from-position);--tw-gradient-to: rgb(237 233 254 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-100{--tw-gradient-from: #fef9c3 var(--tw-gradient-from-position);--tw-gradient-to: rgb(254 249 195 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-200{--tw-gradient-from: #fef08a var(--tw-gradient-from-position);--tw-gradient-to: rgb(254 240 138 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-50{--tw-gradient-from: #fefce8 var(--tw-gradient-from-position);--tw-gradient-to: rgb(254 252 232 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-background{--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--background) var(--tw-gradient-via-position), var(--tw-gradient-to)}.via-primary{--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--primary) var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-background{--tw-gradient-to: var(--background) var(--tw-gradient-to-position)}.to-blue-100{--tw-gradient-to: #dbeafe var(--tw-gradient-to-position)}.to-blue-200{--tw-gradient-to: #bfdbfe var(--tw-gradient-to-position)}.to-blue-300{--tw-gradient-to: #93c5fd var(--tw-gradient-to-position)}.to-blue-600{--tw-gradient-to: #2563eb var(--tw-gradient-to-position)}.to-cyan-100{--tw-gradient-to: #cffafe var(--tw-gradient-to-position)}.to-cyan-400{--tw-gradient-to: #22d3ee var(--tw-gradient-to-position)}.to-emerald-100{--tw-gradient-to: #d1fae5 var(--tw-gradient-to-position)}.to-fuchsia-100{--tw-gradient-to: #fae8ff var(--tw-gradient-to-position)}.to-gray-400{--tw-gradient-to: #9ca3af var(--tw-gradient-to-position)}.to-green-400{--tw-gradient-to: #4ade80 var(--tw-gradient-to-position)}.to-indigo-100{--tw-gradient-to: #e0e7ff var(--tw-gradient-to-position)}.to-indigo-50{--tw-gradient-to: #eef2ff var(--tw-gradient-to-position)}.to-orange-100{--tw-gradient-to: #ffedd5 var(--tw-gradient-to-position)}.to-orange-200{--tw-gradient-to: #fed7aa var(--tw-gradient-to-position)}.to-orange-50{--tw-gradient-to: #fff7ed var(--tw-gradient-to-position)}.to-pink-100{--tw-gradient-to: #fce7f3 var(--tw-gradient-to-position)}.to-pink-400{--tw-gradient-to: #f472b6 var(--tw-gradient-to-position)}.to-purple-100{--tw-gradient-to: #f3e8ff var(--tw-gradient-to-position)}.to-purple-50{--tw-gradient-to: #faf5ff var(--tw-gradient-to-position)}.to-purple-500{--tw-gradient-to: #a855f7 var(--tw-gradient-to-position)}.to-purple-600{--tw-gradient-to: #9333ea var(--tw-gradient-to-position)}.to-red-100{--tw-gradient-to: #fee2e2 var(--tw-gradient-to-position)}.to-red-400{--tw-gradient-to: #f87171 var(--tw-gradient-to-position)}.to-rose-100{--tw-gradient-to: #ffe4e6 var(--tw-gradient-to-position)}.to-secondary{--tw-gradient-to: var(--secondary) var(--tw-gradient-to-position)}.to-teal-100{--tw-gradient-to: #ccfbf1 var(--tw-gradient-to-position)}.to-transparent{--tw-gradient-to: transparent var(--tw-gradient-to-position)}.to-violet-100{--tw-gradient-to: #ede9fe var(--tw-gradient-to-position)}.to-yellow-100{--tw-gradient-to: #fef9c3 var(--tw-gradient-to-position)}.to-yellow-400{--tw-gradient-to: #facc15 var(--tw-gradient-to-position)}.fill-current{fill:currentColor}.fill-yellow-400{fill:#facc15}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-0\\.5{padding:.125rem}.p-1{padding:.25rem}.p-12{padding:3rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.p-\\[1px\\]{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-3{padding-bottom:.75rem}.pb-4{padding-bottom:1rem}.pl-10{padding-left:2.5rem}.pl-2\\.5{padding-left:.625rem}.pl-4{padding-left:1rem}.pl-6{padding-left:1.5rem}.pl-8{padding-left:2rem}.pl-9{padding-left:2.25rem}.pr-10{padding-right:2.5rem}.pr-2{padding-right:.5rem}.pr-2\\.5{padding-right:.625rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.align-middle{vertical-align:middle}.font-mono{font-family:var(--font-mono)}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-\\[0\\.8rem\\]{font-size:.8rem}.text-\\[10px\\]{font-size:10px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.capitalize{text-transform:capitalize}.italic{font-style:italic}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-none{line-height:1}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.tracking-tight{letter-spacing:-.025em}.tracking-wider{letter-spacing:.05em}.tracking-widest{letter-spacing:.1em}.text-accent{color:var(--accent)}.text-accent-foreground{color:var(--accent-foreground)}.text-amber-800{--tw-text-opacity: 1;color:rgb(146 64 14 / var(--tw-text-opacity, 1))}.text-background{color:var(--background)}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-blue-900{--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.text-card-foreground{color:var(--card-foreground)}.text-chart-4{color:var(--chart-4)}.text-current{color:currentColor}.text-cyan-700{--tw-text-opacity: 1;color:rgb(14 116 144 / var(--tw-text-opacity, 1))}.text-cyan-800{--tw-text-opacity: 1;color:rgb(21 94 117 / var(--tw-text-opacity, 1))}.text-destructive{color:var(--destructive)}.text-destructive-foreground{color:var(--destructive-foreground)}.text-foreground{color:var(--foreground)}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-green-900{--tw-text-opacity: 1;color:rgb(20 83 45 / var(--tw-text-opacity, 1))}.text-indigo-800{--tw-text-opacity: 1;color:rgb(55 48 163 / var(--tw-text-opacity, 1))}.text-muted-foreground{color:var(--muted-foreground)}.text-orange-500{--tw-text-opacity: 1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.text-orange-800{--tw-text-opacity: 1;color:rgb(154 52 18 / var(--tw-text-opacity, 1))}.text-pink-500{--tw-text-opacity: 1;color:rgb(236 72 153 / var(--tw-text-opacity, 1))}.text-pink-600{--tw-text-opacity: 1;color:rgb(219 39 119 / var(--tw-text-opacity, 1))}.text-pink-800{--tw-text-opacity: 1;color:rgb(157 23 77 / var(--tw-text-opacity, 1))}.text-popover-foreground{color:var(--popover-foreground)}.text-primary{color:var(--primary)}.text-primary-foreground{color:var(--primary-foreground)}.text-purple-500{--tw-text-opacity: 1;color:rgb(168 85 247 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity: 1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-purple-700{--tw-text-opacity: 1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.text-purple-800{--tw-text-opacity: 1;color:rgb(107 33 168 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-secondary{color:var(--secondary)}.text-secondary-foreground{color:var(--secondary-foreground)}.text-sidebar-foreground{color:var(--sidebar-foreground)}.text-teal-800{--tw-text-opacity: 1;color:rgb(17 94 89 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-400{--tw-text-opacity: 1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.text-yellow-600{--tw-text-opacity: 1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.text-yellow-800{--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.line-through{text-decoration-line:line-through}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.opacity-90{opacity:.9}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-\\[0_0_0_1px_hsl\\(var\\(--sidebar-border\\)\\)\\]{--tw-shadow: 0 0 0 1px hsl(var(--sidebar-border));--tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.ring-0{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-2{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-primary{--tw-ring-color: var(--primary)}.ring-ring{--tw-ring-color: var(--ring)}.ring-sidebar-ring{--tw-ring-color: var(--sidebar-ring)}.ring-offset-background{--tw-ring-offset-color: var(--background)}.drop-shadow-lg{--tw-drop-shadow: drop-shadow(0 10px 8px rgb(0 0 0 / .04)) drop-shadow(0 4px 3px rgb(0 0 0 / .1));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[left\\,right\\,width\\]{transition-property:left,right,width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[margin\\,opacity\\]{transition-property:margin,opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[width\\,height\\,padding\\]{transition-property:width,height,padding;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[width\\]{transition-property:width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.delay-100{transition-delay:.1s}.delay-200{transition-delay:.2s}.duration-1000{transition-duration:1s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-linear{transition-timing-function:linear}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}.animate-in{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.fade-in-0{--tw-enter-opacity: 0}.fade-in-80{--tw-enter-opacity: .8}.zoom-in-95{--tw-enter-scale: .95}.slide-in-from-left-2{--tw-enter-translate-x: -.5rem}.duration-1000{animation-duration:1s}.duration-150{animation-duration:.15s}.duration-200{animation-duration:.2s}.duration-300{animation-duration:.3s}.delay-100{animation-delay:.1s}.delay-200{animation-delay:.2s}.ease-in-out{animation-timing-function:cubic-bezier(.4,0,.2,1)}.ease-linear{animation-timing-function:linear}:root{--background: hsl(210 40% 98%);--foreground: hsl(220 13% 18%);--card: hsl(210 40% 96%);--card-foreground: hsl(220 13% 18%);--popover: hsl(210 40% 98%);--popover-foreground: hsl(220 13% 18%);--primary: hsl(142 71% 45%);--primary-foreground: hsl(0 0% 100%);--secondary: hsl(160 60% 95%);--secondary-foreground: hsl(160 60% 20%);--muted: hsl(200 20% 94%);--muted-foreground: hsl(220 13% 45%);--accent: hsl(300 20% 88%);--accent-foreground: hsl(300 40% 25%);--wellness: hsl(159 61% 51%);--wellness-foreground: hsl(0 0% 100%);--focus: hsl(260 60% 80%);--focus-foreground: hsl(260 40% 25%);--calm: hsl(195 60% 85%);--calm-foreground: hsl(195 50% 25%);--hope: hsl(45 90% 75%);--hope-foreground: hsl(45 50% 25%);--healing: hsl(320 30% 82%);--healing-foreground: hsl(320 40% 25%);--nature: hsl(120 40% 78%);--nature-foreground: hsl(120 50% 20%);--destructive: hsl(45 80% 75%);--destructive-foreground: hsl(45 50% 25%);--border: hsl(200 20% 88%);--input: hsl(210 40% 96%);--ring: hsl(142 71% 45%);--chart-1: hsl(142 71% 45%);--chart-2: hsl(260 60% 65%);--chart-3: hsl(45 90% 60%);--chart-4: hsl(195 60% 65%);--chart-5: hsl(320 30% 65%);--sidebar: hsl(210 40% 96%);--sidebar-foreground: hsl(220 13% 18%);--sidebar-primary: hsl(142 71% 45%);--sidebar-primary-foreground: hsl(0 0% 100%);--sidebar-accent: hsl(160 60% 90%);--sidebar-accent-foreground: hsl(160 60% 25%);--sidebar-border: hsl(200 20% 85%);--sidebar-ring: hsl(142 71% 45%);--font-sans: \"Inter\", \"Segoe UI\", system-ui, sans-serif;--font-serif: \"Georgia\", serif;--font-mono: \"JetBrains Mono\", \"Consolas\", monospace;--radius: 1rem;--shadow-2xs: 0px 1px 2px 0px hsl(220 13% 18% / .05);--shadow-xs: 0px 1px 3px 0px hsl(220 13% 18% / .1);--shadow-sm: 0px 1px 2px 0px hsl(220 13% 18% / .05), 0px 2px 4px 0px hsl(220 13% 18% / .1);--shadow: 0px 1px 3px 0px hsl(220 13% 18% / .1), 0px 4px 6px -1px hsl(220 13% 18% / .1);--shadow-md: 0px 4px 6px -1px hsl(220 13% 18% / .1), 0px 10px 15px -3px hsl(220 13% 18% / .1);--shadow-lg: 0px 10px 15px -3px hsl(220 13% 18% / .1), 0px 20px 25px -5px hsl(220 13% 18% / .1);--shadow-xl: 0px 20px 25px -5px hsl(220 13% 18% / .1), 0px 25px 50px -12px hsl(220 13% 18% / .25);--shadow-2xl: 0px 25px 50px -12px hsl(220 13% 18% / .25);--tracking-normal: 0em;--spacing: .25rem}.dark{--background: hsl(220 27% 8%);--foreground: hsl(210 15% 92%);--card: hsl(220 27% 12%);--card-foreground: hsl(210 15% 88%);--popover: hsl(220 27% 8%);--popover-foreground: hsl(210 15% 92%);--primary: hsl(142 45% 58%);--primary-foreground: hsl(220 27% 8%);--secondary: hsl(220 27% 16%);--secondary-foreground: hsl(210 15% 82%);--muted: hsl(220 27% 14%);--muted-foreground: hsl(210 10% 65%);--accent: hsl(260 30% 25%);--accent-foreground: hsl(260 60% 85%);--wellness: hsl(159 45% 48%);--wellness-foreground: hsl(220 27% 8%);--focus: hsl(260 40% 55%);--focus-foreground: hsl(260 30% 95%);--calm: hsl(195 40% 35%);--calm-foreground: hsl(195 60% 88%);--hope: hsl(45 60% 65%);--hope-foreground: hsl(45 80% 15%);--healing: hsl(320 25% 55%);--healing-foreground: hsl(320 30% 95%);--nature: hsl(120 30% 45%);--nature-foreground: hsl(120 40% 90%);--destructive: hsl(45 70% 65%);--destructive-foreground: hsl(45 80% 15%);--border: hsl(220 20% 18%);--input: hsl(220 27% 16%);--ring: hsl(142 45% 58%);--chart-1: hsl(142 45% 58%);--chart-2: hsl(260 40% 65%);--chart-3: hsl(45 60% 65%);--chart-4: hsl(195 40% 55%);--chart-5: hsl(320 25% 65%);--sidebar: hsl(220 27% 12%);--sidebar-foreground: hsl(210 15% 88%);--sidebar-primary: hsl(142 45% 58%);--sidebar-primary-foreground: hsl(220 27% 8%);--sidebar-accent: hsl(220 27% 18%);--sidebar-accent-foreground: hsl(142 45% 75%);--sidebar-border: hsl(220 20% 22%);--sidebar-ring: hsl(142 45% 58%);--font-sans: \"Inter\", \"Segoe UI\", system-ui, sans-serif;--font-serif: \"Georgia\", serif;--font-mono: \"JetBrains Mono\", \"Consolas\", monospace;--radius: 1rem;--shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / .15);--shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / .2);--shadow-sm: 0px 1px 2px 0px hsl(0 0% 0% / .15), 0px 2px 4px 0px hsl(0 0% 0% / .2);--shadow: 0px 1px 3px 0px hsl(0 0% 0% / .2), 0px 4px 6px -1px hsl(0 0% 0% / .2);--shadow-md: 0px 4px 6px -1px hsl(0 0% 0% / .2), 0px 10px 15px -3px hsl(0 0% 0% / .2);--shadow-lg: 0px 10px 15px -3px hsl(0 0% 0% / .2), 0px 20px 25px -5px hsl(0 0% 0% / .2);--shadow-xl: 0px 20px 25px -5px hsl(0 0% 0% / .2), 0px 25px 50px -12px hsl(0 0% 0% / .4);--shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / .4)}.ocean{--background: hsl(200 25% 8%);--foreground: hsl(200 15% 90%);--card: hsl(200 25% 12%);--card-foreground: hsl(200 15% 85%);--popover: hsl(200 25% 8%);--popover-foreground: hsl(200 15% 90%);--primary: hsl(186 100% 65%);--primary-foreground: hsl(200 25% 8%);--secondary: hsl(200 25% 16%);--secondary-foreground: hsl(200 15% 80%);--muted: hsl(200 25% 14%);--muted-foreground: hsl(200 10% 60%);--accent: hsl(192 40% 25%);--accent-foreground: hsl(192 80% 85%);--destructive: hsl(45 70% 65%);--destructive-foreground: hsl(45 80% 15%);--border: hsl(200 20% 18%);--input: hsl(200 25% 16%);--ring: hsl(186 100% 65%);--sidebar: hsl(200 25% 12%);--sidebar-foreground: hsl(200 15% 85%);--sidebar-primary: hsl(186 100% 65%);--sidebar-primary-foreground: hsl(200 25% 8%);--sidebar-accent: hsl(200 25% 18%);--sidebar-accent-foreground: hsl(186 100% 75%);--sidebar-border: hsl(200 20% 22%);--sidebar-ring: hsl(186 100% 65%)}.sunset{--background: hsl(15 20% 10%);--foreground: hsl(15 10% 88%);--card: hsl(15 20% 14%);--card-foreground: hsl(15 10% 85%);--popover: hsl(15 20% 10%);--popover-foreground: hsl(15 10% 88%);--primary: hsl(25 85% 65%);--primary-foreground: hsl(15 20% 10%);--secondary: hsl(15 20% 18%);--secondary-foreground: hsl(15 10% 78%);--muted: hsl(15 20% 16%);--muted-foreground: hsl(15 8% 58%);--accent: hsl(340 40% 45%);--accent-foreground: hsl(340 60% 90%);--destructive: hsl(25 60% 70%);--destructive-foreground: hsl(25 80% 15%);--border: hsl(15 18% 20%);--input: hsl(15 20% 18%);--ring: hsl(25 85% 65%);--sidebar: hsl(15 20% 14%);--sidebar-foreground: hsl(15 10% 85%);--sidebar-primary: hsl(25 85% 65%);--sidebar-primary-foreground: hsl(15 20% 10%);--sidebar-accent: hsl(15 20% 20%);--sidebar-accent-foreground: hsl(25 85% 75%);--sidebar-border: hsl(15 18% 24%);--sidebar-ring: hsl(25 85% 65%)}.forest{--background: hsl(120 15% 8%);--foreground: hsl(120 8% 88%);--card: hsl(120 15% 12%);--card-foreground: hsl(120 8% 85%);--popover: hsl(120 15% 8%);--popover-foreground: hsl(120 8% 88%);--primary: hsl(142 60% 55%);--primary-foreground: hsl(120 15% 8%);--secondary: hsl(120 15% 16%);--secondary-foreground: hsl(120 8% 78%);--muted: hsl(120 15% 14%);--muted-foreground: hsl(120 6% 58%);--accent: hsl(85 30% 45%);--accent-foreground: hsl(85 50% 88%);--destructive: hsl(45 60% 70%);--destructive-foreground: hsl(45 70% 15%);--border: hsl(120 12% 18%);--input: hsl(120 15% 16%);--ring: hsl(142 60% 55%);--sidebar: hsl(120 15% 12%);--sidebar-foreground: hsl(120 8% 85%);--sidebar-primary: hsl(142 60% 55%);--sidebar-primary-foreground: hsl(120 15% 8%);--sidebar-accent: hsl(120 15% 18%);--sidebar-accent-foreground: hsl(142 60% 75%);--sidebar-border: hsl(120 12% 22%);--sidebar-ring: hsl(142 60% 55%)}.lavender{--background: hsl(270 20% 10%);--foreground: hsl(270 8% 88%);--card: hsl(270 20% 14%);--card-foreground: hsl(270 8% 85%);--popover: hsl(270 20% 10%);--popover-foreground: hsl(270 8% 88%);--primary: hsl(260 60% 70%);--primary-foreground: hsl(270 20% 10%);--secondary: hsl(270 20% 18%);--secondary-foreground: hsl(270 8% 78%);--muted: hsl(270 20% 16%);--muted-foreground: hsl(270 6% 58%);--accent: hsl(300 35% 50%);--accent-foreground: hsl(300 50% 90%);--destructive: hsl(300 40% 70%);--destructive-foreground: hsl(300 50% 15%);--border: hsl(270 15% 20%);--input: hsl(270 20% 18%);--ring: hsl(260 60% 70%);--sidebar: hsl(270 20% 14%);--sidebar-foreground: hsl(270 8% 85%);--sidebar-primary: hsl(260 60% 70%);--sidebar-primary-foreground: hsl(270 20% 10%);--sidebar-accent: hsl(270 20% 20%);--sidebar-accent-foreground: hsl(260 60% 80%);--sidebar-border: hsl(270 15% 24%);--sidebar-ring: hsl(260 60% 70%)}.cosmic{--background: hsl(240 25% 5%);--foreground: hsl(240 10% 90%);--card: hsl(240 25% 8%);--card-foreground: hsl(240 10% 88%);--popover: hsl(240 25% 5%);--popover-foreground: hsl(240 10% 90%);--primary: hsl(280 100% 75%);--primary-foreground: hsl(240 25% 5%);--secondary: hsl(240 25% 12%);--secondary-foreground: hsl(240 10% 80%);--muted: hsl(240 25% 10%);--muted-foreground: hsl(240 8% 60%);--accent: hsl(220 100% 65%);--accent-foreground: hsl(220 100% 10%);--destructive: hsl(280 60% 75%);--destructive-foreground: hsl(280 70% 15%);--border: hsl(240 20% 15%);--input: hsl(240 25% 12%);--ring: hsl(280 100% 75%);--sidebar: hsl(240 25% 8%);--sidebar-foreground: hsl(240 10% 88%);--sidebar-primary: hsl(280 100% 75%);--sidebar-primary-foreground: hsl(240 25% 5%);--sidebar-accent: hsl(240 25% 15%);--sidebar-accent-foreground: hsl(280 100% 80%);--sidebar-border: hsl(240 20% 18%);--sidebar-ring: hsl(280 100% 75%)}.file\\:border-0::file-selector-button{border-width:0px}.file\\:bg-transparent::file-selector-button{background-color:transparent}.file\\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\\:font-medium::file-selector-button{font-weight:500}.file\\:text-foreground::file-selector-button{color:var(--foreground)}.placeholder\\:text-muted-foreground::-moz-placeholder{color:var(--muted-foreground)}.placeholder\\:text-muted-foreground::placeholder{color:var(--muted-foreground)}.after\\:absolute:after{content:var(--tw-content);position:absolute}.after\\:-inset-2:after{content:var(--tw-content);top:-.5rem;right:-.5rem;bottom:-.5rem;left:-.5rem}.after\\:inset-y-0:after{content:var(--tw-content);top:0;bottom:0}.after\\:left-1\\/2:after{content:var(--tw-content);left:50%}.after\\:w-1:after{content:var(--tw-content);width:.25rem}.after\\:w-\\[2px\\]:after{content:var(--tw-content);width:2px}.after\\:-translate-x-1\\/2:after{content:var(--tw-content);--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.first\\:rounded-l-md:first-child{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.first\\:border-l:first-child{border-left-width:1px}.last\\:rounded-r-md:last-child{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.focus-within\\:relative:focus-within{position:relative}.focus-within\\:z-20:focus-within{z-index:20}.hover\\:scale-105:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:scale-\\[1\\.02\\]:hover{--tw-scale-x: 1.02;--tw-scale-y: 1.02;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:border-muted-foreground:hover{border-color:var(--muted-foreground)}.hover\\:bg-accent:hover{background-color:var(--accent)}.hover\\:bg-blue-100:hover{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-destructive:hover{background-color:var(--destructive)}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-300:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\\:bg-green-700:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\\:bg-muted:hover{background-color:var(--muted)}.hover\\:bg-primary:hover{background-color:var(--primary)}.hover\\:bg-secondary:hover{background-color:var(--secondary)}.hover\\:bg-sidebar-accent:hover{background-color:var(--sidebar-accent)}.hover\\:bg-white:hover{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.hover\\:text-accent-foreground:hover{color:var(--accent-foreground)}.hover\\:text-destructive:hover{color:var(--destructive)}.hover\\:text-destructive-foreground:hover{color:var(--destructive-foreground)}.hover\\:text-foreground:hover{color:var(--foreground)}.hover\\:text-muted-foreground:hover{color:var(--muted-foreground)}.hover\\:text-primary:hover{color:var(--primary)}.hover\\:text-primary-foreground:hover{color:var(--primary-foreground)}.hover\\:text-sidebar-accent-foreground:hover{color:var(--sidebar-accent-foreground)}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.hover\\:opacity-80:hover{opacity:.8}.hover\\:shadow-2xl:hover{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-\\[0_0_0_1px_hsl\\(var\\(--sidebar-accent\\)\\)\\]:hover{--tw-shadow: 0 0 0 1px hsl(var(--sidebar-accent));--tw-shadow-colored: 0 0 0 1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-lg:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-md:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-sm:hover{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-xl:hover{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:after\\:bg-sidebar-border:hover:after{content:var(--tw-content);background-color:var(--sidebar-border)}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\\:bg-accent:focus{background-color:var(--accent)}.focus\\:bg-primary:focus{background-color:var(--primary)}.focus\\:text-accent-foreground:focus{color:var(--accent-foreground)}.focus\\:text-primary-foreground:focus{color:var(--primary-foreground)}.focus\\:opacity-100:focus{opacity:1}.focus\\:shadow-xl:focus{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\\:ring-ring:focus{--tw-ring-color: var(--ring)}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus-visible\\:outline-none:focus-visible{outline:2px solid transparent;outline-offset:2px}.focus-visible\\:ring-1:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-2:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus-visible\\:ring-ring:focus-visible{--tw-ring-color: var(--ring)}.focus-visible\\:ring-sidebar-ring:focus-visible{--tw-ring-color: var(--sidebar-ring)}.focus-visible\\:ring-offset-1:focus-visible{--tw-ring-offset-width: 1px}.focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width: 2px}.focus-visible\\:ring-offset-background:focus-visible{--tw-ring-offset-color: var(--background)}.active\\:bg-sidebar-accent:active{background-color:var(--sidebar-accent)}.active\\:text-sidebar-accent-foreground:active{color:var(--sidebar-accent-foreground)}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group\\/menu-item:focus-within .group-focus-within\\/menu-item\\:opacity-100{opacity:1}.group\\/menu-item:hover .group-hover\\/menu-item\\:opacity-100,.group:hover .group-hover\\:opacity-100{opacity:1}.group.destructive .group-\\[\\.destructive\\]\\:text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:bg-destructive:hover{background-color:var(--destructive)}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:text-destructive-foreground:hover{color:var(--destructive-foreground)}.group.destructive .group-\\[\\.destructive\\]\\:hover\\:text-red-50:hover{--tw-text-opacity: 1;color:rgb(254 242 242 / var(--tw-text-opacity, 1))}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-destructive:focus{--tw-ring-color: var(--destructive)}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-red-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(248 113 113 / var(--tw-ring-opacity, 1))}.group.destructive .group-\\[\\.destructive\\]\\:focus\\:ring-offset-red-600:focus{--tw-ring-offset-color: #dc2626}.peer\\/menu-button:hover~.peer-hover\\/menu-button\\:text-sidebar-accent-foreground{color:var(--sidebar-accent-foreground)}.peer:disabled~.peer-disabled\\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\\:opacity-70{opacity:.7}.has-\\[\\[data-variant\\=inset\\]\\]\\:bg-sidebar:has([data-variant=inset]){background-color:var(--sidebar-background)}.has-\\[\\:disabled\\]\\:opacity-50:has(:disabled){opacity:.5}.group\\/menu-item:has([data-sidebar=menu-action]) .group-has-\\[\\[data-sidebar\\=menu-action\\]\\]\\/menu-item\\:pr-8{padding-right:2rem}.aria-disabled\\:pointer-events-none[aria-disabled=true]{pointer-events:none}.aria-disabled\\:opacity-50[aria-disabled=true]{opacity:.5}.aria-selected\\:bg-accent[aria-selected=true]{background-color:var(--accent)}.aria-selected\\:text-accent-foreground[aria-selected=true]{color:var(--accent-foreground)}.aria-selected\\:text-muted-foreground[aria-selected=true]{color:var(--muted-foreground)}.aria-selected\\:opacity-100[aria-selected=true]{opacity:1}.data-\\[disabled\\=true\\]\\:pointer-events-none[data-disabled=true],.data-\\[disabled\\]\\:pointer-events-none[data-disabled]{pointer-events:none}.data-\\[panel-group-direction\\=vertical\\]\\:h-px[data-panel-group-direction=vertical]{height:1px}.data-\\[panel-group-direction\\=vertical\\]\\:w-full[data-panel-group-direction=vertical]{width:100%}.data-\\[side\\=bottom\\]\\:translate-y-1[data-side=bottom]{--tw-translate-y: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=left\\]\\:-translate-x-1[data-side=left]{--tw-translate-x: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=right\\]\\:translate-x-1[data-side=right]{--tw-translate-x: .25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[side\\=top\\]\\:-translate-y-1[data-side=top]{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=checked\\]\\:translate-x-5[data-state=checked]{--tw-translate-x: 1.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=unchecked\\]\\:translate-x-0[data-state=unchecked],.data-\\[swipe\\=cancel\\]\\:translate-x-0[data-swipe=cancel]{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[swipe\\=end\\]\\:translate-x-\\[var\\(--radix-toast-swipe-end-x\\)\\][data-swipe=end]{--tw-translate-x: var(--radix-toast-swipe-end-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[swipe\\=move\\]\\:translate-x-\\[var\\(--radix-toast-swipe-move-x\\)\\][data-swipe=move]{--tw-translate-x: var(--radix-toast-swipe-move-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes accordion-up{0%{height:var(--radix-accordion-content-height)}to{height:0}}.data-\\[state\\=closed\\]\\:animate-accordion-up[data-state=closed]{animation:accordion-up .2s ease-out}@keyframes accordion-down{0%{height:0}to{height:var(--radix-accordion-content-height)}}.data-\\[state\\=open\\]\\:animate-accordion-down[data-state=open]{animation:accordion-down .2s ease-out}.data-\\[panel-group-direction\\=vertical\\]\\:flex-col[data-panel-group-direction=vertical]{flex-direction:column}.data-\\[checked\\]\\:border-primary[data-checked]{border-color:var(--primary)}.data-\\[active\\=true\\]\\:bg-sidebar-accent[data-active=true]{background-color:var(--sidebar-accent)}.data-\\[selected\\=\\'true\\'\\]\\:bg-accent[data-selected=true]{background-color:var(--accent)}.data-\\[state\\=active\\]\\:bg-background[data-state=active]{background-color:var(--background)}.data-\\[state\\=checked\\]\\:bg-primary[data-state=checked]{background-color:var(--primary)}.data-\\[state\\=on\\]\\:bg-accent[data-state=on],.data-\\[state\\=open\\]\\:bg-accent[data-state=open]{background-color:var(--accent)}.data-\\[state\\=open\\]\\:bg-secondary[data-state=open]{background-color:var(--secondary)}.data-\\[state\\=selected\\]\\:bg-muted[data-state=selected]{background-color:var(--muted)}.data-\\[state\\=unchecked\\]\\:bg-input[data-state=unchecked]{background-color:var(--input)}.data-\\[active\\=true\\]\\:font-medium[data-active=true]{font-weight:500}.data-\\[active\\=true\\]\\:text-sidebar-accent-foreground[data-active=true]{color:var(--sidebar-accent-foreground)}.data-\\[placeholder\\]\\:text-muted-foreground[data-placeholder]{color:var(--muted-foreground)}.data-\\[selected\\=true\\]\\:text-accent-foreground[data-selected=true]{color:var(--accent-foreground)}.data-\\[state\\=active\\]\\:text-foreground[data-state=active]{color:var(--foreground)}.data-\\[state\\=checked\\]\\:text-primary-foreground[data-state=checked]{color:var(--primary-foreground)}.data-\\[state\\=on\\]\\:text-accent-foreground[data-state=on],.data-\\[state\\=open\\]\\:text-accent-foreground[data-state=open]{color:var(--accent-foreground)}.data-\\[state\\=open\\]\\:text-muted-foreground[data-state=open]{color:var(--muted-foreground)}.data-\\[disabled\\=true\\]\\:opacity-50[data-disabled=true],.data-\\[disabled\\]\\:opacity-50[data-disabled]{opacity:.5}.data-\\[state\\=open\\]\\:opacity-100[data-state=open]{opacity:1}.data-\\[state\\=active\\]\\:shadow-sm[data-state=active]{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.data-\\[swipe\\=move\\]\\:transition-none[data-swipe=move]{transition-property:none}.data-\\[state\\=closed\\]\\:duration-300[data-state=closed]{transition-duration:.3s}.data-\\[state\\=open\\]\\:duration-500[data-state=open]{transition-duration:.5s}.data-\\[motion\\^\\=from-\\]\\:animate-in[data-motion^=from-],.data-\\[state\\=open\\]\\:animate-in[data-state=open],.data-\\[state\\=visible\\]\\:animate-in[data-state=visible]{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.data-\\[motion\\^\\=to-\\]\\:animate-out[data-motion^=to-],.data-\\[state\\=closed\\]\\:animate-out[data-state=closed],.data-\\[state\\=hidden\\]\\:animate-out[data-state=hidden],.data-\\[swipe\\=end\\]\\:animate-out[data-swipe=end]{animation-name:exit;animation-duration:.15s;--tw-exit-opacity: initial;--tw-exit-scale: initial;--tw-exit-rotate: initial;--tw-exit-translate-x: initial;--tw-exit-translate-y: initial}.data-\\[motion\\^\\=from-\\]\\:fade-in[data-motion^=from-]{--tw-enter-opacity: 0}.data-\\[motion\\^\\=to-\\]\\:fade-out[data-motion^=to-],.data-\\[state\\=closed\\]\\:fade-out-0[data-state=closed]{--tw-exit-opacity: 0}.data-\\[state\\=closed\\]\\:fade-out-80[data-state=closed]{--tw-exit-opacity: .8}.data-\\[state\\=hidden\\]\\:fade-out[data-state=hidden]{--tw-exit-opacity: 0}.data-\\[state\\=open\\]\\:fade-in-0[data-state=open],.data-\\[state\\=visible\\]\\:fade-in[data-state=visible]{--tw-enter-opacity: 0}.data-\\[state\\=closed\\]\\:zoom-out-95[data-state=closed]{--tw-exit-scale: .95}.data-\\[state\\=open\\]\\:zoom-in-90[data-state=open]{--tw-enter-scale: .9}.data-\\[state\\=open\\]\\:zoom-in-95[data-state=open]{--tw-enter-scale: .95}.data-\\[motion\\=from-end\\]\\:slide-in-from-right-52[data-motion=from-end]{--tw-enter-translate-x: 13rem}.data-\\[motion\\=from-start\\]\\:slide-in-from-left-52[data-motion=from-start]{--tw-enter-translate-x: -13rem}.data-\\[motion\\=to-end\\]\\:slide-out-to-right-52[data-motion=to-end]{--tw-exit-translate-x: 13rem}.data-\\[motion\\=to-start\\]\\:slide-out-to-left-52[data-motion=to-start]{--tw-exit-translate-x: -13rem}.data-\\[side\\=bottom\\]\\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y: -.5rem}.data-\\[side\\=left\\]\\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x: .5rem}.data-\\[side\\=right\\]\\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x: -.5rem}.data-\\[side\\=top\\]\\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y: .5rem}.data-\\[state\\=closed\\]\\:slide-out-to-bottom[data-state=closed]{--tw-exit-translate-y: 100%}.data-\\[state\\=closed\\]\\:slide-out-to-left[data-state=closed]{--tw-exit-translate-x: -100%}.data-\\[state\\=closed\\]\\:slide-out-to-left-1\\/2[data-state=closed]{--tw-exit-translate-x: -50%}.data-\\[state\\=closed\\]\\:slide-out-to-right[data-state=closed],.data-\\[state\\=closed\\]\\:slide-out-to-right-full[data-state=closed]{--tw-exit-translate-x: 100%}.data-\\[state\\=closed\\]\\:slide-out-to-top[data-state=closed]{--tw-exit-translate-y: -100%}.data-\\[state\\=closed\\]\\:slide-out-to-top-\\[48\\%\\][data-state=closed]{--tw-exit-translate-y: -48%}.data-\\[state\\=open\\]\\:slide-in-from-bottom[data-state=open]{--tw-enter-translate-y: 100%}.data-\\[state\\=open\\]\\:slide-in-from-left[data-state=open]{--tw-enter-translate-x: -100%}.data-\\[state\\=open\\]\\:slide-in-from-left-1\\/2[data-state=open]{--tw-enter-translate-x: -50%}.data-\\[state\\=open\\]\\:slide-in-from-right[data-state=open]{--tw-enter-translate-x: 100%}.data-\\[state\\=open\\]\\:slide-in-from-top[data-state=open]{--tw-enter-translate-y: -100%}.data-\\[state\\=open\\]\\:slide-in-from-top-\\[48\\%\\][data-state=open]{--tw-enter-translate-y: -48%}.data-\\[state\\=open\\]\\:slide-in-from-top-full[data-state=open]{--tw-enter-translate-y: -100%}.data-\\[state\\=closed\\]\\:duration-300[data-state=closed]{animation-duration:.3s}.data-\\[state\\=open\\]\\:duration-500[data-state=open]{animation-duration:.5s}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:left-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);left:0}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:h-1[data-panel-group-direction=vertical]:after{content:var(--tw-content);height:.25rem}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:w-full[data-panel-group-direction=vertical]:after{content:var(--tw-content);width:100%}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:-translate-y-1\\/2[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[panel-group-direction\\=vertical\\]\\:after\\:translate-x-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\\[state\\=open\\]\\:hover\\:bg-accent:hover[data-state=open]{background-color:var(--accent)}.data-\\[state\\=open\\]\\:hover\\:bg-sidebar-accent:hover[data-state=open]{background-color:var(--sidebar-accent)}.data-\\[state\\=open\\]\\:hover\\:text-sidebar-accent-foreground:hover[data-state=open]{color:var(--sidebar-accent-foreground)}.data-\\[state\\=open\\]\\:focus\\:bg-accent:focus[data-state=open]{background-color:var(--accent)}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:left-\\[calc\\(var\\(--sidebar-width\\)\\*-1\\)\\]{left:calc(var(--sidebar-width) * -1)}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:right-\\[calc\\(var\\(--sidebar-width\\)\\*-1\\)\\]{right:calc(var(--sidebar-width) * -1)}.group[data-side=left] .group-data-\\[side\\=left\\]\\:-right-4{right:-1rem}.group[data-side=right] .group-data-\\[side\\=right\\]\\:left-0{left:0}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:-mt-8{margin-top:-2rem}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:hidden{display:none}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:\\!size-8{width:2rem!important;height:2rem!important}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:w-\\[--sidebar-width-icon\\]{width:var(--sidebar-width-icon)}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:w-\\[calc\\(var\\(--sidebar-width-icon\\)_\\+_theme\\(spacing\\.4\\)\\)\\]{width:calc(var(--sidebar-width-icon) + 1rem)}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:w-\\[calc\\(var\\(--sidebar-width-icon\\)_\\+_theme\\(spacing\\.4\\)_\\+2px\\)\\]{width:calc(var(--sidebar-width-icon) + 1rem + 2px)}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:w-0{width:0px}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group[data-side=right] .group-data-\\[side\\=right\\]\\:rotate-180,.group[data-state=open] .group-data-\\[state\\=open\\]\\:rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:overflow-hidden{overflow:hidden}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:rounded-lg{border-radius:var(--radius)}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:border{border-width:1px}.group[data-side=left] .group-data-\\[side\\=left\\]\\:border-r{border-right-width:1px}.group[data-side=right] .group-data-\\[side\\=right\\]\\:border-l{border-left-width:1px}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:border-sidebar-border{border-color:var(--sidebar-border)}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:\\!p-0{padding:0!important}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:\\!p-2{padding:.5rem!important}.group[data-collapsible=icon] .group-data-\\[collapsible\\=icon\\]\\:opacity-0{opacity:0}.group[data-variant=floating] .group-data-\\[variant\\=floating\\]\\:shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:after\\:left-full:after{content:var(--tw-content);left:100%}.group[data-collapsible=offcanvas] .group-data-\\[collapsible\\=offcanvas\\]\\:hover\\:bg-sidebar:hover{background-color:var(--sidebar-background)}.peer\\/menu-button[data-size=default]~.peer-data-\\[size\\=default\\]\\/menu-button\\:top-1\\.5{top:.375rem}.peer\\/menu-button[data-size=lg]~.peer-data-\\[size\\=lg\\]\\/menu-button\\:top-2\\.5{top:.625rem}.peer\\/menu-button[data-size=sm]~.peer-data-\\[size\\=sm\\]\\/menu-button\\:top-1{top:.25rem}.peer\\/menu-button[data-active=true]~.peer-data-\\[active\\=true\\]\\/menu-button\\:text-sidebar-accent-foreground{color:var(--sidebar-accent-foreground)}.dark\\:border-blue-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(30 64 175 / var(--tw-border-opacity, 1))}.dark\\:border-destructive:is(.dark *){border-color:var(--destructive)}.dark\\:border-gray-600:is(.dark *){--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.dark\\:border-gray-700:is(.dark *){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.dark\\:border-purple-800:is(.dark *){--tw-border-opacity: 1;border-color:rgb(107 33 168 / var(--tw-border-opacity, 1))}.dark\\:bg-blue-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(30 64 175 / var(--tw-bg-opacity, 1))}.dark\\:bg-blue-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(30 58 138 / var(--tw-bg-opacity, 1))}.dark\\:bg-blue-950\\/20:is(.dark *){background-color:#17255433}.dark\\:bg-blue-950\\/30:is(.dark *){background-color:#1725544d}.dark\\:bg-gray-600:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-700:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.dark\\:bg-green-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(22 101 52 / var(--tw-bg-opacity, 1))}.dark\\:bg-green-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(20 83 45 / var(--tw-bg-opacity, 1))}.dark\\:bg-green-950\\/20:is(.dark *){background-color:#052e1633}.dark\\:bg-indigo-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(49 46 129 / var(--tw-bg-opacity, 1))}.dark\\:bg-orange-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(124 45 18 / var(--tw-bg-opacity, 1))}.dark\\:bg-pink-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(131 24 67 / var(--tw-bg-opacity, 1))}.dark\\:bg-purple-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(88 28 135 / var(--tw-bg-opacity, 1))}.dark\\:bg-purple-950\\/30:is(.dark *){background-color:#3b07644d}.dark\\:bg-red-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(127 29 29 / var(--tw-bg-opacity, 1))}.dark\\:bg-yellow-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(133 77 14 / var(--tw-bg-opacity, 1))}.dark\\:bg-yellow-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(113 63 18 / var(--tw-bg-opacity, 1))}.dark\\:from-amber-900:is(.dark *){--tw-gradient-from: #78350f var(--tw-gradient-from-position);--tw-gradient-to: rgb(120 53 15 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-blue-600:is(.dark *){--tw-gradient-from: #2563eb var(--tw-gradient-from-position);--tw-gradient-to: rgb(37 99 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-blue-900:is(.dark *){--tw-gradient-from: #1e3a8a var(--tw-gradient-from-position);--tw-gradient-to: rgb(30 58 138 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-blue-950:is(.dark *){--tw-gradient-from: #172554 var(--tw-gradient-from-position);--tw-gradient-to: rgb(23 37 84 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-blue-950\\/30:is(.dark *){--tw-gradient-from: rgb(23 37 84 / .3) var(--tw-gradient-from-position);--tw-gradient-to: rgb(23 37 84 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-cyan-900:is(.dark *){--tw-gradient-from: #164e63 var(--tw-gradient-from-position);--tw-gradient-to: rgb(22 78 99 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-gray-700:is(.dark *){--tw-gradient-from: #374151 var(--tw-gradient-from-position);--tw-gradient-to: rgb(55 65 81 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-green-900:is(.dark *){--tw-gradient-from: #14532d var(--tw-gradient-from-position);--tw-gradient-to: rgb(20 83 45 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-indigo-900:is(.dark *){--tw-gradient-from: #312e81 var(--tw-gradient-from-position);--tw-gradient-to: rgb(49 46 129 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-orange-900:is(.dark *){--tw-gradient-from: #7c2d12 var(--tw-gradient-from-position);--tw-gradient-to: rgb(124 45 18 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-pink-900:is(.dark *){--tw-gradient-from: #831843 var(--tw-gradient-from-position);--tw-gradient-to: rgb(131 24 67 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-purple-900:is(.dark *){--tw-gradient-from: #581c87 var(--tw-gradient-from-position);--tw-gradient-to: rgb(88 28 135 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-teal-900:is(.dark *){--tw-gradient-from: #134e4a var(--tw-gradient-from-position);--tw-gradient-to: rgb(19 78 74 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-violet-900:is(.dark *){--tw-gradient-from: #4c1d95 var(--tw-gradient-from-position);--tw-gradient-to: rgb(76 29 149 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-yellow-800:is(.dark *){--tw-gradient-from: #854d0e var(--tw-gradient-from-position);--tw-gradient-to: rgb(133 77 14 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:from-yellow-900:is(.dark *){--tw-gradient-from: #713f12 var(--tw-gradient-from-position);--tw-gradient-to: rgb(113 63 18 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.dark\\:to-blue-700:is(.dark *){--tw-gradient-to: #1d4ed8 var(--tw-gradient-to-position)}.dark\\:to-blue-800:is(.dark *){--tw-gradient-to: #1e40af var(--tw-gradient-to-position)}.dark\\:to-blue-900:is(.dark *){--tw-gradient-to: #1e3a8a var(--tw-gradient-to-position)}.dark\\:to-cyan-900:is(.dark *){--tw-gradient-to: #164e63 var(--tw-gradient-to-position)}.dark\\:to-emerald-900:is(.dark *){--tw-gradient-to: #064e3b var(--tw-gradient-to-position)}.dark\\:to-fuchsia-900:is(.dark *){--tw-gradient-to: #701a75 var(--tw-gradient-to-position)}.dark\\:to-gray-900:is(.dark *){--tw-gradient-to: #111827 var(--tw-gradient-to-position)}.dark\\:to-indigo-900:is(.dark *){--tw-gradient-to: #312e81 var(--tw-gradient-to-position)}.dark\\:to-indigo-950\\/30:is(.dark *){--tw-gradient-to: rgb(30 27 75 / .3) var(--tw-gradient-to-position)}.dark\\:to-orange-800:is(.dark *){--tw-gradient-to: #9a3412 var(--tw-gradient-to-position)}.dark\\:to-orange-900:is(.dark *){--tw-gradient-to: #7c2d12 var(--tw-gradient-to-position)}.dark\\:to-pink-900:is(.dark *){--tw-gradient-to: #831843 var(--tw-gradient-to-position)}.dark\\:to-purple-900:is(.dark *){--tw-gradient-to: #581c87 var(--tw-gradient-to-position)}.dark\\:to-purple-950:is(.dark *){--tw-gradient-to: #3b0764 var(--tw-gradient-to-position)}.dark\\:to-red-900:is(.dark *){--tw-gradient-to: #7f1d1d var(--tw-gradient-to-position)}.dark\\:to-rose-900:is(.dark *){--tw-gradient-to: #881337 var(--tw-gradient-to-position)}.dark\\:to-teal-900:is(.dark *){--tw-gradient-to: #134e4a var(--tw-gradient-to-position)}.dark\\:to-violet-900:is(.dark *){--tw-gradient-to: #4c1d95 var(--tw-gradient-to-position)}.dark\\:to-yellow-900:is(.dark *){--tw-gradient-to: #713f12 var(--tw-gradient-to-position)}.dark\\:text-amber-200:is(.dark *){--tw-text-opacity: 1;color:rgb(253 230 138 / var(--tw-text-opacity, 1))}.dark\\:text-blue-100:is(.dark *){--tw-text-opacity: 1;color:rgb(219 234 254 / var(--tw-text-opacity, 1))}.dark\\:text-blue-200:is(.dark *){--tw-text-opacity: 1;color:rgb(191 219 254 / var(--tw-text-opacity, 1))}.dark\\:text-blue-300:is(.dark *){--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.dark\\:text-cyan-200:is(.dark *){--tw-text-opacity: 1;color:rgb(165 243 252 / var(--tw-text-opacity, 1))}.dark\\:text-cyan-300:is(.dark *){--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity, 1))}.dark\\:text-gray-200:is(.dark *){--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.dark\\:text-gray-300:is(.dark *){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.dark\\:text-gray-400:is(.dark *){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.dark\\:text-green-100:is(.dark *){--tw-text-opacity: 1;color:rgb(220 252 231 / var(--tw-text-opacity, 1))}.dark\\:text-green-200:is(.dark *){--tw-text-opacity: 1;color:rgb(187 247 208 / var(--tw-text-opacity, 1))}.dark\\:text-green-300:is(.dark *){--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity, 1))}.dark\\:text-green-400:is(.dark *){--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.dark\\:text-indigo-200:is(.dark *){--tw-text-opacity: 1;color:rgb(199 210 254 / var(--tw-text-opacity, 1))}.dark\\:text-orange-200:is(.dark *){--tw-text-opacity: 1;color:rgb(254 215 170 / var(--tw-text-opacity, 1))}.dark\\:text-pink-200:is(.dark *){--tw-text-opacity: 1;color:rgb(251 207 232 / var(--tw-text-opacity, 1))}.dark\\:text-purple-200:is(.dark *){--tw-text-opacity: 1;color:rgb(233 213 255 / var(--tw-text-opacity, 1))}.dark\\:text-purple-300:is(.dark *){--tw-text-opacity: 1;color:rgb(216 180 254 / var(--tw-text-opacity, 1))}.dark\\:text-red-200:is(.dark *){--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.dark\\:text-red-400:is(.dark *){--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.dark\\:text-teal-200:is(.dark *){--tw-text-opacity: 1;color:rgb(153 246 228 / var(--tw-text-opacity, 1))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\\:text-yellow-200:is(.dark *){--tw-text-opacity: 1;color:rgb(254 240 138 / var(--tw-text-opacity, 1))}.dark\\:hover\\:bg-gray-600:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}@media (min-width: 640px){.sm\\:bottom-0{bottom:0}.sm\\:right-0{right:0}.sm\\:top-auto{top:auto}.sm\\:mt-0{margin-top:0}.sm\\:flex{display:flex}.sm\\:h-10{height:2.5rem}.sm\\:h-12{height:3rem}.sm\\:h-14{height:3.5rem}.sm\\:h-6{height:1.5rem}.sm\\:h-7{height:1.75rem}.sm\\:h-\\[750px\\]{height:750px}.sm\\:w-10{width:2.5rem}.sm\\:w-12{width:3rem}.sm\\:w-14{width:3.5rem}.sm\\:w-6{width:1.5rem}.sm\\:w-7{width:1.75rem}.sm\\:w-\\[350px\\]{width:350px}.sm\\:w-auto{width:auto}.sm\\:max-w-\\[600px\\]{max-width:600px}.sm\\:max-w-lg{max-width:32rem}.sm\\:max-w-md{max-width:28rem}.sm\\:max-w-sm{max-width:24rem}.sm\\:grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.sm\\:flex-row{flex-direction:row}.sm\\:flex-col{flex-direction:column}.sm\\:justify-end{justify-content:flex-end}.sm\\:gap-2\\.5{gap:.625rem}.sm\\:gap-3{gap:.75rem}.sm\\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.sm\\:space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.sm\\:space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.sm\\:space-y-0>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(0px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0px * var(--tw-space-y-reverse))}.sm\\:space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.sm\\:rounded-lg{border-radius:var(--radius)}.sm\\:border-4{border-width:4px}.sm\\:p-4{padding:1rem}.sm\\:p-5{padding:1.25rem}.sm\\:p-6{padding:1.5rem}.sm\\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\\:py-4{padding-top:1rem;padding-bottom:1rem}.sm\\:pr-12{padding-right:3rem}.sm\\:text-left{text-align:left}.sm\\:text-2xl{font-size:1.5rem;line-height:2rem}.sm\\:text-base{font-size:1rem;line-height:1.5rem}.sm\\:text-lg{font-size:1.125rem;line-height:1.75rem}.sm\\:text-sm{font-size:.875rem;line-height:1.25rem}.data-\\[state\\=open\\]\\:sm\\:slide-in-from-bottom-full[data-state=open]{--tw-enter-translate-y: 100%}}@media (min-width: 768px){.md\\:absolute{position:absolute}.md\\:block{display:block}.md\\:flex{display:flex}.md\\:hidden{display:none}.md\\:w-40{width:10rem}.md\\:w-\\[var\\(--radix-navigation-menu-viewport-width\\)\\]{width:var(--radix-navigation-menu-viewport-width)}.md\\:w-auto{width:auto}.md\\:max-w-\\[420px\\]{max-width:420px}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\\:flex-row{flex-direction:row}.md\\:text-sm{font-size:.875rem;line-height:1.25rem}.md\\:opacity-0{opacity:0}.after\\:md\\:hidden:after{content:var(--tw-content);display:none}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:m-2{margin:.5rem}.peer[data-state=collapsed][data-variant=inset]~.md\\:peer-data-\\[state\\=collapsed\\]\\:peer-data-\\[variant\\=inset\\]\\:ml-2{margin-left:.5rem}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:ml-0{margin-left:0}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:rounded-xl{border-radius:.75rem}.peer[data-variant=inset]~.md\\:peer-data-\\[variant\\=inset\\]\\:shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}}@media (min-width: 1024px){.lg\\:col-span-1{grid-column:span 1 / span 1}.lg\\:col-span-2{grid-column:span 2 / span 2}.lg\\:col-span-3{grid-column:span 3 / span 3}.lg\\:ml-0{margin-left:0}.lg\\:flex{display:flex}.lg\\:inline-flex{display:inline-flex}.lg\\:hidden{display:none}.lg\\:h-12{height:3rem}.lg\\:h-14{height:3.5rem}.lg\\:h-16{height:4rem}.lg\\:h-7{height:1.75rem}.lg\\:h-\\[850px\\]{height:850px}.lg\\:w-12{width:3rem}.lg\\:w-14{width:3.5rem}.lg\\:w-16{width:4rem}.lg\\:w-64{width:16rem}.lg\\:w-7{width:1.75rem}.lg\\:w-72{width:18rem}.lg\\:w-80{width:20rem}.lg\\:max-w-xl{max-width:36rem}.lg\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.lg\\:flex-row{flex-direction:row}.lg\\:flex-col{flex-direction:column}.lg\\:space-x-6>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1.5rem * var(--tw-space-x-reverse));margin-left:calc(1.5rem * calc(1 - var(--tw-space-x-reverse)))}.lg\\:border-8{border-width:8px}.lg\\:border-t-8{border-top-width:8px}.lg\\:p-6{padding:1.5rem}.lg\\:p-8{padding:2rem}.lg\\:px-8{padding-left:2rem;padding-right:2rem}.lg\\:py-5{padding-top:1.25rem;padding-bottom:1.25rem}.lg\\:text-3xl{font-size:1.875rem;line-height:2.25rem}.lg\\:text-base{font-size:1rem;line-height:1.5rem}.lg\\:text-lg{font-size:1.125rem;line-height:1.75rem}.lg\\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 1280px){.xl\\:col-span-1{grid-column:span 1 / span 1}.xl\\:col-span-3{grid-column:span 3 / span 3}.xl\\:h-16{height:4rem}.xl\\:h-8{height:2rem}.xl\\:h-\\[900px\\]{height:900px}.xl\\:w-16{width:4rem}.xl\\:w-8{width:2rem}.xl\\:max-w-2xl{max-width:42rem}.xl\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.xl\\:p-7{padding:1.75rem}.xl\\:p-8{padding:2rem}}.\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:bg-accent:has([aria-selected]){background-color:var(--accent)}.first\\:\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:rounded-l-md:has([aria-selected]):first-child{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.last\\:\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:rounded-r-md:has([aria-selected]):last-child{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.\\[\\&\\:has\\(\\[aria-selected\\]\\.day-range-end\\)\\]\\:rounded-r-md:has([aria-selected].day-range-end){border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.\\[\\&\\:has\\(\\[role\\=checkbox\\]\\)\\]\\:pr-0:has([role=checkbox]){padding-right:0}.\\[\\&\\>button\\]\\:hidden>button{display:none}.\\[\\&\\>span\\:last-child\\]\\:truncate>span:last-child{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.\\[\\&\\>span\\]\\:line-clamp-1>span{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.\\[\\&\\>svg\\+div\\]\\:translate-y-\\[-3px\\]>svg+div{--tw-translate-y: -3px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\>svg\\]\\:absolute>svg{position:absolute}.\\[\\&\\>svg\\]\\:left-4>svg{left:1rem}.\\[\\&\\>svg\\]\\:top-4>svg{top:1rem}.\\[\\&\\>svg\\]\\:size-4>svg{width:1rem;height:1rem}.\\[\\&\\>svg\\]\\:h-2\\.5>svg{height:.625rem}.\\[\\&\\>svg\\]\\:h-3>svg{height:.75rem}.\\[\\&\\>svg\\]\\:h-3\\.5>svg{height:.875rem}.\\[\\&\\>svg\\]\\:w-2\\.5>svg{width:.625rem}.\\[\\&\\>svg\\]\\:w-3>svg{width:.75rem}.\\[\\&\\>svg\\]\\:w-3\\.5>svg{width:.875rem}.\\[\\&\\>svg\\]\\:shrink-0>svg{flex-shrink:0}.\\[\\&\\>svg\\]\\:text-destructive>svg{color:var(--destructive)}.\\[\\&\\>svg\\]\\:text-foreground>svg{color:var(--foreground)}.\\[\\&\\>svg\\]\\:text-muted-foreground>svg{color:var(--muted-foreground)}.\\[\\&\\>svg\\]\\:text-sidebar-accent-foreground>svg{color:var(--sidebar-accent-foreground)}.\\[\\&\\>svg\\~\\*\\]\\:pl-7>svg~*{padding-left:1.75rem}.\\[\\&\\>tr\\]\\:last\\:border-b-0:last-child>tr{border-bottom-width:0px}.\\[\\&\\[data-panel-group-direction\\=vertical\\]\\>div\\]\\:rotate-90[data-panel-group-direction=vertical]>div{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&\\[data-state\\=open\\]\\>svg\\]\\:rotate-180[data-state=open]>svg{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\\[\\&_\\.recharts-cartesian-axis-tick_text\\]\\:fill-muted-foreground .recharts-cartesian-axis-tick text{fill:var(--muted-foreground)}.\\[\\&_\\.recharts-curve\\.recharts-tooltip-cursor\\]\\:stroke-border .recharts-curve.recharts-tooltip-cursor{stroke:var(--border)}.\\[\\&_\\.recharts-dot\\[stroke\\=\\'\\#fff\\'\\]\\]\\:stroke-transparent .recharts-dot[stroke=\"#fff\"]{stroke:transparent}.\\[\\&_\\.recharts-layer\\]\\:outline-none .recharts-layer{outline:2px solid transparent;outline-offset:2px}.\\[\\&_\\.recharts-polar-grid_\\[stroke\\=\\'\\#ccc\\'\\]\\]\\:stroke-border .recharts-polar-grid [stroke=\"#ccc\"]{stroke:var(--border)}.\\[\\&_\\.recharts-radial-bar-background-sector\\]\\:fill-muted .recharts-radial-bar-background-sector,.\\[\\&_\\.recharts-rectangle\\.recharts-tooltip-cursor\\]\\:fill-muted .recharts-rectangle.recharts-tooltip-cursor{fill:var(--muted)}.\\[\\&_\\.recharts-reference-line_\\[stroke\\=\\'\\#ccc\\'\\]\\]\\:stroke-border .recharts-reference-line [stroke=\"#ccc\"]{stroke:var(--border)}.\\[\\&_\\.recharts-sector\\[stroke\\=\\'\\#fff\\'\\]\\]\\:stroke-transparent .recharts-sector[stroke=\"#fff\"]{stroke:transparent}.\\[\\&_\\.recharts-sector\\]\\:outline-none .recharts-sector,.\\[\\&_\\.recharts-surface\\]\\:outline-none .recharts-surface{outline:2px solid transparent;outline-offset:2px}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:px-2 [cmdk-group-heading]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:py-1\\.5 [cmdk-group-heading]{padding-top:.375rem;padding-bottom:.375rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:text-xs [cmdk-group-heading]{font-size:.75rem;line-height:1rem}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:font-medium [cmdk-group-heading]{font-weight:500}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:text-muted-foreground [cmdk-group-heading]{color:var(--muted-foreground)}.\\[\\&_\\[cmdk-group\\]\\:not\\(\\[hidden\\]\\)_\\~\\[cmdk-group\\]\\]\\:pt-0 [cmdk-group]:not([hidden])~[cmdk-group]{padding-top:0}.\\[\\&_\\[cmdk-group\\]\\]\\:px-2 [cmdk-group]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:h-5 [cmdk-input-wrapper] svg{height:1.25rem}.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:w-5 [cmdk-input-wrapper] svg{width:1.25rem}.\\[\\&_\\[cmdk-input\\]\\]\\:h-12 [cmdk-input]{height:3rem}.\\[\\&_\\[cmdk-item\\]\\]\\:px-2 [cmdk-item]{padding-left:.5rem;padding-right:.5rem}.\\[\\&_\\[cmdk-item\\]\\]\\:py-3 [cmdk-item]{padding-top:.75rem;padding-bottom:.75rem}.\\[\\&_\\[cmdk-item\\]_svg\\]\\:h-5 [cmdk-item] svg{height:1.25rem}.\\[\\&_\\[cmdk-item\\]_svg\\]\\:w-5 [cmdk-item] svg{width:1.25rem}.\\[\\&_p\\]\\:leading-relaxed p{line-height:1.625}.\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.\\[\\&_svg\\]\\:size-4 svg{width:1rem;height:1rem}.\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}.\\[\\&_tr\\:last-child\\]\\:border-0 tr:last-child{border-width:0px}.\\[\\&_tr\\]\\:border-b tr{border-bottom-width:1px}[data-side=left][data-collapsible=offcanvas] .\\[\\[data-side\\=left\\]\\[data-collapsible\\=offcanvas\\]_\\&\\]\\:-right-2{right:-.5rem}[data-side=left][data-state=collapsed] .\\[\\[data-side\\=left\\]\\[data-state\\=collapsed\\]_\\&\\]\\:cursor-e-resize{cursor:e-resize}[data-side=left] .\\[\\[data-side\\=left\\]_\\&\\]\\:cursor-w-resize{cursor:w-resize}[data-side=right][data-collapsible=offcanvas] .\\[\\[data-side\\=right\\]\\[data-collapsible\\=offcanvas\\]_\\&\\]\\:-left-2{left:-.5rem}[data-side=right][data-state=collapsed] .\\[\\[data-side\\=right\\]\\[data-state\\=collapsed\\]_\\&\\]\\:cursor-w-resize{cursor:w-resize}[data-side=right] .\\[\\[data-side\\=right\\]_\\&\\]\\:cursor-e-resize{cursor:e-resize}\n","size_bytes":106968},"client/src/pages/medicine-alarm.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { AlarmClock, Plus, Edit, Trash2, Bell, Clock, Pill, Calendar } from \"lucide-react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\n\n// Form schema\nconst medicineAlarmSchema = z.object({\n  medicineName: z.string().min(1, \"Medicine name is required\"),\n  dosage: z.string().min(1, \"Dosage is required\"),\n  frequency: z.enum([\"daily\", \"twice-daily\", \"thrice-daily\", \"weekly\", \"custom\"]),\n  times: z.array(z.string()).min(1, \"At least one time is required\"),\n  startDate: z.string().min(1, \"Start date is required\"),\n  endDate: z.string().optional(),\n  notes: z.string().optional(),\n});\n\ntype MedicineAlarmForm = z.infer<typeof medicineAlarmSchema>;\n\ninterface MedicineAlarm {\n  id: string;\n  medicineName: string;\n  dosage: string;\n  frequency: string;\n  times: string[];\n  startDate: string;\n  endDate?: string;\n  isActive: boolean;\n  notes?: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\nconst frequencyOptions = [\n  { value: \"daily\", label: \"Once Daily\", defaultTimes: [\"08:00\"] },\n  { value: \"twice-daily\", label: \"Twice Daily\", defaultTimes: [\"08:00\", \"20:00\"] },\n  { value: \"thrice-daily\", label: \"Three Times Daily\", defaultTimes: [\"08:00\", \"14:00\", \"20:00\"] },\n  { value: \"weekly\", label: \"Weekly\", defaultTimes: [\"08:00\"] },\n  { value: \"custom\", label: \"Custom\", defaultTimes: [\"08:00\"] },\n];\n\nexport default function MedicineAlarmPage() {\n  const [selectedAlarm, setSelectedAlarm] = useState<MedicineAlarm | null>(null);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [customTimes, setCustomTimes] = useState<string[]>([\"08:00\"]);\n  const { toast } = useToast();\n\n  const form = useForm<MedicineAlarmForm>({\n    resolver: zodResolver(medicineAlarmSchema),\n    defaultValues: {\n      medicineName: \"\",\n      dosage: \"\",\n      frequency: \"daily\",\n      times: [\"08:00\"],\n      startDate: new Date().toISOString().split('T')[0],\n      endDate: \"\",\n      notes: \"\",\n    },\n  });\n\n  const { data: alarms = [], isLoading } = useQuery<MedicineAlarm[]>({\n    queryKey: [\"/api/medicine-alarms\"],\n  });\n\n  const createAlarmMutation = useMutation({\n    mutationFn: (data: MedicineAlarmForm) => apiRequest(\"/api/medicine-alarms\", \"POST\", { ...data, userId: \"current-user-id\" }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/medicine-alarms\"] });\n      toast({ title: \"Success\", description: \"Medicine alarm created successfully!\" });\n      setIsDialogOpen(false);\n      form.reset();\n    },\n    onError: () => {\n      toast({ title: \"Error\", description: \"Failed to create medicine alarm\", variant: \"destructive\" });\n    },\n  });\n\n  const updateAlarmMutation = useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<MedicineAlarm> }) =>\n      apiRequest(`/api/medicine-alarms/${id}`, \"PATCH\", data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/medicine-alarms\"] });\n      toast({ title: \"Success\", description: \"Medicine alarm updated successfully!\" });\n    },\n    onError: () => {\n      toast({ title: \"Error\", description: \"Failed to update medicine alarm\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteAlarmMutation = useMutation({\n    mutationFn: (id: string) => apiRequest(`/api/medicine-alarms/${id}`, \"DELETE\"),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/medicine-alarms\"] });\n      toast({ title: \"Success\", description: \"Medicine alarm deleted successfully!\" });\n    },\n    onError: () => {\n      toast({ title: \"Error\", description: \"Failed to delete medicine alarm\", variant: \"destructive\" });\n    },\n  });\n\n  const onSubmit = (data: MedicineAlarmForm) => {\n    if (selectedAlarm) {\n      updateAlarmMutation.mutate({ id: selectedAlarm.id, data });\n    } else {\n      createAlarmMutation.mutate(data);\n    }\n  };\n\n  const handleFrequencyChange = (frequency: string) => {\n    const option = frequencyOptions.find(opt => opt.value === frequency);\n    if (option) {\n      form.setValue(\"times\", option.defaultTimes);\n      setCustomTimes(option.defaultTimes);\n    }\n  };\n\n  const addCustomTime = () => {\n    const newTimes = [...customTimes, \"08:00\"];\n    setCustomTimes(newTimes);\n    form.setValue(\"times\", newTimes);\n  };\n\n  const removeCustomTime = (index: number) => {\n    const newTimes = customTimes.filter((_, i) => i !== index);\n    setCustomTimes(newTimes);\n    form.setValue(\"times\", newTimes);\n  };\n\n  const updateCustomTime = (index: number, time: string) => {\n    const newTimes = [...customTimes];\n    newTimes[index] = time;\n    setCustomTimes(newTimes);\n    form.setValue(\"times\", newTimes);\n  };\n\n  const requestNotificationPermission = async () => {\n    if ('Notification' in window && 'serviceWorker' in navigator) {\n      try {\n        const permission = await Notification.requestPermission();\n        if (permission === 'granted') {\n          toast({ title: \"Success\", description: \"Notification permission granted!\" });\n        } else {\n          toast({ title: \"Warning\", description: \"Notification permission denied. You may miss medicine reminders.\", variant: \"destructive\" });\n        }\n      } catch (error) {\n        console.error('Error requesting notification permission:', error);\n      }\n    }\n  };\n\n  useEffect(() => {\n    // Request notification permission on component mount\n    requestNotificationPermission();\n  }, []);\n\n  const formatTime = (time: string) => {\n    const [hour, minute] = time.split(':');\n    const hourNum = parseInt(hour);\n    const ampm = hourNum >= 12 ? 'PM' : 'AM';\n    const displayHour = hourNum % 12 || 12;\n    return `${displayHour}:${minute} ${ampm}`;\n  };\n\n  const getNextAlarmTime = (alarm: MedicineAlarm) => {\n    const now = new Date();\n    const today = now.toISOString().split('T')[0];\n    \n    // Find the next time for today\n    const todayTimes = alarm.times.map(time => {\n      const [hour, minute] = time.split(':');\n      const alarmTime = new Date(now);\n      alarmTime.setHours(parseInt(hour), parseInt(minute), 0, 0);\n      return alarmTime;\n    }).filter(time => time > now);\n\n    if (todayTimes.length > 0) {\n      return todayTimes[0];\n    }\n\n    // If no times left today, get first time for tomorrow\n    const tomorrow = new Date(now);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    const [hour, minute] = alarm.times[0].split(':');\n    tomorrow.setHours(parseInt(hour), parseInt(minute), 0, 0);\n    return tomorrow;\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"space-y-1\">\n          <h1 className=\"text-2xl font-bold text-foreground flex items-center gap-2\">\n            <AlarmClock className=\"h-6 w-6 text-primary\" />\n            Medicine Alarms\n          </h1>\n          <p className=\"text-muted-foreground\">\n            Set reminders for your medications and never miss a dose\n          </p>\n        </div>\n\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogTrigger asChild>\n            <Button \n              onClick={() => {\n                setSelectedAlarm(null);\n                form.reset();\n                setCustomTimes([\"08:00\"]);\n              }}\n              data-testid=\"button-add-alarm\"\n            >\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Add Alarm\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"sm:max-w-md\">\n            <DialogHeader>\n              <DialogTitle>\n                {selectedAlarm ? \"Edit Medicine Alarm\" : \"Add Medicine Alarm\"}\n              </DialogTitle>\n            </DialogHeader>\n\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                <FormField\n                  control={form.control}\n                  name=\"medicineName\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Medicine Name</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"e.g., Vitamin D\" {...field} data-testid=\"input-medicine-name\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"dosage\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Dosage</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"e.g., 1 tablet, 10mg\" {...field} data-testid=\"input-dosage\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"frequency\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Frequency</FormLabel>\n                      <Select \n                        onValueChange={(value) => {\n                          field.onChange(value);\n                          handleFrequencyChange(value);\n                        }} \n                        defaultValue={field.value}\n                      >\n                        <FormControl>\n                          <SelectTrigger data-testid=\"select-frequency\">\n                            <SelectValue placeholder=\"Select frequency\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          {frequencyOptions.map((option) => (\n                            <SelectItem key={option.value} value={option.value}>\n                              {option.label}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                {/* Custom times section */}\n                <div className=\"space-y-2\">\n                  <FormLabel>Reminder Times</FormLabel>\n                  {customTimes.map((time, index) => (\n                    <div key={index} className=\"flex items-center gap-2\">\n                      <Input\n                        type=\"time\"\n                        value={time}\n                        onChange={(e) => updateCustomTime(index, e.target.value)}\n                        data-testid={`input-time-${index}`}\n                      />\n                      {customTimes.length > 1 && (\n                        <Button\n                          type=\"button\"\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => removeCustomTime(index)}\n                          data-testid={`button-remove-time-${index}`}\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      )}\n                    </div>\n                  ))}\n                  {form.watch(\"frequency\") === \"custom\" && (\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={addCustomTime}\n                      data-testid=\"button-add-time\"\n                    >\n                      <Plus className=\"h-4 w-4 mr-2\" />\n                      Add Time\n                    </Button>\n                  )}\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <FormField\n                    control={form.control}\n                    name=\"startDate\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Start Date</FormLabel>\n                        <FormControl>\n                          <Input type=\"date\" {...field} data-testid=\"input-start-date\" />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"endDate\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>End Date (Optional)</FormLabel>\n                        <FormControl>\n                          <Input type=\"date\" {...field} data-testid=\"input-end-date\" />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                <FormField\n                  control={form.control}\n                  name=\"notes\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Notes (Optional)</FormLabel>\n                      <FormControl>\n                        <Textarea \n                          placeholder=\"Any additional instructions or notes...\"\n                          rows={3}\n                          {...field} \n                          data-testid=\"textarea-notes\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <div className=\"flex justify-end space-x-2\">\n                  <Button \n                    type=\"button\" \n                    variant=\"outline\" \n                    onClick={() => setIsDialogOpen(false)}\n                    data-testid=\"button-cancel\"\n                  >\n                    Cancel\n                  </Button>\n                  <Button \n                    type=\"submit\" \n                    disabled={createAlarmMutation.isPending || updateAlarmMutation.isPending}\n                    data-testid=\"button-save-alarm\"\n                  >\n                    {selectedAlarm ? \"Update\" : \"Create\"} Alarm\n                  </Button>\n                </div>\n              </form>\n            </Form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Alarms List */}\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n        {isLoading ? (\n          <div className=\"col-span-full text-center py-8\" data-testid=\"loading-alarms\">\n            Loading alarms...\n          </div>\n        ) : (alarms as MedicineAlarm[]).length === 0 ? (\n          <div className=\"col-span-full text-center py-8\" data-testid=\"no-alarms\">\n            <div className=\"space-y-3\">\n              <Pill className=\"h-12 w-12 text-muted-foreground mx-auto\" />\n              <p className=\"text-muted-foreground\">\n                No medicine alarms set yet. Add your first alarm to get started!\n              </p>\n            </div>\n          </div>\n        ) : (\n          (alarms as MedicineAlarm[]).map((alarm: MedicineAlarm) => (\n            <Card key={alarm.id} className=\"relative\" data-testid={`card-alarm-${alarm.id}`}>\n              <CardHeader className=\"pb-3\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"space-y-1\">\n                    <CardTitle className=\"text-lg flex items-center gap-2\">\n                      <Pill className=\"h-5 w-5 text-primary\" />\n                      {alarm.medicineName}\n                    </CardTitle>\n                    <p className=\"text-sm text-muted-foreground\">{alarm.dosage}</p>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Switch\n                      checked={alarm.isActive}\n                      onCheckedChange={(checked) =>\n                        updateAlarmMutation.mutate({ \n                          id: alarm.id, \n                          data: { isActive: checked } \n                        })\n                      }\n                      data-testid={`switch-active-${alarm.id}`}\n                    />\n                    {alarm.isActive && (\n                      <Bell className=\"h-4 w-4 text-green-500\" />\n                    )}\n                  </div>\n                </div>\n              </CardHeader>\n              \n              <CardContent className=\"space-y-3\">\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <Clock className=\"h-4 w-4 text-muted-foreground\" />\n                    <span className=\"text-sm font-medium\">\n                      {frequencyOptions.find(f => f.value === alarm.frequency)?.label}\n                    </span>\n                  </div>\n                  \n                  <div className=\"flex flex-wrap gap-1\">\n                    {alarm.times.map((time, index) => (\n                      <Badge key={index} variant=\"secondary\" className=\"text-xs\">\n                        {formatTime(time)}\n                      </Badge>\n                    ))}\n                  </div>\n\n                  {alarm.isActive && (\n                    <div className=\"flex items-center gap-2 text-sm text-green-600\">\n                      <Calendar className=\"h-4 w-4\" />\n                      Next: {getNextAlarmTime(alarm).toLocaleDateString()} at {formatTime(alarm.times[0])}\n                    </div>\n                  )}\n                </div>\n\n                {alarm.notes && (\n                  <p className=\"text-sm text-muted-foreground italic\">\n                    {alarm.notes}\n                  </p>\n                )}\n\n                <div className=\"flex justify-end gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      setSelectedAlarm(alarm);\n                      form.reset({\n                        medicineName: alarm.medicineName,\n                        dosage: alarm.dosage,\n                        frequency: alarm.frequency as any,\n                        times: alarm.times,\n                        startDate: alarm.startDate.split('T')[0],\n                        endDate: alarm.endDate?.split('T')[0] || \"\",\n                        notes: alarm.notes || \"\",\n                      });\n                      setCustomTimes(alarm.times);\n                      setIsDialogOpen(true);\n                    }}\n                    data-testid={`button-edit-${alarm.id}`}\n                  >\n                    <Edit className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => deleteAlarmMutation.mutate(alarm.id)}\n                    data-testid={`button-delete-${alarm.id}`}\n                  >\n                    <Trash2 className=\"h-4 w-4 text-destructive\" />\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}","size_bytes":19908},"client/src/pages/showcase.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Label } from \"@/components/ui/label\";\nimport { \n  Plus, \n  Heart, \n  Eye,\n  MessageSquare, \n  Palette,\n  Code,\n  Music,\n  Camera,\n  PenTool,\n  Award,\n  Star,\n  Trophy,\n  Image,\n  FileText,\n  Mic,\n  Video,\n  Theater,\n  Brush,\n  Guitar,\n  Zap,\n  Gamepad2,\n  Scissors,\n  Cake,\n  Shirt,\n  Car,\n  Wrench,\n  Dumbbell,\n  TreePine,\n  Coffee,\n  Utensils,\n  Flower,\n  Languages,\n  Globe,\n  BookOpen,\n  Filter,\n  TrendingUp,\n  Clock,\n  Users,\n  Share2,\n  Search,\n  Grid,\n  List,\n  Upload,\n  Sparkles,\n  ExternalLink,\n  Calendar,\n  MessageCircle\n} from \"lucide-react\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { BackButton } from \"@/components/ui/back-button\";\n\n// Import local assets\nimport showcaseImage1 from '@/assets/showcase/images/image_1757128213806.png';\nimport showcaseImage2 from '@/assets/showcase/images/image_1757134410950.png';\nimport showcaseImage3 from '@/assets/showcase/images/image_1757136142731.png';\nimport audioSample1 from '@/assets/showcase/audio/WhatsApp Audio 2025-09-06 at 09.26.39_7516e2fa_1757131765090.mp3';\nimport audioSample2 from '@/assets/showcase/audio/WhatsApp Audio 2025-09-06 at 09.26.40_42b10528_1757131765090.mp3';\n\nconst skillCategories = [\n  { value: \"art\", label: \"Art & Drawing\", icon: Palette, color: \"bg-gradient-to-r from-rose-100 to-pink-100 text-rose-800 border-rose-200 dark:from-rose-900 dark:to-pink-900 dark:text-rose-200 dark:border-rose-700\" },\n  { value: \"digital-art\", label: \"Digital Art\", icon: Brush, color: \"bg-gradient-to-r from-purple-100 to-violet-100 text-purple-800 border-purple-200 dark:from-purple-900 dark:to-violet-900 dark:text-purple-200 dark:border-purple-700\" },\n  { value: \"music\", label: \"Music\", icon: Music, color: \"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 border-blue-200 dark:from-blue-900 dark:to-indigo-900 dark:text-blue-200 dark:border-blue-700\" },\n  { value: \"instrumental\", label: \"Instrumental\", icon: Guitar, color: \"bg-gradient-to-r from-indigo-100 to-blue-100 text-indigo-800 border-indigo-200 dark:from-indigo-900 dark:to-blue-900 dark:text-indigo-200 dark:border-indigo-700\" },\n  { value: \"singing\", label: \"Singing\", icon: Mic, color: \"bg-gradient-to-r from-pink-100 to-rose-100 text-pink-800 border-pink-200 dark:from-pink-900 dark:to-rose-900 dark:text-pink-200 dark:border-pink-700\" },\n  { value: \"writing\", label: \"Creative Writing\", icon: PenTool, color: \"bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-800 border-emerald-200 dark:from-emerald-900 dark:to-teal-900 dark:text-emerald-200 dark:border-emerald-700\" },\n  { value: \"poetry\", label: \"Poetry\", icon: FileText, color: \"bg-gradient-to-r from-teal-100 to-cyan-100 text-teal-800 border-teal-200 dark:from-teal-900 dark:to-cyan-900 dark:text-teal-200 dark:border-teal-700\" },\n  { value: \"photography\", label: \"Photography\", icon: Camera, color: \"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-200 dark:from-amber-900 dark:to-yellow-900 dark:text-amber-200 dark:border-amber-700\" },\n  { value: \"videography\", label: \"Video Creation\", icon: Video, color: \"bg-gradient-to-r from-orange-100 to-red-100 text-orange-800 border-orange-200 dark:from-orange-900 dark:to-red-900 dark:text-orange-200 dark:border-orange-700\" },\n  { value: \"coding\", label: \"Programming\", icon: Code, color: \"bg-gradient-to-r from-slate-100 to-gray-100 text-slate-800 border-slate-200 dark:from-slate-900 dark:to-gray-900 dark:text-slate-200 dark:border-slate-700\" },\n  { value: \"dance\", label: \"Dance\", icon: Zap, color: \"bg-gradient-to-r from-cyan-100 to-teal-100 text-cyan-800 border-cyan-200 dark:from-cyan-900 dark:to-teal-900 dark:text-cyan-200 dark:border-cyan-700\" },\n  { value: \"theater\", label: \"Theater & Acting\", icon: Theater, color: \"bg-gradient-to-r from-violet-100 to-purple-100 text-violet-800 border-violet-200 dark:from-violet-900 dark:to-purple-900 dark:text-violet-200 dark:border-violet-700\" },\n  { value: \"gaming\", label: \"Game Development\", icon: Gamepad2, color: \"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200 dark:from-green-900 dark:to-emerald-900 dark:text-green-200 dark:border-green-700\" },\n  { value: \"crafts\", label: \"Arts & Crafts\", icon: Scissors, color: \"bg-gradient-to-r from-rose-100 to-pink-100 text-rose-800 border-rose-200 dark:from-rose-900 dark:to-pink-900 dark:text-rose-200 dark:border-rose-700\" },\n  { value: \"cooking\", label: \"Cooking\", icon: Utensils, color: \"bg-gradient-to-r from-amber-100 to-orange-100 text-amber-800 border-amber-200 dark:from-amber-900 dark:to-orange-900 dark:text-amber-200 dark:border-amber-700\" },\n  { value: \"baking\", label: \"Baking\", icon: Cake, color: \"bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-800 border-yellow-200 dark:from-yellow-900 dark:to-amber-900 dark:text-yellow-200 dark:border-yellow-700\" },\n  { value: \"fashion\", label: \"Fashion Design\", icon: Shirt, color: \"bg-gradient-to-r from-fuchsia-100 to-pink-100 text-fuchsia-800 border-fuchsia-200 dark:from-fuchsia-900 dark:to-pink-900 dark:text-fuchsia-200 dark:border-fuchsia-700\" },\n  { value: \"automotive\", label: \"Automotive\", icon: Car, color: \"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border-gray-200 dark:from-gray-900 dark:to-slate-900 dark:text-gray-200 dark:border-gray-700\" },\n  { value: \"diy\", label: \"DIY Projects\", icon: Wrench, color: \"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800 border-blue-200 dark:from-blue-900 dark:to-cyan-900 dark:text-blue-200 dark:border-blue-700\" },\n  { value: \"fitness\", label: \"Fitness\", icon: Dumbbell, color: \"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200 dark:from-red-900 dark:to-rose-900 dark:text-red-200 dark:border-red-700\" },\n  { value: \"gardening\", label: \"Gardening\", icon: TreePine, color: \"bg-gradient-to-r from-green-100 to-lime-100 text-green-800 border-green-200 dark:from-green-900 dark:to-lime-900 dark:text-green-200 dark:border-green-700\" },\n  { value: \"coffee-art\", label: \"Coffee Art\", icon: Coffee, color: \"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-200 dark:from-amber-900 dark:to-yellow-900 dark:text-amber-200 dark:border-amber-700\" },\n  { value: \"nature\", label: \"Nature Art\", icon: Flower, color: \"bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-800 border-emerald-200 dark:from-emerald-900 dark:to-green-900 dark:text-emerald-200 dark:border-emerald-700\" },\n  { value: \"languages\", label: \"Languages\", icon: Languages, color: \"bg-gradient-to-r from-indigo-100 to-violet-100 text-indigo-800 border-indigo-200 dark:from-indigo-900 dark:to-violet-900 dark:text-indigo-200 dark:border-indigo-700\" },\n  { value: \"cultural\", label: \"Cultural Arts\", icon: Globe, color: \"bg-gradient-to-r from-purple-100 to-fuchsia-100 text-purple-800 border-purple-200 dark:from-purple-900 dark:to-fuchsia-900 dark:text-purple-200 dark:border-purple-700\" },\n  { value: \"academic\", label: \"Academic Work\", icon: BookOpen, color: \"bg-gradient-to-r from-teal-100 to-emerald-100 text-teal-800 border-teal-200 dark:from-teal-900 dark:to-emerald-900 dark:text-teal-200 dark:border-teal-700\" },\n  { value: \"other\", label: \"Other\", icon: Star, color: \"bg-gradient-to-r from-gray-100 to-zinc-100 text-gray-800 border-gray-200 dark:from-gray-900 dark:to-zinc-900 dark:text-gray-200 dark:border-gray-700\" }\n];\n\nconst themes = [\n  { value: \"inspiration\", label: \"Inspiration & Hope\", color: \"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200 dark:from-blue-900/20 dark:to-indigo-900/20 dark:border-blue-700\" },\n  { value: \"healing\", label: \"Healing Journey\", color: \"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 dark:from-green-900/20 dark:to-emerald-900/20 dark:border-green-700\" },\n  { value: \"mindfulness\", label: \"Mindfulness & Peace\", color: \"bg-gradient-to-r from-purple-50 to-violet-50 border-purple-200 dark:from-purple-900/20 dark:to-violet-900/20 dark:border-purple-700\" },\n  { value: \"community\", label: \"Community Support\", color: \"bg-gradient-to-r from-orange-50 to-amber-50 border-orange-200 dark:from-orange-900/20 dark:to-amber-900/20 dark:border-orange-700\" },\n  { value: \"cultural\", label: \"Cultural Heritage\", color: \"bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-200 dark:from-yellow-900/20 dark:to-amber-900/20 dark:border-yellow-700\" },\n  { value: \"nature\", label: \"Nature & Environment\", color: \"bg-gradient-to-r from-emerald-50 to-teal-50 border-emerald-200 dark:from-emerald-900/20 dark:to-teal-900/20 dark:border-emerald-700\" },\n  { value: \"education\", label: \"Learning & Growth\", color: \"bg-gradient-to-r from-indigo-50 to-blue-50 border-indigo-200 dark:from-indigo-900/20 dark:to-blue-900/20 dark:border-indigo-700\" },\n  { value: \"innovation\", label: \"Innovation & Tech\", color: \"bg-gradient-to-r from-cyan-50 to-teal-50 border-cyan-200 dark:from-cyan-900/20 dark:to-teal-900/20 dark:border-cyan-700\" },\n  { value: \"celebration\", label: \"Joy & Celebration\", color: \"bg-gradient-to-r from-pink-50 to-rose-50 border-pink-200 dark:from-pink-900/20 dark:to-rose-900/20 dark:border-pink-700\" },\n  { value: \"challenge\", label: \"Overcoming Challenges\", color: \"bg-gradient-to-r from-red-50 to-rose-50 border-red-200 dark:from-red-900/20 dark:to-rose-900/20 dark:border-red-700\" }\n];\n\nconst sortOptions = [\n  { value: \"recent\", label: \"Most Recent\", icon: Clock },\n  { value: \"popular\", label: \"Most Popular\", icon: TrendingUp },\n  { value: \"views\", label: \"Most Viewed\", icon: Eye },\n  { value: \"liked\", label: \"Most Liked\", icon: Heart }\n];\n\ninterface ShowcasePost {\n  id: string;\n  title: string;\n  description: string;\n  category: string;\n  theme?: string;\n  tags?: string[];\n  imageUrl?: string;\n  fileUrl?: string;\n  likes: number;\n  views: number;\n  comments: number;\n  author: {\n    name: string;\n    institution: string;\n  };\n  createdAt: string;\n  isLiked: boolean;\n}\n\nexport default function Showcase() {\n  const { currentUser } = useAppContext();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  const [isCreatePostOpen, setIsCreatePostOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState(\"all\");\n  const [selectedTheme, setSelectedTheme] = useState(\"all\");\n  const [sortBy, setSortBy] = useState(\"recent\");\n  const [viewMode, setViewMode] = useState(\"grid\");\n  const [showTrending, setShowTrending] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [newPost, setNewPost] = useState({\n    title: \"\",\n    description: \"\",\n    category: \"\",\n    theme: \"\",\n    tags: \"\",\n    file: null as File | null\n  });\n\n  // Fetch showcase posts\n  const { data: showcasePosts, isLoading } = useQuery({\n    queryKey: [\"/api/showcase/posts\", selectedCategory],\n  });\n\n  // Create post mutation\n  const createPostMutation = useMutation({\n    mutationFn: async (postData: FormData) => {\n      return await apiRequest(\"POST\", \"/api/showcase/posts\", postData);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/showcase/posts\"] });\n      setIsCreatePostOpen(false);\n      setNewPost({ title: \"\", description: \"\", category: \"\", theme: \"\", tags: \"\", file: null });\n      toast({\n        title: \"Showcase created!\",\n        description: \"Your creative work has been shared with the community.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create showcase post. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Like post mutation\n  const likePostMutation = useMutation({\n    mutationFn: async (postId: string) => {\n      return await apiRequest(\"POST\", `/api/showcase/posts/${postId}/like`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/showcase/posts\"] });\n    },\n  });\n\n  const handleCreatePost = () => {\n    if (!newPost.title || !newPost.description || !newPost.category) {\n      toast({\n        title: \"Missing information\",\n        description: \"Please fill in all required fields.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"title\", newPost.title);\n    formData.append(\"description\", newPost.description);\n    formData.append(\"category\", newPost.category);\n    formData.append(\"theme\", newPost.theme);\n    formData.append(\"tags\", newPost.tags);\n    formData.append(\"userId\", currentUser?.id || \"\");\n    \n    if (newPost.file) {\n      formData.append(\"file\", newPost.file);\n    }\n\n    createPostMutation.mutate(formData);\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      // Check file size (max 10MB)\n      if (file.size > 10 * 1024 * 1024) {\n        toast({\n          title: \"File too large\",\n          description: \"Please select a file smaller than 10MB.\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n      setNewPost({ ...newPost, file });\n    }\n  };\n\n  // Enhanced mock data with local assets\n  const mockPosts: ShowcasePost[] = [\n    {\n      id: \"1\",\n      title: \"Sunset Painting\",\n      description: \"A watercolor painting of sunset over mountains. This piece represents my journey through healing and finding peace.\",\n      category: \"art\",\n      theme: \"healing\",\n      tags: [\"watercolor\", \"nature\", \"peace\"],\n      imageUrl: showcaseImage1,\n      likes: 24,\n      views: 156,\n      comments: 8,\n      author: {\n        name: \"Anonymous Artist\",\n        institution: \"Delhi University\"\n      },\n      createdAt: \"2024-01-15T10:30:00Z\",\n      isLiked: false\n    },\n    {\n      id: \"2\",\n      title: \"Mental Health Awareness Song\",\n      description: \"Original composition about breaking mental health stigma in Indian society.\",\n      category: \"music\",\n      theme: \"community\",\n      tags: [\"original\", \"awareness\", \"mental-health\"],\n      fileUrl: audioSample1,\n      likes: 18,\n      views: 89,\n      comments: 12,\n      author: {\n        name: \"Music Lover\",\n        institution: \"Mumbai College\"\n      },\n      createdAt: \"2024-01-14T15:20:00Z\",\n      isLiked: true\n    },\n    {\n      id: \"3\",\n      title: \"Hope - A Short Poem\",\n      description: \"A poem about finding hope during difficult times. Written during my recovery journey.\",\n      category: \"poetry\",\n      theme: \"inspiration\",\n      tags: [\"hope\", \"recovery\", \"inspiration\"],\n      likes: 31,\n      views: 203,\n      comments: 15,\n      author: {\n        name: \"Word Weaver\",\n        institution: \"Bangalore Institute\"\n      },\n      createdAt: \"2024-01-13T09:45:00Z\",\n      isLiked: false\n    },\n    {\n      id: \"4\",\n      title: \"Digital Portrait Series\",\n      description: \"A collection of digital portraits exploring emotions and mental states through vibrant colors.\",\n      category: \"digital-art\",\n      theme: \"mindfulness\",\n      tags: [\"digital\", \"portraits\", \"emotions\"],\n      imageUrl: showcaseImage2,\n      likes: 45,\n      views: 234,\n      comments: 19,\n      author: {\n        name: \"Digital Creator\",\n        institution: \"IIT Chennai\"\n      },\n      createdAt: \"2024-01-12T14:20:00Z\",\n      isLiked: false\n    },\n    {\n      id: \"5\",\n      title: \"Healthy Meal Prep Ideas\",\n      description: \"Creative and nutritious meal prep recipes for busy college students on a budget.\",\n      category: \"cooking\",\n      theme: \"education\",\n      tags: [\"healthy\", \"budget\", \"student-life\"],\n      imageUrl: showcaseImage3,\n      likes: 67,\n      views: 401,\n      comments: 23,\n      author: {\n        name: \"Chef Student\",\n        institution: \"Culinary Institute Delhi\"\n      },\n      createdAt: \"2024-01-11T09:15:00Z\",\n      isLiked: true\n    },\n    {\n      id: \"6\",\n      title: \"Meditation App UI Design\",\n      description: \"User interface design for a mindfulness app focused on Indian meditation practices.\",\n      category: \"coding\",\n      theme: \"innovation\",\n      tags: [\"ui-design\", \"meditation\", \"tech\"],\n      imageUrl: showcaseImage1,\n      likes: 52,\n      views: 312,\n      comments: 16,\n      author: {\n        name: \"UX Designer\",\n        institution: \"NIT Warangal\"\n      },\n      createdAt: \"2024-01-10T16:45:00Z\",\n      isLiked: false\n    },\n    {\n      id: \"7\",\n      title: \"Inspiring Audio Journal\",\n      description: \"Personal reflections and motivational thoughts shared to inspire other students.\",\n      category: \"singing\",\n      theme: \"inspiration\",\n      tags: [\"motivation\", \"personal\", \"voice\"],\n      fileUrl: audioSample2,\n      likes: 89,\n      views: 567,\n      comments: 34,\n      author: {\n        name: \"Voice of Hope\",\n        institution: \"University of Delhi\"\n      },\n      createdAt: \"2024-01-09T11:30:00Z\",\n      isLiked: true\n    },\n    {\n      id: \"8\",\n      title: \"Creative Photography Series\",\n      description: \"Capturing the beauty and complexity of Indian college life through artistic photography.\",\n      category: \"photography\",\n      theme: \"cultural\",\n      tags: [\"photography\", \"college-life\", \"artistic\"],\n      imageUrl: showcaseImage2,\n      likes: 38,\n      views: 189,\n      comments: 12,\n      author: {\n        name: \"Lens Artist\",\n        institution: \"NIFT Mumbai\"\n      },\n      createdAt: \"2024-01-08T13:20:00Z\",\n      isLiked: false\n    }\n  ];\n\n  return (\n    <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <BackButton />\n      \n      <div className=\"mb-10\">\n        <div className=\"text-center max-w-3xl mx-auto\">\n          <h1 className=\"text-4xl font-bold bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent mb-4\">\n            Creative Showcase\n          </h1>\n          <p className=\"text-lg text-muted-foreground leading-relaxed\">\n            Share your creative talents, discover amazing work from the community, and celebrate the diverse skills of students across India\n          </p>\n        </div>\n      </div>\n\n      {/* Featured Creators Section */}\n      <div className=\"mb-12\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold flex items-center gap-2\">\n            <Trophy className=\"h-6 w-6 text-yellow-500\" />\n            Featured Creators\n          </h2>\n          <Button variant=\"outline\" size=\"sm\" className=\"text-xs\">\n            View All <ExternalLink className=\"h-3 w-3 ml-1\" />\n          </Button>\n        </div>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {[\n            { name: \"Anonymous Artist\", works: 12, likes: 450, specialty: \"Digital Art\", avatar: \"🎨\" },\n            { name: \"Music Lover\", works: 8, likes: 380, specialty: \"Music Production\", avatar: \"🎵\" },\n            { name: \"Word Weaver\", works: 15, likes: 520, specialty: \"Poetry & Writing\", avatar: \"✍️\" },\n            { name: \"Lens Artist\", works: 20, likes: 670, specialty: \"Photography\", avatar: \"📸\" }\n          ].map((creator, index) => (\n            <Card key={`creator-${index}`} className=\"p-4 text-center hover:shadow-lg transition-all duration-300 bg-gradient-to-br from-primary/5 to-secondary/5\">\n              <div className=\"text-3xl mb-2\">{creator.avatar}</div>\n              <h3 className=\"font-semibold text-sm mb-1\">{creator.name}</h3>\n              <p className=\"text-xs text-muted-foreground mb-2\">{creator.specialty}</p>\n              <div className=\"flex justify-center gap-3 text-xs\">\n                <span className=\"flex items-center gap-1\">\n                  <Award className=\"h-3 w-3\" /> {creator.works}\n                </span>\n                <span className=\"flex items-center gap-1\">\n                  <Heart className=\"h-3 w-3\" /> {creator.likes}\n                </span>\n              </div>\n            </Card>\n          ))}\n        </div>\n      </div>\n\n      {/* Trending Now Section */}\n      <div className=\"mb-12\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold flex items-center gap-2\">\n            <TrendingUp className=\"h-6 w-6 text-green-500\" />\n            Trending This Week\n          </h2>\n          <Button \n            variant={showTrending ? \"default\" : \"outline\"} \n            size=\"sm\" \n            onClick={() => setShowTrending(!showTrending)}\n            className=\"text-xs\"\n          >\n            {showTrending ? \"Show All\" : \"Show Trending\"}\n          </Button>\n        </div>\n        {showTrending && (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n            {mockPosts.slice(0, 3).map((post) => {\n              const categoryInfo = skillCategories.find(cat => cat.value === post.category);\n              const CategoryIcon = categoryInfo?.icon || Star;\n              return (\n                <Card key={`trending-${post.id}`} className=\"group overflow-hidden hover:shadow-xl transition-all duration-300 border-2 border-green-200 dark:border-green-800\">\n                  <div className=\"relative\">\n                    {post.imageUrl && (\n                      <div className=\"aspect-video overflow-hidden\">\n                        <img src={post.imageUrl} alt={post.title} className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\" />\n                      </div>\n                    )}\n                    <Badge className=\"absolute top-2 right-2 bg-green-500 text-white\">\n                      <TrendingUp className=\"h-3 w-3 mr-1\" /> Trending\n                    </Badge>\n                  </div>\n                  <CardContent className=\"p-4\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <CategoryIcon className=\"h-4 w-4 text-primary\" />\n                      <span className=\"text-sm font-medium\">{categoryInfo?.label}</span>\n                    </div>\n                    <h3 className=\"font-bold text-lg mb-2 line-clamp-2\">{post.title}</h3>\n                    <p className=\"text-sm text-muted-foreground line-clamp-2 mb-3\">{post.description}</p>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-4 text-xs\">\n                        <span className=\"flex items-center gap-1\">\n                          <Heart className=\"h-3 w-3\" /> {post.likes}\n                        </span>\n                        <span className=\"flex items-center gap-1\">\n                          <Eye className=\"h-3 w-3\" /> {post.views}\n                        </span>\n                      </div>\n                      <Button size=\"sm\" variant=\"outline\" className=\"h-6 text-xs\">\n                        <Share2 className=\"h-3 w-3 mr-1\" /> Share\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Search Bar */}\n      <div className=\"mb-8\">\n        <div className=\"relative max-w-md mx-auto\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search creative works...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"pl-10 pr-4 py-3 text-base border-2 border-border/50 focus:border-primary/50 rounded-xl bg-background/80 backdrop-blur-sm\"\n            data-testid=\"input-search\"\n          />\n        </div>\n      </div>\n\n      {/* Filters and Actions */}\n      <div className=\"space-y-6 mb-8\">\n        {/* Top Actions Bar */}\n        <div className=\"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6 shadow-sm\">\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6\">\n            <div className=\"flex flex-wrap items-center gap-4\">\n              <div className=\"flex items-center gap-2\">\n                <Filter className=\"h-5 w-5 text-primary\" />\n                <span className=\"text-base font-semibold text-foreground\">Sort & View:</span>\n              </div>\n              <Select value={sortBy} onValueChange={setSortBy}>\n                <SelectTrigger className=\"w-44 bg-background/50 border-border/50\">\n                  <SelectValue />\n                </SelectTrigger>\n              <SelectContent>\n                {sortOptions.map((option) => (\n                  <SelectItem key={option.value} value={option.value}>\n                    <div className=\"flex items-center gap-2\">\n                      <option.icon className=\"h-4 w-4\" />\n                      {option.label}\n                    </div>\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n              <div className=\"flex items-center gap-1 bg-muted/50 rounded-lg p-1 border border-border/30\">\n                <Button\n                  variant={viewMode === \"grid\" ? \"default\" : \"ghost\"}\n                  size=\"sm\"\n                  onClick={() => setViewMode(\"grid\")}\n                  className=\"h-9 w-9 p-0 transition-all duration-200\"\n                >\n                  <Users className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant={viewMode === \"list\" ? \"default\" : \"ghost\"}\n                  size=\"sm\"\n                  onClick={() => setViewMode(\"list\")}\n                  className=\"h-9 w-9 p-0 transition-all duration-200\"\n                >\n                  <Eye className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n\n            <Dialog open={isCreatePostOpen} onOpenChange={setIsCreatePostOpen}>\n              <DialogTrigger asChild>\n                <Button \n                  className=\"bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90 text-white shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105\" \n                  data-testid=\"button-create-showcase\"\n                  size=\"lg\"\n                >\n                  <Plus className=\"h-5 w-5 mr-2\" />\n                  Share Your Work\n                </Button>\n              </DialogTrigger>\n            <DialogContent className=\"sm:max-w-[700px] bg-gradient-to-br from-background to-background/80 border-border/50\">\n              <DialogHeader className=\"text-center pb-4\">\n                <DialogTitle className=\"text-2xl font-bold bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent\">\n                  Share Your Creative Work\n                </DialogTitle>\n                <p className=\"text-muted-foreground mt-2\">Showcase your talents and inspire the community</p>\n              </DialogHeader>\n              <div className=\"space-y-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"title\" className=\"text-sm font-semibold text-foreground\">Title *</Label>\n                  <Input\n                    id=\"title\"\n                    value={newPost.title}\n                    onChange={(e) => setNewPost({ ...newPost, title: e.target.value })}\n                    placeholder=\"Give your work a catchy title...\"\n                    className=\"bg-background/50 border-border/50 focus:border-primary transition-colors\"\n                    data-testid=\"input-showcase-title\"\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"category\" className=\"text-sm font-semibold text-foreground\">Category *</Label>\n                  <Select\n                    value={newPost.category}\n                    onValueChange={(value) => setNewPost({ ...newPost, category: value })}\n                  >\n                    <SelectTrigger className=\"bg-background/50 border-border/50 focus:border-primary\" data-testid=\"select-showcase-category\">\n                      <SelectValue placeholder=\"Select a category\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {skillCategories.map((category) => (\n                        <SelectItem key={category.value} value={category.value}>\n                          {category.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"theme\" className=\"text-sm font-semibold text-foreground\">Theme (Optional)</Label>\n                  <Select\n                    value={newPost.theme}\n                    onValueChange={(value) => setNewPost({ ...newPost, theme: value })}\n                  >\n                    <SelectTrigger className=\"bg-background/50 border-border/50 focus:border-primary\" data-testid=\"select-showcase-theme\">\n                      <SelectValue placeholder=\"Select a theme\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {themes.map((theme) => (\n                        <SelectItem key={theme.value} value={theme.value}>\n                          {theme.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"tags\" className=\"text-sm font-semibold text-foreground\">Tags (Optional)</Label>\n                  <Input\n                    id=\"tags\"\n                    value={newPost.tags}\n                    onChange={(e) => setNewPost({ ...newPost, tags: e.target.value })}\n                    placeholder=\"creativity, mental-health, inspiration...\"\n                    className=\"bg-background/50 border-border/50 focus:border-primary transition-colors\"\n                    data-testid=\"input-showcase-tags\"\n                  />\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    Separate tags with commas\n                  </p>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"description\" className=\"text-sm font-semibold text-foreground\">Description *</Label>\n                  <Textarea\n                    id=\"description\"\n                    value={newPost.description}\n                    onChange={(e) => setNewPost({ ...newPost, description: e.target.value })}\n                    placeholder=\"Tell us about your work, inspiration, or journey...\"\n                    rows={4}\n                    className=\"bg-background/50 border-border/50 focus:border-primary transition-colors resize-none\"\n                    data-testid=\"textarea-showcase-description\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"file\" className=\"text-sm font-semibold text-foreground\">Upload File (Optional)</Label>\n                  <Input\n                    id=\"file\"\n                    type=\"file\"\n                    onChange={handleFileChange}\n                    accept=\"image/*,audio/*,video/*,.pdf,.doc,.docx\"\n                    className=\"bg-background/50 border-border/50 focus:border-primary transition-colors\"\n                    data-testid=\"input-showcase-file\"\n                  />\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    Supported: Images, Audio, Video, PDF, Documents (Max 10MB)\n                  </p>\n                </div>\n\n                <div className=\"flex justify-end space-x-4 pt-4 border-t border-border/50\">\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => setIsCreatePostOpen(false)}\n                    className=\"transition-all duration-200 hover:scale-105\"\n                    data-testid=\"button-cancel-showcase\"\n                  >\n                    Cancel\n                  </Button>\n                  <Button\n                    onClick={handleCreatePost}\n                    disabled={createPostMutation.isPending}\n                    className=\"bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90 text-white shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105\"\n                    data-testid=\"button-submit-showcase\"\n                  >\n                    {createPostMutation.isPending ? \"Sharing...\" : \"Share Work\"}\n                  </Button>\n                </div>\n              </div>\n            </DialogContent>\n          </Dialog>\n        </div>\n        \n          </div>\n        </div>\n        \n        {/* Category Filters */}\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center gap-2\">\n            <Palette className=\"h-5 w-5 text-primary\" />\n            <span className=\"text-base font-semibold text-foreground\">Categories:</span>\n          </div>\n          <div className=\"flex flex-wrap gap-2\">\n            <Button\n              variant={selectedCategory === \"all\" ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setSelectedCategory(\"all\")}\n              className=\"transition-all duration-200 hover:scale-105 text-xs sm:text-sm\"\n            >\n              All Categories\n            </Button>\n            {skillCategories.slice(0, 6).map((category) => (\n              <Button\n                key={category.value}\n                variant={selectedCategory === category.value ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => setSelectedCategory(category.value)}\n                className={`transition-all duration-200 hover:scale-105 text-xs sm:text-sm ${selectedCategory === category.value ? category.color : ''}`}\n              >\n                <category.icon className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1\" />\n                <span className=\"hidden sm:inline\">{category.label}</span>\n                <span className=\"sm:hidden\">{category.label.split(' ')[0]}</span>\n              </Button>\n            ))}\n            <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n              <SelectTrigger className=\"w-28 sm:w-36 text-xs sm:text-sm\">\n                <SelectValue placeholder=\"More...\" />\n              </SelectTrigger>\n              <SelectContent>\n                {skillCategories.slice(6).map((category) => (\n                  <SelectItem key={category.value} value={category.value}>\n                    <div className=\"flex items-center gap-2\">\n                      <category.icon className=\"h-4 w-4\" />\n                      {category.label}\n                    </div>\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          )\n        </div>\n        \n        \n        {/* Theme Filters */}\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center gap-2\">\n            <Heart className=\"h-5 w-5 text-primary\" />\n            <span className=\"text-base font-semibold text-foreground\">Themes:</span>\n          </div>\n          <div className=\"flex flex-wrap gap-2\">\n            <Button\n              variant={selectedTheme === \"all\" ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setSelectedTheme(\"all\")}\n              className=\"transition-all duration-200 hover:scale-105 text-xs sm:text-sm\"\n            >\n              All Themes\n            </Button>\n            {themes.slice(0, 5).map((theme) => (\n              <Button\n                key={theme.value}\n                variant={selectedTheme === theme.value ? \"default\" : \"outline\"}\n                size=\"sm\"\n                onClick={() => setSelectedTheme(theme.value)}\n                className={`transition-all duration-200 hover:scale-105 text-xs sm:text-sm ${selectedTheme === theme.value ? theme.color : ''}`}\n              >\n                <span className=\"hidden sm:inline\">{theme.label}</span>\n                <span className=\"sm:hidden\">{theme.label.split(' ')[0]}</span>\n              </Button>\n            ))}\n            {themes.length > 5 && (\n              <Select value={selectedTheme} onValueChange={setSelectedTheme}>\n                <SelectTrigger className=\"w-28 sm:w-36 text-xs sm:text-sm\">\n                  <SelectValue placeholder=\"More themes...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {themes.slice(5).map((theme) => (\n                    <SelectItem key={theme.value} value={theme.value}>\n                      {theme.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Showcase Grid */}\n      <div className={viewMode === \"grid\" ? \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8\" : \"space-y-4 sm:space-y-6\"}>\n        {mockPosts.map((post) => {\n          const categoryInfo = skillCategories.find(cat => cat.value === post.category);\n          const themeInfo = themes.find(t => t.value === post.theme);\n          const CategoryIcon = categoryInfo?.icon || Star;\n          \n          return (\n            <Card key={post.id} className=\"group overflow-hidden hover:shadow-2xl hover:shadow-primary/10 transition-all duration-300 transform hover:-translate-y-1 border-border/50 bg-gradient-to-br from-background to-background/50 backdrop-blur-sm\">\n              <CardHeader className=\"pb-4\">\n                <div className=\"flex items-start justify-between mb-3\">\n                  <div className=\"flex flex-wrap items-center gap-2\">\n                    <Badge className={`flex items-center gap-1 px-3 py-1 text-xs font-medium border ${categoryInfo?.color || \"bg-secondary\"}`}>\n                      <CategoryIcon className=\"h-3 w-3\" />\n                      {categoryInfo?.label || post.category}\n                    </Badge>\n                    {post.theme && themeInfo && (\n                      <Badge variant=\"outline\" className={`text-xs px-2 py-1 ${themeInfo.color}`}>\n                        {themeInfo.label}\n                      </Badge>\n                    )}\n                  </div>\n                  <div className=\"flex items-center space-x-1 text-xs text-muted-foreground bg-muted/50 px-2 py-1 rounded-full\">\n                    <Eye className=\"h-3 w-3\" />\n                    <span className=\"font-medium\">{post.views}</span>\n                  </div>\n                </div>\n                <CardTitle className=\"text-xl font-bold line-clamp-2 group-hover:text-primary transition-colors duration-200\">\n                  {post.title}\n                </CardTitle>\n              </CardHeader>\n              \n              <CardContent className=\"space-y-5\">\n                {(post.imageUrl || post.fileUrl) && (\n                  <div className=\"aspect-video bg-gradient-to-br from-muted/50 to-muted rounded-xl overflow-hidden border border-border/30 group-hover:border-primary/30 transition-colors duration-300\">\n                    {post.imageUrl ? (\n                      <img \n                        src={post.imageUrl} \n                        alt={post.title}\n                        className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                        onError={(e) => {\n                          e.currentTarget.style.display = 'none';\n                          e.currentTarget.nextElementSibling?.classList.remove('hidden');\n                        }}\n                      />\n                    ) : post.fileUrl && (post.category === 'music' || post.category === 'singing') ? (\n                      <div className=\"flex flex-col items-center justify-center h-full p-4 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20\">\n                        <Music className=\"h-12 w-12 text-primary mb-3\" />\n                        <div className=\"text-center mb-3\">\n                          <p className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">🎵 Audio Content</p>\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400\">Click play to listen</p>\n                        </div>\n                        <audio controls className=\"w-full max-w-xs rounded-lg shadow-sm\">\n                          <source src={post.fileUrl} type=\"audio/mpeg\" />\n                          Your browser does not support the audio element.\n                        </audio>\n                      </div>\n                    ) : null}\n                    <div className=\"hidden flex items-center justify-center h-full\">\n                      <Image className=\"h-16 w-16 text-muted-foreground/60 group-hover:text-primary/60 transition-colors duration-300\" />\n                    </div>\n                  </div>\n                )}\n                \n                <p className=\"text-sm text-muted-foreground/90 line-clamp-3 leading-relaxed\">\n                  {post.description}\n                </p>\n\n                {post.tags && post.tags.length > 0 && (\n                  <div className=\"flex flex-wrap gap-1.5\">\n                    {post.tags.slice(0, 3).map((tag, index) => (\n                      <Badge \n                        key={`${post.id}-tag-${index}`}\n                        variant=\"outline\" \n                        className=\"text-xs px-2 py-0.5 bg-gradient-to-r from-primary/10 to-primary/20 border-primary/20 text-primary/80 hover:bg-primary/20 hover:from-primary/20 hover:to-primary/30 transition-all duration-200 cursor-pointer\"\n                      >\n                        #{tag}\n                      </Badge>\n                    ))}\n                  </div>\n                )}\n                \n                <div className=\"flex items-center justify-between pt-4 border-t border-border/50\">\n                  <div className=\"text-xs text-muted-foreground space-y-1\">\n                    <p className=\"font-medium text-foreground/80\">{post.author.name}</p>\n                    <p className=\"text-muted-foreground/70\">{post.author.institution}</p>\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-2\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => likePostMutation.mutate(post.id)}\n                      className={`transition-all duration-200 hover:scale-110 ${post.isLiked ? \"text-red-500 hover:text-red-600\" : \"hover:text-red-500\"}`}\n                      data-testid={`button-like-${post.id}`}\n                    >\n                      <Heart className={`h-4 w-4 mr-1 transition-all duration-200 ${post.isLiked ? \"fill-current scale-110\" : \"\"}`} />\n                      <span className=\"font-medium\">{post.likes}</span>\n                    </Button>\n                    \n                    <Button \n                      variant=\"ghost\" \n                      size=\"sm\" \n                      className=\"transition-all duration-200 hover:scale-110 hover:text-blue-500\"\n                      data-testid={`button-comment-${post.id}`}\n                    >\n                      <MessageSquare className=\"h-4 w-4 mr-1\" />\n                      <span className=\"font-medium\">{post.comments}</span>\n                    </Button>\n                    \n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"transition-all duration-200 hover:scale-110 hover:text-green-500\"\n                      onClick={() => {\n                        navigator.share ? \n                          navigator.share({\n                            title: post.title,\n                            text: post.description,\n                            url: window.location.href\n                          }) : \n                          navigator.clipboard.writeText(window.location.href)\n                      }}\n                      data-testid={`button-share-${post.id}`}\n                    >\n                      <Share2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      {/* Community Stats */}\n      <div className=\"mt-12 grid grid-cols-2 md:grid-cols-4 gap-6\">\n        {[\n          { label: \"Total Creations\", value: \"2,847\", icon: Award, color: \"text-blue-500\" },\n          { label: \"Active Creators\", value: \"1,203\", icon: Users, color: \"text-green-500\" },\n          { label: \"This Week\", value: \"89\", icon: Calendar, color: \"text-purple-500\" },\n          { label: \"Total Likes\", value: \"15.2K\", icon: Heart, color: \"text-red-500\" }\n        ].map((stat, index) => (\n          <Card key={`stat-${index}`} className=\"p-4 text-center hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-primary/5 to-secondary/5\">\n            <stat.icon className={`h-8 w-8 mx-auto mb-2 ${stat.color}`} />\n            <p className=\"text-2xl font-bold mb-1\">{stat.value}</p>\n            <p className=\"text-sm text-muted-foreground\">{stat.label}</p>\n          </Card>\n        ))}\n      </div>\n\n      {/* Call to Action */}\n      <div className=\"mt-12 bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5 backdrop-blur-sm border border-primary/10 rounded-2xl p-6 sm:p-8 text-center max-w-2xl mx-auto shadow-lg\">\n        <Sparkles className=\"h-12 w-12 sm:h-16 sm:w-16 text-primary mx-auto mb-4 sm:mb-6 animate-pulse\" />\n        <h2 className=\"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent\">\n          Share Your Creative Journey\n        </h2>\n        <p className=\"text-base sm:text-lg text-muted-foreground mb-6 sm:mb-8 leading-relaxed\">\n          Join our vibrant community of creative minds. Upload your artwork, music, writing, or any creative expression\n          to inspire others and showcase your unique talents. Every creation tells a story of healing and hope.\n        </p>\n        <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\n          <Button\n            onClick={() => setIsCreatePostOpen(true)}\n            size=\"lg\"\n            className=\"px-6 sm:px-8 py-2 sm:py-3 text-base sm:text-lg font-semibold bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n            data-testid=\"button-upload-creation\"\n          >\n            <Upload className=\"h-4 w-4 sm:h-5 sm:w-5 mr-2\" />\n            Upload Your Creation\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"lg\"\n            className=\"px-6 sm:px-8 py-2 sm:py-3 text-base sm:text-lg font-semibold border-2 hover:bg-primary/10 transition-all duration-300\"\n            data-testid=\"button-join-community\"\n          >\n            <Users className=\"h-4 w-4 sm:h-5 sm:w-5 mr-2\" />\n            Join Community\n          </Button>\n        </div>\n      </div>\n\n      {/* Empty State */}\n      {mockPosts.length === 0 && (\n        <Card className=\"text-center py-16 bg-gradient-to-br from-background to-muted/20 border-dashed border-2 border-border/50\">\n          <CardContent>\n            <div className=\"max-w-md mx-auto\">\n              <Trophy className=\"h-16 w-16 text-muted-foreground/60 mx-auto mb-6\" />\n              <h3 className=\"text-2xl font-bold mb-3 text-foreground\">No showcases yet</h3>\n              <p className=\"text-muted-foreground mb-6 leading-relaxed\">\n                Be the first to share your creative work with the community and inspire others!\n              </p>\n              <Button \n                onClick={() => setIsCreatePostOpen(true)}\n                className=\"bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90 text-white shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105\"\n                size=\"lg\"\n              >\n                <Plus className=\"h-5 w-5 mr-2\" />\n                Share Your Work\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </main>\n  );\n}","size_bytes":48734},"client/src/utils/nameGenerator.ts":{"content":"export interface RandomNameOptions {\n  style?: 'animal' | 'nature' | 'cosmic' | 'friendly' | 'all';\n  includeNumbers?: boolean;\n}\n\nconst animalNames = [\n  'PandaBear', 'WiseOwl', 'PlayfulDolphin', 'CalmTurtle', 'GentleDeer',\n  'BraveWolf', 'SwiftFox', 'SereneWhale', 'HappyOtter', 'CuriousCat',\n  'CheerfulBird', 'PeacefulDove', 'FriendlyBear', 'CleverRaven', 'SweetBee',\n  'GracefulSwan', 'LoyalDog', 'AdorableRabbit', 'MightyEagle', 'QuietMouse',\n  'StrongLion', 'WarmPenguin', 'JoyfulButterfly', 'KindElephant', 'SmartOwl'\n];\n\nconst natureNames = [\n  'MorningDew', 'SunnyMeadow', 'GentleBreeze', 'CalmRiver', 'BloomingRose',\n  'QuietForest', 'WarmSunlight', 'SoftRain', 'PeacefulLake', 'WildFlower',\n  'GoldenSunset', 'CrystalStream', 'GreenValley', 'SilverMoon', 'WispyCloud',\n  'StarryNight', 'FreshSpring', 'CozyAutumn', 'SnowySummit', 'TranquilBeach',\n  'MysticMist', 'DancingLeaves', 'WhisperingWind', 'HiddenGarden', 'SerenePath'\n];\n\nconst cosmicNames = [\n  'StarDreamer', 'MoonWalker', 'CometRider', 'GalaxyExplorer', 'NebulaWanderer',\n  'SolarFlare', 'CosmicVoyager', 'StarlightSeeker', 'PlanetHopper', 'AuroraChaser',\n  'SpaceWhisper', 'StellarMind', 'UniversalSoul', 'CelestialBeing', 'OrbitDancer',\n  'MeteorGlider', 'VoidWalker', 'InfinitySeeker', 'GravityDefier', 'TimeWeaver',\n  'DimensionJumper', 'QuantumDreamer', 'EtherealSpirit', 'CosmicHeart', 'StardustSoul'\n];\n\nconst friendlyNames = [\n  'KindHeart', 'WarmSmile', 'GentleFriend', 'CheerfulSoul', 'SweetSpirit',\n  'CalmMind', 'BrightLight', 'HappyThoughts', 'PeacefulVibes', 'LovingNature',\n  'SerenePresence', 'JoyfulEnergy', 'CompassionateSoul', 'OptimisticView', 'TenderCare',\n  'WisdomSeeker', 'HeartfulConnection', 'MindfulBeing', 'BlissfulMoment', 'GratefulHeart',\n  'PositiveAura', 'HealingTouch', 'InnerPeace', 'SoulfulJourney', 'LightBearer'\n];\n\nconst adjectives = [\n  'Serene', 'Gentle', 'Wise', 'Brave', 'Kind', 'Peaceful', 'Joyful', \n  'Bright', 'Calm', 'Sweet', 'Strong', 'Graceful', 'Curious', 'Happy',\n  'Quiet', 'Warm', 'Free', 'Pure', 'Noble', 'Dreamy'\n];\n\nconst nouns = [\n  'Soul', 'Spirit', 'Heart', 'Mind', 'Being', 'Dreamer', 'Seeker', \n  'Wanderer', 'Explorer', 'Guardian', 'Helper', 'Friend', 'Light',\n  'Voice', 'Path', 'Journey', 'Hope', 'Peace', 'Joy', 'Wonder'\n];\n\n/**\n * Generates a random anonymous username for users\n */\nexport function generateRandomName(options: RandomNameOptions = {}): string {\n  const { style = 'all', includeNumbers = true } = options;\n  \n  let namePool: string[] = [];\n  \n  switch (style) {\n    case 'animal':\n      namePool = animalNames;\n      break;\n    case 'nature':\n      namePool = natureNames;\n      break;\n    case 'cosmic':\n      namePool = cosmicNames;\n      break;\n    case 'friendly':\n      namePool = friendlyNames;\n      break;\n    case 'all':\n    default:\n      namePool = [...animalNames, ...natureNames, ...cosmicNames, ...friendlyNames];\n      break;\n  }\n  \n  // Sometimes generate compound names\n  const useCompound = Math.random() < 0.3;\n  let baseName: string;\n  \n  if (useCompound) {\n    const adjective = adjectives[Math.floor(Math.random() * adjectives.length)];\n    const noun = nouns[Math.floor(Math.random() * nouns.length)];\n    baseName = adjective + noun;\n  } else {\n    baseName = namePool[Math.floor(Math.random() * namePool.length)];\n  }\n  \n  // Add random numbers for uniqueness if requested\n  if (includeNumbers) {\n    const numberSuffix = Math.floor(Math.random() * 9999) + 1;\n    return `${baseName}${numberSuffix}`;\n  }\n  \n  return baseName;\n}\n\n/**\n * Generates multiple unique random names\n */\nexport function generateUniqueRandomNames(count: number, options: RandomNameOptions = {}): string[] {\n  const names = new Set<string>();\n  let attempts = 0;\n  const maxAttempts = count * 10; // Prevent infinite loops\n  \n  while (names.size < count && attempts < maxAttempts) {\n    names.add(generateRandomName(options));\n    attempts++;\n  }\n  \n  return Array.from(names);\n}\n\n/**\n * Gets a user-friendly display name that's anonymous\n */\nexport function getAnonymousDisplayName(user: { firstName?: string; lastName?: string; anonymousName?: string; id?: string }): string {\n  if (user.anonymousName) {\n    return user.anonymousName;\n  }\n  \n  // Deterministic fallback using user data hash\n  if (user.firstName && user.lastName) {\n    // Simple deterministic hash based on name initials and user data\n    const seed = `${user.firstName}${user.lastName}${user.id || 'default'}`;\n    let hash = 0;\n    for (let i = 0; i < seed.length; i++) {\n      const char = seed.charCodeAt(i);\n      hash = ((hash << 5) - hash) + char;\n      hash = hash & hash; // Convert to 32-bit integer\n    }\n    const number = Math.abs(hash) % 999 + 1;\n    return `${user.firstName[0]}${user.lastName[0]}User${number}`;\n  }\n  \n  return 'AnonymousUser';\n}","size_bytes":4786},"client/src/pages/parent-portal.tsx":{"content":"import { useState } from \"react\";\nimport { Users, Shield, MessageSquare, Bell, ArrowLeft, Heart, Brain, FileText, Palette, Sun, Moon, Waves, Mountain, TreePine, Flower2, Sparkles, Home, Cloud, Leaf, Coffee, Lightbulb, Phone, ExternalLink, Download, BookOpen, Video, Play, AlertTriangle, CheckCircle, Info, Globe, ChevronDown } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { \n  DropdownMenu, \n  DropdownMenuContent, \n  DropdownMenuItem, \n  DropdownMenuTrigger \n} from \"@/components/ui/dropdown-menu\";\nimport { useLocation } from \"wouter\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useTranslation } from \"@/hooks/use-translation\";\nimport logoUrl from '@assets/logo (1)_1758315813528.png';\n\nconst languages = [\n  { code: \"en\", name: \"English\" },\n  { code: \"hi\", name: \"हिंदी\" },\n  { code: \"bn\", name: \"বাংলা\" },\n  { code: \"ta\", name: \"தমিழ্\" },\n  { code: \"gu\", name: \"ગુજરાતী\" },\n];\n\nexport default function ParentPortal() {\n  const [, setLocation] = useLocation();\n  const { theme, setTheme } = useAppContext();\n  const { toast } = useToast();\n  const { ts, changeLanguage, currentLanguage, isTranslating } = useTranslation();\n  const [activeTab, setActiveTab] = useState(\"signs\");\n\n  const showComingSoon = (feature: string) => {\n    toast({\n      title: \"Coming Soon\",\n      description: `${feature} feature will be available soon!`,\n    });\n  };\n\n  const handleLanguageChange = (languageCode: string) => {\n    if (languageCode === currentLanguage) return;\n    \n    // Use the React hook approach - this will trigger re-renders automatically\n    changeLanguage(languageCode);\n  };\n\n  // Theme configurations with icons\n  const themes = [\n    { value: \"light\", label: \"Light\", icon: Sun },\n    { value: \"dark\", label: \"Dark\", icon: Moon },\n    { value: \"ocean\", label: \"Ocean\", icon: Waves },\n    { value: \"sunset\", label: \"Sunset\", icon: Mountain },\n    { value: \"forest\", label: \"Forest\", icon: TreePine },\n    { value: \"lavender\", label: \"Lavender\", icon: Flower2 },\n    { value: \"cosmic\", label: \"Cosmic\", icon: Sparkles },\n    { value: \"coral\", label: \"Coral\", icon: Heart },\n    { value: \"sky\", label: \"Sky\", icon: Cloud },\n    { value: \"mint\", label: \"Mint\", icon: Leaf },\n    { value: \"cream\", label: \"Cream\", icon: Coffee },\n    { value: \"rose\", label: \"Rose\", icon: Heart },\n    { value: \"peach\", label: \"Peach\", icon: Sun },\n    { value: \"lavender-light\", label: \"Lavender Light\", icon: Flower2 }\n  ] as const;\n\n  type Theme = typeof themes[number][\"value\"];\n\n  const currentTheme = themes.find(t => t.value === theme) || themes[0];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5\">\n      {/* Header */}\n      <div className=\"bg-card border-b border-border shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16 min-h-[4rem]\">\n            <div className=\"flex items-center space-x-2 sm:space-x-4 flex-1 min-w-0\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setLocation(\"/\")}\n                data-testid=\"button-back-to-student-portal\"\n                className=\"shrink-0\"\n              >\n                <ArrowLeft className=\"h-4 w-4 mr-1 sm:mr-2\" />\n                <span className=\"hidden xs:inline\">{ts(\"Back to Student Portal\")}</span>\n                <span className=\"xs:hidden\">{ts(\"Back\")}</span>\n              </Button>\n              <div className=\"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1\">\n                <img src={logoUrl} alt=\"ApnaMann Logo\" className=\"w-6 h-6 sm:w-8 sm:h-8 rounded-lg object-cover shrink-0\" />\n                <div className=\"min-w-0 flex-1\">\n                  <h1 className=\"text-sm sm:text-lg md:text-xl font-bold text-foreground truncate\">\n                    <span className=\"hidden sm:inline\">{ts(\"ApnaMann Student Parent Guidance\")}</span>\n                    <span className=\"sm:hidden\">{ts(\"Parent Guidance\")}</span>\n                  </h1>\n                  <p className=\"text-xs sm:text-sm text-muted-foreground truncate hidden md:block\">\n                    {ts(\"Guidance for students concerned about their child's mental health\")}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-2 sm:space-x-4 shrink-0\">\n              {/* Language Selector */}\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant=\"ghost\" size=\"sm\" data-testid=\"button-language\">\n                    <Globe className=\"h-4 w-4 mr-1\" />\n                    <span className=\"hidden xl:inline\">\n                      {isTranslating ? ts(\"Translating...\") : (languages.find(l => l.code === currentLanguage)?.name || ts(\"English\"))}\n                    </span>\n                    <ChevronDown className=\"h-3 w-3 ml-1\" />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent>\n                  {languages.map((lang) => (\n                    <DropdownMenuItem\n                      key={lang.code}\n                      onClick={() => handleLanguageChange(lang.code)}\n                      data-testid={`option-language-${lang.code}`}\n                      disabled={isTranslating}\n                    >\n                      {lang.name}\n                      {isTranslating && currentLanguage === lang.code && (\n                        <span className=\"ml-2 text-xs text-muted-foreground\">{ts(\"Translating...\")}</span>\n                      )}\n                    </DropdownMenuItem>\n                  ))}\n                </DropdownMenuContent>\n              </DropdownMenu>\n\n              {/* Theme Switcher */}\n              <Select value={theme} onValueChange={(value: Theme) => setTheme(value)}>\n                <SelectTrigger className=\"w-8 sm:w-[100px] lg:w-[140px] border-none bg-transparent hover:bg-accent\" data-testid=\"select-theme\">\n                  <div className=\"flex items-center space-x-1 sm:space-x-2\">\n                    <currentTheme.icon className=\"h-4 w-4\" />\n                    <span className=\"hidden sm:inline lg:inline\">{currentTheme.label}</span>\n                  </div>\n                </SelectTrigger>\n                <SelectContent>\n                  {themes.map((themeOption) => {\n                    const IconComponent = themeOption.icon;\n                    return (\n                      <SelectItem key={themeOption.value} value={themeOption.value}>\n                        <div className=\"flex items-center space-x-2\">\n                          <IconComponent className=\"h-4 w-4\" />\n                          <span>{themeOption.label}</span>\n                        </div>\n                      </SelectItem>\n                    );\n                  })}\n                </SelectContent>\n              </Select>\n              \n              <Bell className=\"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground hidden sm:block\" />\n              <div className=\"w-6 h-6 sm:w-8 sm:h-8 bg-primary rounded-full flex items-center justify-center\">\n                <Users className=\"h-3 w-3 sm:h-4 sm:w-4 text-primary-foreground\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8\">\n        {/* Mental Health Pronunciation Notice */}\n        <Card className=\"mb-4 sm:mb-8 border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5\">\n          <CardContent className=\"p-4 sm:p-6\">\n            <div className=\"flex flex-col sm:flex-row items-start space-y-4 sm:space-y-0 sm:space-x-4\">\n              <div className=\"w-10 h-10 sm:w-12 sm:h-12 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 self-center sm:self-start\">\n                <Lightbulb className=\"h-5 w-5 sm:h-6 sm:w-6 text-primary\" />\n              </div>\n              <div className=\"flex-1 w-full\">\n                <h3 className=\"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-2 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-0\">\n                  <span className=\"text-center sm:text-left w-full sm:w-auto\">{ts(\"Important Language Clarification\")}</span>\n                  <Heart className=\"h-4 w-4 sm:h-5 sm:w-5 text-red-500 self-center sm:ml-2\" />\n                </h3>\n                <div className=\"space-y-3 sm:space-y-3\">\n                  <p className=\"text-xs sm:text-sm text-muted-foreground leading-relaxed\">\n                    <strong>{ts(\"Please note:\")}</strong> {ts('When discussing \"Mental Health\" with your child, they might initially hear \"Metal\" instead of \"Health\" due to pronunciation.')} \n                    {ts(\"This is completely normal! Please speak clearly and help them understand that we're talking about Mental HEALTH - taking care of our minds, emotions, and feelings, just like we take care of our physical health.\")}\n                  </p>\n                  <div className=\"bg-primary/10 rounded-lg p-3 sm:p-4 border border-primary/20\">\n                    <p className=\"text-xs sm:text-sm font-medium text-foreground mb-2\">💡 <strong>{ts(\"Motivational Message:\")}</strong></p>\n                    <p className=\"text-xs sm:text-sm text-primary italic leading-relaxed\">\n                      {ts('\"Mental health is not a destination, but a process. It\\'s about how you drive, not where you\\'re going. Your child\\'s emotional well-being matters, and seeking support shows strength, not weakness.\"')}\n                    </p>\n                  </div>\n                  <p className=\"text-xs text-muted-foreground leading-relaxed\">\n                    {ts(\"Remember: Clear communication about mental health creates a foundation for trust and understanding.\")}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-4 sm:space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 h-auto p-1 sm:p-2 gap-1 sm:gap-0\">\n            <TabsTrigger value=\"signs\" className=\"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground flex items-center justify-center space-x-1 sm:space-x-2 py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm\" data-testid=\"tab-warning-signs\">\n              <AlertTriangle className=\"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0\" />\n              <span className=\"truncate\">{ts(\"Warning Signs\")}</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"steps\" className=\"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground flex items-center justify-center space-x-1 sm:space-x-2 py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm\" data-testid=\"tab-action-steps\">\n              <CheckCircle className=\"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0\" />\n              <span className=\"truncate\">{ts(\"Action Steps\")}</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"resources\" className=\"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground flex items-center justify-center space-x-1 sm:space-x-2 py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm\" data-testid=\"tab-resources\">\n              <BookOpen className=\"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0\" />\n              <span className=\"truncate\">{ts(\"Resources\")}</span>\n            </TabsTrigger>\n            <TabsTrigger value=\"support\" className=\"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground flex items-center justify-center space-x-1 sm:space-x-2 py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm\" data-testid=\"tab-support\">\n              <Heart className=\"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0\" />\n              <span className=\"truncate\">\n                <span className=\"sm:hidden\">{ts(\"Support\")}</span>\n                <span className=\"hidden sm:inline\">{ts(\"Support Tools\")}</span>\n              </span>\n            </TabsTrigger>\n            <TabsTrigger value=\"emergency\" className=\"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground flex items-center justify-center space-x-1 sm:space-x-2 py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm\" data-testid=\"tab-emergency\">\n              <Phone className=\"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0\" />\n              <span className=\"truncate\">{ts(\"Emergency\")}</span>\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Warning Signs Tab */}\n          <TabsContent value=\"signs\" className=\"space-y-6\">\n            <Card className=\"border-yellow-200 dark:border-yellow-800 bg-yellow-50/50 dark:bg-yellow-950/50\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2 text-yellow-800 dark:text-yellow-200\">\n                  <Brain className=\"h-5 w-5\" />\n                  <span>{ts(\"Mental Health Warning Signs in Children\")}</span>\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"p-4 sm:p-6\">\n                <p className=\"text-xs sm:text-sm text-muted-foreground mb-4 sm:mb-6 leading-relaxed\">{ts(\"Watch for these behavioral changes that might indicate your child needs mental health support:\")}</p>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\n                  <div className=\"p-3 sm:p-4 bg-white dark:bg-gray-900 rounded-lg border border-yellow-200 dark:border-yellow-800\">\n                    <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-2 sm:mb-3 flex items-center\">\n                      <Brain className=\"h-3 w-3 sm:h-4 sm:w-4 mr-2 text-yellow-600 flex-shrink-0\" />\n                      <span className=\"leading-tight\">{ts(\"Behavioral Changes\")}</span>\n                    </h4>\n                    <ul className=\"text-xs sm:text-sm text-muted-foreground space-y-2\">\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Sudden mood swings or irritability\")}</span>\n                      </li>\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Withdrawal from family and friends\")}</span>\n                      </li>\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Loss of interest in hobbies\")}</span>\n                      </li>\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Changes in sleep patterns\")}</span>\n                      </li>\n                    </ul>\n                  </div>\n\n                  <div className=\"p-3 sm:p-4 bg-white dark:bg-gray-900 rounded-lg border border-yellow-200 dark:border-yellow-800\">\n                    <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-2 sm:mb-3 flex items-center\">\n                      <BookOpen className=\"h-3 w-3 sm:h-4 sm:w-4 mr-2 text-yellow-600 flex-shrink-0\" />\n                      <span className=\"leading-tight\">{ts(\"Academic Issues\")}</span>\n                    </h4>\n                    <ul className=\"text-xs sm:text-sm text-muted-foreground space-y-2\">\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Declining grades or performance\")}</span>\n                      </li>\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Frequent teacher complaints\")}</span>\n                      </li>\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"School avoidance or refusal\")}</span>\n                      </li>\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Difficulty concentrating\")}</span>\n                      </li>\n                    </ul>\n                  </div>\n\n                  <div className=\"p-3 sm:p-4 bg-white dark:bg-gray-900 rounded-lg border border-yellow-200 dark:border-yellow-800\">\n                    <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-2 sm:mb-3 flex items-center\">\n                      <Users className=\"h-3 w-3 sm:h-4 sm:w-4 mr-2 text-yellow-600 flex-shrink-0\" />\n                      <span className=\"leading-tight\">{ts(\"Social Signs\")}</span>\n                    </h4>\n                    <ul className=\"text-xs sm:text-sm text-muted-foreground space-y-2\">\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Difficulty making friends\")}</span>\n                      </li>\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Social isolation or withdrawal\")}</span>\n                      </li>\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Excessive worry about others' opinions\")}</span>\n                      </li>\n                      <li className=\"flex items-start\">\n                        <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-yellow-500 mr-2 sm:mr-3 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                        <span className=\"leading-relaxed\">{ts(\"Fear of social situations\")}</span>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n\n                <div className=\"mt-4 sm:mt-6 p-3 sm:p-4 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg border border-yellow-300 dark:border-yellow-700\">\n                  <div className=\"flex items-start space-x-2 sm:space-x-3\">\n                    <Info className=\"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0\" />\n                    <div className=\"min-w-0 flex-1\">\n                      <h4 className=\"text-sm sm:text-base font-semibold text-yellow-800 dark:text-yellow-200 mb-2\">{ts(\"Remember\")}</h4>\n                      <p className=\"text-xs sm:text-sm text-yellow-700 dark:text-yellow-300 leading-relaxed\">\n                        {ts(\"Not all behavioral changes indicate mental health issues. However, if you notice several of these signs persisting for more than two weeks, it's worth having a conversation with your child or seeking professional guidance.\")}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Action Steps Tab */}\n          <TabsContent value=\"steps\" className=\"space-y-6\">\n            <Card className=\"border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-950/50\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2 text-blue-800 dark:text-blue-200\">\n                  <CheckCircle className=\"h-5 w-5\" />\n                  <span>{ts(\"What You Can Do Right Now\")}</span>\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"p-4 sm:p-6\">\n                <div className=\"space-y-4 sm:space-y-6\">\n                  <div className=\"grid gap-3 sm:gap-4\">\n                    <div className=\"p-4 sm:p-6 bg-white dark:bg-gray-900 rounded-lg border border-blue-200 dark:border-blue-800 hover:shadow-md transition-shadow\">\n                      <div className=\"flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4\">\n                        <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0 self-center sm:self-start\">\n                          <MessageSquare className=\"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 dark:text-blue-400\" />\n                        </div>\n                        <div className=\"flex-1 w-full\">\n                          <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-2 text-center sm:text-left\">{ts(\"1. Start a Gentle Conversation\")}</h4>\n                          <p className=\"text-xs sm:text-sm text-muted-foreground mb-3 leading-relaxed text-center sm:text-left\">{ts(\"Choose a quiet, comfortable time to talk. Use open-ended questions and listen without judgment.\")}</p>\n                          <div className=\"flex flex-col sm:flex-row flex-wrap gap-2 items-center sm:items-start\">\n                            <Button size=\"sm\" variant=\"outline\" className=\"text-xs w-full sm:w-auto\" onClick={() => showComingSoon(\"Conversation Starter Guide\")} data-testid=\"button-conversation-guide\">\n                              <Play className=\"h-3 w-3 mr-1\" />\n                              <span className=\"truncate\">{ts(\"Conversation Starter Guide\")}</span>\n                            </Button>\n                            <Button size=\"sm\" variant=\"outline\" className=\"text-xs w-full sm:w-auto\" onClick={() => showComingSoon(\"Questions to Ask Guide\")} data-testid=\"button-questions-guide\">\n                              <Download className=\"h-3 w-3 mr-1\" />\n                              <span className=\"truncate\">{ts(\"Questions to Ask\")}</span>\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"p-4 sm:p-6 bg-white dark:bg-gray-900 rounded-lg border border-blue-200 dark:border-blue-800 hover:shadow-md transition-shadow\">\n                      <div className=\"flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4\">\n                        <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center flex-shrink-0 self-center sm:self-start\">\n                          <Shield className=\"h-4 w-4 sm:h-5 sm:w-5 text-green-600 dark:text-green-400\" />\n                        </div>\n                        <div className=\"flex-1 w-full\">\n                          <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-2 text-center sm:text-left\">{ts(\"2. Encourage Professional Support\")}</h4>\n                          <p className=\"text-xs sm:text-sm text-muted-foreground mb-3 leading-relaxed text-center sm:text-left\">{ts(\"Help normalize seeking mental health support. Explain that it's like going to a doctor for physical health.\")}</p>\n                          <div className=\"flex flex-col sm:flex-row flex-wrap gap-2 items-center sm:items-start\">\n                            <Button size=\"sm\" variant=\"outline\" className=\"text-xs w-full sm:w-auto\" onClick={() => showComingSoon(\"Local Counselors Directory\")} data-testid=\"button-find-counselors\">\n                              <ExternalLink className=\"h-3 w-3 mr-1\" />\n                              <span className=\"truncate\">{ts(\"Find Local Counselors\")}</span>\n                            </Button>\n                            <Button size=\"sm\" variant=\"outline\" className=\"text-xs w-full sm:w-auto\" onClick={() => setActiveTab(\"emergency\")} data-testid=\"button-helpline-numbers\">\n                              <Phone className=\"h-3 w-3 mr-1\" />\n                              <span className=\"truncate\">{ts(\"Helpline Numbers\")}</span>\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"p-4 sm:p-6 bg-white dark:bg-gray-900 rounded-lg border border-blue-200 dark:border-blue-800 hover:shadow-md transition-shadow\">\n                      <div className=\"flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4\">\n                        <div className=\"w-8 h-8 sm:w-10 sm:h-10 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center flex-shrink-0 self-center sm:self-start\">\n                          <Brain className=\"h-4 w-4 sm:h-5 sm:w-5 text-purple-600 dark:text-purple-400\" />\n                        </div>\n                        <div className=\"flex-1 w-full\">\n                          <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-2 text-center sm:text-left\">{ts(\"3. Introduce ApnaMann Platform\")}</h4>\n                          <p className=\"text-xs sm:text-sm text-muted-foreground mb-3 leading-relaxed text-center sm:text-left\">{ts(\"Show your child how to access anonymous mental health resources and AI-powered support.\")}</p>\n                          <div className=\"flex flex-col sm:flex-row flex-wrap gap-2 items-center sm:items-start\">\n                            <Button size=\"sm\" variant=\"outline\" className=\"text-xs w-full sm:w-auto\" onClick={() => setLocation(\"/\")} data-testid=\"button-explore-student-platform\">\n                              <ExternalLink className=\"h-3 w-3 mr-1\" />\n                              <span className=\"truncate\">{ts(\"Explore Student Platform\")}</span>\n                            </Button>\n                            <Button size=\"sm\" variant=\"outline\" className=\"text-xs w-full sm:w-auto\" onClick={() => showComingSoon(\"Platform Tutorial Video\")} data-testid=\"button-platform-tutorial\">\n                              <Video className=\"h-3 w-3 mr-1\" />\n                              <span className=\"truncate\">{ts(\"Platform Tutorial\")}</span>\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Resources Tab */}\n          <TabsContent value=\"resources\" className=\"space-y-6\">\n            <Card className=\"border-green-200 dark:border-green-800 bg-green-50/50 dark:bg-green-950/50\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2 text-green-800 dark:text-green-200\">\n                  <BookOpen className=\"h-5 w-5\" />\n                  <span>{ts(\"Comprehensive Resources\")}</span>\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"p-4 sm:p-6\">\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\n                  <Button \n                    variant=\"outline\" \n                    className=\"h-auto p-4 sm:p-6 flex flex-col items-center space-y-2 sm:space-y-3 hover:bg-green-100 dark:hover:bg-green-900 border-green-200 dark:border-green-800 min-h-[120px] sm:min-h-[140px]\"\n                    onClick={() => setActiveTab(\"emergency\")}\n                    data-testid=\"button-crisis-help\"\n                  >\n                    <Phone className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-600 dark:text-green-400 flex-shrink-0\" />\n                    <div className=\"text-center flex-1 flex flex-col justify-center\">\n                      <p className=\"text-sm sm:text-base font-semibold mb-1\">{ts(\"Crisis Support\")}</p>\n                      <p className=\"text-xs text-muted-foreground leading-relaxed\">{ts(\"24/7 emergency helplines\")}</p>\n                      <Badge variant=\"secondary\" className=\"mt-2 text-xs\">{ts(\"Available Now\")}</Badge>\n                    </div>\n                  </Button>\n                  \n                  <Button \n                    variant=\"outline\" \n                    className=\"h-auto p-4 sm:p-6 flex flex-col items-center space-y-2 sm:space-y-3 hover:bg-green-100 dark:hover:bg-green-900 border-green-200 dark:border-green-800 min-h-[120px] sm:min-h-[140px]\"\n                    onClick={() => showComingSoon(\"Parent's Guide PDF\")}\n                    data-testid=\"button-parent-guide\"\n                  >\n                    <Users className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-600 dark:text-green-400 flex-shrink-0\" />\n                    <div className=\"text-center flex-1 flex flex-col justify-center\">\n                      <p className=\"text-sm sm:text-base font-semibold mb-1\">{ts(\"Parent's Guide\")}</p>\n                      <p className=\"text-xs text-muted-foreground leading-relaxed\">{ts(\"Comprehensive support handbook\")}</p>\n                      <Badge variant=\"secondary\" className=\"mt-2 text-xs\">{ts(\"PDF Download\")}</Badge>\n                    </div>\n                  </Button>\n                  \n                  <Button \n                    variant=\"outline\" \n                    className=\"h-auto p-4 sm:p-6 flex flex-col items-center space-y-2 sm:space-y-3 hover:bg-green-100 dark:hover:bg-green-900 border-green-200 dark:border-green-800 min-h-[120px] sm:min-h-[140px]\"\n                    onClick={() => showComingSoon(\"Professional Help Directory\")}\n                    data-testid=\"button-professional-help\"\n                  >\n                    <Shield className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-600 dark:text-green-400 flex-shrink-0\" />\n                    <div className=\"text-center flex-1 flex flex-col justify-center\">\n                      <p className=\"text-sm sm:text-base font-semibold mb-1\">{ts(\"Find Professional Help\")}</p>\n                      <p className=\"text-xs text-muted-foreground leading-relaxed\">{ts(\"Local therapists & counselors\")}</p>\n                      <Badge variant=\"secondary\" className=\"mt-2 text-xs\">{ts(\"Search Tool\")}</Badge>\n                    </div>\n                  </Button>\n                  \n                  <Button \n                    variant=\"outline\" \n                    className=\"h-auto p-4 sm:p-6 flex flex-col items-center space-y-2 sm:space-y-3 hover:bg-green-100 dark:hover:bg-green-900 border-green-200 dark:border-green-800 min-h-[120px] sm:min-h-[140px]\"\n                    onClick={() => showComingSoon(\"Educational Videos Library\")}\n                    data-testid=\"button-educational-videos\"\n                  >\n                    <Video className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-600 dark:text-green-400 flex-shrink-0\" />\n                    <div className=\"text-center flex-1 flex flex-col justify-center\">\n                      <p className=\"text-sm sm:text-base font-semibold mb-1\">{ts(\"Educational Videos\")}</p>\n                      <p className=\"text-xs text-muted-foreground leading-relaxed\">{ts(\"Expert advice & tips\")}</p>\n                      <Badge variant=\"secondary\" className=\"mt-2 text-xs\">{ts(\"Watch Now\")}</Badge>\n                    </div>\n                  </Button>\n                  \n                  <Button \n                    variant=\"outline\" \n                    className=\"h-auto p-4 sm:p-6 flex flex-col items-center space-y-2 sm:space-y-3 hover:bg-green-100 dark:hover:bg-green-900 border-green-200 dark:border-green-800 min-h-[120px] sm:min-h-[140px]\"\n                    onClick={() => showComingSoon(\"Support Groups Community\")}\n                    data-testid=\"button-support-groups\"\n                  >\n                    <Heart className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-600 dark:text-green-400 flex-shrink-0\" />\n                    <div className=\"text-center flex-1 flex flex-col justify-center\">\n                      <p className=\"text-sm sm:text-base font-semibold mb-1\">{ts(\"Support Groups\")}</p>\n                      <p className=\"text-xs text-muted-foreground leading-relaxed\">{ts(\"Connect with other parents\")}</p>\n                      <Badge variant=\"secondary\" className=\"mt-2 text-xs\">{ts(\"Join Community\")}</Badge>\n                    </div>\n                  </Button>\n                  \n                  <Button \n                    variant=\"outline\" \n                    className=\"h-auto p-4 sm:p-6 flex flex-col items-center space-y-2 sm:space-y-3 hover:bg-green-100 dark:hover:bg-green-900 border-green-200 dark:border-green-800 min-h-[120px] sm:min-h-[140px]\"\n                    onClick={() => showComingSoon(\"Mental Health Library\")}\n                    data-testid=\"button-mental-health-library\"\n                  >\n                    <FileText className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-600 dark:text-green-400 flex-shrink-0\" />\n                    <div className=\"text-center flex-1 flex flex-col justify-center\">\n                      <p className=\"text-sm sm:text-base font-semibold mb-1\">{ts(\"Mental Health Library\")}</p>\n                      <p className=\"text-xs text-muted-foreground leading-relaxed\">{ts(\"Articles & research\")}</p>\n                      <Badge variant=\"secondary\" className=\"mt-2 text-xs\">{ts(\"Browse Library\")}</Badge>\n                    </div>\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Support Tools Tab */}\n          <TabsContent value=\"support\" className=\"space-y-6\">\n            <Card className=\"border-purple-200 dark:border-purple-800 bg-purple-50/50 dark:bg-purple-950/50\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2 text-purple-800 dark:text-purple-200\">\n                  <Heart className=\"h-5 w-5\" />\n                  <span>{ts(\"Interactive Support Tools\")}</span>\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"p-4 sm:p-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6\">\n                  <div className=\"p-4 sm:p-6 bg-white dark:bg-gray-900 rounded-lg border border-purple-200 dark:border-purple-800\">\n                    <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-3 sm:mb-4 flex items-center\">\n                      <Lightbulb className=\"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-purple-600 flex-shrink-0\" />\n                      <span className=\"leading-tight\">{ts(\"Communication Tips\")}</span>\n                    </h4>\n                    <ul className=\"space-y-2 sm:space-y-3 text-xs sm:text-sm\">\n                      <li className=\"flex items-start space-x-2\">\n                        <CheckCircle className=\"h-3 w-3 sm:h-4 sm:w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                        <span className=\"leading-relaxed\">{ts('Use \"I\" statements to express concern')}</span>\n                      </li>\n                      <li className=\"flex items-start space-x-2\">\n                        <CheckCircle className=\"h-3 w-3 sm:h-4 sm:w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                        <span className=\"leading-relaxed\">{ts(\"Listen actively without offering immediate solutions\")}</span>\n                      </li>\n                      <li className=\"flex items-start space-x-2\">\n                        <CheckCircle className=\"h-3 w-3 sm:h-4 sm:w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                        <span className=\"leading-relaxed\">{ts(\"Validate their feelings and experiences\")}</span>\n                      </li>\n                      <li className=\"flex items-start space-x-2\">\n                        <CheckCircle className=\"h-3 w-3 sm:h-4 sm:w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                        <span className=\"leading-relaxed\">{ts(\"Avoid judgment or criticism\")}</span>\n                      </li>\n                    </ul>\n                    <Button className=\"mt-3 sm:mt-4 w-full\" size=\"sm\" variant=\"outline\" onClick={() => showComingSoon(\"Communication Guide Download\")} data-testid=\"button-download-communication-guide\">\n                      <Download className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2\" />\n                      <span className=\"text-xs sm:text-sm truncate\">{ts(\"Download Communication Guide\")}</span>\n                    </Button>\n                  </div>\n\n                  <div className=\"p-4 sm:p-6 bg-white dark:bg-gray-900 rounded-lg border border-purple-200 dark:border-purple-800\">\n                    <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-3 sm:mb-4 flex items-center\">\n                      <Brain className=\"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-purple-600 flex-shrink-0\" />\n                      <span className=\"leading-tight\">{ts(\"Self-Care for Parents\")}</span>\n                    </h4>\n                    <ul className=\"space-y-2 sm:space-y-3 text-xs sm:text-sm\">\n                      <li className=\"flex items-start space-x-2\">\n                        <CheckCircle className=\"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 mt-0.5 flex-shrink-0\" />\n                        <span className=\"leading-relaxed\">{ts(\"Practice stress management techniques\")}</span>\n                      </li>\n                      <li className=\"flex items-start space-x-2\">\n                        <CheckCircle className=\"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 mt-0.5 flex-shrink-0\" />\n                        <span className=\"leading-relaxed\">{ts(\"Seek support for yourself too\")}</span>\n                      </li>\n                      <li className=\"flex items-start space-x-2\">\n                        <CheckCircle className=\"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 mt-0.5 flex-shrink-0\" />\n                        <span className=\"leading-relaxed\">{ts(\"Maintain healthy boundaries\")}</span>\n                      </li>\n                      <li className=\"flex items-start space-x-2\">\n                        <CheckCircle className=\"h-3 w-3 sm:h-4 sm:w-4 text-blue-500 mt-0.5 flex-shrink-0\" />\n                        <span className=\"leading-relaxed\">{ts(\"Stay patient and persistent\")}</span>\n                      </li>\n                    </ul>\n                    <Button className=\"mt-3 sm:mt-4 w-full\" size=\"sm\" variant=\"outline\" onClick={() => showComingSoon(\"Self-Care Checklist\")} data-testid=\"button-self-care-checklist\">\n                      <Heart className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2\" />\n                      <span className=\"text-xs sm:text-sm truncate\">{ts(\"Self-Care Checklist\")}</span>\n                    </Button>\n                  </div>\n                </div>\n\n                <div className=\"mt-4 sm:mt-6 p-4 sm:p-6 bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg border border-purple-200 dark:border-purple-800\">\n                  <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-3 sm:mb-4 text-center\">{ts(\"Quick Assessment Tool\")}</h4>\n                  <p className=\"text-xs sm:text-sm text-muted-foreground text-center mb-3 sm:mb-4 leading-relaxed\">\n                    {ts(\"Answer a few questions to get personalized guidance for your situation\")}\n                  </p>\n                  <Button className=\"w-full\" onClick={() => showComingSoon(\"Assessment Tool\")} data-testid=\"button-assessment-tool\">\n                    <Play className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2\" />\n                    <span className=\"text-xs sm:text-sm\">{ts(\"Start Assessment (5 minutes)\")}</span>\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Emergency Tab */}\n          <TabsContent value=\"emergency\" className=\"space-y-6\">\n            <Card className=\"border-red-200 dark:border-red-800 bg-red-50/50 dark:bg-red-950/50\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2 text-red-800 dark:text-red-200\">\n                  <Phone className=\"h-5 w-5\" />\n                  <span>{ts(\"Emergency Support & Crisis Intervention\")}</span>\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"p-4 sm:p-6\">\n                <div className=\"space-y-4 sm:space-y-6\">\n                  <div className=\"p-4 sm:p-6 bg-red-100 dark:bg-red-900/30 rounded-lg border border-red-300 dark:border-red-700\">\n                    <div className=\"flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-3\">\n                      <AlertTriangle className=\"h-5 w-5 sm:h-6 sm:w-6 text-red-600 dark:text-red-400 mt-0.5 sm:mt-1 flex-shrink-0 self-center sm:self-start\" />\n                      <div className=\"flex-1 w-full\">\n                        <h4 className=\"text-sm sm:text-base font-semibold text-red-800 dark:text-red-200 mb-2 text-center sm:text-left\">{ts(\"Immediate Action Required\")}</h4>\n                        <p className=\"text-xs sm:text-sm text-red-700 dark:text-red-300 mb-3 sm:mb-4 leading-relaxed text-center sm:text-left\">\n                          {ts(\"If your child mentions self-harm, suicide, or you believe they're in immediate danger, contact emergency services immediately.\")}\n                        </p>\n                        <div className=\"flex flex-col sm:flex-row flex-wrap gap-2 sm:gap-3 items-center sm:items-start\">\n                          <Button className=\"bg-red-600 hover:bg-red-700 text-white w-full sm:w-auto\" onClick={() => window.open('tel:108')} data-testid=\"button-emergency-108\">\n                            <Phone className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2\" />\n                            <span className=\"text-xs sm:text-sm\">{ts(\"Call 108 - Emergency\")}</span>\n                          </Button>\n                          <Button variant=\"outline\" className=\"border-red-300 text-red-700 hover:bg-red-50 dark:hover:bg-red-950 w-full sm:w-auto\" onClick={() => window.open('tel:100')} data-testid=\"button-police-100\">\n                            <Phone className=\"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2\" />\n                            <span className=\"text-xs sm:text-sm\">{ts(\"Call 100 - Police\")}</span>\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6\">\n                    <div className=\"p-4 sm:p-6 bg-white dark:bg-gray-900 rounded-lg border border-red-200 dark:border-red-800\">\n                      <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-3 sm:mb-4 flex items-center\">\n                        <MessageSquare className=\"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-red-600 flex-shrink-0\" />\n                        <span className=\"leading-tight\">24/7 Helplines</span>\n                      </h4>\n                      <div className=\"space-y-3 sm:space-y-4\">\n                        <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-gray-50 dark:bg-gray-800 rounded gap-2 sm:gap-0\">\n                          <div className=\"text-center sm:text-left\">\n                            <p className=\"text-xs sm:text-sm font-medium\">Suicide Prevention Helpline</p>\n                            <p className=\"text-xs text-muted-foreground\">24/7 Crisis Support</p>\n                          </div>\n                          <Button size=\"sm\" className=\"w-full sm:w-auto\" onClick={() => window.open('tel:9152987821')} data-testid=\"button-suicide-helpline\">\n                            <Phone className=\"h-3 w-3 mr-1\" />\n                            <span className=\"text-xs\">9152987821</span>\n                          </Button>\n                        </div>\n                        <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-gray-50 dark:bg-gray-800 rounded gap-2 sm:gap-0\">\n                          <div className=\"text-center sm:text-left\">\n                            <p className=\"text-xs sm:text-sm font-medium\">NIMHANS Helpline</p>\n                            <p className=\"text-xs text-muted-foreground\">Mental Health Support</p>\n                          </div>\n                          <Button size=\"sm\" className=\"w-full sm:w-auto\" onClick={() => window.open('tel:08026995000')} data-testid=\"button-nimhans-helpline\">\n                            <Phone className=\"h-3 w-3 mr-1\" />\n                            <span className=\"text-xs\">080-26995000</span>\n                          </Button>\n                        </div>\n                        <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-gray-50 dark:bg-gray-800 rounded gap-2 sm:gap-0\">\n                          <div className=\"text-center sm:text-left\">\n                            <p className=\"text-xs sm:text-sm font-medium\">Childline</p>\n                            <p className=\"text-xs text-muted-foreground\">Children in Distress</p>\n                          </div>\n                          <Button size=\"sm\" className=\"w-full sm:w-auto\" onClick={() => window.open('tel:1098')} data-testid=\"button-childline\">\n                            <Phone className=\"h-3 w-3 mr-1\" />\n                            <span className=\"text-xs\">1098</span>\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"p-4 sm:p-6 bg-white dark:bg-gray-900 rounded-lg border border-red-200 dark:border-red-800\">\n                      <h4 className=\"text-sm sm:text-base font-semibold text-foreground mb-3 sm:mb-4 flex items-center\">\n                        <AlertTriangle className=\"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-red-600 flex-shrink-0\" />\n                        <span className=\"leading-tight\">Warning Signs of Crisis</span>\n                      </h4>\n                      <ul className=\"space-y-2 sm:space-y-3 text-xs sm:text-sm\">\n                        <li className=\"flex items-start space-x-2\">\n                          <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-red-500 mr-1 sm:mr-2 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                          <span className=\"leading-relaxed\">Talking about wanting to die or kill themselves</span>\n                        </li>\n                        <li className=\"flex items-start space-x-2\">\n                          <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-red-500 mr-1 sm:mr-2 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                          <span className=\"leading-relaxed\">Looking for ways to kill themselves</span>\n                        </li>\n                        <li className=\"flex items-start space-x-2\">\n                          <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-red-500 mr-1 sm:mr-2 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                          <span className=\"leading-relaxed\">Talking about feeling hopeless or trapped</span>\n                        </li>\n                        <li className=\"flex items-start space-x-2\">\n                          <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-red-500 mr-1 sm:mr-2 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                          <span className=\"leading-relaxed\">Talking about being a burden to others</span>\n                        </li>\n                        <li className=\"flex items-start space-x-2\">\n                          <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-red-500 mr-1 sm:mr-2 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                          <span className=\"leading-relaxed\">Increased use of alcohol or drugs</span>\n                        </li>\n                        <li className=\"flex items-start space-x-2\">\n                          <span className=\"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-red-500 mr-1 sm:mr-2 mt-1.5 sm:mt-2 flex-shrink-0\"></span>\n                          <span className=\"leading-relaxed\">Acting anxious, agitated, or reckless</span>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n\n                  <div className=\"p-4 sm:p-6 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg border border-yellow-200 dark:border-yellow-800\">\n                    <div className=\"flex flex-col sm:flex-row items-start space-y-2 sm:space-y-0 sm:space-x-3\">\n                      <Info className=\"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0 self-center sm:self-start\" />\n                      <div className=\"flex-1 w-full text-center sm:text-left\">\n                        <h4 className=\"text-sm sm:text-base font-semibold text-yellow-800 dark:text-yellow-200 mb-2\">Remember</h4>\n                        <p className=\"text-xs sm:text-sm text-yellow-700 dark:text-yellow-300 leading-relaxed\">\n                          Trust your instincts. If you're concerned about your child's immediate safety, don't wait. \n                          Contact emergency services or take them to the nearest hospital emergency room. \n                          It's better to be safe than sorry.\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}","size_bytes":50628},"client/src/lib/static-translations.ts":{"content":"// Static translations for common UI text\nexport interface TranslationDictionary {\n  [key: string]: {\n    [language: string]: string;\n  };\n}\n\nexport const staticTranslations: TranslationDictionary = {\n  // Navigation items\n  \"Home\": {\n    hi: \"होम\",\n    bn: \"হোম\",\n    ta: \"முகப்பு\",\n    gu: \"મુખ્ય\"\n  },\n  \"Assistance\": {\n    hi: \"सहायता\",\n    bn: \"সহায়তা\",\n    ta: \"உதவி\",\n    gu: \"સહાયતા\"\n  },\n  \"AI Assistant\": {\n    hi: \"एआई सहायक\",\n    bn: \"এআই সহায়ক\",\n    ta: \"AI உதவியாளர்\",\n    gu: \"AI સહાયક\"\n  },\n  \"Doctor\": {\n    hi: \"डॉक्टर\",\n    bn: \"ডাক্তার\",\n    ta: \"மருத்துவர்\",\n    gu: \"ડૉક્ટર\"\n  },\n  \"Screening\": {\n    hi: \"स्क्रीनिंग\",\n    bn: \"স্ক্রিনিং\",\n    ta: \"ஸ்கிரீனிங்\",\n    gu: \"સ્ક્રીનિંગ\"\n  },\n  \"Medical Store\": {\n    hi: \"मेडिकल स्टोर\",\n    bn: \"মেডিকেল স্টোর\",\n    ta: \"மருந்தகம்\",\n    gu: \"મેડિકલ સ્ટોર\"\n  },\n  \"Medicine Alarm\": {\n    hi: \"दवा अलार्म\",\n    bn: \"ওষুধের অ্যালার্ম\",\n    ta: \"மருந்து எச்சரிக்கை\",\n    gu: \"દવાનો અલાર્મ\"\n  },\n  \"Yoga\": {\n    hi: \"योग\",\n    bn: \"যোগ\",\n    ta: \"யோகா\",\n    gu: \"યોગ\"\n  },\n  \"Sleep Cycle Guide\": {\n    hi: \"नींद चक्र गाइड\",\n    bn: \"ঘুমের চক্র গাইড\",\n    ta: \"தூக்க சுழற்சி வழிகாட்டி\",\n    gu: \"ઊંઘનું ચક્ર માર્ગદર્શન\"\n  },\n  \"Routine Generator\": {\n    hi: \"दिनचर्या जेनेरेटर\",\n    bn: \"রুটিন জেনেরেটর\",\n    ta: \"வழக்கம் ஜெனரேட்டர்\",\n    gu: \"દિનચર્યા જનરેટર\"\n  },\n  \"Games\": {\n    hi: \"खेल\",\n    bn: \"গেমস\",\n    ta: \"விளையாட்டுகள்\",\n    gu: \"રમતો\"\n  },\n  \"Mind Fresh Music\": {\n    hi: \"मन ताजा संगीत\",\n    bn: \"মন সতেজ সংগীত\",\n    ta: \"மன புதுமை இசை\",\n    gu: \"મન તાજું સંગીત\"\n  },\n  \"Motivation Videos\": {\n    hi: \"प्रेरणा वीडियो\",\n    bn: \"অনুপ্রেরণা ভিডিও\",\n    ta: \"ஊக்க வீடியோகள்\",\n    gu: \"પ્રેરણા વિડિઓઝ\"\n  },\n  \"Live Sessions\": {\n    hi: \"लाइव सेशन\",\n    bn: \"লাইভ সেশন\",\n    ta: \"நேரடி அமர்வுகள்\",\n    gu: \"લાઇવ સેશન\"\n  },\n  \"Resources\": {\n    hi: \"संसाधन\",\n    bn: \"রিসোর্স\",\n    ta: \"வளங்கள்\",\n    gu: \"સંસાધનો\"\n  },\n  \"Peer Call\": {\n    hi: \"साथी कॉल\",\n    bn: \"সহকর্মী কল\",\n    ta: \"சக அழைப்பு\",\n    gu: \"સાથીદાર કૉલ\"\n  },\n  \"Showcase\": {\n    hi: \"शोकेस\",\n    bn: \"শোকেস\",\n    ta: \"காட்சி\",\n    gu: \"પ્રદર્શન\"\n  },\n  \"My Diary\": {\n    hi: \"मेरी डायरी\",\n    bn: \"আমার ডায়েরি\",\n    ta: \"என் நாட்குறிப்பு\",\n    gu: \"મારી ડાયરી\"\n  },\n  \"Saved Content\": {\n    hi: \"सेव किया गया\",\n    bn: \"সংরক্ষিত বিষয়বস্তু\",\n    ta: \"சேமித்த உள்ளடக்கம்\",\n    gu: \"સાચવેલ સામગ્રી\"\n  },\n\n  // Common UI elements\n  \"Search everything...\": {\n    hi: \"सब कुछ खोजें...\",\n    bn: \"সবকিছু খুঁজুন...\",\n    ta: \"எல்லாவற்றையும் தேடுங்கள்...\",\n    gu: \"બધું શોધો...\"\n  },\n  \"Theme\": {\n    hi: \"थीम\",\n    bn: \"থিম\",\n    ta: \"தீம்\",\n    gu: \"થીમ\"\n  },\n  \"Language\": {\n    hi: \"भाषा\",\n    bn: \"ভাষা\",\n    ta: \"மொழி\",\n    gu: \"ભાષા\"\n  },\n  \"Profile & Settings\": {\n    hi: \"प्रोफाइल और सेटिंग्स\",\n    bn: \"প্রোফাইল এবং সেটিংস\",\n    ta: \"சுயவிவரம் & அமைப்புகள்\",\n    gu: \"પ્રોફાઇલ & સેટિંગ્સ\"\n  },\n  \"Sign Out\": {\n    hi: \"साइन आउट\",\n    bn: \"সাইন আউট\",\n    ta: \"வெளியேறு\",\n    gu: \"સાઇન આઉટ\"\n  },\n  \"Admin Dashboard\": {\n    hi: \"एडमिन डैशबोर्ड\",\n    bn: \"অ্যাডমিন ড্যাশবোর্ড\",\n    ta: \"நிர்வாக டாஷ்போர்டு\",\n    gu: \"એડમિન ડેશબોર્ડ\"\n  },\n\n  // Dashboard content\n  \"Welcome back\": {\n    hi: \"फिर से स्वागत है\",\n    bn: \"ফিরে এসে স্বাগতম\",\n    ta: \"மீண்டும் வருக\",\n    gu: \"પાછા સ્વાગત છે\"\n  },\n  \"How are you feeling today?\": {\n    hi: \"आज आप कैसा महसूस कर रहे हैं?\",\n    bn: \"আজ আপনি কেমন বোধ করছেন?\",\n    ta: \"இன்று எப்படி உணர்கிறீர்கள்?\",\n    gu: \"આજે તમે કેવું અનુભવો છો?\"\n  },\n  \"Talk to AI Helper\": {\n    hi: \"एआई हेल्पर से बात करें\",\n    bn: \"AI সাহায্যকারীর সাথে কথা বলুন\",\n    ta: \"AI உதவியாளரிடம் பேசுங்கள்\",\n    gu: \"AI સહાયક સાથે વાત કરો\"\n  },\n  \"Quick Wellness Check\": {\n    hi: \"त्वरित कल्याण जांच\",\n    bn: \"দ্রুত সুস্থতা পরীক্ষা\",\n    ta: \"விரைவு நல்வாழ்வு பரிசோதனை\",\n    gu: \"ઝડપી કલ્યાણ તપાસ\"\n  },\n  \"AI Support Chat\": {\n    hi: \"एआई सपोर्ट चैट\",\n    bn: \"AI সাপোর্ট চ্যাট\",\n    ta: \"AI ஆதரவு அரட்டை\",\n    gu: \"AI સપોર્ટ ચેટ\"\n  },\n  \"Get instant support and coping strategies\": {\n    hi: \"तुरंत सहायता और मुकाबला रणनीति प्राप्त करें\",\n    bn: \"তাৎক্ষণিক সহায়তা এবং মোকাবিলার কৌশল পান\",\n    ta: \"உடனடி உதவி மற்றும் எதிர்கொள்ளும் உத்திகள் பெறுங்கள்\",\n    gu: \"તાત્કાલિક સહાય અને સામનો કરવાની વ્યૂહરચનાઓ મેળવો\"\n  },\n  \"Wellness Screening\": {\n    hi: \"कल्याण स्क्रीनिंग\",\n    bn: \"সুস্থতা স্ক্রিনিং\",\n    ta: \"நல்வாழ்வு ஸ்கிரீனிங்\",\n    gu: \"કલ્યાણ સ્ક્રીનિંગ\"\n  },\n  \"Check your mental health with PHQ-9 & GAD-7\": {\n    hi: \"PHQ-9 और GAD-7 के साथ अपने मानसिक स्वास्थ्य की जांच करें\",\n    bn: \"PHQ-9 & GAD-7 দিয়ে আপনার মানসিক স্বাস্থ্য পরীক্ষা করুন\",\n    ta: \"PHQ-9 & GAD-7 மூலம் உங்கள் மனநலத்தை பரிசோதிக்கவும்\",\n    gu: \"PHQ-9 & GAD-7 સાથે તમારા માનસિક સ્વાસ્થ્યની તપાસ કરો\"\n  },\n  \"Book Counseling\": {\n    hi: \"परामर्श बुक करें\",\n    bn: \"কাউন্সেলিং বুক করুন\",\n    ta: \"ஆலோசனை முன்பதிவு\",\n    gu: \"કાઉન્સેલિંગ બુક કરો\"\n  },\n  \"Schedule confidential sessions\": {\n    hi: \"गोपनीय सत्र निर्धारित करें\",\n    bn: \"গোপনীয় অধিবেশন নির্ধারণ করুন\",\n    ta: \"ரகசிய அமர்வுகள் நிர்ணயம்\",\n    gu: \"ગુપ્ત સત્રો નિર્ધારિત કરો\"\n  },\n  \"Peer Support\": {\n    hi: \"साथी सहायता\",\n    bn: \"সমবয়সী সহায়তা\",\n    ta: \"சக ஆதரவு\",\n    gu: \"સાથીદાર સહાય\"\n  },\n  \"Connect with fellow students anonymously\": {\n    hi: \"गुमनाम रूप से साथी छात्रों से जुड़ें\",\n    bn: \"সহপাঠীদের সাথে বেনামে সংযোগ করুন\",\n    ta: \"சக மாணவர்களுடன் அறியாமல் இணைக்கவும்\",\n    gu: \"સાથી વિદ્યાર્થીઓ સાથે અનામિક રૂપે જોડાઓ\"\n  },\n\n  // Common buttons\n  \"Start\": {\n    hi: \"शुरू करें\",\n    bn: \"শুরু করুন\",\n    ta: \"தொடங்கு\",\n    gu: \"શરૂ કરો\"\n  },\n  \"Continue\": {\n    hi: \"जारी रखें\",\n    bn: \"চালিয়ে যান\",\n    ta: \"தொடரவும்\",\n    gu: \"ચાલુ રાખો\"\n  },\n  \"Cancel\": {\n    hi: \"रद्द करें\",\n    bn: \"বাতিল\",\n    ta: \"ரத்து செய்\",\n    gu: \"રદ કરો\"\n  },\n  \"Save\": {\n    hi: \"सेव करें\",\n    bn: \"সংরক্ষণ\",\n    ta: \"சேமி\",\n    gu: \"સાચવો\"\n  },\n  \"Close\": {\n    hi: \"बंद करें\",\n    bn: \"বন্ধ\",\n    ta: \"மூடு\",\n    gu: \"બંધ કરો\"\n  },\n  \"Next\": {\n    hi: \"आगे\",\n    bn: \"পরবর্তী\",\n    ta: \"அடுத்து\",\n    gu: \"આગળ\"\n  },\n  \"Previous\": {\n    hi: \"पिछला\",\n    bn: \"পূর্ববর্তী\",\n    ta: \"முந்தைய\",\n    gu: \"પહેલાનું\"\n  },\n\n  // Time and status\n  \"Today\": {\n    hi: \"आज\",\n    bn: \"আজ\",\n    ta: \"இன்று\",\n    gu: \"આજે\"\n  },\n  \"Yesterday\": {\n    hi: \"कल\",\n    bn: \"গতকাল\",\n    ta: \"நேற்று\",\n    gu: \"ગઈકાલે\"\n  },\n  \"Tomorrow\": {\n    hi: \"कल\",\n    bn: \"আগামীকাল\",\n    ta: \"நாளை\",\n    gu: \"કાલે\"\n  },\n  \"Loading...\": {\n    hi: \"लोड हो रहा है...\",\n    bn: \"লোড হচ্ছে...\",\n    ta: \"ஏற்றுகிறது...\",\n    gu: \"લોડ થઈ રહ્યું છે...\"\n  },\n  \"Translating...\": {\n    hi: \"अनुवाद हो रहा है...\",\n    bn: \"অনুবাদ হচ্ছে...\",\n    ta: \"மொழிபெயர்க்கிறது...\",\n    gu: \"અનુવાદ થઈ રહ્યો છે...\"\n  },\n\n  // Login and Authentication\n  \"Email\": {\n    hi: \"ईमेल\",\n    bn: \"ইমেইল\",\n    ta: \"மின்னஞ்சல்\",\n    gu: \"ઈમેઈલ\"\n  },\n  \"Password\": {\n    hi: \"पासवर्ड\",\n    bn: \"পাসওয়ার্ড\",\n    ta: \"கடவுச்சொல்\",\n    gu: \"પાસવર્ડ\"\n  },\n  \"Login\": {\n    hi: \"लॉगिन\",\n    bn: \"লগইন\",\n    ta: \"உள்நுழைவு\",\n    gu: \"લૉગિન\"\n  },\n  \"Sign Up\": {\n    hi: \"साइन अप\",\n    bn: \"সাইন আপ\",\n    ta: \"பதிவு செய்\",\n    gu: \"સાઇન અપ\"\n  },\n  \"Google Sign-in\": {\n    hi: \"गूगल साइन-इन\",\n    bn: \"গুগল সাইন-ইন\",\n    ta: \"கூகிள் உள்நுழைவு\",\n    gu: \"ગૂગલ સાઇન-ઇન\"\n  },\n  \"Missing information\": {\n    hi: \"जानकारी गुम\",\n    bn: \"তথ্য অনুপস্থিত\",\n    ta: \"தகவல் விடுபட்டது\",\n    gu: \"માહિતી ખૂટે છે\"\n  },\n  \"Please enter both email and password\": {\n    hi: \"कृपया ईमेल और पासवर्ड दोनों दर्ज करें\",\n    bn: \"দয়া করে ইমেইল এবং পাসওয়ার্ড উভয়ই প্রবেশ করান\",\n    ta: \"மின்னஞ்சல் மற்றும் கடவுச்சொல் இரண்டையும் உள்ளிடவும்\",\n    gu: \"કૃપા કરીને ઈમેઈલ અને પાસવર્ડ બંને દાખલ કરો\"\n  },\n  \"Welcome!\": {\n    hi: \"स्वागत है!\",\n    bn: \"স্বাগতম!\",\n    ta: \"வருக!\",\n    gu: \"સ્વાગત છે!\"\n  },\n  \"Please complete your profile setup\": {\n    hi: \"कृपया अपनी प्रोफाइल सेटअप पूरी करें\",\n    bn: \"অনুগ্রহ করে আপনার প্রোফাইল সেটআপ সম্পন্ন করুন\",\n    ta: \"உங்கள் சுயவிவர அமைப்பை முடிக்கவும்\",\n    gu: \"કૃપા કરીને તમારા પ્રોફાઇલ સેટઅપ પૂર્ણ કરો\"\n  },\n  \"Login failed\": {\n    hi: \"लॉगिन असफल\",\n    bn: \"লগইন ব্যর্থ\",\n    ta: \"உள்நுழைவு தோல்வி\",\n    gu: \"લૉગિન નિષ્ફળ\"\n  },\n  \"Please try again\": {\n    hi: \"कृपया फिर से कोशिश करें\",\n    bn: \"অনুগ্রহ করে আবার চেষ্টা করুন\",\n    ta: \"மீண்டும் முயற்சிக்கவும்\",\n    gu: \"કૃપા કરીને ફરી પ્રયાસ કરો\"\n  },\n\n  // Navigation sections\n  \"Navigation\": {\n    hi: \"नेवीगेशन\",\n    bn: \"নেভিগেশন\",\n    ta: \"வழிசெலுத்தல்\",\n    gu: \"નેવિગેશન\"\n  },\n  \"Doctor/Screening\": {\n    hi: \"डॉक्टर/स्क्रीनिंग\",\n    bn: \"ডাক্তার/স্ক্রিনিং\",\n    ta: \"மருத்துவர்/ஸ்கிரீனிங்\",\n    gu: \"ડૉક્ટર/સ્ક્રીનિંગ\"\n  },\n  \"Wellness\": {\n    hi: \"कल्याण\",\n    bn: \"সুস্থতা\",\n    ta: \"நல்வாழ்வு\",\n    gu: \"કલ્યાણ\"\n  },\n  \"Relax & Refresh\": {\n    hi: \"आराम और तरोताजा\",\n    bn: \"বিশ্রাম এবং সতেজ\",\n    ta: \"ஓய்வு & புத்துணர்ச்சி\",\n    gu: \"આરામ & તાજગી\"\n  },\n  \"Community\": {\n    hi: \"समुदाय\",\n    bn: \"সম্প্রদায়\",\n    ta: \"சமुதாயம்\",\n    gu: \"સમુદાય\"\n  },\n  \"My Space\": {\n    hi: \"मेरा स्थान\",\n    bn: \"আমার স্থান\",\n    ta: \"என் இடம்\",\n    gu: \"મારી જગ્યા\"\n  },\n\n  // Admin Dashboard\n  \"Access Denied\": {\n    hi: \"पहुंच अस्वीकृत\",\n    bn: \"অ্যাক্সেস অস্বীকৃত\",\n    ta: \"அணுகல் மறுக்கப்பட்டது\",\n    gu: \"એક્સેસ નકારવામાં આવ્યું\"\n  },\n  \"You don't have permission to access the admin dashboard.\": {\n    hi: \"आपके पास एडमिन डैशबोर्ड तक पहुंचने की अनुमति नहीं है।\",\n    bn: \"অ্যাডমিন ড্যাশবোর্ড অ্যাক্সেস করার আপনার অনুমতি নেই।\",\n    ta: \"நிர்வாக டாஷ்போர்டை அணுக உங்களுக்கு அனுமதி இல்லை।\",\n    gu: \"તમને એડમિન ડેશબોર્ડ એક્સેસ કરવાની પરવાનગી નથી।\"\n  },\n  \"Mental Health Analytics Dashboard\": {\n    hi: \"मानसिक स्वास्थ्य विश्लेषण डैशबोर्ड\",\n    bn: \"মানসিক স্বাস্থ্য বিশ্লেষণ ড্যাশবোর্ড\",\n    ta: \"மனநல பகுப்பாய்வு டாஷ்போர்டு\",\n    gu: \"માનસિક સ્વાસ્થ્ય વિશ્લેષણ ડેશબોર્ડ\"\n  },\n  \"Active Users\": {\n    hi: \"सक्रिय उपयोगकर्ता\",\n    bn: \"সক্রিয় ব্যবহারকারী\",\n    ta: \"செயலில் பயனர்கள்\",\n    gu: \"સક્રિય વપરાશકર્તાઓ\"\n  },\n  \"Screenings Completed\": {\n    hi: \"स्क्रीनिंग पूर्ण\",\n    bn: \"স্ক্রিনিং সম্পন্ন\",\n    ta: \"ஸ்கிரீனிங் முடிந்தது\",\n    gu: \"સ્ક્રીનિંગ પૂર્ણ\"\n  },\n  \"Appointments\": {\n    hi: \"नियुक्तियां\",\n    bn: \"অ্যাপয়েন্টমেন্ট\",\n    ta: \"நியமனங்கள்\",\n    gu: \"એપોઇન્ટમેન્ટ્સ\"\n  },\n  \"Crisis Alerts\": {\n    hi: \"संकट चेतावनी\",\n    bn: \"সংকট সতর্কতা\",\n    ta: \"நெருக்கடி எச்சரিக்கைகள்\",\n    gu: \"સંકટ ચેતવણીઓ\"\n  },\n\n  // Inspirational Quotes\n  \"Every moment is a fresh beginning.\": {\n    hi: \"हर पल एक नई शुरुआत है।\",\n    bn: \"প্রতিটি মুহূর্ত একটি নতুন শুরু।\",\n    ta: \"ஒவ்வொரு தருணமும் ஒரு புதிய தொடக்கம்।\",\n    gu: \"દરેક ક્ષણ એક નવી શરૂઆત છે।\"\n  },\n  \"You are braver than you believe.\": {\n    hi: \"आप अपने विश्वास से कहीं अधिक बहादुर हैं।\",\n    bn: \"আপনি আপনার বিশ্বাসের চেয়ে বেশি সাহসী।\",\n    ta: \"நீங்கள் நம்புவதை விட தைரியமானவர்।\",\n    gu: \"તમે તમારા વિશ્વાસ કરતાં વધુ બહાદુર છો।\"\n  },\n  \"Progress, not perfection.\": {\n    hi: \"प्रगति, पूर्णता नहीं।\",\n    bn: \"অগ্রগতি, পূর্ণতা নয়।\",\n    ta: \"முன்னேற்றம், முழுமையல்ல।\",\n    gu: \"પ્રગતિ, પૂર્ણતા નહીં।\"\n  },\n  \"Your potential is endless.\": {\n    hi: \"आपकी क्षमता अनंत है।\",\n    bn: \"আপনার সম্ভাবনা অসীম।\",\n    ta: \"உங்கள் திறன் எல்லையற்றது।\",\n    gu: \"તમારી સંભાવના અનંત છે।\"\n  },\n  \"Today is full of possibilities.\": {\n    hi: \"आज संभावनाओं से भरा है।\",\n    bn: \"আজ সম্ভাবনায় পূর্ণ।\",\n    ta: \"இன்று சாத்தியங்கள் நிறைந்தது।\",\n    gu: \"આજ શક્યતાઓથી ભરપૂર છે।\"\n  },\n\n  // Chat Interface\n  \"Type your message...\": {\n    hi: \"अपना संदेश टाइप करें...\",\n    bn: \"আপনার বার্তা টাইপ করুন...\",\n    ta: \"உங்கள் செய்தியை தட்டச்சு செய்யுங்கள்...\",\n    gu: \"તમારો સંદેશ ટાઇપ કરો...\"\n  },\n  \"Send\": {\n    hi: \"भेजें\",\n    bn: \"পাঠান\",\n    ta: \"அனுப்பு\",\n    gu: \"મોકલો\"\n  },\n  \"Clear chat\": {\n    hi: \"चैट साफ़ करें\",\n    bn: \"চ্যাট মুছুন\",\n    ta: \"அரட்டையை அழிக்கவும்\",\n    gu: \"ચેટ સાફ કરો\"\n  },\n\n  // Form elements\n  \"Submit\": {\n    hi: \"जमा करें\",\n    bn: \"জমা দিন\",\n    ta: \"சமர்பிக்கவும்\",\n    gu: \"સબમિટ કરો\"\n  },\n  \"Edit\": {\n    hi: \"संपादित करें\",\n    bn: \"সম্পাদনা\",\n    ta: \"திருத்து\",\n    gu: \"સંપાદિત કરો\"\n  },\n  \"Delete\": {\n    hi: \"हटाएं\",\n    bn: \"মুছুন\",\n    ta: \"நீக்கு\",\n    gu: \"કાઢી નાખો\"\n  },\n  \"Settings\": {\n    hi: \"सेटिंग्स\",\n    bn: \"সেটিংস\",\n    ta: \"அமைப்புகள்\",\n    gu: \"સેટિંગ્સ\"\n  },\n  \"Help\": {\n    hi: \"सहायता\",\n    bn: \"সাহায্য\",\n    ta: \"உதவி\",\n    gu: \"મદદ\"\n  },\n  \"Support\": {\n    hi: \"समर্থন\",\n    bn: \"সহায়তা\",\n    ta: \"ஆதரவு\",\n    gu: \"સહાય\"\n  }\n};\n\n// Function to get translated text\nexport function getTranslation(text: string, language: string): string {\n  if (language === 'en' || !staticTranslations[text]) {\n    return text;\n  }\n  \n  return staticTranslations[text][language] || text;\n}","size_bytes":21578},"client/src/lib/translation-service.ts":{"content":"// Translation service for real-time language translation\nimport { getTranslation, staticTranslations } from './static-translations';\n\nexport interface TranslationCache {\n  [key: string]: {\n    [languageCode: string]: string;\n  };\n}\n\nclass TranslationService {\n  private cache: TranslationCache = {};\n  private currentLanguage: string = 'en';\n  private isTranslating: boolean = false;\n  private listeners: Array<(language: string) => void> = [];\n  private translationTimeout: NodeJS.Timeout | null = null;\n  private lastTranslationTime: number = 0;\n\n  constructor() {\n    // Initialize language from localStorage\n    try {\n      this.currentLanguage = localStorage.getItem('apnamaan_language') || 'en';\n    } catch {\n      this.currentLanguage = 'en';\n    }\n  }\n\n  // Get stored language from localStorage\n  private getStoredLanguage(): string {\n    try {\n      return localStorage.getItem('apnamaan_language') || 'en';\n    } catch {\n      return 'en';\n    }\n  }\n\n  // Store language selection in localStorage\n  private setStoredLanguage(languageCode: string): void {\n    try {\n      localStorage.setItem('apnamaan_language', languageCode);\n    } catch {\n      // Silently fail if localStorage is not available\n    }\n  }\n\n  // Add listener for language changes\n  addLanguageChangeListener(listener: (language: string) => void): () => void {\n    this.listeners.push(listener);\n    // Return unsubscribe function\n    return () => {\n      const index = this.listeners.indexOf(listener);\n      if (index > -1) {\n        this.listeners.splice(index, 1);\n      }\n    };\n  }\n\n  // Notify all listeners of language change\n  private notifyLanguageChange(language: string): void {\n    this.listeners.forEach(listener => {\n      try {\n        listener(language);\n      } catch (error) {\n        console.warn('Language change listener error:', error);\n      }\n    });\n  }\n\n  // Language code mappings for Google Translate API\n  private languageMap: { [key: string]: string } = {\n    'en': 'en',\n    'hi': 'hi', \n    'bn': 'bn',\n    'ta': 'ta',\n    'gu': 'gu'\n  };\n\n  setCurrentLanguage(languageCode: string) {\n    this.currentLanguage = languageCode;\n    this.setStoredLanguage(languageCode);\n    this.notifyLanguageChange(languageCode);\n  }\n\n  getCurrentLanguage(): string {\n    return this.currentLanguage;\n  }\n\n  // Translate text using static translations with API fallback\n  async translateText(text: string, targetLanguage: string): Promise<string> {\n    if (!text || text.trim() === '') return text;\n    if (targetLanguage === 'en') return text;\n\n    const trimmedText = text.trim();\n    const cacheKey = trimmedText.toLowerCase();\n\n    // Check cache first\n    if (this.cache[cacheKey] && this.cache[cacheKey][targetLanguage]) {\n      return this.cache[cacheKey][targetLanguage];\n    }\n\n    // Try static translations first (instant and reliable)\n    const staticTranslation = getTranslation(trimmedText, targetLanguage);\n    if (staticTranslation !== trimmedText) {\n      // Cache the static translation\n      if (!this.cache[cacheKey]) {\n        this.cache[cacheKey] = {};\n      }\n      this.cache[cacheKey][targetLanguage] = staticTranslation;\n      return staticTranslation;\n    }\n\n    // Fallback to server-side translation or basic text replacement patterns\n    // For Hindi, try common English to Hindi word replacements\n    if (targetLanguage === 'hi') {\n      const commonTranslations: { [key: string]: string } = {\n        'Home': 'होम',\n        'Chat': 'चैट',\n        'Profile': 'प्रोफाइल',\n        'Settings': 'सेटिंग्स',\n        'Help': 'सहायता',\n        'Support': 'समर्थन',\n        'Mental Health': 'मानसिक स्वास्थ्य',\n        'Doctor': 'डॉक्टर',\n        'Screening': 'जांच',\n        'Resources': 'संसाधन',\n        'Community': 'समुदाय',\n        'Dashboard': 'डैशबोर्ड'\n      };\n      \n      // Check for exact matches in common translations\n      if (commonTranslations[trimmedText]) {\n        // Cache the translation\n        if (!this.cache[cacheKey]) {\n          this.cache[cacheKey] = {};\n        }\n        this.cache[cacheKey][targetLanguage] = commonTranslations[trimmedText];\n        return commonTranslations[trimmedText];\n      }\n    }\n    \n    // If no translation found, return original text\n    return text;\n\n    // TODO: Implement server-side translation endpoint if needed for dynamic content\n    /*\n    try {\n      // Use Google Translate via CORS proxy\n      const encodedText = encodeURIComponent(text);\n      const targetLang = this.languageMap[targetLanguage] || targetLanguage;\n      \n      // Try direct API call (may fail due to CORS)\n      const url = `https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=${targetLang}&dt=t&q=${encodedText}`;\n      const response = await fetch(url);\n      const result = await response.json();\n      \n      if (result && result[0] && result[0][0] && result[0][0][0]) {\n        const translatedText = result[0][0][0];\n        \n        // Cache the translation\n        if (!this.cache[cacheKey]) {\n          this.cache[cacheKey] = {};\n        }\n        this.cache[cacheKey][targetLanguage] = translatedText;\n        \n        return translatedText;\n      }\n      \n      return text;\n    } catch (error) {\n      return text; // Return original text on error\n    }\n    */\n  }\n\n  // Translate all text nodes in the page\n  async translatePage(targetLanguage: string) {\n    if (this.isTranslating || targetLanguage === 'en') return;\n    \n    this.isTranslating = true;\n    this.currentLanguage = targetLanguage;\n    this.lastTranslationTime = Date.now();\n\n    console.log('Starting page translation to:', targetLanguage);\n\n    try {\n      // Get all text nodes in the document\n      const walker = document.createTreeWalker(\n        document.body,\n        NodeFilter.SHOW_TEXT,\n        {\n          acceptNode: (node) => {\n            // Skip script, style, and other non-visible elements\n            const parent = node.parentElement;\n            if (!parent) return NodeFilter.FILTER_REJECT;\n            \n            const tagName = parent.tagName.toLowerCase();\n            if (['script', 'style', 'noscript'].includes(tagName)) {\n              return NodeFilter.FILTER_REJECT;\n            }\n            \n            // Skip empty or whitespace-only text nodes\n            const text = node.textContent?.trim();\n            if (!text || text.length < 2) {\n              return NodeFilter.FILTER_REJECT;\n            }\n            \n            // Skip text that looks like code or contains special characters\n            if (/^[0-9\\s\\W]*$/.test(text) || /^[{}[\\]();,.\\-_+=]*$/.test(text)) {\n              return NodeFilter.FILTER_REJECT;\n            }\n            \n            return NodeFilter.FILTER_ACCEPT;\n          }\n        }\n      );\n\n      const textNodes: Text[] = [];\n      let node;\n      \n      // Collect all text nodes\n      while (node = walker.nextNode()) {\n        textNodes.push(node as Text);\n      }\n\n      // Translate text nodes in batches to avoid overwhelming the API\n      const batchSize = 10;\n      for (let i = 0; i < textNodes.length; i += batchSize) {\n        const batch = textNodes.slice(i, i + batchSize);\n        \n        await Promise.all(\n          batch.map(async (textNode) => {\n            const originalText = textNode.textContent;\n            if (originalText) {\n              try {\n                const translatedText = await this.translateText(originalText, targetLanguage);\n                if (translatedText !== originalText) {\n                  textNode.textContent = translatedText;\n                }\n              } catch (error) {\n                console.warn('Failed to translate text:', originalText, error);\n              }\n            }\n          })\n        );\n        \n        // Small delay between batches to avoid overwhelming the UI\n        await new Promise(resolve => setTimeout(resolve, 200));\n      }\n      console.log('Page translation completed for:', targetLanguage);\n    } catch (error) {\n      console.error('Page translation failed:', error);\n    } finally {\n      this.isTranslating = false;\n    }\n  }\n\n  // Reset page to English\n  async resetToEnglish() {\n    if (this.currentLanguage === 'en') return;\n    \n    // Reload the page to reset to original English text\n    window.location.reload();\n  }\n\n  isCurrentlyTranslating(): boolean {\n    return this.isTranslating;\n  }\n\n  // Auto-translate current page if language is not English\n  async autoTranslateIfNeeded() {\n    if (this.currentLanguage === 'en' || this.isTranslating) {\n      return;\n    }\n\n    // Clear any existing timeout\n    if (this.translationTimeout) {\n      clearTimeout(this.translationTimeout);\n    }\n\n    // Debounce translation to prevent too frequent calls\n    const now = Date.now();\n    const timeSinceLastTranslation = now - this.lastTranslationTime;\n    const minimumDelay = 1500; // Wait at least 1.5 seconds between translations\n\n    if (timeSinceLastTranslation < minimumDelay) {\n      // Schedule translation for later\n      this.translationTimeout = setTimeout(() => {\n        this.translatePage(this.currentLanguage);\n      }, minimumDelay - timeSinceLastTranslation);\n    } else {\n      // Translate immediately but with a small delay to let DOM settle\n      this.translationTimeout = setTimeout(() => {\n        this.translatePage(this.currentLanguage);\n      }, 500);\n    }\n  }\n\n  // Check if auto-translation is needed\n  shouldAutoTranslate(): boolean {\n    return this.currentLanguage !== 'en';\n  }\n\n  // Clear translation cache\n  clearCache() {\n    this.cache = {};\n  }\n}\n\nexport const translationService = new TranslationService();","size_bytes":9731},"client/src/pages/privacy.tsx":{"content":"import { Lock, Shield, Eye, UserCheck, Database, Globe, FileText, Settings, AlertTriangle, CheckCircle2, ArrowLeft } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useLocation } from \"wouter\";\n\nexport default function Privacy() {\n  const [, setLocation] = useLocation();\n  \n  const handleBack = () => {\n    // Always try to go back if there's history available\n    if (window.history.length > 1) {\n      window.history.back();\n    } else {\n      // If opened in new tab with no history, try to close then fallback\n      try {\n        window.close();\n      } catch (e) {\n        // Ignore if close is blocked\n      }\n      // Always navigate back to login page using SPA routing\n      setLocation('/');\n    }\n  };\n\n  const privacyFeatures = [\n    {\n      icon: Lock,\n      title: \"End-to-End Encryption\",\n      description: \"All your conversations and personal data are encrypted using military-grade AES-256 encryption. Only you can access your information.\"\n    },\n    {\n      icon: UserCheck,\n      title: \"Anonymous Access\",\n      description: \"We don't require real names or personal identifiers. You can use the platform completely anonymously if you choose.\"\n    },\n    {\n      icon: Eye,\n      title: \"No Third-Party Tracking\",\n      description: \"We don't use analytics trackers, advertising pixels, or any third-party services that could compromise your privacy.\"\n    },\n    {\n      icon: Database,\n      title: \"Minimal Data Collection\",\n      description: \"We only collect essential data needed for the service to function. No unnecessary personal information is stored.\"\n    },\n    {\n      icon: Shield,\n      title: \"Zero-Knowledge Architecture\",\n      description: \"Our support staff cannot access your personal conversations, diary entries, or sensitive health information.\"\n    },\n    {\n      icon: Globe,\n      title: \"No Geographic Restrictions\",\n      description: \"Your location data is never tracked or stored. Access the platform from anywhere without privacy concerns.\"\n    }\n  ];\n\n  const securityMeasures = [\n    {\n      title: \"Data Encryption\",\n      status: \"Active\",\n      description: \"All data is encrypted both in transit and at rest using industry-standard protocols.\"\n    },\n    {\n      title: \"Regular Security Audits\",\n      status: \"Monthly\",\n      description: \"Independent security experts regularly audit our systems for vulnerabilities.\"\n    },\n    {\n      title: \"Access Controls\",\n      status: \"Strict\",\n      description: \"Multi-factor authentication and role-based access controls protect all administrative functions.\"\n    },\n    {\n      title: \"Data Backup\",\n      status: \"Encrypted\",\n      description: \"All backups are encrypted and stored in geographically distributed secure facilities.\"\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-primary/5 to-secondary/5 p-4\">\n      <div className=\"max-w-4xl mx-auto space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center gap-4 mb-6\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleBack}\n            className=\"flex items-center gap-2\"\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft className=\"h-4 w-4\" />\n            Back\n          </Button>\n          <div>\n            <h1 className=\"text-3xl font-bold text-foreground flex items-center gap-3\">\n              <Lock className=\"h-8 w-8 text-primary\" />\n              Privacy & Security Details\n            </h1>\n            <p className=\"text-muted-foreground mt-2\">\n              Complete transparency about how we protect your mental health data and privacy\n            </p>\n          </div>\n        </div>\n\n        {/* Core Promise */}\n        <Card className=\"border-primary/20 bg-gradient-to-br from-primary/5 to-primary/10\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-3 text-2xl\">\n              <Shield className=\"h-6 w-6 text-primary\" />\n              Our Privacy Promise\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              <div className=\"flex items-start gap-3\">\n                <CheckCircle2 className=\"h-5 w-5 text-green-600 mt-1 flex-shrink-0\" />\n                <div>\n                  <h4 className=\"font-semibold\">No Parent Access</h4>\n                  <p className=\"text-sm text-muted-foreground\">Your parents cannot see your conversations, diary entries, or any personal data.</p>\n                </div>\n              </div>\n              <div className=\"flex items-start gap-3\">\n                <CheckCircle2 className=\"h-5 w-5 text-green-600 mt-1 flex-shrink-0\" />\n                <div>\n                  <h4 className=\"font-semibold\">No Institute Access</h4>\n                  <p className=\"text-sm text-muted-foreground\">Educational institutions have zero access to your personal mental health information.</p>\n                </div>\n              </div>\n              <div className=\"flex items-start gap-3\">\n                <CheckCircle2 className=\"h-5 w-5 text-green-600 mt-1 flex-shrink-0\" />\n                <div>\n                  <h4 className=\"font-semibold\">No Government Access</h4>\n                  <p className=\"text-sm text-muted-foreground\">Government entities cannot access your data without legal warrants and court orders.</p>\n                </div>\n              </div>\n              <div className=\"flex items-start gap-3\">\n                <CheckCircle2 className=\"h-5 w-5 text-green-600 mt-1 flex-shrink-0\" />\n                <div>\n                  <h4 className=\"font-semibold\">No Data Selling</h4>\n                  <p className=\"text-sm text-muted-foreground\">We never sell, rent, or monetize your personal data in any way.</p>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Privacy Features */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-3\">\n              <Eye className=\"h-6 w-6 text-primary\" />\n              Privacy Features\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid gap-6 md:grid-cols-2\">\n              {privacyFeatures.map((feature, index) => {\n                const IconComponent = feature.icon;\n                return (\n                  <div key={index} className=\"flex items-start gap-4 p-4 rounded-lg border bg-card/50\">\n                    <IconComponent className=\"h-6 w-6 text-primary flex-shrink-0 mt-1\" />\n                    <div>\n                      <h4 className=\"font-semibold text-foreground mb-2\">{feature.title}</h4>\n                      <p className=\"text-sm text-muted-foreground leading-relaxed\">{feature.description}</p>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Security Measures */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-3\">\n              <Shield className=\"h-6 w-6 text-primary\" />\n              Security Measures\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {securityMeasures.map((measure, index) => (\n                <div key={index} className=\"flex items-center justify-between p-4 rounded-lg border bg-card/50\">\n                  <div>\n                    <h4 className=\"font-semibold text-foreground\">{measure.title}</h4>\n                    <p className=\"text-sm text-muted-foreground mt-1\">{measure.description}</p>\n                  </div>\n                  <Badge variant=\"secondary\" className=\"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200\">\n                    {measure.status}\n                  </Badge>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Data Usage */}\n        <div className=\"grid gap-6 md:grid-cols-2\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-3\">\n                <Database className=\"h-5 w-5 text-primary\" />\n                What We Store\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              <div className=\"text-sm space-y-2\">\n                <div className=\"flex justify-between\">\n                  <span>Email (for login)</span>\n                  <Badge variant=\"outline\">Required</Badge>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Encrypted chat messages</span>\n                  <Badge variant=\"outline\">Encrypted</Badge>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Anonymous usage analytics</span>\n                  <Badge variant=\"outline\">Anonymous</Badge>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span>Personal diary entries</span>\n                  <Badge variant=\"outline\">Encrypted</Badge>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-3\">\n                <AlertTriangle className=\"h-5 w-5 text-orange-500\" />\n                What We Don't Store\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3\">\n              <div className=\"text-sm space-y-2\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-red-500\">✗</span>\n                  <span>Real names or personal identifiers</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-red-500\">✗</span>\n                  <span>Location or GPS data</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-red-500\">✗</span>\n                  <span>Device information or fingerprints</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-red-500\">✗</span>\n                  <span>Third-party tracking cookies</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Data Rights */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-3\">\n              <Settings className=\"h-6 w-6 text-primary\" />\n              Your Data Rights\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              <div className=\"space-y-3\">\n                <div className=\"p-3 rounded-lg bg-primary/5 border border-primary/20\">\n                  <h4 className=\"font-semibold text-primary mb-1\">Right to Access</h4>\n                  <p className=\"text-sm text-muted-foreground\">Download all your data in a portable format anytime.</p>\n                </div>\n                <div className=\"p-3 rounded-lg bg-primary/5 border border-primary/20\">\n                  <h4 className=\"font-semibold text-primary mb-1\">Right to Delete</h4>\n                  <p className=\"text-sm text-muted-foreground\">Permanently delete your account and all associated data.</p>\n                </div>\n              </div>\n              <div className=\"space-y-3\">\n                <div className=\"p-3 rounded-lg bg-primary/5 border border-primary/20\">\n                  <h4 className=\"font-semibold text-primary mb-1\">Right to Correct</h4>\n                  <p className=\"text-sm text-muted-foreground\">Update or correct any information in your profile.</p>\n                </div>\n                <div className=\"p-3 rounded-lg bg-primary/5 border border-primary/20\">\n                  <h4 className=\"font-semibold text-primary mb-1\">Right to Portability</h4>\n                  <p className=\"text-sm text-muted-foreground\">Transfer your data to another service if desired.</p>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Contact Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-3\">\n              <FileText className=\"h-6 w-6 text-primary\" />\n              Privacy Questions & Support\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <p className=\"text-muted-foreground\">\n              If you have any questions about our privacy practices or need to exercise your data rights, \n              please contact our privacy team:\n            </p>\n            <div className=\"grid gap-3 md:grid-cols-2\">\n              <div className=\"p-3 rounded-lg bg-muted/50\">\n                <p className=\"font-semibold\">Privacy Officer</p>\n                <p className=\"text-sm text-muted-foreground\">privacy@apnamann.com</p>\n              </div>\n              <div className=\"p-3 rounded-lg bg-muted/50\">\n                <p className=\"font-semibold\">Response Time</p>\n                <p className=\"text-sm text-muted-foreground\">Within 48 hours</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Last Updated */}\n        <div className=\"text-center text-sm text-muted-foreground p-4 bg-muted/20 rounded-lg\">\n          Last updated: September 17, 2025 | Version 2.1\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":13865},"client/src/hooks/use-translation.ts":{"content":"import { useState, useEffect, useCallback } from 'react';\nimport { translationService } from '@/lib/translation-service';\nimport { getTranslation } from '@/lib/static-translations';\n\n/**\n * React hook for handling translations with automatic re-rendering\n * when language changes. This replaces the DOM-based translation approach\n * with a React-friendly solution.\n */\nexport function useTranslation() {\n  const [currentLanguage, setCurrentLanguage] = useState(() => \n    translationService.getCurrentLanguage()\n  );\n\n  // Listen for language changes and trigger re-renders\n  useEffect(() => {\n    const unsubscribe = translationService.addLanguageChangeListener((language) => {\n      setCurrentLanguage(language);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  // Function to get translated text\n  const t = useCallback(async (text: string, targetLanguage?: string): Promise<string> => {\n    const language = targetLanguage || currentLanguage;\n    if (!text || language === 'en') return text;\n    \n    return await translationService.translateText(text, language);\n  }, [currentLanguage]);\n\n  // Synchronous function for static translations (for immediate use in components)\n  const ts = useCallback((text: string, targetLanguage?: string): string => {\n    const language = targetLanguage || currentLanguage;\n    if (!text || language === 'en') return text;\n    \n    // Use the imported getTranslation function\n    return getTranslation(text, language);\n  }, [currentLanguage]);\n\n  // Function to change language\n  const changeLanguage = useCallback(async (languageCode: string) => {\n    translationService.setCurrentLanguage(languageCode);\n    // Note: We don't need to call translatePage anymore since components\n    // will re-render automatically with the new translations\n  }, []);\n\n  return {\n    currentLanguage,\n    t,        // Async translation function\n    ts,       // Sync translation function for static translations\n    changeLanguage,\n    isTranslating: translationService.isCurrentlyTranslating()\n  };\n}\n\n","size_bytes":2022},"server/services/image-downloader.ts":{"content":"import fs from 'fs';\nimport path from 'path';\nimport crypto from 'crypto';\nimport { z } from 'zod';\nimport dns from 'dns';\nimport { promisify } from 'util';\n\nconst dnsLookup = promisify(dns.lookup);\n\nexport interface ImageDownloadResult {\n  success: boolean;\n  filePath?: string;\n  fileName?: string;\n  error?: string;\n  fileSize?: number;\n  mimeType?: string;\n}\n\nexport class ImageDownloaderService {\n  private static readonly ALLOWED_TYPES = [\n    'image/jpeg',\n    'image/jpg', \n    'image/png',\n    'image/gif',\n    'image/webp'\n    // Note: SVG removed for security (XSS risk)\n  ];\n  \n  private static readonly MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n  private static readonly DOWNLOAD_FOLDER = path.resolve(process.cwd(), 'attached_assets', 'downloads');\n  \n  // Private IP ranges for SSRF protection\n  private static readonly PRIVATE_IP_RANGES = [\n    /^127\\./,        // 127.0.0.0/8\n    /^10\\./,         // 10.0.0.0/8\n    /^172\\.(1[6-9]|2[0-9]|3[01])\\./,  // 172.16.0.0/12\n    /^192\\.168\\./,   // 192.168.0.0/16\n    /^169\\.254\\./,   // 169.254.0.0/16 (link-local)\n    /^::1$/,         // IPv6 loopback\n    /^fc00:/,        // IPv6 unique local\n    /^fe80:/         // IPv6 link-local\n  ];\n  \n  /**\n   * Check if IP address is private/internal\n   */\n  private static isPrivateIP(ip: string): boolean {\n    return this.PRIVATE_IP_RANGES.some(range => range.test(ip));\n  }\n\n  /**\n   * Sanitize filename to prevent path traversal\n   */\n  private static sanitizeFileName(fileName: string): string {\n    // Remove path separators and dangerous characters\n    const sanitized = fileName\n      .replace(/[/\\\\:*?\"<>|]/g, '_')\n      .replace(/\\.\\.+/g, '_')\n      .replace(/^[.\\s]+|[.\\s]+$/g, '')\n      .substring(0, 50); // Limit length\n    \n    // Ensure filename is not empty after sanitization\n    return sanitized || 'image';\n  }\n\n  /**\n   * Download an image from a URL and save it to the attached_assets folder\n   */\n  static async downloadImage(url: string, customFileName?: string): Promise<ImageDownloadResult> {\n    try {\n      // Validate URL format\n      const urlObj = new URL(url);\n      if (!['http:', 'https:'].includes(urlObj.protocol)) {\n        return {\n          success: false,\n          error: 'Only HTTP and HTTPS URLs are allowed'\n        };\n      }\n\n      // SSRF Protection: Check if hostname resolves to private IP\n      try {\n        const { address } = await dnsLookup(urlObj.hostname);\n        if (this.isPrivateIP(address)) {\n          return {\n            success: false,\n            error: 'Access to private/internal IP addresses is not allowed'\n          };\n        }\n      } catch (dnsError) {\n        return {\n          success: false,\n          error: 'Unable to resolve hostname'\n        };\n      }\n\n      // Make the request with timeout and redirect limits\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 second timeout\n      \n      const response = await fetch(url, {\n        method: 'GET',\n        headers: {\n          'User-Agent': 'ApnaMann-ImageDownloader/1.0'\n        },\n        signal: controller.signal,\n        redirect: 'manual' // Disable automatic redirects to prevent SSRF via redirects\n      });\n      \n      // Check for redirects and reject them\n      if (response.status >= 300 && response.status < 400) {\n        return {\n          success: false,\n          error: 'Redirects are not allowed for security reasons'\n        };\n      }\n      \n      clearTimeout(timeoutId);\n\n      if (!response.ok) {\n        return {\n          success: false,\n          error: `HTTP ${response.status}: ${response.statusText}`\n        };\n      }\n\n      // Check content type\n      const contentType = response.headers.get('content-type');\n      if (!contentType || !this.ALLOWED_TYPES.includes(contentType.toLowerCase())) {\n        return {\n          success: false,\n          error: `Unsupported image type: ${contentType}. Allowed types: ${this.ALLOWED_TYPES.join(', ')}`\n        };\n      }\n\n      // Check content length\n      const contentLength = response.headers.get('content-length');\n      if (contentLength && parseInt(contentLength) > this.MAX_FILE_SIZE) {\n        return {\n          success: false,\n          error: `File too large: ${Math.round(parseInt(contentLength) / (1024 * 1024))}MB. Maximum allowed: ${this.MAX_FILE_SIZE / (1024 * 1024)}MB`\n        };\n      }\n\n      // Get the image data\n      const arrayBuffer = await response.arrayBuffer();\n      const buffer = Buffer.from(arrayBuffer);\n\n      // Double-check file size after download\n      if (buffer.length > this.MAX_FILE_SIZE) {\n        return {\n          success: false,\n          error: `Downloaded file too large: ${Math.round(buffer.length / (1024 * 1024))}MB`\n        };\n      }\n\n      // Generate secure filename\n      const timestamp = Date.now();\n      const hash = crypto.createHash('md5').update(buffer).digest('hex').substring(0, 8);\n      const extension = this.getExtensionFromMimeType(contentType);\n      \n      const fileName = customFileName \n        ? `${this.sanitizeFileName(customFileName)}_${timestamp}.${extension}`\n        : `downloaded_image_${timestamp}_${hash}.${extension}`;\n\n      // Verify the final path is within our download folder\n      const filePath = path.join(this.DOWNLOAD_FOLDER, fileName);\n      const resolvedPath = path.resolve(filePath);\n      const resolvedDownloadFolder = path.resolve(this.DOWNLOAD_FOLDER);\n      \n      if (!resolvedPath.startsWith(resolvedDownloadFolder)) {\n        return {\n          success: false,\n          error: 'Invalid file path detected'\n        };\n      }\n\n      // Ensure download folder exists (create both attached_assets and downloads subfolder)\n      if (!fs.existsSync(this.DOWNLOAD_FOLDER)) {\n        fs.mkdirSync(this.DOWNLOAD_FOLDER, { recursive: true });\n      }\n\n      // Save the file using async write\n      await fs.promises.writeFile(resolvedPath, buffer);\n\n      // Verify file was written successfully\n      if (!fs.existsSync(resolvedPath)) {\n        return {\n          success: false,\n          error: 'Failed to save downloaded image'\n        };\n      }\n\n      return {\n        success: true,\n        filePath: resolvedPath,\n        fileName: fileName,\n        fileSize: buffer.length,\n        mimeType: contentType\n      };\n\n    } catch (error) {\n      if (error instanceof TypeError && error.message.includes('Invalid URL')) {\n        return {\n          success: false,\n          error: 'Invalid URL format'\n        };\n      }\n      \n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error occurred'\n      };\n    }\n  }\n\n  /**\n   * Download multiple images from URLs\n   */\n  static async downloadMultipleImages(urls: string[], customFileNames?: string[]): Promise<ImageDownloadResult[]> {\n    const results: ImageDownloadResult[] = [];\n    \n    for (let i = 0; i < urls.length; i++) {\n      const url = urls[i];\n      const customName = customFileNames?.[i];\n      \n      try {\n        const result = await this.downloadImage(url, customName);\n        results.push(result);\n        \n        // Add a small delay between downloads to be respectful\n        if (i < urls.length - 1) {\n          await new Promise(resolve => setTimeout(resolve, 100));\n        }\n      } catch (error) {\n        results.push({\n          success: false,\n          error: error instanceof Error ? error.message : 'Unknown error'\n        });\n      }\n    }\n    \n    return results;\n  }\n\n  /**\n   * Get file extension from MIME type\n   */\n  private static getExtensionFromMimeType(mimeType: string): string {\n    const typeMap: Record<string, string> = {\n      'image/jpeg': 'jpg',\n      'image/jpg': 'jpg',\n      'image/png': 'png',\n      'image/gif': 'gif',\n      'image/webp': 'webp'\n    };\n    \n    return typeMap[mimeType.toLowerCase()] || 'jpg';\n  }\n\n  /**\n   * Validate if a URL looks like an image URL\n   */\n  static isImageUrl(url: string): boolean {\n    try {\n      const urlObj = new URL(url);\n      const pathname = urlObj.pathname.toLowerCase();\n      const imageExtensions = ['.jpg', '.jpeg', '.png', '.gif', '.webp']; // Removed .svg for security\n      \n      return imageExtensions.some(ext => pathname.endsWith(ext));\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * Clean up old downloaded images (optional utility)\n   */\n  static cleanupOldImages(daysOld: number = 30): number {\n    try {\n      const files = fs.readdirSync(this.DOWNLOAD_FOLDER);\n      const cutoffTime = Date.now() - (daysOld * 24 * 60 * 60 * 1000);\n      let deletedCount = 0;\n\n      for (const file of files) {\n        if (file.startsWith('downloaded_image_')) {\n          const filePath = path.join(this.DOWNLOAD_FOLDER, file);\n          const stats = fs.statSync(filePath);\n          \n          if (stats.mtime.getTime() < cutoffTime) {\n            fs.unlinkSync(filePath);\n            deletedCount++;\n          }\n        }\n      }\n\n      return deletedCount;\n    } catch (error) {\n      console.error('Error cleaning up old images:', error);\n      return 0;\n    }\n  }\n}","size_bytes":9084},"client/src/components/user-mode-popup.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from \"@/components/ui/dialog\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { useAppContext, dailyFeelings, DailyFeeling } from \"@/context/AppContext\";\nimport { Check } from \"lucide-react\";\n\nexport default function UserModePopup() {\n  const { showUserModePopup, setShowUserModePopup, setDailyFeeling, setTheme } = useAppContext();\n  const [selectedFeeling, setSelectedFeeling] = useState<DailyFeeling | null>(null);\n\n  const handleFeelingSelect = (feeling: DailyFeeling) => {\n    setSelectedFeeling(feeling);\n  };\n\n  const handleConfirm = () => {\n    if (selectedFeeling) {\n      setDailyFeeling(selectedFeeling);\n      \n      // Suggest a theme based on the selected feeling\n      const feelingConfig = dailyFeelings.find(f => f.id === selectedFeeling);\n      if (feelingConfig && feelingConfig.suggestedThemes.length > 0) {\n        setTheme(feelingConfig.suggestedThemes[0]);\n      }\n      \n      setShowUserModePopup(false);\n    }\n  };\n\n  const handleSkip = () => {\n    setShowUserModePopup(false);\n  };\n\n  return (\n    <Dialog open={showUserModePopup} onOpenChange={setShowUserModePopup}>\n      <DialogContent className=\"max-w-4xl w-[98vw] sm:w-[95vw] md:w-[90vw] max-h-[90vh] overflow-y-auto\">\n        <DialogHeader className=\"text-center pb-2 px-2\">\n          <DialogTitle className=\"text-lg sm:text-xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent\">\n            How are you feeling today?\n          </DialogTitle>\n          <DialogDescription className=\"text-xs sm:text-sm mt-1 px-2\">\n            Choose your current feeling to personalize your experience. We'll adjust the theme and content to match your mood.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-2 sm:gap-3 mt-2 mb-3 px-2\">\n          {dailyFeelings.map((feeling) => (\n            <Card\n              key={feeling.id}\n              className={`cursor-pointer transition-all duration-200 hover:scale-105 border-2 ${\n                selectedFeeling === feeling.id\n                  ? \"border-primary bg-primary/5 shadow-lg\"\n                  : \"border-border hover:border-primary/50\"\n              }`}\n              onClick={() => handleFeelingSelect(feeling.id)}\n              data-testid={`card-feeling-${feeling.id}`}\n            >\n              <CardHeader className=\"text-center pb-1 px-1.5 pt-2\">\n                <div className=\"text-xl sm:text-2xl mb-1\" data-testid={`emoji-feeling-${feeling.id}`}>\n                  {feeling.emoji}\n                </div>\n                <CardTitle className=\"text-[10px] sm:text-xs font-medium flex items-center justify-center gap-0.5 leading-tight px-1\">\n                  <span className=\"text-center\">{feeling.name}</span>\n                  {selectedFeeling === feeling.id && (\n                    <Check className=\"h-2.5 w-2.5 sm:h-3 sm:w-3 text-primary flex-shrink-0\" data-testid={`check-feeling-${feeling.id}`} />\n                  )}\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"pt-0 px-1.5 pb-2\">\n                <CardDescription className=\"text-center text-[9px] sm:text-xs leading-tight mb-1.5 line-clamp-2\">\n                  {feeling.description}\n                </CardDescription>\n                <div className=\"flex flex-wrap gap-0.5 sm:gap-1 justify-center\">\n                  {feeling.suggestedThemes.slice(0, 2).map((theme, index) => (\n                    <div\n                      key={theme}\n                      className=\"px-1 py-0.5 text-[8px] sm:text-[10px] bg-muted rounded-full text-muted-foreground\"\n                      data-testid={`theme-suggestion-${feeling.id}-${theme}`}\n                    >\n                      {theme}\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        <div className=\"flex flex-col sm:flex-row justify-between items-center gap-2 mt-2 pt-3 border-t sticky bottom-0 bg-background/95 backdrop-blur-sm px-2 sm:px-4\">\n          <Button\n            variant=\"ghost\"\n            onClick={handleSkip}\n            className=\"text-muted-foreground hover:text-foreground text-xs sm:text-sm w-full sm:w-auto order-2 sm:order-1\"\n            data-testid=\"button-skip-mode\"\n          >\n            Skip for now\n          </Button>\n          <Button\n            onClick={handleConfirm}\n            disabled={!selectedFeeling}\n            className=\"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary text-white px-3 sm:px-4 py-2 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-xs sm:text-sm w-full sm:w-auto order-1 sm:order-2\"\n            data-testid=\"button-confirm-mode\"\n          >\n            {selectedFeeling ? `Let's go ${dailyFeelings.find(f => f.id === selectedFeeling)?.emoji}` : \"Select a feeling\"}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":5244},"client/src/components/smartwatch-integration-popup.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from \"@/components/ui/dialog\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Watch, Heart, Activity, Zap, Wifi, CheckCircle } from \"lucide-react\";\n\ninterface SmartWatchDevice {\n  id: string;\n  name: string;\n  description: string;\n  icon: string;\n  features: string[];\n  supported: boolean;\n}\n\nconst smartWatchDevices: SmartWatchDevice[] = [\n  {\n    id: \"apple-watch\",\n    name: \"Apple Watch\",\n    description: \"Monitor heart rate, activity, and wellness metrics\",\n    icon: \"⌚\",\n    features: [\"Heart Rate\", \"Activity Tracking\", \"Sleep Monitoring\", \"Stress Detection\"],\n    supported: true\n  },\n  {\n    id: \"fitbit\",\n    name: \"Fitbit\",\n    description: \"Track fitness goals and health insights\",\n    icon: \"⌚\",\n    features: [\"Step Counting\", \"Heart Rate\", \"Sleep Quality\", \"Exercise Tracking\"],\n    supported: true\n  },\n  {\n    id: \"samsung-galaxy-watch\",\n    name: \"Samsung Galaxy Watch\",\n    description: \"Comprehensive health and fitness tracking\",\n    icon: \"⌚\",\n    features: [\"Health Monitoring\", \"Fitness Tracking\", \"Sleep Analysis\", \"Stress Management\"],\n    supported: true\n  },\n  {\n    id: \"garmin\",\n    name: \"Garmin\",\n    description: \"Advanced sports and health metrics\",\n    icon: \"⌚\", \n    features: [\"Advanced Metrics\", \"GPS Tracking\", \"Health Monitoring\", \"Recovery Analysis\"],\n    supported: false\n  }\n];\n\ninterface SmartWatchIntegrationPopupProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport default function SmartWatchIntegrationPopup({ isOpen, onClose }: SmartWatchIntegrationPopupProps) {\n  const [selectedDevice, setSelectedDevice] = useState<string | null>(null);\n  const [step, setStep] = useState<'selection' | 'connecting' | 'connected'>('selection');\n\n  const handleDeviceSelect = (deviceId: string) => {\n    setSelectedDevice(deviceId);\n  };\n\n  const handleConnect = () => {\n    if (!selectedDevice) return;\n    \n    const device = smartWatchDevices.find(d => d.id === selectedDevice);\n    if (!device?.supported) {\n      // Show coming soon message\n      return;\n    }\n\n    setStep('connecting');\n    \n    // Simulate connection process\n    setTimeout(() => {\n      setStep('connected');\n    }, 2000);\n  };\n\n  const handleFinish = () => {\n    setStep('selection');\n    setSelectedDevice(null);\n    onClose();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-2xl max-h-[85vh] overflow-y-auto\">\n        <DialogHeader className=\"text-center pb-4\">\n          <DialogTitle className=\"text-xl font-bold flex items-center justify-center gap-2\">\n            <Watch className=\"h-6 w-6 text-primary\" />\n            Smart Watch Integration\n          </DialogTitle>\n          <DialogDescription className=\"text-sm mt-2\">\n            Connect your wearable device to track health metrics and enhance your wellness journey\n          </DialogDescription>\n        </DialogHeader>\n\n        {step === 'selection' && (\n          <>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n              {smartWatchDevices.map((device) => (\n                <Card\n                  key={device.id}\n                  className={`cursor-pointer transition-all duration-200 hover:scale-105 border-2 ${\n                    selectedDevice === device.id\n                      ? \"border-primary bg-primary/5 shadow-lg\"\n                      : \"border-border hover:border-primary/50\"\n                  } ${!device.supported ? \"opacity-60\" : \"\"}`}\n                  onClick={() => device.supported && handleDeviceSelect(device.id)}\n                  data-testid={`card-device-${device.id}`}\n                >\n                  <CardHeader className=\"text-center pb-2\">\n                    <div className=\"text-3xl mb-2\" data-testid={`emoji-device-${device.id}`}>\n                      {device.icon}\n                    </div>\n                    <CardTitle className=\"text-lg flex items-center justify-center gap-2\">\n                      {device.name}\n                      {selectedDevice === device.id && (\n                        <CheckCircle className=\"h-5 w-5 text-primary\" data-testid={`check-device-${device.id}`} />\n                      )}\n                      {!device.supported && (\n                        <span className=\"text-xs bg-muted px-2 py-1 rounded-full text-muted-foreground\">\n                          Coming Soon\n                        </span>\n                      )}\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"pt-0\">\n                    <CardDescription className=\"text-center text-sm mb-3\">\n                      {device.description}\n                    </CardDescription>\n                    <div className=\"space-y-1\">\n                      {device.features.slice(0, 3).map((feature, index) => (\n                        <div key={feature} className=\"flex items-center gap-2 text-xs\">\n                          <Activity className=\"h-3 w-3 text-primary\" />\n                          <span>{feature}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n\n            <div className=\"flex justify-between items-center mt-6 pt-4 border-t\">\n              <Button\n                variant=\"ghost\"\n                onClick={onClose}\n                data-testid=\"button-cancel-integration\"\n              >\n                Maybe Later\n              </Button>\n              <Button\n                onClick={handleConnect}\n                disabled={!selectedDevice || !smartWatchDevices.find(d => d.id === selectedDevice)?.supported}\n                className=\"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary text-white px-6 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n                data-testid=\"button-connect-device\"\n              >\n                {selectedDevice ? \"Connect Device\" : \"Select a Device\"}\n              </Button>\n            </div>\n          </>\n        )}\n\n        {step === 'connecting' && (\n          <div className=\"text-center py-8\">\n            <div className=\"mb-4\">\n              <Wifi className=\"h-12 w-12 text-primary mx-auto animate-pulse\" />\n            </div>\n            <h3 className=\"text-lg font-semibold mb-2\">Connecting to your device...</h3>\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              Please follow the authentication steps on your {smartWatchDevices.find(d => d.id === selectedDevice)?.name}\n            </p>\n            <div className=\"w-full bg-muted rounded-full h-2\">\n              <div className=\"bg-primary h-2 rounded-full animate-pulse\" style={{width: '60%'}}></div>\n            </div>\n          </div>\n        )}\n\n        {step === 'connected' && (\n          <div className=\"text-center py-8\">\n            <div className=\"mb-4\">\n              <CheckCircle className=\"h-12 w-12 text-green-500 mx-auto\" />\n            </div>\n            <h3 className=\"text-lg font-semibold mb-2\">Successfully Connected!</h3>\n            <p className=\"text-sm text-muted-foreground mb-6\">\n              Your {smartWatchDevices.find(d => d.id === selectedDevice)?.name} is now integrated with ApnaMann. \n              We'll start collecting your health metrics to provide personalized wellness insights.\n            </p>\n            \n            <div className=\"bg-muted/50 rounded-lg p-4 mb-6\">\n              <div className=\"flex items-center justify-center gap-4 text-sm\">\n                <div className=\"flex items-center gap-1\">\n                  <Heart className=\"h-4 w-4 text-red-500\" />\n                  <span>Heart Rate</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <Activity className=\"h-4 w-4 text-blue-500\" />\n                  <span>Activity</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <Zap className=\"h-4 w-4 text-yellow-500\" />\n                  <span>Energy</span>\n                </div>\n              </div>\n            </div>\n\n            <Button\n              onClick={handleFinish}\n              className=\"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-8\"\n              data-testid=\"button-finish-integration\"\n            >\n              Start Tracking\n            </Button>\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":8693},"client/src/components/payment/consultation-payment.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { \n  CreditCard, \n  Lock, \n  Shield, \n  CheckCircle,\n  AlertCircle,\n  Loader2 \n} from \"lucide-react\";\n\ninterface PaymentDetails {\n  doctorName: string;\n  consultationType: string;\n  date: string;\n  time: string;\n  amount: number;\n  currency: string;\n}\n\ninterface ConsultationPaymentProps {\n  paymentDetails: PaymentDetails;\n  onPaymentSuccess: (paymentIntentId: string) => void;\n  onPaymentCancel: () => void;\n}\n\ninterface PaymentFormProps {\n  paymentDetails: PaymentDetails;\n  onPaymentSuccess: (paymentIntentId: string) => void;\n  onPaymentCancel: () => void;\n}\n\nconst PaymentForm = ({ paymentDetails, onPaymentSuccess, onPaymentCancel }: PaymentFormProps) => {\n  const { toast } = useToast();\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [paymentStatus, setPaymentStatus] = useState<\"idle\" | \"processing\" | \"succeeded\" | \"failed\">(\"idle\");\n  const [cardDetails, setCardDetails] = useState({\n    cardNumber: \"\",\n    expiryDate: \"\",\n    cvv: \"\",\n    cardHolder: \"\"\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Basic validation for demo\n    if (!cardDetails.cardNumber || !cardDetails.expiryDate || !cardDetails.cvv || !cardDetails.cardHolder) {\n      toast({\n        title: \"Payment Error\",\n        description: \"Please fill in all payment details.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsProcessing(true);\n    setPaymentStatus(\"processing\");\n\n    // Simulate payment processing for frontend-only implementation\n    try {\n      // Simulate processing time\n      await new Promise(resolve => setTimeout(resolve, 3000));\n      \n      // Simulate successful payment\n      const mockPaymentIntentId = `pi_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      \n      setPaymentStatus(\"succeeded\");\n      toast({\n        title: \"Payment Successful\",\n        description: \"Your consultation has been booked successfully!\",\n      });\n      \n      setTimeout(() => {\n        onPaymentSuccess(mockPaymentIntentId);\n      }, 1500);\n      \n    } catch (error) {\n      setPaymentStatus(\"failed\");\n      toast({\n        title: \"Payment Failed\",\n        description: \"There was an error processing your payment. Please try again.\",\n        variant: \"destructive\",\n      });\n      setIsProcessing(false);\n    }\n  };\n\n  if (paymentStatus === \"succeeded\") {\n    return (\n      <div className=\"text-center py-8\">\n        <CheckCircle className=\"h-16 w-16 text-green-500 mx-auto mb-4\" />\n        <h3 className=\"text-lg font-semibold mb-2\">Payment Successful!</h3>\n        <p className=\"text-muted-foreground\">Your consultation has been booked successfully.</p>\n      </div>\n    );\n  }\n\n  if (paymentStatus === \"failed\") {\n    return (\n      <div className=\"text-center py-8\">\n        <AlertCircle className=\"h-16 w-16 text-destructive mx-auto mb-4\" />\n        <h3 className=\"text-lg font-semibold mb-2\">Payment Failed</h3>\n        <p className=\"text-muted-foreground mb-4\">There was an error processing your payment.</p>\n        <Button onClick={() => setPaymentStatus(\"idle\")} variant=\"outline\">\n          Try Again\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {/* Payment Method Section */}\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center gap-2\">\n          <CreditCard className=\"h-5 w-5\" />\n          <h3 className=\"text-lg font-semibold\">Payment Information</h3>\n        </div>\n        \n        {/* Payment Form Fields */}\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"cardHolder\">Cardholder Name</Label>\n            <Input\n              id=\"cardHolder\"\n              placeholder=\"John Doe\"\n              value={cardDetails.cardHolder}\n              onChange={(e) => setCardDetails(prev => ({ ...prev, cardHolder: e.target.value }))}\n              data-testid=\"input-card-holder\"\n            />\n          </div>\n          \n          <div className=\"space-y-2\">\n            <Label htmlFor=\"cardNumber\">Card Number</Label>\n            <Input\n              id=\"cardNumber\"\n              placeholder=\"1234 5678 9012 3456\"\n              value={cardDetails.cardNumber}\n              onChange={(e) => {\n                const value = e.target.value.replace(/\\D/g, '').replace(/(\\d{4})(?=\\d)/g, '$1 ');\n                if (value.length <= 19) {\n                  setCardDetails(prev => ({ ...prev, cardNumber: value }));\n                }\n              }}\n              data-testid=\"input-card-number\"\n            />\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"expiryDate\">Expiry Date</Label>\n              <Input\n                id=\"expiryDate\"\n                placeholder=\"MM/YY\"\n                value={cardDetails.expiryDate}\n                onChange={(e) => {\n                  const value = e.target.value.replace(/\\D/g, '').replace(/(\\d{2})(?=\\d)/, '$1/');\n                  if (value.length <= 5) {\n                    setCardDetails(prev => ({ ...prev, expiryDate: value }));\n                  }\n                }}\n                data-testid=\"input-expiry-date\"\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"cvv\">CVV</Label>\n              <Input\n                id=\"cvv\"\n                placeholder=\"123\"\n                value={cardDetails.cvv}\n                onChange={(e) => {\n                  const value = e.target.value.replace(/\\D/g, '');\n                  if (value.length <= 3) {\n                    setCardDetails(prev => ({ ...prev, cvv: value }));\n                  }\n                }}\n                data-testid=\"input-cvv\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"text-xs text-muted-foreground flex items-center gap-1 mt-4\">\n            <Shield className=\"h-3 w-3\" />\n            This is a demo payment form. No actual payment will be processed.\n          </div>\n        </div>\n      </div>\n\n      {/* Security Notice */}\n      <div className=\"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-950/20 rounded-lg border border-green-200 dark:border-green-800\">\n        <Lock className=\"h-4 w-4 text-green-600\" />\n        <span className=\"text-sm text-green-700 dark:text-green-300\">\n          Your payment information is secured with 256-bit SSL encryption\n        </span>\n      </div>\n\n      {/* Action Buttons */}\n      <div className=\"flex gap-3 pt-4\">\n        <Button \n          type=\"button\"\n          variant=\"outline\" \n          onClick={onPaymentCancel}\n          className=\"flex-1\"\n          disabled={isProcessing}\n          data-testid=\"button-cancel-payment\"\n        >\n          Cancel\n        </Button>\n        <Button \n          type=\"submit\"\n          className=\"flex-1\"\n          disabled={isProcessing}\n          data-testid=\"button-confirm-payment\"\n        >\n          {isProcessing ? (\n            <>\n              <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n              Processing...\n            </>\n          ) : (\n            <>\n              <Lock className=\"h-4 w-4 mr-2\" />\n              Pay ₹{paymentDetails.amount}\n            </>\n          )}\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default function ConsultationPayment({ paymentDetails, onPaymentSuccess, onPaymentCancel }: ConsultationPaymentProps) {\n  return (\n    <div className=\"space-y-6\">\n      {/* Booking Summary */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-lg\">Booking Summary</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"space-y-3\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-sm text-muted-foreground\">Doctor</span>\n              <span className=\"font-medium\">{paymentDetails.doctorName}</span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-sm text-muted-foreground\">Consultation Type</span>\n              <Badge variant=\"secondary\">{paymentDetails.consultationType}</Badge>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-sm text-muted-foreground\">Date & Time</span>\n              <span className=\"font-medium\">{paymentDetails.date} at {paymentDetails.time}</span>\n            </div>\n            <Separator />\n            <div className=\"flex justify-between items-center text-lg font-semibold\">\n              <span>Total Amount</span>\n              <span className=\"text-primary\">₹{paymentDetails.amount}</span>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Payment Form */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <PaymentForm \n            paymentDetails={paymentDetails}\n            onPaymentSuccess={onPaymentSuccess}\n            onPaymentCancel={onPaymentCancel}\n          />\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":9523},"client/src/pages/landing.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Heart, Star, Shield, Users, ArrowRight, Sparkles, Moon, Sun, Brain, Flower, Smile } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { useLocation } from \"wouter\";\nimport logoUrl from '@assets/logo (1)_1758315813528.png';\n\nexport default function Landing() {\n  const [, setLocation] = useLocation();\n  const [animationTrigger, setAnimationTrigger] = useState(0);\n\n  // Trigger animation loop for floating elements\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setAnimationTrigger(prev => prev + 1);\n    }, 3000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleGetStarted = () => {\n    setLocation(\"/login\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 relative overflow-hidden light\">\n      {/* Floating decorative elements */}\n      <div className=\"absolute inset-0 pointer-events-none overflow-hidden\">\n        {/* Floating hearts */}\n        <div className={`absolute top-20 left-10 text-pink-500/60 transform transition-transform duration-3000 ${animationTrigger % 2 ? 'translate-y-2' : '-translate-y-2'}`}>\n          <Heart className=\"w-8 h-8\" />\n        </div>\n        <div className={`absolute top-32 right-16 text-blue-500/60 transform transition-transform duration-3000 delay-500 ${animationTrigger % 2 ? '-translate-y-3' : 'translate-y-3'}`}>\n          <Flower className=\"w-6 h-6\" />\n        </div>\n        <div className={`absolute bottom-32 left-20 text-green-500/60 transform transition-transform duration-3000 delay-1000 ${animationTrigger % 2 ? 'translate-y-4' : '-translate-y-4'}`}>\n          <Star className=\"w-5 h-5\" />\n        </div>\n        <div className={`absolute bottom-48 right-12 text-purple-500/60 transform transition-transform duration-3000 delay-1500 ${animationTrigger % 2 ? '-translate-y-2' : 'translate-y-2'}`}>\n          <Sparkles className=\"w-7 h-7\" />\n        </div>\n        <div className={`absolute top-1/2 left-8 text-yellow-500/60 transform transition-transform duration-3000 delay-2000 ${animationTrigger % 2 ? 'translate-y-3' : '-translate-y-3'}`}>\n          <Sun className=\"w-6 h-6\" />\n        </div>\n        <div className={`absolute top-1/3 right-8 text-indigo-500/60 transform transition-transform duration-3000 delay-2500 ${animationTrigger % 2 ? '-translate-y-4' : 'translate-y-4'}`}>\n          <Moon className=\"w-5 h-5\" />\n        </div>\n      </div>\n\n      <div className=\"relative z-10 container mx-auto px-4 py-8 sm:py-12 lg:py-16\">\n        {/* Header with logo */}\n        <div className=\"text-center mb-8 sm:mb-12\">\n          <div className=\"flex justify-center items-center mb-4\">\n            <div className=\"w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center animate-pulse\">\n              <img src={logoUrl} alt=\"ApnaMann Logo\" className=\"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover shadow-lg\" data-testid=\"img-logo-landing\" />\n            </div>\n          </div>\n          <h1 className=\"text-4xl sm:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-green-600 via-blue-600 to-purple-600 bg-clip-text text-transparent mb-4\">\n            ApnaMann\n          </h1>\n          <p className=\"text-lg sm:text-xl lg:text-2xl text-gray-600 font-medium\">\n            Your Personal Mental Health Companion\n          </p>\n        </div>\n\n        {/* Main hero section */}\n        <div className=\"max-w-6xl mx-auto grid lg:grid-cols-2 gap-8 lg:gap-16 items-center mb-12 sm:mb-16\">\n          {/* Left side - Content */}\n          <div className=\"text-center lg:text-left space-y-6 sm:space-y-8\">\n            <div className=\"space-y-4 sm:space-y-6\">\n              <h2 className=\"text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight\">\n                <span className=\"text-gray-800\">Mental Health Support</span>\n                <br />\n                <span className=\"bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent\">\n                  Made Just for You\n                </span>\n              </h2>\n              <p className=\"text-lg sm:text-xl text-gray-600 leading-relaxed\">\n                A safe, supportive space designed specifically for students navigating their mental health journey. \n                Get personalized care, connect with peers, and access professional resources - all in one platform.\n              </p>\n            </div>\n\n            {/* CTA Button */}\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start items-center\">\n              <Button\n                onClick={handleGetStarted}\n                size=\"lg\"\n                className=\"w-full sm:w-auto h-14 px-8 text-lg font-semibold bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 hover:scale-105 active:scale-95 text-white shadow-xl hover:shadow-2xl hover:shadow-green-500/30 transition-all duration-300 group\"\n                data-testid=\"button-get-started\"\n              >\n                <Brain className=\"w-5 h-5 mr-2 group-hover:animate-pulse\" />\n                Get Started Today\n                <ArrowRight className=\"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform\" />\n              </Button>\n              <div className=\"flex items-center text-sm text-gray-500\">\n                <Shield className=\"w-4 h-4 mr-2 text-green-500\" />\n                100% Private & Secure\n              </div>\n            </div>\n          </div>\n\n          {/* Right side - Feature cards */}\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6\">\n            {/* AI Chat Support */}\n            <Card className=\"bg-white/90 backdrop-blur-sm border-green-200 hover:border-green-400 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl group\">\n              <CardContent className=\"p-4 sm:p-6 text-center\">\n                <div className=\"w-12 h-12 bg-gradient-to-br from-green-100 to-green-50 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform\">\n                  <Brain className=\"w-6 h-6 text-green-600\" />\n                </div>\n                <h3 className=\"font-bold text-sm sm:text-base mb-2 text-gray-800\">AI Assistant</h3>\n                <p className=\"text-xs sm:text-sm text-gray-600\">24/7 supportive chat companion</p>\n              </CardContent>\n            </Card>\n\n            {/* Peer Connection */}\n            <Card className=\"bg-white/90 backdrop-blur-sm border-blue-200 hover:border-blue-400 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl group\">\n              <CardContent className=\"p-4 sm:p-6 text-center\">\n                <div className=\"w-12 h-12 bg-gradient-to-br from-blue-100 to-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform\">\n                  <Users className=\"w-6 h-6 text-blue-600\" />\n                </div>\n                <h3 className=\"font-bold text-sm sm:text-base mb-2 text-gray-800\">Peer Support</h3>\n                <p className=\"text-xs sm:text-sm text-gray-600\">Connect with fellow students</p>\n              </CardContent>\n            </Card>\n\n            {/* Wellness Tools */}\n            <Card className=\"bg-white/90 backdrop-blur-sm border-purple-200 hover:border-purple-400 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl group\">\n              <CardContent className=\"p-4 sm:p-6 text-center\">\n                <div className=\"w-12 h-12 bg-gradient-to-br from-purple-100 to-purple-50 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform\">\n                  <Flower className=\"w-6 h-6 text-purple-600\" />\n                </div>\n                <h3 className=\"font-bold text-sm sm:text-base mb-2 text-gray-800\">Wellness Tools</h3>\n                <p className=\"text-xs sm:text-sm text-gray-600\">Meditation, yoga & relaxation</p>\n              </CardContent>\n            </Card>\n\n            {/* Privacy & Security */}\n            <Card className=\"bg-white/90 backdrop-blur-sm border-emerald-200 hover:border-emerald-400 hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl group\">\n              <CardContent className=\"p-4 sm:p-6 text-center\">\n                <div className=\"w-12 h-12 bg-gradient-to-br from-emerald-100 to-emerald-50 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform\">\n                  <Shield className=\"w-6 h-6 text-emerald-600\" />\n                </div>\n                <h3 className=\"font-bold text-sm sm:text-base mb-2 text-gray-800\">Complete Privacy</h3>\n                <p className=\"text-xs sm:text-sm text-gray-600\">Your data stays yours, always</p>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n\n        {/* Features highlight section */}\n        <div className=\"max-w-4xl mx-auto\">\n          <Card className=\"bg-gradient-to-r from-white/95 to-gray-50/90 backdrop-blur-xl border-gray-200 shadow-2xl\">\n            <CardContent className=\"p-6 sm:p-8 lg:p-12\">\n              <div className=\"text-center mb-8\">\n                <h3 className=\"text-2xl sm:text-3xl font-bold mb-4 text-gray-800\">\n                  Why Students Choose ApnaMann?\n                </h3>\n                <div className=\"flex justify-center items-center mb-6\">\n                  <Smile className=\"w-8 h-8 text-yellow-500 mr-2\" />\n                  <Smile className=\"w-6 h-6 text-pink-500 mr-2\" />\n                  <Smile className=\"w-8 h-8 text-blue-500 mr-2\" />\n                  <Smile className=\"w-6 h-6 text-green-500 mr-2\" />\n                  <Smile className=\"w-8 h-8 text-purple-500\" />\n                </div>\n              </div>\n              \n              <div className=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 text-center\">\n                <div className=\"space-y-2\">\n                  <div className=\"w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900 dark:to-blue-800 rounded-full flex items-center justify-center mx-auto\">\n                    <Brain className=\"w-8 h-8 text-blue-600\" />\n                  </div>\n                  <h4 className=\"font-semibold text-sm sm:text-base text-gray-800\">Student-Focused</h4>\n                  <p className=\"text-xs sm:text-sm text-gray-600\">Designed specifically for student mental health needs</p>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <div className=\"w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900 dark:to-green-800 rounded-full flex items-center justify-center mx-auto\">\n                    <Heart className=\"w-8 h-8 text-green-600\" />\n                  </div>\n                  <h4 className=\"font-semibold text-sm sm:text-base text-gray-800\">Compassionate Care</h4>\n                  <p className=\"text-xs sm:text-sm text-gray-600\">Empathetic support when you need it most</p>\n                </div>\n                \n                <div className=\"space-y-2 sm:col-span-2 lg:col-span-1\">\n                  <div className=\"w-16 h-16 bg-gradient-to-br from-purple-100 to-purple-200 dark:from-purple-900 dark:to-purple-800 rounded-full flex items-center justify-center mx-auto\">\n                    <Star className=\"w-8 h-8 text-purple-600\" />\n                  </div>\n                  <h4 className=\"font-semibold text-sm sm:text-base text-gray-800\">Evidence-Based</h4>\n                  <p className=\"text-xs sm:text-sm text-gray-600\">Tools backed by mental health research</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Bottom section with subtle encouragement */}\n        <div className=\"text-center mt-12 sm:mt-16 space-y-4\">\n          <p className=\"text-lg sm:text-xl font-medium text-gray-700\">\n            🌟 Join thousands of students on their wellness journey 🌟\n          </p>\n          <p className=\"text-sm sm:text-base text-gray-600 max-w-2xl mx-auto\">\n            Take the first step towards better mental health. Our platform provides a safe, \n            judgment-free space where you can explore, learn, and grow at your own pace.\n          </p>\n          <div className=\"pt-4\">\n            <Button\n              onClick={handleGetStarted}\n              variant=\"outline\"\n              size=\"lg\"\n              className=\"bg-gradient-to-r from-green-50 to-blue-50 hover:from-green-100 hover:to-blue-100 border-green-200 hover:border-green-400 hover:scale-105 transition-all duration-300 text-gray-700 hover:text-gray-800\"\n              data-testid=\"button-start-journey\"\n            >\n              Start Your Wellness Journey\n              <ArrowRight className=\"w-4 h-4 ml-2\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":12934},"server/services/ai-provider.ts":{"content":"/**\n * Standardized interface for all AI service providers in the mental health support application.\n * This interface ensures consistent functionality across external API services (OpenAI, Gemini)\n * and local AI implementations.\n */\n\n// Core types for AI provider interface\nexport interface ChatMessage {\n  role: \"user\" | \"assistant\" | \"system\";\n  content: string;\n  timestamp?: Date;\n}\n\nexport interface PsychologicalResponse {\n  message: string;\n  supportiveActions: string[];\n  riskLevel: \"low\" | \"moderate\" | \"high\";\n  escalationRequired: boolean;\n}\n\n// Additional configuration types\nexport interface PersonalityConfig {\n  customPrompt?: string;\n  name?: string;\n  traits?: Record<string, any>;\n}\n\nexport interface CrisisAnalysisResult {\n  isHighRisk: boolean;\n  severity: \"low\" | \"moderate\" | \"high\";\n  indicators?: string[];\n  recommendedActions?: string[];\n}\n\n// Exercise types with proper union for extensibility\nexport type ExerciseType = \"breathing\" | \"relaxation\" | \"mindfulness\" | (string & {});\n\nexport interface IAIProvider {\n  /**\n   * Generate a psychological response based on conversation history\n   * @param messages - Array of conversation messages for context\n   * @param personality - Optional custom personality configuration\n   * @returns Promise resolving to structured psychological response\n   */\n  generateResponse(messages: ChatMessage[], personality?: PersonalityConfig): Promise<PsychologicalResponse>;\n\n  /**\n   * Analyze a message for crisis indicators and risk assessment\n   * Optional method - providers can implement this or delegate to a crisis service\n   * @param message - User message to analyze\n   * @returns Promise resolving to crisis analysis with risk level\n   */\n  analyzeForCrisis?(message: string): Promise<CrisisAnalysisResult>;\n\n  /**\n   * Generate step-by-step guided exercise instructions\n   * Optional method - providers can implement this or delegate to a shared service\n   * @param type - Type of exercise (breathing, relaxation, mindfulness, etc.)\n   * @returns Promise resolving to array of exercise steps\n   */\n  generateGuidedExercise?(type: ExerciseType): Promise<string[]>;\n\n  /**\n   * Check if the AI provider is currently available and functional\n   * @returns Promise resolving to boolean indicating availability\n   */\n  isAvailable(): Promise<boolean>;\n\n  /**\n   * Get the provider's identification string for logging/debugging\n   * @returns Human-readable provider name\n   */\n  getProviderName(): string;\n}\n\nexport interface IAIProviderConfig {\n  timeoutMs?: number;\n  maxRetries?: number;\n  fallbackEnabled?: boolean;\n}","size_bytes":2589},"server/services/local-ai-adapter.ts":{"content":"/**\n * LocalAIAdapter - Wraps LocalAIService to implement the IAIProvider interface\n * This adapter enables the LocalAIService to work with the OfflineFirstAIOrchestrator\n * while providing fallback implementations for optional methods.\n */\n\nimport { LocalAIService } from './local-ai';\nimport type { \n  IAIProvider, \n  ChatMessage, \n  PsychologicalResponse, \n  PersonalityConfig, \n  CrisisAnalysisResult, \n  ExerciseType \n} from './ai-provider';\n\nexport class LocalAIAdapter implements IAIProvider {\n  private localAI: LocalAIService;\n\n  constructor(chatData?: string) {\n    this.localAI = new LocalAIService(chatData);\n  }\n\n  /**\n   * Generate psychological response using LocalAIService\n   */\n  async generateResponse(messages: ChatMessage[], personality?: PersonalityConfig): Promise<PsychologicalResponse> {\n    // Apply personality configuration if provided\n    if (personality) {\n      const localPersonality = {\n        customPrompt: personality.customPrompt,\n        name: personality.name,\n        traits: personality.traits\n      };\n      this.localAI.setCustomPersonality(localPersonality);\n    }\n\n    // LocalAIService.generateResponse is synchronous, so we wrap in Promise.resolve\n    const localResponse = this.localAI.generateResponse(messages);\n\n    // The response structure already matches PsychologicalResponse interface\n    return {\n      message: localResponse.message,\n      supportiveActions: localResponse.supportiveActions,\n      riskLevel: localResponse.riskLevel,\n      escalationRequired: localResponse.escalationRequired\n    };\n  }\n\n  /**\n   * Basic crisis analysis using simple keyword detection\n   * This is a simplified implementation - in production, this could delegate to a more sophisticated crisis service\n   */\n  async analyzeForCrisis(message: string): Promise<CrisisAnalysisResult> {\n    const messageLower = message.toLowerCase();\n    \n    // High-risk indicators\n    const highRiskKeywords = [\n      'suicide', 'kill myself', 'end my life', 'want to die', 'better off dead',\n      'hurt myself', 'self harm', 'overdose', 'pills', 'jumping', 'hanging'\n    ];\n    \n    // Moderate risk indicators\n    const moderateRiskKeywords = [\n      'depressed', 'hopeless', 'worthless', 'empty', 'alone forever',\n      'can\\'t go on', 'no point', 'give up', 'tired of living'\n    ];\n\n    const hasHighRisk = highRiskKeywords.some(keyword => messageLower.includes(keyword));\n    const hasModerateRisk = moderateRiskKeywords.some(keyword => messageLower.includes(keyword));\n\n    let severity: \"low\" | \"moderate\" | \"high\" = \"low\";\n    let isHighRisk = false;\n    let indicators: string[] = [];\n    let recommendedActions: string[] = [];\n\n    if (hasHighRisk) {\n      severity = \"high\";\n      isHighRisk = true;\n      indicators = ['Direct expression of self-harm intent'];\n      recommendedActions = [\n        'Immediate professional intervention required',\n        'Contact emergency services if necessary',\n        'Do not leave the person alone'\n      ];\n    } else if (hasModerateRisk) {\n      severity = \"moderate\";\n      isHighRisk = false;\n      indicators = ['Expressions of hopelessness or depression'];\n      recommendedActions = [\n        'Encourage professional support',\n        'Check in regularly',\n        'Provide crisis hotline information'\n      ];\n    } else {\n      recommendedActions = ['Continue supportive conversation', 'Monitor for changes'];\n    }\n\n    return {\n      isHighRisk,\n      severity,\n      indicators,\n      recommendedActions\n    };\n  }\n\n  /**\n   * Generate guided exercise instructions\n   * This provides basic exercises - could be enhanced with more sophisticated content\n   */\n  async generateGuidedExercise(type: ExerciseType): Promise<string[]> {\n    switch (type) {\n      case \"breathing\":\n        return [\n          \"Find a comfortable position, sitting or lying down\",\n          \"Close your eyes or soften your gaze\",\n          \"Breathe in slowly through your nose for 4 counts\",\n          \"Hold your breath gently for 4 counts\", \n          \"Exhale slowly through your mouth for 6 counts\",\n          \"Repeat this cycle 5-10 times\",\n          \"Notice how your body feels more relaxed with each breath\"\n        ];\n\n      case \"relaxation\":\n        return [\n          \"Lie down in a comfortable position\",\n          \"Start by tensing the muscles in your toes for 5 seconds, then release\",\n          \"Move up to your calves - tense for 5 seconds, then relax\",\n          \"Continue with your thighs, buttocks, and abdomen\",\n          \"Tense your arms, hands, and shoulders, then let go\",\n          \"Finally, scrunch your face muscles, then relax completely\",\n          \"Take a moment to notice the feeling of complete relaxation\",\n          \"Breathe deeply and enjoy this peaceful state\"\n        ];\n\n      case \"mindfulness\":\n        return [\n          \"Sit comfortably with your feet flat on the ground\",\n          \"Take three deep breaths to center yourself\",\n          \"Notice 5 things you can see around you\",\n          \"Identify 4 things you can physically feel (chair, clothes, temperature)\",\n          \"Listen for 3 different sounds in your environment\",\n          \"Find 2 things you can smell\",\n          \"Think of 1 thing you can taste\",\n          \"Take a final deep breath and return to the present moment\"\n        ];\n\n      default:\n        return [\n          \"Sit in a quiet, comfortable space\",\n          \"Take a few deep breaths to center yourself\",\n          \"Focus on the present moment\",\n          \"Allow thoughts to come and go without judgment\",\n          \"When ready, gently return your attention to your surroundings\"\n        ];\n    }\n  }\n\n  /**\n   * Check if LocalAI is available (always true for local service)\n   */\n  async isAvailable(): Promise<boolean> {\n    return true;\n  }\n\n  /**\n   * Get provider identification\n   */\n  getProviderName(): string {\n    return \"LocalAI\";\n  }\n\n  /**\n   * Allow learning from chat data for personality development\n   */\n  learnFromChat(chatContent: string): void {\n    this.localAI.learnFromChat(chatContent);\n  }\n}","size_bytes":6045},"server/services/offline-first-ai-orchestrator.ts":{"content":"/**\n * OfflineFirstAIOrchestrator - Intelligent AI service orchestration with offline-first design\n * \n * This orchestrator prioritizes external AI services (OpenAI, Gemini) but gracefully falls back\n * to LocalAIService when external services are unavailable, slow, or rate-limited.\n * \n * Features:\n * - Circuit breaker pattern for external services\n * - Configurable timeouts and retries\n * - Health monitoring and automatic recovery\n * - Seamless offline mode operation\n * - Intelligent provider selection\n */\n\nimport type { \n  IAIProvider, \n  ChatMessage, \n  PsychologicalResponse, \n  PersonalityConfig, \n  CrisisAnalysisResult, \n  ExerciseType,\n  IAIProviderConfig\n} from './ai-provider';\nimport { LocalAIAdapter } from './local-ai-adapter';\n\ninterface CircuitBreakerState {\n  isOpen: boolean;\n  failureCount: number;\n  lastFailureTime: number;\n  successCount: number;\n}\n\ninterface ProviderHealth {\n  isAvailable: boolean;\n  lastCheck: number;\n  responseTimeMs: number;\n  circuitBreaker: CircuitBreakerState;\n}\n\nexport interface OrchestratorConfig {\n  // Timeout settings\n  externalProviderTimeoutMs: number;\n  localProviderTimeoutMs: number;\n  \n  // Circuit breaker settings\n  circuitBreakerFailureThreshold: number;\n  circuitBreakerRecoveryTimeMs: number;\n  circuitBreakerHalfOpenRetryMs: number;\n  \n  // Health check settings\n  healthCheckIntervalMs: number;\n  healthCheckTimeoutMs: number;\n  \n  // Provider preferences\n  preferredExternalProvider: 'primary' | 'secondary' | 'auto';\n  forceOfflineMode: boolean;\n  enableFallback: boolean;\n}\n\nexport class OfflineFirstAIOrchestrator implements IAIProvider {\n  private config: OrchestratorConfig;\n  private localProvider: LocalAIAdapter;\n  private externalProviders: Map<string, IAIProvider>;\n  private providerHealth: Map<string, ProviderHealth>;\n  private lastHealthCheck: number = 0;\n\n  constructor(config: Partial<OrchestratorConfig> = {}, chatData?: string) {\n    this.config = {\n      externalProviderTimeoutMs: 8000,\n      localProviderTimeoutMs: 2000,\n      circuitBreakerFailureThreshold: 3,\n      circuitBreakerRecoveryTimeMs: 60000, // 1 minute\n      circuitBreakerHalfOpenRetryMs: 30000, // 30 seconds\n      healthCheckIntervalMs: 30000, // 30 seconds\n      healthCheckTimeoutMs: 5000,\n      preferredExternalProvider: 'auto',\n      forceOfflineMode: false,\n      enableFallback: true,\n      ...config\n    };\n\n    this.localProvider = new LocalAIAdapter(chatData);\n    this.externalProviders = new Map();\n    this.providerHealth = new Map();\n  }\n\n  /**\n   * Register an external AI provider\n   */\n  registerExternalProvider(name: string, provider: IAIProvider): void {\n    this.externalProviders.set(name, provider);\n    this.providerHealth.set(name, {\n      isAvailable: true,\n      lastCheck: 0,\n      responseTimeMs: 0,\n      circuitBreaker: {\n        isOpen: false,\n        failureCount: 0,\n        lastFailureTime: 0,\n        successCount: 0\n      }\n    });\n  }\n\n  /**\n   * Generate response with intelligent provider selection\n   */\n  async generateResponse(messages: ChatMessage[], personality?: PersonalityConfig): Promise<PsychologicalResponse> {\n    const userMessage = messages[messages.length - 1]?.content || '';\n    const isHealthcareQuery = this.isHealthcareRelated(userMessage);\n\n    // Force offline mode if configured\n    if (this.config.forceOfflineMode) {\n      console.log('Offline mode forced, using LocalAI');\n      \n      // Try Python healthcare AI first for medical queries\n      if (isHealthcareQuery) {\n        const pythonProvider = this.externalProviders.get('python-healthcare');\n        if (pythonProvider) {\n          try {\n            console.log('Attempting healthcare query with Python AI');\n            return await this.executeWithTimeout(\n              () => pythonProvider.generateResponse(messages, personality),\n              15000, // 15 second timeout for Python AI\n              'Python Healthcare AI'\n            );\n          } catch (error) {\n            console.warn('Python Healthcare AI failed, falling back to LocalAI:', error);\n          }\n        }\n      }\n      \n      return this.executeWithTimeout(\n        () => this.localProvider.generateResponse(messages, personality),\n        this.config.localProviderTimeoutMs,\n        'LocalAI'\n      );\n    }\n\n    // Check health and update circuit breakers\n    await this.updateProviderHealth();\n\n    // Try external providers first\n    const availableProviders = this.getAvailableExternalProviders();\n    \n    for (const providerName of availableProviders) {\n      try {\n        console.log(`Attempting response generation with ${providerName}`);\n        const provider = this.externalProviders.get(providerName);\n        if (!provider) continue;\n\n        const response = await this.executeWithTimeout(\n          () => provider.generateResponse(messages, personality),\n          this.config.externalProviderTimeoutMs,\n          providerName\n        );\n\n        // Mark success\n        this.recordProviderSuccess(providerName);\n        console.log(`Successfully generated response with ${providerName}`);\n        return response;\n\n      } catch (error) {\n        console.warn(`Provider ${providerName} failed:`, error);\n        this.recordProviderFailure(providerName);\n        continue; // Try next provider\n      }\n    }\n\n    // Fallback to local provider\n    if (this.config.enableFallback) {\n      console.log('All external providers failed, falling back to LocalAI');\n      \n      // Try Python healthcare AI as additional fallback for medical queries\n      if (isHealthcareQuery) {\n        const pythonProvider = this.externalProviders.get('python-healthcare');\n        if (pythonProvider) {\n          try {\n            console.log('Attempting healthcare fallback with Python AI');\n            return await this.executeWithTimeout(\n              () => pythonProvider.generateResponse(messages, personality),\n              15000, // 15 second timeout for Python AI\n              'Python Healthcare AI (fallback)'\n            );\n          } catch (error) {\n            console.warn('Python Healthcare AI fallback failed:', error);\n          }\n        }\n      }\n      \n      try {\n        return await this.executeWithTimeout(\n          () => this.localProvider.generateResponse(messages, personality),\n          this.config.localProviderTimeoutMs,\n          'LocalAI'\n        );\n      } catch (error) {\n        console.error('LocalAI also failed:', error);\n        // Return a basic fallback response\n        return this.getEmergencyFallbackResponse();\n      }\n    }\n\n    throw new Error('All AI providers are unavailable and fallback is disabled');\n  }\n\n  /**\n   * Crisis analysis with provider selection\n   */\n  async analyzeForCrisis(message: string): Promise<CrisisAnalysisResult> {\n    // Always try external providers first for crisis analysis as it's critical\n    if (!this.config.forceOfflineMode) {\n      const availableProviders = this.getAvailableExternalProviders();\n      \n      for (const providerName of availableProviders) {\n        try {\n          const provider = this.externalProviders.get(providerName);\n          if (!provider?.analyzeForCrisis) continue;\n\n          const result = await this.executeWithTimeout(\n            () => provider.analyzeForCrisis!(message),\n            this.config.externalProviderTimeoutMs,\n            providerName\n          );\n\n          this.recordProviderSuccess(providerName);\n          return result;\n\n        } catch (error) {\n          console.warn(`Crisis analysis failed with ${providerName}:`, error);\n          this.recordProviderFailure(providerName);\n          continue;\n        }\n      }\n    }\n\n    // Fallback to local analysis\n    console.log('Using LocalAI for crisis analysis');\n    return this.localProvider.analyzeForCrisis!(message);\n  }\n\n  /**\n   * Guided exercise generation\n   */\n  async generateGuidedExercise(type: ExerciseType): Promise<string[]> {\n    // Try external providers first\n    if (!this.config.forceOfflineMode) {\n      const availableProviders = this.getAvailableExternalProviders();\n      \n      for (const providerName of availableProviders) {\n        try {\n          const provider = this.externalProviders.get(providerName);\n          if (!provider?.generateGuidedExercise) continue;\n\n          const result = await this.executeWithTimeout(\n            () => provider.generateGuidedExercise!(type),\n            this.config.externalProviderTimeoutMs,\n            providerName\n          );\n\n          this.recordProviderSuccess(providerName);\n          return result;\n\n        } catch (error) {\n          console.warn(`Guided exercise generation failed with ${providerName}:`, error);\n          this.recordProviderFailure(providerName);\n          continue;\n        }\n      }\n    }\n\n    // Fallback to local generation\n    console.log('Using LocalAI for guided exercise generation');\n    return this.localProvider.generateGuidedExercise!(type);\n  }\n\n  /**\n   * Check if orchestrator is available\n   */\n  async isAvailable(): Promise<boolean> {\n    // If offline mode is forced, only check local provider\n    if (this.config.forceOfflineMode) {\n      return this.localProvider.isAvailable();\n    }\n\n    // Check if any provider is available\n    const localAvailable = await this.localProvider.isAvailable();\n    const externalAvailable = this.getAvailableExternalProviders().length > 0;\n\n    return localAvailable || externalAvailable;\n  }\n\n  /**\n   * Get provider identification\n   */\n  getProviderName(): string {\n    if (this.config.forceOfflineMode) {\n      return `Orchestrator (offline: ${this.localProvider.getProviderName()})`;\n    }\n\n    const availableExternal = this.getAvailableExternalProviders();\n    if (availableExternal.length > 0) {\n      return `Orchestrator (primary: ${availableExternal[0]}, fallback: ${this.localProvider.getProviderName()})`;\n    }\n\n    return `Orchestrator (offline: ${this.localProvider.getProviderName()})`;\n  }\n\n  /**\n   * Execute function with timeout\n   */\n  private async executeWithTimeout<T>(\n    fn: () => Promise<T>, \n    timeoutMs: number, \n    providerName: string\n  ): Promise<T> {\n    const startTime = Date.now();\n    \n    return Promise.race([\n      fn(),\n      new Promise<never>((_, reject) => \n        setTimeout(() => reject(new Error(`${providerName} timeout after ${timeoutMs}ms`)), timeoutMs)\n      )\n    ]).then(result => {\n      const responseTime = Date.now() - startTime;\n      this.updateProviderResponseTime(providerName, responseTime);\n      return result;\n    });\n  }\n\n  /**\n   * Get available external providers based on circuit breaker status\n   */\n  private getAvailableExternalProviders(): string[] {\n    const now = Date.now();\n    return Array.from(this.externalProviders.keys()).filter(name => {\n      const health = this.providerHealth.get(name);\n      if (!health) return false;\n\n      const breaker = health.circuitBreaker;\n      \n      // Circuit breaker is closed (working normally)\n      if (!breaker.isOpen) return true;\n\n      // Circuit breaker is open - check if recovery time has passed\n      if (now - breaker.lastFailureTime > this.config.circuitBreakerRecoveryTimeMs) {\n        // Allow half-open state for testing\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  /**\n   * Update provider health status\n   */\n  private async updateProviderHealth(): Promise<void> {\n    const now = Date.now();\n    \n    // Don't check too frequently\n    if (now - this.lastHealthCheck < this.config.healthCheckIntervalMs) {\n      return;\n    }\n\n    this.lastHealthCheck = now;\n\n    // Check each external provider's health\n    for (const [name, provider] of Array.from(this.externalProviders.entries())) {\n      try {\n        const startTime = Date.now();\n        const available = await this.executeWithTimeout(\n          () => provider.isAvailable(),\n          this.config.healthCheckTimeoutMs,\n          `${name} health check`\n        ) as boolean;\n        \n        const responseTime = Date.now() - startTime;\n        \n        const health = this.providerHealth.get(name)!;\n        health.isAvailable = available;\n        health.lastCheck = now;\n        health.responseTimeMs = responseTime;\n\n      } catch (error) {\n        const health = this.providerHealth.get(name)!;\n        health.isAvailable = false;\n        health.lastCheck = now;\n        console.warn(`Health check failed for ${name}:`, error);\n      }\n    }\n  }\n\n  /**\n   * Record provider success for circuit breaker\n   */\n  private recordProviderSuccess(providerName: string): void {\n    const health = this.providerHealth.get(providerName);\n    if (!health) return;\n\n    const breaker = health.circuitBreaker;\n    breaker.successCount++;\n    breaker.failureCount = 0;\n    \n    // Close circuit breaker if it was open\n    if (breaker.isOpen) {\n      console.log(`Circuit breaker closed for ${providerName} after successful request`);\n      breaker.isOpen = false;\n    }\n  }\n\n  /**\n   * Record provider failure for circuit breaker\n   */\n  private recordProviderFailure(providerName: string): void {\n    const health = this.providerHealth.get(providerName);\n    if (!health) return;\n\n    const breaker = health.circuitBreaker;\n    breaker.failureCount++;\n    breaker.lastFailureTime = Date.now();\n    breaker.successCount = 0;\n\n    // Open circuit breaker if failure threshold reached\n    if (breaker.failureCount >= this.config.circuitBreakerFailureThreshold && !breaker.isOpen) {\n      console.warn(`Circuit breaker opened for ${providerName} after ${breaker.failureCount} failures`);\n      breaker.isOpen = true;\n    }\n  }\n\n  /**\n   * Update provider response time metrics\n   */\n  private updateProviderResponseTime(providerName: string, responseTimeMs: number): void {\n    const health = this.providerHealth.get(providerName);\n    if (health) {\n      health.responseTimeMs = responseTimeMs;\n    }\n  }\n\n  /**\n   * Emergency fallback response when all providers fail\n   */\n  private getEmergencyFallbackResponse(): PsychologicalResponse {\n    return {\n      message: \"I'm having trouble connecting to my AI services right now, but I'm here to listen. \" +\n               \"Please know that you're not alone, and if this is urgent, don't hesitate to reach out \" +\n               \"to a counselor or crisis helpline immediately.\",\n      supportiveActions: [\n        \"Take deep breaths to stay calm\",\n        \"Reach out to a trusted friend or family member\", \n        \"Contact your campus counseling center\",\n        \"Call a crisis helpline if you're in immediate distress\"\n      ],\n      riskLevel: \"moderate\",\n      escalationRequired: true\n    };\n  }\n\n  /**\n   * Get current provider health status (for monitoring/debugging)\n   */\n  getProviderStatus(): Record<string, any> {\n    const status: Record<string, any> = {\n      config: {\n        forceOfflineMode: this.config.forceOfflineMode,\n        enableFallback: this.config.enableFallback\n      },\n      providers: {}\n    };\n\n    // Add local provider status\n    status.providers.local = {\n      name: this.localProvider.getProviderName(),\n      isAvailable: true, // LocalAI is always available\n      type: 'local'\n    };\n\n    // Add external provider status\n    for (const [name, provider] of Array.from(this.externalProviders.entries())) {\n      const health = this.providerHealth.get(name);\n      status.providers[name] = {\n        name: provider.getProviderName(),\n        isAvailable: health?.isAvailable ?? false,\n        responseTimeMs: health?.responseTimeMs ?? 0,\n        circuitBreakerOpen: health?.circuitBreaker.isOpen ?? false,\n        failureCount: health?.circuitBreaker.failureCount ?? 0,\n        lastCheck: health?.lastCheck ?? 0,\n        type: 'external'\n      };\n    }\n\n    return status;\n  }\n\n  /**\n   * Check if a message is healthcare-related\n   */\n  private isHealthcareRelated(message: string): boolean {\n    const healthcareKeywords = [\n      'health', 'medical', 'disease', 'symptom', 'treatment', 'medicine',\n      'doctor', 'hospital', 'diagnosis', 'therapy', 'medication', 'drug',\n      'pain', 'fever', 'infection', 'cancer', 'diabetes', 'heart',\n      'blood', 'surgery', 'vaccine', 'virus', 'bacteria', 'wellness',\n      'nutrition', 'diet', 'exercise', 'mental health', 'depression',\n      'anxiety', 'stress', 'injury', 'emergency', 'first aid'\n    ];\n    \n    const messageLower = message.toLowerCase();\n    return healthcareKeywords.some(keyword => messageLower.includes(keyword));\n  }\n\n  /**\n   * Allow learning from chat data for the local provider\n   */\n  learnFromChat(chatContent: string): void {\n    this.localProvider.learnFromChat(chatContent);\n  }\n}","size_bytes":16564},"server/services/orchestrator-factory.ts":{"content":"/**\n * OrchestratorFactory - Creates and configures the AI orchestrator based on available API keys\n * \n * This factory automatically detects available API keys and configures the orchestrator\n * to use external providers when available, or force offline mode when no keys are present.\n */\n\nimport { OfflineFirstAIOrchestrator, type OrchestratorConfig } from './offline-first-ai-orchestrator';\nimport { ExternalAIAdapter } from './external-ai-adapter';\nimport { PythonHealthcareAIAdapter } from './python-ai-adapter';\nimport type { IAIProvider } from './ai-provider';\n\nclass OrchestratorFactory {\n  private static instance: OfflineFirstAIOrchestrator | null = null;\n  private static isInitialized = false;\n\n  /**\n   * Get the singleton orchestrator instance\n   */\n  static getOrchestrator(): OfflineFirstAIOrchestrator {\n    if (!this.instance || !this.isInitialized) {\n      this.instance = this.createOrchestrator();\n      this.isInitialized = true;\n    }\n    return this.instance;\n  }\n\n  /**\n   * Create and configure the orchestrator based on available API keys\n   */\n  private static createOrchestrator(): OfflineFirstAIOrchestrator {\n    const hasOpenAIKey = !!(process.env.OPENAI_API_KEY || process.env.OPENAI_KEY);\n    const hasGeminiKey = !!(process.env.GEMINI_API_KEY);\n    const isProduction = process.env.NODE_ENV === 'production';\n\n    // Determine if we should force offline mode\n    const forceOfflineMode = !hasOpenAIKey && !hasGeminiKey;\n\n    const config: Partial<OrchestratorConfig> = {\n      forceOfflineMode,\n      enableFallback: true,\n      // More aggressive timeouts when we know we don't have keys\n      externalProviderTimeoutMs: forceOfflineMode ? 1000 : 8000,\n      localProviderTimeoutMs: 2000,\n      circuitBreakerFailureThreshold: 2,\n      circuitBreakerRecoveryTimeMs: 30000, // 30 seconds in dev, faster recovery\n    };\n\n    const orchestrator = new OfflineFirstAIOrchestrator(config);\n\n    // Register external AI provider if API keys are available\n    if (!forceOfflineMode) {\n      try {\n        const externalAdapter = new ExternalAIAdapter();\n        console.log('Registering external AI provider with orchestrator');\n        orchestrator.registerExternalProvider('external', externalAdapter);\n      } catch (error) {\n        console.warn('Failed to register external AI provider:', error);\n      }\n    }\n\n    // Register Python Healthcare AI as an additional provider (always available)\n    try {\n      const pythonAI = new PythonHealthcareAIAdapter();\n      console.log('Registering Python Healthcare AI provider');\n      orchestrator.registerExternalProvider('python-healthcare', pythonAI);\n      \n      // Try to start the Python server\n      pythonAI.startPythonServer().catch(error => {\n        console.warn('Python AI server startup failed, will be used as fallback only:', error);\n      });\n    } catch (error) {\n      console.warn('Failed to register Python Healthcare AI provider:', error);\n    }\n\n    // Log the orchestrator configuration\n    if (forceOfflineMode) {\n      console.log('🔄 AI Orchestrator initialized in OFFLINE MODE - no external API keys detected');\n      console.log('   ✓ Local AI will handle all requests');\n      console.log('   ✓ Python Healthcare AI available for medical queries');\n      console.log('   ✓ Crisis detection available offline');\n      console.log('   ✓ Guided exercises available offline');\n    } else {\n      console.log('🌐 AI Orchestrator initialized in HYBRID MODE');\n      console.log(`   ✓ External providers: ${hasOpenAIKey ? 'OpenAI ' : ''}${hasGeminiKey ? 'Gemini ' : ''}`);\n      console.log('   ✓ Python Healthcare AI available for medical queries');\n      console.log('   ✓ Local AI fallback enabled');\n    }\n\n    return orchestrator;\n  }\n\n  /**\n   * Reset the factory (useful for testing or configuration changes)\n   */\n  static reset(): void {\n    this.instance = null;\n    this.isInitialized = false;\n  }\n\n  /**\n   * Check if external AI providers are available\n   */\n  static hasExternalProviders(): boolean {\n    const hasOpenAIKey = !!(process.env.OPENAI_API_KEY || process.env.OPENAI_KEY);\n    const hasGeminiKey = !!(process.env.GEMINI_API_KEY);\n    return hasOpenAIKey || hasGeminiKey;\n  }\n\n  /**\n   * Get AI capabilities information for frontend\n   */\n  static getCapabilities() {\n    const hasExternal = this.hasExternalProviders();\n    const orchestrator = this.getOrchestrator();\n    \n    return {\n      offline: !hasExternal,\n      providers: hasExternal ? ['external', 'python-healthcare', 'local'] : ['python-healthcare', 'local'],\n      mode: hasExternal ? 'hybrid' : 'offline',\n      status: orchestrator.getProviderStatus()\n    };\n  }\n}\n\nexport { OrchestratorFactory };","size_bytes":4708},"server/services/external-ai-adapter.ts":{"content":"/**\n * ExternalAIAdapter - Adapter that wraps the existing AIService to implement IAIProvider interface\n * \n * This adapter allows the existing AIService (which handles OpenAI and Gemini) to be used\n * with the orchestrator by implementing the required IAIProvider interface.\n */\n\nimport type { \n  IAIProvider, \n  ChatMessage, \n  PsychologicalResponse, \n  PersonalityConfig, \n  CrisisAnalysisResult, \n  ExerciseType \n} from './ai-provider';\nimport { AIService } from './ai-service';\n\nexport class ExternalAIAdapter implements IAIProvider {\n  private aiService: AIService;\n\n  constructor() {\n    this.aiService = new AIService();\n  }\n\n  /**\n   * Generate psychological response using the external AIService\n   */\n  async generateResponse(messages: ChatMessage[], personality?: PersonalityConfig): Promise<PsychologicalResponse> {\n    return this.aiService.generateResponse(messages, personality);\n  }\n\n  /**\n   * Basic crisis analysis - delegate to simple keyword detection\n   * The AIService doesn't have crisis analysis, so we implement a basic version\n   */\n  async analyzeForCrisis(message: string): Promise<CrisisAnalysisResult> {\n    const messageLower = message.toLowerCase();\n    \n    // High-risk indicators\n    const highRiskKeywords = [\n      'suicide', 'kill myself', 'end my life', 'want to die', 'better off dead',\n      'hurt myself', 'self harm', 'overdose', 'pills', 'jumping', 'hanging'\n    ];\n    \n    // Moderate risk indicators\n    const moderateRiskKeywords = [\n      'depressed', 'hopeless', 'worthless', 'empty', 'alone forever',\n      'can\\'t go on', 'no point', 'give up', 'tired of living'\n    ];\n\n    const hasHighRisk = highRiskKeywords.some(keyword => messageLower.includes(keyword));\n    const hasModerateRisk = moderateRiskKeywords.some(keyword => messageLower.includes(keyword));\n\n    let severity: \"low\" | \"moderate\" | \"high\" = \"low\";\n    let isHighRisk = false;\n    let indicators: string[] = [];\n    let recommendedActions: string[] = [];\n\n    if (hasHighRisk) {\n      severity = \"high\";\n      isHighRisk = true;\n      indicators = ['Direct expression of self-harm intent'];\n      recommendedActions = [\n        'Immediate professional intervention required',\n        'Contact emergency services if necessary',\n        'Do not leave the person alone'\n      ];\n    } else if (hasModerateRisk) {\n      severity = \"moderate\";\n      isHighRisk = false;\n      indicators = ['Expression of distress and hopelessness'];\n      recommendedActions = [\n        'Schedule professional counseling appointment',\n        'Reach out to trusted friends or family',\n        'Practice coping strategies and self-care'\n      ];\n    } else {\n      severity = \"low\";\n      isHighRisk = false;\n      indicators = [];\n      recommendedActions = [\n        'Continue regular self-care practices',\n        'Stay connected with support systems'\n      ];\n    }\n\n    return {\n      severity,\n      isHighRisk,\n      indicators,\n      recommendedActions\n    };\n  }\n\n  /**\n   * Generate guided exercise using the AIService\n   */\n  async generateGuidedExercise(type: ExerciseType): Promise<string[]> {\n    return this.aiService.generateGuidedExercise(type);\n  }\n\n  /**\n   * Check if external AI services are available\n   */\n  async isAvailable(): Promise<boolean> {\n    try {\n      // Try a simple test to see if the service has valid API keys\n      const hasOpenAIKey = !!(process.env.OPENAI_API_KEY || process.env.OPENAI_KEY);\n      const hasGeminiKey = !!(process.env.GEMINI_API_KEY);\n      \n      return hasOpenAIKey || hasGeminiKey;\n    } catch (error) {\n      console.warn('ExternalAIAdapter availability check failed:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Get provider identification\n   */\n  getProviderName(): string {\n    const hasOpenAIKey = !!(process.env.OPENAI_API_KEY || process.env.OPENAI_KEY);\n    const hasGeminiKey = !!(process.env.GEMINI_API_KEY);\n    \n    if (hasOpenAIKey && hasGeminiKey) {\n      return \"ExternalAI (OpenAI + Gemini)\";\n    } else if (hasOpenAIKey) {\n      return \"ExternalAI (OpenAI)\";\n    } else if (hasGeminiKey) {\n      return \"ExternalAI (Gemini)\";\n    } else {\n      return \"ExternalAI (No keys)\";\n    }\n  }\n}","size_bytes":4168},"server/seed-data.ts":{"content":"import { InsertSearchDoc } from '@shared/schema';\n\n// Curated mental health resources for Indian college students\nexport const mentalHealthSeedData: InsertSearchDoc[] = [\n  // Crisis Resources - India-specific\n  {\n    title: \"Crisis Support - Indian Helplines\",\n    content: \"If you are in immediate danger or having thoughts of self-harm, please reach out immediately. India Crisis Helplines: Kiran Mental Health Helpline: 1800-599-0019 (24/7, free, multilingual). iCall Psychosocial Helpline: 9152987821 (Mon-Sat, 8am-10pm). AASRA: 9820466726 (24/7). Emergency: 112. Campus Counseling Center: Contact your college's student support services. You are not alone and help is available.\",\n    source: \"curated\",\n    tags: [\"crisis\", \"emergency\", \"suicide prevention\", \"India\", \"helplines\"]\n  },\n  \n  // Academic Stress - Common in Indian education system\n  {\n    title: \"Managing Academic Pressure and Exam Stress\",\n    content: \"Academic pressure is intense in Indian colleges. Break large syllabi into smaller daily targets. Use active recall techniques instead of just reading. Practice previous years' papers. Take regular breaks using the Pomodoro Technique (25 min study, 5 min break). Don't compare your progress with others. Seek help from professors during doubt sessions. Remember that grades don't define your worth. Consider seeking counseling if stress becomes overwhelming.\",\n    source: \"curated\",\n    tags: [\"academic stress\", \"exam anxiety\", \"study techniques\", \"pressure\", \"college life\"]\n  },\n\n  // Breathing Techniques\n  {\n    title: \"प्राणायाम और Breathing Exercises for Anxiety\",\n    content: \"Traditional pranayama and modern breathing techniques for anxiety relief. Anulom Vilom (Alternate Nostril Breathing): Close right nostril, inhale left for 4 counts, close left, exhale right for 4. Repeat 5-10 times. 4-7-8 Technique: Inhale for 4, hold for 7, exhale for 8. Box Breathing: Inhale 4, hold 4, exhale 4, hold 4. Practice these daily, especially before exams or stressful situations.\",\n    source: \"curated\",\n    tags: [\"anxiety\", \"breathing\", \"pranayama\", \"stress relief\", \"mindfulness\", \"Hindi\"]\n  },\n\n  // Depression Awareness\n  {\n    title: \"Understanding Depression in Indian College Students\",\n    content: \"Depression among Indian students often goes unrecognized due to stigma. Symptoms include persistent sadness, loss of interest in studies/hobbies, changes in appetite or sleep, difficulty concentrating, feelings of guilt or worthlessness. It's not 'weakness' or 'western concept' - it's a real medical condition. Professional help through college counselors, psychiatrists, or online therapy is effective. Family support is important but professional help is crucial. Recovery is possible.\",\n    source: \"curated\",\n    tags: [\"depression\", \"mental health awareness\", \"stigma\", \"college students\", \"India\"]\n  },\n\n  // Sleep and College Life\n  {\n    title: \"Sleep Hygiene for Hostelers and Day Students\",\n    content: \"Good sleep is crucial for mental health and academic performance. For hostel students: Use earplugs/eye mask for noisy environments. Establish consistent sleep schedule despite roommate schedules. Avoid screens 1 hour before sleep. Keep hostel room cool and dark. For day scholars: Maintain regular sleep despite travel time. Avoid late-night studying - early morning revision is more effective. Power naps (20-30 min) can help if sleep-deprived.\",\n    source: \"curated\",\n    tags: [\"sleep\", \"hostel life\", \"day scholar\", \"sleep hygiene\", \"academic performance\"]\n  },\n\n  // Mindfulness and Meditation\n  {\n    title: \"ध्यान (Dhyana) and Mindfulness for Students\",\n    content: \"Meditation and mindfulness practices rooted in Indian tradition for modern student stress. Start with 5-10 minutes daily. Simple Dhyana: Sit comfortably, focus on breath, when mind wanders, gently return to breath. Walking meditation: Pay attention to each step while walking to class. Body scan: Mentally scan from head to toe, noticing tension. Apps: Headspace, Calm, or free guided meditations in Hindi on YouTube. Best times: Early morning or before sleep.\",\n    source: \"curated\",\n    tags: [\"meditation\", \"mindfulness\", \"dhyana\", \"stress relief\", \"focus\", \"Hindi\", \"tradition\"]\n  },\n\n  // Family and Social Pressure\n  {\n    title: \"Dealing with Family Expectations and Social Pressure\",\n    content: \"Family pressure about career, marriage, comparisons with cousins/friends is common. Remember: Your life path doesn't have to match family expectations exactly. Communicate openly but respectfully with family about your feelings. Set boundaries on comparisons and criticism. Seek support from friends who understand similar pressures. Consider family counseling if communication breaks down. Your mental health matters as much as family honor.\",\n    source: \"curated\",\n    tags: [\"family pressure\", \"social expectations\", \"boundaries\", \"communication\", \"Indian families\"]\n  },\n\n  // LGBTQ+ Support\n  {\n    title: \"LGBTQ+ Mental Health Support in India\",\n    content: \"Being LGBTQ+ in India can be challenging due to social stigma. You are valid and deserving of love and support. Resources: The Humsafar Trust, Nazariya (QPOC support), Sangama (Karnataka), Sappho for Equality (Kolkata). Online communities: Indian LGBTQ+ groups on Reddit, Facebook. Section 377 was struck down in 2018. Some colleges have LGBTQ+ support groups. If family isn't supportive, find chosen family in community. Professional counselors with LGBTQ+ training are available in major cities.\",\n    source: \"curated\",\n    tags: [\"LGBTQ+\", \"support\", \"community\", \"India\", \"discrimination\", \"chosen family\"]\n  },\n\n  // Substance Use Awareness\n  {\n    title: \"Substance Use and Mental Health Awareness\",\n    content: \"College can involve peer pressure around alcohol, cigarettes, or other substances. Substance use often masks underlying anxiety or depression but makes mental health worse long-term. It's okay to say no to peer pressure. Alternative stress relief: Exercise, music, art, talking to friends. If you're using substances to cope with emotions, consider counseling. Alcohol in hostels is often prohibited and can lead to serious consequences. Focus on healthy coping mechanisms.\",\n    source: \"curated\",\n    tags: [\"substance use\", \"peer pressure\", \"alcohol\", \"coping mechanisms\", \"mental health\"]\n  },\n\n  // Financial Stress\n  {\n    title: \"Managing Financial Stress and Education Loans\",\n    content: \"Financial worries are common among students with education loans or limited family income. Create a simple budget for essentials vs wants. Look into scholarships, merit-based aid, part-time work opportunities. Many colleges have financial aid counselors. Don't let financial stress overshadow your education - seek help early. Consider talking to family about realistic expectations. Remember that financial situation doesn't determine your worth or potential.\",\n    source: \"curated\",\n    tags: [\"financial stress\", \"education loans\", \"budget\", \"scholarships\", \"part-time work\"]\n  },\n\n  // Relationship and Social Skills\n  {\n    title: \"Building Healthy Relationships and Social Connections\",\n    content: \"College relationships (friendships, romantic) are important for mental health. Healthy relationships involve mutual respect, trust, and communication. Red flags: Controlling behavior, isolation from friends, emotional manipulation. It's okay to end toxic relationships. Join clubs, societies, or hobby groups to meet like-minded people. Introverts: Quality over quantity in friendships is fine. Dating: Go slow, communicate boundaries, practice consent. Seek counseling for relationship issues.\",\n    source: \"curated\",\n    tags: [\"relationships\", \"friendships\", \"dating\", \"social skills\", \"toxic relationships\", \"consent\"]\n  },\n\n  // Career Anxiety\n  {\n    title: \"Career Anxiety and Future Planning\",\n    content: \"Uncertainty about career after graduation is normal. Explore internships, talk to seniors in different fields, attend career fairs. It's okay if your interests change during college. Don't follow a career path just because of family pressure or peer choices. Consider your interests, values, and market realities. Career counseling services can help with aptitude tests and planning. Remember: Career paths are rarely linear, and many successful people changed directions multiple times.\",\n    source: \"curated\",\n    tags: [\"career anxiety\", \"career planning\", \"internships\", \"future planning\", \"aptitude\"]\n  }\n];","size_bytes":8496},"server/services/web-cache-service.ts":{"content":"import { storage } from '../storage';\nimport { InsertWebSnapshot } from '@shared/schema';\n\nexport interface WebCacheSearchResult {\n  title: string;\n  url: string;\n  snippet: string;\n  domain: string;\n  cached: boolean;\n  cacheDate?: Date;\n}\n\nexport class WebCacheService {\n  // Simulate caching web search results for offline access\n  async cacheWebSearchResults(query: string, mockResults: WebCacheSearchResult[]): Promise<void> {\n    const cacheExpiresAt = new Date();\n    cacheExpiresAt.setDate(cacheExpiresAt.getDate() + 7); // Cache for 7 days\n\n    for (const result of mockResults) {\n      // Check if already cached\n      const existing = await storage.getWebSnapshotByUrl(result.url);\n      \n      if (!existing) {\n        const insertSnapshot: InsertWebSnapshot = {\n          originalUrl: result.url,\n          title: result.title,\n          content: result.snippet,\n          summary: result.snippet.substring(0, 200) + '...', // Brief summary\n          domain: result.domain,\n          searchQuery: query,\n          tags: this.extractTagsFromContent(result.title + ' ' + result.snippet),\n          cacheExpiresAt,\n          isActive: true\n        };\n\n        await storage.createWebSnapshot(insertSnapshot);\n      }\n    }\n  }\n\n  // Simulate internet search that works offline\n  async searchOffline(query: string, limit: number = 10): Promise<WebCacheSearchResult[]> {\n    // First, search cached web snapshots\n    const cachedResults = await storage.searchWebSnapshots(query, limit);\n    \n    const webResults: WebCacheSearchResult[] = cachedResults.map(snapshot => ({\n      title: snapshot.title,\n      url: snapshot.originalUrl,\n      snippet: snapshot.summary || snapshot.content.substring(0, 150) + '...',\n      domain: snapshot.domain,\n      cached: true,\n      cacheDate: snapshot.createdAt\n    }));\n\n    // If we have fewer cached results, add some mock \"internet\" results\n    if (webResults.length < limit) {\n      const mockResults = this.generateMockInternetResults(query, limit - webResults.length);\n      webResults.push(...mockResults);\n    }\n\n    return webResults;\n  }\n\n  // Cache a specific URL for offline access (simulate web scraping)\n  async cacheUrl(url: string, options?: { title?: string; content?: string; tags?: string[] }): Promise<void> {\n    const existing = await storage.getWebSnapshotByUrl(url);\n    \n    if (existing) {\n      // Update last accessed time\n      await storage.updateWebSnapshot(existing.id, {\n        lastAccessedAt: new Date()\n      });\n      return;\n    }\n\n    // Extract domain from URL\n    const domain = this.extractDomain(url);\n    \n    // Generate or use provided content\n    const title = options?.title || this.generateTitleFromUrl(url);\n    const content = options?.content || this.generateMockContent(url);\n    const tags = options?.tags || this.extractTagsFromContent(title + ' ' + content);\n\n    const cacheExpiresAt = new Date();\n    cacheExpiresAt.setDate(cacheExpiresAt.getDate() + 30); // Cache URLs for 30 days\n\n    const insertSnapshot: InsertWebSnapshot = {\n      originalUrl: url,\n      title,\n      content,\n      summary: content.substring(0, 200) + '...',\n      domain,\n      searchQuery: null, // Not from a search query\n      tags,\n      cacheExpiresAt,\n      isActive: true\n    };\n\n    await storage.createWebSnapshot(insertSnapshot);\n  }\n\n  // Get cached content for a URL\n  async getCachedContent(url: string): Promise<any | null> {\n    const snapshot = await storage.getWebSnapshotByUrl(url);\n    \n    if (snapshot) {\n      // Update last accessed time\n      await storage.updateWebSnapshot(snapshot.id, {\n        lastAccessedAt: new Date()\n      });\n      \n      return {\n        title: snapshot.title,\n        content: snapshot.content,\n        summary: snapshot.summary,\n        domain: snapshot.domain,\n        tags: snapshot.tags,\n        cacheDate: snapshot.createdAt,\n        lastAccessed: snapshot.lastAccessedAt\n      };\n    }\n    \n    return null;\n  }\n\n  // Cleanup expired snapshots\n  async cleanupExpiredCache(): Promise<number> {\n    return await storage.cleanupExpiredSnapshots();\n  }\n\n  // Get cache statistics\n  async getCacheStats(): Promise<any> {\n    const allSnapshots = await storage.getActiveWebSnapshots();\n    \n    const stats = {\n      totalSnapshots: allSnapshots.length,\n      uniqueDomains: new Set(allSnapshots.map(s => s.domain)).size,\n      searchQueries: allSnapshots.filter(s => s.searchQuery).length,\n      directUrls: allSnapshots.filter(s => !s.searchQuery).length,\n      oldestCache: allSnapshots.length > 0 ? Math.min(...allSnapshots.map(s => s.createdAt.getTime())) : null,\n      newestCache: allSnapshots.length > 0 ? Math.max(...allSnapshots.map(s => s.createdAt.getTime())) : null\n    };\n    \n    return stats;\n  }\n\n  // Seed some initial web content for offline demonstration\n  async seedInitialWebContent(): Promise<void> {\n    const mentalHealthUrls = [\n      {\n        url: 'https://www.who.int/news-room/fact-sheets/detail/mental-disorders',\n        title: 'Mental disorders - World Health Organization',\n        content: 'Mental disorders are characterized by significant disturbances in cognition, emotional regulation, or behaviour. Examples include depression, anxiety disorders, schizophrenia, eating disorders and addictive behaviours. Mental disorders affect 1 in 4 people. Effective treatments exist for most mental disorders. The most common mental disorders are anxiety disorders, mood disorders, and substance use disorders.',\n        tags: ['WHO', 'mental health', 'disorders', 'global health', 'statistics']\n      },\n      {\n        url: 'https://www.nimh.nih.gov/health/topics/anxiety-disorders',\n        title: 'Anxiety Disorders - National Institute of Mental Health',\n        content: 'Anxiety disorders are the most common mental illness in the U.S., affecting 40 million adults. Anxiety disorders are highly treatable, yet only 36.9% of those suffering receive treatment. Common types include generalized anxiety disorder, panic disorder, and social anxiety disorder. Treatment typically involves psychotherapy, medication, or both.',\n        tags: ['NIMH', 'anxiety', 'treatment', 'therapy', 'mental health']\n      },\n      {\n        url: 'https://www.helpguide.org/articles/stress/stress-management.htm',\n        title: 'Stress Management - HelpGuide.org',\n        content: 'Effective stress management helps you break the hold stress has on your life. It includes techniques like deep breathing, meditation, regular exercise, and time management. The goal is to live a balanced life with time for work, relationships, relaxation, and fun. Chronic stress can impact both physical and mental health.',\n        tags: ['stress management', 'relaxation', 'meditation', 'exercise', 'wellness']\n      }\n    ];\n\n    for (const item of mentalHealthUrls) {\n      await this.cacheUrl(item.url, {\n        title: item.title,\n        content: item.content,\n        tags: item.tags\n      });\n    }\n  }\n\n  // Helper methods\n  private extractDomain(url: string): string {\n    try {\n      const urlObj = new URL(url);\n      return urlObj.hostname;\n    } catch {\n      return 'unknown-domain.com';\n    }\n  }\n\n  private generateTitleFromUrl(url: string): string {\n    const domain = this.extractDomain(url);\n    const path = url.split('/').pop() || '';\n    return `${domain.replace('www.', '')} - ${path.replace(/-/g, ' ')}`;\n  }\n\n  private generateMockContent(url: string): string {\n    const domain = this.extractDomain(url);\n    return `Content from ${domain}. This is cached content that would normally be fetched from the web. The content discusses topics related to mental health, wellness, and educational resources for students.`;\n  }\n\n  private extractTagsFromContent(text: string): string[] {\n    const commonWords = ['the', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by', 'is', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could', 'should', 'may', 'might', 'must', 'can', 'a', 'an'];\n    \n    const words = text.toLowerCase()\n      .replace(/[^\\w\\s]/g, ' ')\n      .split(/\\s+/)\n      .filter(word => word.length > 3 && !commonWords.includes(word));\n    \n    const uniqueWords = Array.from(new Set(words));\n    return uniqueWords.slice(0, 5); // Return top 5 unique tags\n  }\n\n  private generateMockInternetResults(query: string, count: number): WebCacheSearchResult[] {\n    const mockDomains = [\n      'psychology.org', 'mentalhealth.gov', 'healthline.com', \n      'webmd.com', 'mayoclinic.org', 'psychologytoday.com'\n    ];\n    \n    const results: WebCacheSearchResult[] = [];\n    \n    for (let i = 0; i < count; i++) {\n      const domain = mockDomains[i % mockDomains.length];\n      results.push({\n        title: `${query} - Research and Information`,\n        url: `https://${domain}/article/${query.replace(/\\s+/g, '-').toLowerCase()}`,\n        snippet: `Information about ${query} from ${domain}. This content would typically be fetched from the internet but is being simulated for offline functionality.`,\n        domain,\n        cached: false\n      });\n    }\n    \n    return results;\n  }\n}\n\n// Export singleton instance\nexport const webCacheService = new WebCacheService();","size_bytes":9210},"pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.11\"\ndependencies = [\n    \"asyncio>=4.0.0\",\n    \"beautifulsoup4>=4.13.5\",\n    \"duckduckgo-search>=8.1.1\",\n    \"flask>=3.1.2\",\n    \"lxml>=6.0.1\",\n    \"python-dotenv>=1.1.1\",\n    \"requests>=2.32.5\",\n    \"selenium>=4.35.0\",\n    \"websockets>=15.0.1\",\n]\n","size_bytes":369},"python_ai/ai_server.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nFlask API Server for Healthcare Search AI\nServes as a fallback when other AI APIs fail\n\"\"\"\n\nimport os\nimport json\nimport asyncio\nfrom flask import Flask, request, jsonify\nfrom flask import Response\nimport time\nfrom healthcare_search import HealthcareSearchAI\nimport threading\nfrom concurrent.futures import ThreadPoolExecutor\n\napp = Flask(__name__)\n\n# Initialize the Healthcare AI\nhealthcare_ai = HealthcareSearchAI()\nexecutor = ThreadPoolExecutor(max_workers=4)\n\n@app.route('/health', methods=['GET'])\ndef health_check():\n    \"\"\"Health check endpoint\"\"\"\n    return jsonify({\n        \"status\": \"healthy\",\n        \"service\": \"Healthcare Search AI\",\n        \"timestamp\": time.time()\n    })\n\n@app.route('/search', methods=['POST'])\ndef search_healthcare():\n    \"\"\"Search for healthcare information\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data or 'query' not in data:\n            return jsonify({\n                \"error\": \"Missing 'query' in request body\"\n            }), 400\n        \n        query = data['query'].strip()\n        \n        if not query:\n            return jsonify({\n                \"error\": \"Query cannot be empty\"\n            }), 400\n        \n        # Process the healthcare query\n        result = healthcare_ai.process_healthcare_query(query)\n        \n        return jsonify({\n            \"success\": True,\n            \"data\": result,\n            \"timestamp\": time.time()\n        })\n        \n    except Exception as e:\n        return jsonify({\n            \"success\": False,\n            \"error\": str(e),\n            \"timestamp\": time.time()\n        }), 500\n\n@app.route('/chat', methods=['POST'])\ndef chat_endpoint():\n    \"\"\"Chat endpoint compatible with existing chat system\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({\"error\": \"No data provided\"}), 400\n        \n        # Extract message from different possible formats\n        message = \"\"\n        if 'message' in data:\n            message = data['message']\n        elif 'query' in data:\n            message = data['query']\n        elif 'content' in data:\n            message = data['content']\n        else:\n            return jsonify({\"error\": \"No message/query found\"}), 400\n        \n        # Check if this is a healthcare-related query\n        if not healthcare_ai.is_healthcare_query(message):\n            return jsonify({\n                \"success\": False,\n                \"message\": \"I can only help with healthcare and medical questions. Please ask about symptoms, treatments, medical conditions, or health information.\",\n                \"is_healthcare_related\": False\n            })\n        \n        # Process the healthcare query\n        result = healthcare_ai.process_healthcare_query(message)\n        \n        if result.get('is_healthcare_related', False):\n            response_message = result.get('response', 'I could not find information about your query.')\n            \n            # Add disclaimer\n            disclaimer = result.get('disclaimer', '')\n            if disclaimer:\n                response_message += f\"\\n\\n⚠️ {disclaimer}\"\n            \n            # Add sources\n            sources = result.get('sources', [])\n            if sources:\n                response_message += \"\\n\\n📚 Sources:\"\n                for i, source in enumerate(sources[:3], 1):\n                    response_message += f\"\\n{i}. {source['title']} ({source['domain']})\"\n            \n            return jsonify({\n                \"success\": True,\n                \"message\": response_message,\n                \"sources\": sources,\n                \"is_healthcare_related\": True,\n                \"detailed_info\": result.get('detailed_info', [])\n            })\n        else:\n            return jsonify({\n                \"success\": False,\n                \"message\": result.get('message', 'Please ask a healthcare-related question.'),\n                \"is_healthcare_related\": False\n            })\n        \n    except Exception as e:\n        return jsonify({\n            \"success\": False,\n            \"error\": f\"Internal server error: {str(e)}\",\n            \"message\": \"I'm having trouble processing your request right now. Please try again later.\"\n        }), 500\n\n@app.route('/async-search', methods=['POST'])\ndef async_search():\n    \"\"\"Async search endpoint\"\"\"\n    try:\n        data = request.get_json()\n        query = data.get('query', '').strip()\n        \n        if not query:\n            return jsonify({\"error\": \"Query is required\"}), 400\n        \n        # Submit task to thread pool\n        future = executor.submit(healthcare_ai.process_healthcare_query, query)\n        result = future.result(timeout=30)  # 30-second timeout\n        \n        return jsonify({\n            \"success\": True,\n            \"data\": result,\n            \"timestamp\": time.time()\n        })\n        \n    except Exception as e:\n        return jsonify({\n            \"success\": False,\n            \"error\": str(e)\n        }), 500\n\n@app.route('/test', methods=['GET'])\ndef test_endpoint():\n    \"\"\"Test endpoint to verify AI functionality\"\"\"\n    test_query = \"What are the symptoms of common cold?\"\n    \n    try:\n        result = healthcare_ai.process_healthcare_query(test_query)\n        return jsonify({\n            \"test_query\": test_query,\n            \"result\": result,\n            \"status\": \"AI is working properly\"\n        })\n    except Exception as e:\n        return jsonify({\n            \"test_query\": test_query,\n            \"error\": str(e),\n            \"status\": \"AI encountered an error\"\n        }), 500\n\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({\n        \"error\": \"Endpoint not found\",\n        \"available_endpoints\": [\n            \"/health - GET - Health check\",\n            \"/search - POST - Search healthcare information\", \n            \"/chat - POST - Chat with healthcare AI\",\n            \"/async-search - POST - Async search\",\n            \"/test - GET - Test AI functionality\"\n        ]\n    }), 404\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({\n        \"error\": \"Internal server error\",\n        \"message\": \"Something went wrong on our end\"\n    }), 500\n\ndef run_server(host='127.0.0.1', port=5001, debug=False):\n    \"\"\"Run the Flask server\"\"\"\n    print(f\"🏥 Healthcare Search AI Server starting...\")\n    print(f\"📍 Server running on http://{host}:{port}\")\n    print(f\"🔍 Ready to search medical information!\")\n    print(f\"📋 Available endpoints:\")\n    print(f\"   - POST /chat - Chat with healthcare AI\")\n    print(f\"   - POST /search - Search healthcare info\")\n    print(f\"   - GET /health - Health check\")\n    print(f\"   - GET /test - Test functionality\")\n    \n    app.run(host=host, port=port, debug=debug, threaded=True)\n\nif __name__ == \"__main__\":\n    # Run server on port 5001 to avoid conflict with main app on 5000\n    run_server(host='0.0.0.0', port=5001, debug=True)","size_bytes":6903},"python_ai/healthcare_search.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nReal-time Healthcare Search AI\nUses DuckDuckGo search and web scraping to find current medical information\n\"\"\"\n\nimport asyncio\nimport json\nimport re\nfrom typing import List, Dict, Any\nimport requests\nfrom bs4 import BeautifulSoup\nfrom duckduckgo_search import DDGS\nimport time\n\nclass HealthcareSearchAI:\n    def __init__(self):\n        self.trusted_medical_sources = [\n            'mayoclinic.org',\n            'webmd.com', \n            'healthline.com',\n            'medicalnewstoday.com',\n            'nih.gov',\n            'cdc.gov',\n            'who.int',\n            'pubmed.ncbi.nlm.nih.gov',\n            'medscape.com',\n            'health.harvard.edu',\n            'clevelandclinic.org',\n            'hopkinsmedicine.org'\n        ]\n        \n        self.ddgs = DDGS()\n        \n    def is_healthcare_query(self, query: str) -> bool:\n        \"\"\"Check if the query is related to healthcare\"\"\"\n        healthcare_keywords = [\n            'health', 'medical', 'disease', 'symptom', 'treatment', 'medicine',\n            'doctor', 'hospital', 'diagnosis', 'therapy', 'medication', 'drug',\n            'pain', 'fever', 'infection', 'cancer', 'diabetes', 'heart',\n            'blood', 'surgery', 'vaccine', 'virus', 'bacteria', 'wellness',\n            'nutrition', 'diet', 'exercise', 'mental health', 'depression',\n            'anxiety', 'stress', 'injury', 'emergency', 'first aid'\n        ]\n        \n        query_lower = query.lower()\n        return any(keyword in query_lower for keyword in healthcare_keywords)\n    \n    def search_web(self, query: str, max_results: int = 10) -> List[Dict[str, Any]]:\n        \"\"\"Search the web using DuckDuckGo\"\"\"\n        try:\n            # Add healthcare context to the query\n            enhanced_query = f\"{query} medical health information\"\n            \n            results = []\n            search_results = list(self.ddgs.text(enhanced_query, max_results=max_results))\n            \n            for result in search_results:\n                # Prioritize trusted medical sources\n                domain = self.extract_domain(result.get('href', ''))\n                is_trusted = any(trusted in domain for trusted in self.trusted_medical_sources)\n                \n                results.append({\n                    'title': result.get('title', ''),\n                    'url': result.get('href', ''),\n                    'snippet': result.get('body', ''),\n                    'domain': domain,\n                    'is_trusted_source': is_trusted,\n                    'relevance_score': 1.0 if is_trusted else 0.5\n                })\n            \n            # Sort by relevance (trusted sources first)\n            results.sort(key=lambda x: x['relevance_score'], reverse=True)\n            return results\n            \n        except Exception as e:\n            print(f\"Search error: {e}\")\n            return []\n    \n    def extract_domain(self, url: str) -> str:\n        \"\"\"Extract domain from URL\"\"\"\n        try:\n            from urllib.parse import urlparse\n            return urlparse(url).netloc.lower()\n        except:\n            return \"\"\n    \n    def scrape_content(self, url: str) -> str:\n        \"\"\"Scrape content from a medical webpage\"\"\"\n        try:\n            headers = {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n            }\n            \n            response = requests.get(url, headers=headers, timeout=10)\n            response.raise_for_status()\n            \n            soup = BeautifulSoup(response.content, 'html.parser')\n            \n            # Remove scripts, styles, and other non-content elements\n            for element in soup(['script', 'style', 'nav', 'header', 'footer', 'aside']):\n                element.decompose()\n            \n            # Extract main content\n            content_selectors = [\n                'article', 'main', '.content', '.article-content', \n                '.post-content', '.entry-content', 'p'\n            ]\n            \n            content = \"\"\n            for selector in content_selectors:\n                elements = soup.select(selector)\n                if elements:\n                    content = ' '.join([elem.get_text().strip() for elem in elements])\n                    break\n            \n            if not content:\n                content = soup.get_text()\n            \n            # Clean and truncate content\n            content = re.sub(r'\\s+', ' ', content).strip()\n            return content[:2000]  # Limit content length\n            \n        except Exception as e:\n            print(f\"Scraping error for {url}: {e}\")\n            return \"\"\n    \n    def process_healthcare_query(self, query: str) -> Dict[str, Any]:\n        \"\"\"Process a healthcare query and return comprehensive information\"\"\"\n        \n        if not self.is_healthcare_query(query):\n            return {\n                \"is_healthcare_related\": False,\n                \"message\": \"This query doesn't appear to be healthcare-related. Please ask about medical topics, symptoms, treatments, or health information.\"\n            }\n        \n        # Search for information\n        search_results = self.search_web(query, max_results=8)\n        \n        if not search_results:\n            return {\n                \"is_healthcare_related\": True,\n                \"message\": \"I couldn't find current information about your query. Please try rephrasing your question.\",\n                \"sources\": []\n            }\n        \n        # Get detailed content from top trusted sources\n        detailed_info = []\n        for result in search_results[:3]:  # Only scrape top 3 results\n            if result['is_trusted_source']:\n                content = self.scrape_content(result['url'])\n                if content:\n                    detailed_info.append({\n                        'source': result['domain'],\n                        'title': result['title'],\n                        'url': result['url'],\n                        'content': content[:500]  # First 500 chars\n                    })\n        \n        # Generate AI response\n        response = self.generate_healthcare_response(query, search_results, detailed_info)\n        \n        return {\n            \"is_healthcare_related\": True,\n            \"query\": query,\n            \"response\": response,\n            \"sources\": search_results[:5],  # Return top 5 sources\n            \"detailed_info\": detailed_info,\n            \"disclaimer\": \"This information is for educational purposes only and should not replace professional medical advice. Always consult with a healthcare provider for medical concerns.\"\n        }\n    \n    def generate_healthcare_response(self, query: str, search_results: List[Dict], detailed_info: List[Dict]) -> str:\n        \"\"\"Generate a comprehensive healthcare response based on search results\"\"\"\n        \n        if not search_results:\n            return \"I couldn't find current information about your query. Please consult with a healthcare professional.\"\n        \n        # Start building response\n        response_parts = []\n        \n        # Add main information from trusted sources\n        if detailed_info:\n            response_parts.append(\"Based on current medical information:\")\n            \n            for info in detailed_info[:2]:  # Use top 2 sources\n                # Extract key sentences from content\n                sentences = info['content'].split('.')[:3]  # First 3 sentences\n                key_info = '. '.join(sentences).strip()\n                if key_info:\n                    response_parts.append(f\"\\nFrom {info['source']}: {key_info}\")\n        \n        # Add summary from search snippets\n        if search_results:\n            response_parts.append(f\"\\n\\nKey points about '{query}':\")\n            for i, result in enumerate(search_results[:3]):\n                if result['snippet']:\n                    snippet = result['snippet'][:150]  # Limit length\n                    response_parts.append(f\"\\n• {snippet}\")\n        \n        # Add trusted sources list\n        trusted_sources = [r for r in search_results if r['is_trusted_source']]\n        if trusted_sources:\n            response_parts.append(f\"\\n\\nTrusted medical sources:\")\n            for source in trusted_sources[:3]:\n                response_parts.append(f\"\\n• {source['title']} - {source['domain']}\")\n        \n        return ''.join(response_parts)\n\n    async def async_search(self, query: str) -> Dict[str, Any]:\n        \"\"\"Async version of healthcare search\"\"\"\n        loop = asyncio.get_event_loop()\n        return await loop.run_in_executor(None, self.process_healthcare_query, query)\n\n# Test function\ndef test_healthcare_ai():\n    ai = HealthcareSearchAI()\n    \n    test_queries = [\n        \"What are the symptoms of diabetes?\",\n        \"How to treat a headache naturally?\",\n        \"Covid-19 prevention methods\",\n        \"Side effects of aspirin\"\n    ]\n    \n    for query in test_queries:\n        print(f\"\\n{'='*50}\")\n        print(f\"Query: {query}\")\n        print('='*50)\n        \n        result = ai.process_healthcare_query(query)\n        print(json.dumps(result, indent=2))\n        \n        time.sleep(2)  # Rate limiting\n\nif __name__ == \"__main__\":\n    test_healthcare_ai()","size_bytes":9267},"python_ai/start_server.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nStartup script for Healthcare Search AI Server\n\"\"\"\n\nimport os\nimport sys\nimport subprocess\nimport time\nimport signal\nimport threading\nfrom ai_server import run_server, healthcare_ai\n\ndef start_python_ai_server():\n    \"\"\"Start the Python AI server\"\"\"\n    try:\n        print(\"🏥 Starting Healthcare Search AI Server...\")\n        print(\"📍 Server will run on http://0.0.0.0:5001\")\n        print(\"🔍 Real-time healthcare search capabilities enabled!\")\n        \n        # Test the AI functionality before starting server\n        print(\"\\n🧪 Testing Healthcare AI functionality...\")\n        test_result = healthcare_ai.process_healthcare_query(\"What are the symptoms of common cold?\")\n        \n        if test_result.get('is_healthcare_related', False):\n            print(\"✅ Healthcare AI test passed!\")\n        else:\n            print(\"⚠️ Healthcare AI test failed, but server will still start\")\n        \n        # Start the Flask server\n        run_server(host='0.0.0.0', port=5001, debug=False)\n        \n    except KeyboardInterrupt:\n        print(\"\\n🛑 Healthcare AI Server stopped by user\")\n    except Exception as e:\n        print(f\"❌ Failed to start Healthcare AI Server: {e}\")\n        sys.exit(1)\n\ndef background_server():\n    \"\"\"Run server in background\"\"\"\n    try:\n        from ai_server import app\n        app.run(host='0.0.0.0', port=5001, debug=False, threaded=True)\n    except Exception as e:\n        print(f\"Background server error: {e}\")\n\ndef start_background_server():\n    \"\"\"Start server in background thread\"\"\"\n    server_thread = threading.Thread(target=background_server, daemon=True)\n    server_thread.start()\n    print(\"🏥 Healthcare AI Server started in background on http://0.0.0.0:5001\")\n    return server_thread\n\nif __name__ == \"__main__\":\n    if len(sys.argv) > 1 and sys.argv[1] == \"--background\":\n        # Start in background mode\n        thread = start_background_server()\n        try:\n            # Keep main thread alive\n            while thread.is_alive():\n                time.sleep(1)\n        except KeyboardInterrupt:\n            print(\"\\n🛑 Healthcare AI Server stopped\")\n    else:\n        # Start in foreground mode\n        start_python_ai_server()","size_bytes":2231},"server/services/python-ai-adapter.ts":{"content":"/**\n * Python Healthcare AI Adapter\n * Interfaces with the Python Flask server to provide real-time healthcare search AI\n */\n\nimport type { \n  IAIProvider, \n  ChatMessage, \n  PsychologicalResponse, \n  PersonalityConfig, \n  CrisisAnalysisResult \n} from './ai-provider';\nimport axios from 'axios';\n\nexport class PythonHealthcareAIAdapter implements IAIProvider {\n  private pythonServerUrl: string;\n  private isServerRunning: boolean = false;\n  private lastHealthCheck: number = 0;\n  private healthCheckInterval: number = 30000; // 30 seconds\n\n  constructor(serverUrl: string = 'http://127.0.0.1:5001') {\n    this.pythonServerUrl = serverUrl;\n    this.checkServerHealth();\n  }\n\n  /**\n   * Check if Python AI server is running\n   */\n  async isAvailable(): Promise<boolean> {\n    try {\n      const response = await axios.get(`${this.pythonServerUrl}/health`, {\n        timeout: 5000\n      });\n      \n      this.isServerRunning = response.status === 200;\n      return this.isServerRunning;\n    } catch (error) {\n      this.isServerRunning = false;\n      return false;\n    }\n  }\n\n  /**\n   * Generate response using Python healthcare AI\n   */\n  async generateResponse(messages: ChatMessage[], personality?: PersonalityConfig): Promise<PsychologicalResponse> {\n    // Check if server is available\n    if (!await this.isAvailable()) {\n      throw new Error('Python Healthcare AI server is not available');\n    }\n\n    const userMessage = messages[messages.length - 1]?.content || '';\n\n    try {\n      const response = await axios.post(`${this.pythonServerUrl}/chat`, {\n        message: userMessage,\n        chat_history: messages.slice(-5), // Last 5 messages for context\n        personality: personality\n      }, {\n        timeout: 15000, // 15 second timeout\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.data.success) {\n        const aiMessage = response.data.message;\n        const sources = response.data.sources || [];\n        const isHealthcareRelated = response.data.is_healthcare_related;\n\n        // If not healthcare related, throw error to fallback to other AI\n        if (!isHealthcareRelated) {\n          throw new Error('Query not healthcare related');\n        }\n\n        // Format sources information\n        let formattedMessage = aiMessage;\n        if (sources.length > 0) {\n          formattedMessage += '\\n\\n🔍 **Real-time search sources:**';\n          sources.slice(0, 3).forEach((source: any, index: number) => {\n            formattedMessage += `\\n${index + 1}. [${source.title}](${source.url}) - ${source.domain}`;\n          });\n        }\n\n        // Assess risk level based on message content\n        const riskLevel = this.assessRiskLevel(userMessage);\n        \n        return {\n          message: formattedMessage,\n          supportiveActions: this.generateSupportiveActions(userMessage, aiMessage),\n          riskLevel: riskLevel,\n          escalationRequired: riskLevel === 'high'\n        };\n      } else {\n        throw new Error(response.data.error || 'Python AI returned unsuccessful response');\n      }\n\n    } catch (error) {\n      console.error('Python Healthcare AI error:', error);\n      \n      // If it's a healthcare query but we failed, provide a helpful fallback\n      if (this.isHealthcareQuery(userMessage)) {\n        return {\n          message: \"I'm having trouble accessing current medical information right now. \" +\n                  \"For health concerns, please consult with a healthcare professional or \" +\n                  \"visit trusted medical websites like Mayo Clinic, WebMD, or your doctor's portal.\",\n          supportiveActions: [\n            \"Consult with a healthcare provider\",\n            \"Visit trusted medical websites\",\n            \"Contact your doctor if symptoms persist\",\n            \"Call emergency services if urgent\"\n          ],\n          riskLevel: \"moderate\",\n          escalationRequired: false\n        };\n      }\n      \n      throw error;\n    }\n  }\n\n  /**\n   * Analyze message for crisis indicators\n   */\n  async analyzeForCrisis(message: string): Promise<CrisisAnalysisResult> {\n    // Use local crisis detection for now, as Python server focuses on healthcare search\n    const riskLevel = this.assessRiskLevel(message);\n    \n    return {\n      isHighRisk: riskLevel === 'high',\n      severity: riskLevel as \"low\" | \"moderate\" | \"high\",\n      indicators: this.extractTriggerWords(message),\n      recommendedActions: this.getRecommendedActions(riskLevel)\n    };\n  }\n\n  /**\n   * Get provider name\n   */\n  getProviderName(): string {\n    return 'Python Healthcare Search AI';\n  }\n\n  /**\n   * Check if message is healthcare-related\n   */\n  private isHealthcareQuery(query: string): boolean {\n    const healthcareKeywords = [\n      'health', 'medical', 'disease', 'symptom', 'treatment', 'medicine',\n      'doctor', 'hospital', 'diagnosis', 'therapy', 'medication', 'drug',\n      'pain', 'fever', 'infection', 'cancer', 'diabetes', 'heart',\n      'blood', 'surgery', 'vaccine', 'virus', 'bacteria', 'wellness',\n      'nutrition', 'diet', 'exercise', 'mental health', 'depression',\n      'anxiety', 'stress', 'injury', 'emergency', 'first aid'\n    ];\n    \n    const queryLower = query.toLowerCase();\n    return healthcareKeywords.some(keyword => queryLower.includes(keyword));\n  }\n\n  /**\n   * Assess risk level of message\n   */\n  private assessRiskLevel(message: string): 'low' | 'moderate' | 'high' {\n    const highRiskWords = [\n      'suicide', 'kill myself', 'end it all', 'can\\'t go on', 'emergency',\n      'dying', 'hurt myself', 'self harm', 'overdose'\n    ];\n    \n    const moderateRiskWords = [\n      'depressed', 'anxious', 'panic', 'crisis', 'urgent', 'worried',\n      'scared', 'pain', 'trouble breathing', 'chest pain'\n    ];\n    \n    const messageLower = message.toLowerCase();\n    \n    if (highRiskWords.some(word => messageLower.includes(word))) {\n      return 'high';\n    }\n    \n    if (moderateRiskWords.some(word => messageLower.includes(word))) {\n      return 'moderate';\n    }\n    \n    return 'low';\n  }\n\n  /**\n   * Extract trigger words from message\n   */\n  private extractTriggerWords(message: string): string[] {\n    const triggerWords = [\n      'suicide', 'kill', 'die', 'hurt', 'emergency', 'crisis',\n      'depressed', 'anxious', 'panic', 'urgent', 'pain'\n    ];\n    \n    const messageLower = message.toLowerCase();\n    return triggerWords.filter(word => messageLower.includes(word));\n  }\n\n  /**\n   * Get recommended actions based on risk level (India-specific)\n   */\n  private getRecommendedActions(riskLevel: string): string[] {\n    switch (riskLevel) {\n      case 'high':\n        return [\n          'Contact emergency services immediately (112)',\n          'Go to the nearest emergency room',\n          'Call KIRAN Mental Health Helpline: 1800-599-0019',\n          'Call AASRA Suicide Prevention: +91-22-27546669',\n          'Don\\'t be alone - contact a trusted person'\n        ];\n      case 'moderate':\n        return [\n          'Contact your healthcare provider',\n          'Speak with a counselor or therapist',\n          'Call your local health center',\n          'Contact Vandrevala Foundation: +91-9999666555',\n          'Reach out to a trusted friend or family member'\n        ];\n      default:\n        return [\n          'Continue monitoring your symptoms',\n          'Practice self-care techniques',\n          'Consider scheduling a check-up with a doctor',\n          'Maintain healthy lifestyle habits'\n        ];\n    }\n  }\n\n  /**\n   * Generate supportive actions based on user message and AI response\n   */\n  private generateSupportiveActions(userMessage: string, aiResponse: string): string[] {\n    const actions: string[] = [];\n    \n    // Always include consulting healthcare provider for medical queries\n    if (this.isHealthcareQuery(userMessage)) {\n      actions.push('Consult with a qualified healthcare provider');\n    }\n    \n    // Add specific actions based on message content\n    const messageLower = userMessage.toLowerCase();\n    \n    if (messageLower.includes('pain') || messageLower.includes('hurt')) {\n      actions.push('Apply ice or heat as appropriate');\n      actions.push('Rest and avoid aggravating activities');\n    }\n    \n    if (messageLower.includes('stress') || messageLower.includes('anxious')) {\n      actions.push('Practice deep breathing exercises');\n      actions.push('Try meditation or mindfulness');\n    }\n    \n    if (messageLower.includes('sleep') || messageLower.includes('tired')) {\n      actions.push('Maintain a regular sleep schedule');\n      actions.push('Create a relaxing bedtime routine');\n    }\n    \n    if (messageLower.includes('diet') || messageLower.includes('nutrition')) {\n      actions.push('Maintain a balanced diet');\n      actions.push('Stay hydrated throughout the day');\n    }\n    \n    // Default supportive actions\n    if (actions.length === 0) {\n      actions.push('Take care of yourself');\n      actions.push('Monitor your symptoms');\n      actions.push('Don\\'t hesitate to seek help if needed');\n    }\n    \n    return actions.slice(0, 4); // Limit to 4 actions\n  }\n\n  /**\n   * Periodically check server health\n   */\n  private async checkServerHealth(): Promise<void> {\n    const now = Date.now();\n    if (now - this.lastHealthCheck > this.healthCheckInterval) {\n      this.lastHealthCheck = now;\n      await this.isAvailable();\n    }\n  }\n\n  /**\n   * Start Python AI server (if needed)\n   */\n  async startPythonServer(): Promise<boolean> {\n    try {\n      // First check if server is already running\n      if (await this.isAvailable()) {\n        console.log('🏥 Python Healthcare AI server is already running');\n        return true;\n      }\n\n      console.log('🚀 Starting Python Healthcare AI server...');\n      \n      const { spawn } = require('child_process');\n      const path = require('path');\n      \n      // Spawn Python server process\n      const pythonProcess = spawn('python3', ['start_server.py', '--background'], {\n        cwd: path.join(process.cwd(), 'python_ai'),\n        detached: true,\n        stdio: ['ignore', 'pipe', 'pipe']\n      });\n\n      // Handle process output\n      pythonProcess.stdout?.on('data', (data: Buffer) => {\n        console.log(`[Python AI] ${data.toString()}`);\n      });\n\n      pythonProcess.stderr?.on('data', (data: Buffer) => {\n        console.error(`[Python AI Error] ${data.toString()}`);\n      });\n\n      pythonProcess.on('error', (error: Error) => {\n        console.error('Failed to start Python AI process:', error);\n      });\n\n      // Allow server time to start\n      await new Promise(resolve => setTimeout(resolve, 3000));\n      \n      // Check if server is now available\n      const isRunning = await this.isAvailable();\n      if (isRunning) {\n        console.log('✅ Python Healthcare AI server started successfully');\n      } else {\n        console.warn('⚠️ Python Healthcare AI server failed to start properly');\n      }\n\n      return isRunning;\n    } catch (error) {\n      console.error('Failed to start Python AI server:', error);\n      return false;\n    }\n  }\n}","size_bytes":11050}},"version":1}